var AO=Object.defineProperty;var CO=(lt,e,$)=>e in lt?AO(lt,e,{enumerable:!0,configurable:!0,writable:!0,value:$}):lt[e]=$;var xo=(lt,e,$)=>(CO(lt,typeof e!="symbol"?e+"":e,$),$);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const vt of document.querySelectorAll('link[rel="modulepreload"]'))ft(vt);new MutationObserver(vt=>{for(const s of vt)if(s.type==="childList")for(const Tt of s.addedNodes)Tt.tagName==="LINK"&&Tt.rel==="modulepreload"&&ft(Tt)}).observe(document,{childList:!0,subtree:!0});function $(vt){const s={};return vt.integrity&&(s.integrity=vt.integrity),vt.referrerPolicy&&(s.referrerPolicy=vt.referrerPolicy),vt.crossOrigin==="use-credentials"?s.credentials="include":vt.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function ft(vt){if(vt.ep)return;vt.ep=!0;const s=$(vt);fetch(vt.href,s)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(lt){return lt&&lt.__esModule&&Object.prototype.hasOwnProperty.call(lt,"default")?lt.default:lt}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(lt){jsxRuntimeExports=lt}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(lt){reactExports=lt}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$4=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(lt){return lt===null||typeof lt!="object"?null:(lt=z$3&&lt[z$3]||lt["@@iterator"],typeof lt=="function"?lt:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$5(lt,e,$){this.props=lt,this.context=e,this.refs=D$3,this.updater=$||B$3}E$5.prototype.isReactComponent={};E$5.prototype.setState=function(lt,e){if(typeof lt!="object"&&typeof lt!="function"&&lt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,lt,e,"setState")};E$5.prototype.forceUpdate=function(lt){this.updater.enqueueForceUpdate(this,lt,"forceUpdate")};function F$2(){}F$2.prototype=E$5.prototype;function G$2(lt,e,$){this.props=lt,this.context=e,this.refs=D$3,this.updater=$||B$3}var H$3=G$2.prototype=new F$2;H$3.constructor=G$2;C$3(H$3,E$5.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(lt,e,$){var ft,vt={},s=null,Tt=null;if(e!=null)for(ft in e.ref!==void 0&&(Tt=e.ref),e.key!==void 0&&(s=""+e.key),e)J$2.call(e,ft)&&!L$2.hasOwnProperty(ft)&&(vt[ft]=e[ft]);var At=arguments.length-2;if(At===1)vt.children=$;else if(1<At){for(var Rt=Array(At),Dt=0;Dt<At;Dt++)Rt[Dt]=arguments[Dt+2];vt.children=Rt}if(lt&&lt.defaultProps)for(ft in At=lt.defaultProps,At)vt[ft]===void 0&&(vt[ft]=At[ft]);return{$$typeof:l$4,type:lt,key:s,ref:Tt,props:vt,_owner:K$2.current}}function N$2(lt,e){return{$$typeof:l$4,type:lt.type,key:e,ref:lt.ref,props:lt.props,_owner:lt._owner}}function O$2(lt){return typeof lt=="object"&&lt!==null&&lt.$$typeof===l$4}function escape$1(lt){var e={"=":"=0",":":"=2"};return"$"+lt.replace(/[=:]/g,function($){return e[$]})}var P$2=/\/+/g;function Q$4(lt,e){return typeof lt=="object"&&lt!==null&&lt.key!=null?escape$1(""+lt.key):e.toString(36)}function R$2(lt,e,$,ft,vt){var s=typeof lt;(s==="undefined"||s==="boolean")&&(lt=null);var Tt=!1;if(lt===null)Tt=!0;else switch(s){case"string":case"number":Tt=!0;break;case"object":switch(lt.$$typeof){case l$4:case n$2:Tt=!0}}if(Tt)return Tt=lt,vt=vt(Tt),lt=ft===""?"."+Q$4(Tt,0):ft,I$3(vt)?($="",lt!=null&&($=lt.replace(P$2,"$&/")+"/"),R$2(vt,e,$,"",function(Dt){return Dt})):vt!=null&&(O$2(vt)&&(vt=N$2(vt,$+(!vt.key||Tt&&Tt.key===vt.key?"":(""+vt.key).replace(P$2,"$&/")+"/")+lt)),e.push(vt)),1;if(Tt=0,ft=ft===""?".":ft+":",I$3(lt))for(var At=0;At<lt.length;At++){s=lt[At];var Rt=ft+Q$4(s,At);Tt+=R$2(s,e,$,Rt,vt)}else if(Rt=A$3(lt),typeof Rt=="function")for(lt=Rt.call(lt),At=0;!(s=lt.next()).done;)s=s.value,Rt=ft+Q$4(s,At++),Tt+=R$2(s,e,$,Rt,vt);else if(s==="object")throw e=String(lt),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return Tt}function S$2(lt,e,$){if(lt==null)return lt;var ft=[],vt=0;return R$2(lt,ft,"","",function(s){return e.call($,s,vt++)}),ft}function T$3(lt){if(lt._status===-1){var e=lt._result;e=e(),e.then(function($){(lt._status===0||lt._status===-1)&&(lt._status=1,lt._result=$)},function($){(lt._status===0||lt._status===-1)&&(lt._status=2,lt._result=$)}),lt._status===-1&&(lt._status=0,lt._result=e)}if(lt._status===1)return lt._result.default;throw lt._result}var U$2={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$2};react_production_min.Children={map:S$2,forEach:function(lt,e,$){S$2(lt,function(){e.apply(this,arguments)},$)},count:function(lt){var e=0;return S$2(lt,function(){e++}),e},toArray:function(lt){return S$2(lt,function(e){return e})||[]},only:function(lt){if(!O$2(lt))throw Error("React.Children.only expected to receive a single React element child.");return lt}};react_production_min.Component=E$5;react_production_min.Fragment=p$5;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(lt,e,$){if(lt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+lt+".");var ft=C$3({},lt.props),vt=lt.key,s=lt.ref,Tt=lt._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,Tt=K$2.current),e.key!==void 0&&(vt=""+e.key),lt.type&&lt.type.defaultProps)var At=lt.type.defaultProps;for(Rt in e)J$2.call(e,Rt)&&!L$2.hasOwnProperty(Rt)&&(ft[Rt]=e[Rt]===void 0&&At!==void 0?At[Rt]:e[Rt])}var Rt=arguments.length-2;if(Rt===1)ft.children=$;else if(1<Rt){At=Array(Rt);for(var Dt=0;Dt<Rt;Dt++)At[Dt]=arguments[Dt+2];ft.children=At}return{$$typeof:l$4,type:lt.type,key:vt,ref:s,props:ft,_owner:Tt}};react_production_min.createContext=function(lt){return lt={$$typeof:u$3,_currentValue:lt,_currentValue2:lt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},lt.Provider={$$typeof:t,_context:lt},lt.Consumer=lt};react_production_min.createElement=M$2;react_production_min.createFactory=function(lt){var e=M$2.bind(null,lt);return e.type=lt,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(lt){return{$$typeof:v$3,render:lt}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(lt){return{$$typeof:y$4,_payload:{_status:-1,_result:lt},_init:T$3}};react_production_min.memo=function(lt,e){return{$$typeof:x$3,type:lt,compare:e===void 0?null:e}};react_production_min.startTransition=function(lt){var e=V$3.transition;V$3.transition={};try{lt()}finally{V$3.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(lt,e){return U$2.current.useCallback(lt,e)};react_production_min.useContext=function(lt){return U$2.current.useContext(lt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(lt){return U$2.current.useDeferredValue(lt)};react_production_min.useEffect=function(lt,e){return U$2.current.useEffect(lt,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(lt,e,$){return U$2.current.useImperativeHandle(lt,e,$)};react_production_min.useInsertionEffect=function(lt,e){return U$2.current.useInsertionEffect(lt,e)};react_production_min.useLayoutEffect=function(lt,e){return U$2.current.useLayoutEffect(lt,e)};react_production_min.useMemo=function(lt,e){return U$2.current.useMemo(lt,e)};react_production_min.useReducer=function(lt,e,$){return U$2.current.useReducer(lt,e,$)};react_production_min.useRef=function(lt){return U$2.current.useRef(lt)};react_production_min.useState=function(lt){return U$2.current.useState(lt)};react_production_min.useSyncExternalStore=function(lt,e,$){return U$2.current.useSyncExternalStore(lt,e,$)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(lt){lt.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$2=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$1=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$1(lt,e,$){var ft,vt={},s=null,Tt=null;$!==void 0&&(s=""+$),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(Tt=e.ref);for(ft in e)m$3.call(e,ft)&&!p$4.hasOwnProperty(ft)&&(vt[ft]=e[ft]);if(lt&&lt.defaultProps)for(ft in e=lt.defaultProps,e)vt[ft]===void 0&&(vt[ft]=e[ft]);return{$$typeof:k$2,type:lt,key:s,ref:Tt,props:vt,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;(function(lt){lt.exports=reactJsxRuntime_production_min})(jsxRuntime);var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(lt){reactDomExports=lt}},reactDom_production_min={},schedulerExports$1={},scheduler$1={get exports(){return schedulerExports$1},set exports(lt){schedulerExports$1=lt}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(lt){function e(Un,Gn){var Wn=Un.length;Un.push(Gn);e:for(;0<Wn;){var $n=Wn-1>>>1,zn=Un[$n];if(0<vt(zn,Gn))Un[$n]=Gn,Un[Wn]=zn,Wn=$n;else break e}}function $(Un){return Un.length===0?null:Un[0]}function ft(Un){if(Un.length===0)return null;var Gn=Un[0],Wn=Un.pop();if(Wn!==Gn){Un[0]=Wn;e:for(var $n=0,zn=Un.length,Zn=zn>>>1;$n<Zn;){var tr=2*($n+1)-1,Hn=Un[tr],dr=tr+1,nr=Un[dr];if(0>vt(Hn,Wn))dr<zn&&0>vt(nr,Hn)?(Un[$n]=nr,Un[dr]=Wn,$n=dr):(Un[$n]=Hn,Un[tr]=Wn,$n=tr);else if(dr<zn&&0>vt(nr,Wn))Un[$n]=nr,Un[dr]=Wn,$n=dr;else break e}}return Gn}function vt(Un,Gn){var Wn=Un.sortIndex-Gn.sortIndex;return Wn!==0?Wn:Un.id-Gn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;lt.unstable_now=function(){return s.now()}}else{var Tt=Date,At=Tt.now();lt.unstable_now=function(){return Tt.now()-At}}var Rt=[],Dt=[],Nt=1,Wt=null,Ht=3,Kt=!1,Ft=!1,tn=!1,cn=typeof setTimeout=="function"?setTimeout:null,fn=typeof clearTimeout=="function"?clearTimeout:null,ln=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function dn(Un){for(var Gn=$(Dt);Gn!==null;){if(Gn.callback===null)ft(Dt);else if(Gn.startTime<=Un)ft(Dt),Gn.sortIndex=Gn.expirationTime,e(Rt,Gn);else break;Gn=$(Dt)}}function mn(Un){if(tn=!1,dn(Un),!Ft)if($(Rt)!==null)Ft=!0,Xn(xn);else{var Gn=$(Dt);Gn!==null&&sr(mn,Gn.startTime-Un)}}function xn(Un,Gn){Ft=!1,tn&&(tn=!1,fn(vn),vn=-1),Kt=!0;var Wn=Ht;try{for(dn(Gn),Wt=$(Rt);Wt!==null&&(!(Wt.expirationTime>Gn)||Un&&!bn());){var $n=Wt.callback;if(typeof $n=="function"){Wt.callback=null,Ht=Wt.priorityLevel;var zn=$n(Wt.expirationTime<=Gn);Gn=lt.unstable_now(),typeof zn=="function"?Wt.callback=zn:Wt===$(Rt)&&ft(Rt),dn(Gn)}else ft(Rt);Wt=$(Rt)}if(Wt!==null)var Zn=!0;else{var tr=$(Dt);tr!==null&&sr(mn,tr.startTime-Gn),Zn=!1}return Zn}finally{Wt=null,Ht=Wn,Kt=!1}}var Mn=!1,Tn=null,vn=-1,An=5,Pn=-1;function bn(){return!(lt.unstable_now()-Pn<An)}function In(){if(Tn!==null){var Un=lt.unstable_now();Pn=Un;var Gn=!0;try{Gn=Tn(!0,Un)}finally{Gn?On():(Mn=!1,Tn=null)}}else Mn=!1}var On;if(typeof ln=="function")On=function(){ln(In)};else if(typeof MessageChannel<"u"){var Nn=new MessageChannel,Yn=Nn.port2;Nn.port1.onmessage=In,On=function(){Yn.postMessage(null)}}else On=function(){cn(In,0)};function Xn(Un){Tn=Un,Mn||(Mn=!0,On())}function sr(Un,Gn){vn=cn(function(){Un(lt.unstable_now())},Gn)}lt.unstable_IdlePriority=5,lt.unstable_ImmediatePriority=1,lt.unstable_LowPriority=4,lt.unstable_NormalPriority=3,lt.unstable_Profiling=null,lt.unstable_UserBlockingPriority=2,lt.unstable_cancelCallback=function(Un){Un.callback=null},lt.unstable_continueExecution=function(){Ft||Kt||(Ft=!0,Xn(xn))},lt.unstable_forceFrameRate=function(Un){0>Un||125<Un?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):An=0<Un?Math.floor(1e3/Un):5},lt.unstable_getCurrentPriorityLevel=function(){return Ht},lt.unstable_getFirstCallbackNode=function(){return $(Rt)},lt.unstable_next=function(Un){switch(Ht){case 1:case 2:case 3:var Gn=3;break;default:Gn=Ht}var Wn=Ht;Ht=Gn;try{return Un()}finally{Ht=Wn}},lt.unstable_pauseExecution=function(){},lt.unstable_requestPaint=function(){},lt.unstable_runWithPriority=function(Un,Gn){switch(Un){case 1:case 2:case 3:case 4:case 5:break;default:Un=3}var Wn=Ht;Ht=Un;try{return Gn()}finally{Ht=Wn}},lt.unstable_scheduleCallback=function(Un,Gn,Wn){var $n=lt.unstable_now();switch(typeof Wn=="object"&&Wn!==null?(Wn=Wn.delay,Wn=typeof Wn=="number"&&0<Wn?$n+Wn:$n):Wn=$n,Un){case 1:var zn=-1;break;case 2:zn=250;break;case 5:zn=1073741823;break;case 4:zn=1e4;break;default:zn=5e3}return zn=Wn+zn,Un={id:Nt++,callback:Gn,priorityLevel:Un,startTime:Wn,expirationTime:zn,sortIndex:-1},Wn>$n?(Un.sortIndex=Wn,e(Dt,Un),$(Rt)===null&&Un===$(Dt)&&(tn?(fn(vn),vn=-1):tn=!0,sr(mn,Wn-$n))):(Un.sortIndex=zn,e(Rt,Un),Ft||Kt||(Ft=!0,Xn(xn))),Un},lt.unstable_shouldYield=bn,lt.unstable_wrapCallback=function(Un){var Gn=Ht;return function(){var Wn=Ht;Ht=Gn;try{return Un.apply(this,arguments)}finally{Ht=Wn}}}})(scheduler_production_min$1);(function(lt){lt.exports=scheduler_production_min$1})(scheduler$1);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$3(lt){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+lt,$=1;$<arguments.length;$++)e+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+lt+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(lt,e){ha(lt,e),ha(lt+"Capture",e)}function ha(lt,e){for(ea[lt]=e,lt=0;lt<e.length;lt++)da.add(e[lt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(lt){return ja.call(ma,lt)?!0:ja.call(la,lt)?!1:ka.test(lt)?ma[lt]=!0:(la[lt]=!0,!1)}function pa(lt,e,$,ft){if($!==null&&$.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return ft?!1:$!==null?!$.acceptsBooleans:(lt=lt.toLowerCase().slice(0,5),lt!=="data-"&&lt!=="aria-");default:return!1}}function qa(lt,e,$,ft){if(e===null||typeof e>"u"||pa(lt,e,$,ft))return!0;if(ft)return!1;if($!==null)switch($.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$2(lt,e,$,ft,vt,s,Tt){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=ft,this.attributeNamespace=vt,this.mustUseProperty=$,this.propertyName=lt,this.type=e,this.sanitizeURL=s,this.removeEmptyString=Tt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(lt){z$2[lt]=new v$2(lt,0,!1,lt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(lt){var e=lt[0];z$2[e]=new v$2(e,1,!1,lt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(lt){z$2[lt]=new v$2(lt,2,!1,lt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(lt){z$2[lt]=new v$2(lt,2,!1,lt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(lt){z$2[lt]=new v$2(lt,3,!1,lt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(lt){z$2[lt]=new v$2(lt,3,!0,lt,null,!1,!1)});["capture","download"].forEach(function(lt){z$2[lt]=new v$2(lt,4,!1,lt,null,!1,!1)});["cols","rows","size","span"].forEach(function(lt){z$2[lt]=new v$2(lt,6,!1,lt,null,!1,!1)});["rowSpan","start"].forEach(function(lt){z$2[lt]=new v$2(lt,5,!1,lt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(lt){return lt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(lt){var e=lt.replace(ra,sa);z$2[e]=new v$2(e,1,!1,lt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(lt){var e=lt.replace(ra,sa);z$2[e]=new v$2(e,1,!1,lt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(lt){var e=lt.replace(ra,sa);z$2[e]=new v$2(e,1,!1,lt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(lt){z$2[lt]=new v$2(lt,1,!1,lt.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(lt){z$2[lt]=new v$2(lt,1,!1,lt.toLowerCase(),null,!0,!0)});function ta(lt,e,$,ft){var vt=z$2.hasOwnProperty(e)?z$2[e]:null;(vt!==null?vt.type!==0:ft||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,$,vt,ft)&&($=null),ft||vt===null?oa(e)&&($===null?lt.removeAttribute(e):lt.setAttribute(e,""+$)):vt.mustUseProperty?lt[vt.propertyName]=$===null?vt.type===3?!1:"":$:(e=vt.attributeName,ft=vt.attributeNamespace,$===null?lt.removeAttribute(e):(vt=vt.type,$=vt===3||vt===4&&$===!0?"":""+$,ft?lt.setAttributeNS(ft,e,$):lt.setAttribute(e,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(lt){return lt===null||typeof lt!="object"?null:(lt=Ja&&lt[Ja]||lt["@@iterator"],typeof lt=="function"?lt:null)}var A$2=Object.assign,La;function Ma(lt){if(La===void 0)try{throw Error()}catch($){var e=$.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+lt}var Na=!1;function Oa(lt,e){if(!lt||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(Dt){var ft=Dt}Reflect.construct(lt,[],e)}else{try{e.call()}catch(Dt){ft=Dt}lt.call(e.prototype)}else{try{throw Error()}catch(Dt){ft=Dt}lt()}}catch(Dt){if(Dt&&ft&&typeof Dt.stack=="string"){for(var vt=Dt.stack.split(`
`),s=ft.stack.split(`
`),Tt=vt.length-1,At=s.length-1;1<=Tt&&0<=At&&vt[Tt]!==s[At];)At--;for(;1<=Tt&&0<=At;Tt--,At--)if(vt[Tt]!==s[At]){if(Tt!==1||At!==1)do if(Tt--,At--,0>At||vt[Tt]!==s[At]){var Rt=`
`+vt[Tt].replace(" at new "," at ");return lt.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",lt.displayName)),Rt}while(1<=Tt&&0<=At);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(lt=lt?lt.displayName||lt.name:"")?Ma(lt):""}function Pa(lt){switch(lt.tag){case 5:return Ma(lt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return lt=Oa(lt.type,!1),lt;case 11:return lt=Oa(lt.type.render,!1),lt;case 1:return lt=Oa(lt.type,!0),lt;default:return""}}function Qa(lt){if(lt==null)return null;if(typeof lt=="function")return lt.displayName||lt.name||null;if(typeof lt=="string")return lt;switch(lt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof lt=="object")switch(lt.$$typeof){case Ca:return(lt.displayName||"Context")+".Consumer";case Ba:return(lt._context.displayName||"Context")+".Provider";case Da:var e=lt.render;return lt=lt.displayName,lt||(lt=e.displayName||e.name||"",lt=lt!==""?"ForwardRef("+lt+")":"ForwardRef"),lt;case Ga:return e=lt.displayName||null,e!==null?e:Qa(lt.type)||"Memo";case Ha:e=lt._payload,lt=lt._init;try{return Qa(lt(e))}catch{}}return null}function Ra(lt){var e=lt.type;switch(lt.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return lt=e.render,lt=lt.displayName||lt.name||"",e.displayName||(lt!==""?"ForwardRef("+lt+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(lt){switch(typeof lt){case"boolean":case"number":case"string":case"undefined":return lt;case"object":return lt;default:return""}}function Ta(lt){var e=lt.type;return(lt=lt.nodeName)&&lt.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(lt){var e=Ta(lt)?"checked":"value",$=Object.getOwnPropertyDescriptor(lt.constructor.prototype,e),ft=""+lt[e];if(!lt.hasOwnProperty(e)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var vt=$.get,s=$.set;return Object.defineProperty(lt,e,{configurable:!0,get:function(){return vt.call(this)},set:function(Tt){ft=""+Tt,s.call(this,Tt)}}),Object.defineProperty(lt,e,{enumerable:$.enumerable}),{getValue:function(){return ft},setValue:function(Tt){ft=""+Tt},stopTracking:function(){lt._valueTracker=null,delete lt[e]}}}}function Va(lt){lt._valueTracker||(lt._valueTracker=Ua(lt))}function Wa(lt){if(!lt)return!1;var e=lt._valueTracker;if(!e)return!0;var $=e.getValue(),ft="";return lt&&(ft=Ta(lt)?lt.checked?"true":"false":lt.value),lt=ft,lt!==$?(e.setValue(lt),!0):!1}function Xa(lt){if(lt=lt||(typeof document<"u"?document:void 0),typeof lt>"u")return null;try{return lt.activeElement||lt.body}catch{return lt.body}}function Ya(lt,e){var $=e.checked;return A$2({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??lt._wrapperState.initialChecked})}function Za(lt,e){var $=e.defaultValue==null?"":e.defaultValue,ft=e.checked!=null?e.checked:e.defaultChecked;$=Sa(e.value!=null?e.value:$),lt._wrapperState={initialChecked:ft,initialValue:$,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(lt,e){e=e.checked,e!=null&&ta(lt,"checked",e,!1)}function bb(lt,e){ab(lt,e);var $=Sa(e.value),ft=e.type;if($!=null)ft==="number"?($===0&&lt.value===""||lt.value!=$)&&(lt.value=""+$):lt.value!==""+$&&(lt.value=""+$);else if(ft==="submit"||ft==="reset"){lt.removeAttribute("value");return}e.hasOwnProperty("value")?cb(lt,e.type,$):e.hasOwnProperty("defaultValue")&&cb(lt,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(lt.defaultChecked=!!e.defaultChecked)}function db(lt,e,$){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var ft=e.type;if(!(ft!=="submit"&&ft!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+lt._wrapperState.initialValue,$||e===lt.value||(lt.value=e),lt.defaultValue=e}$=lt.name,$!==""&&(lt.name=""),lt.defaultChecked=!!lt._wrapperState.initialChecked,$!==""&&(lt.name=$)}function cb(lt,e,$){(e!=="number"||Xa(lt.ownerDocument)!==lt)&&($==null?lt.defaultValue=""+lt._wrapperState.initialValue:lt.defaultValue!==""+$&&(lt.defaultValue=""+$))}var eb=Array.isArray;function fb(lt,e,$,ft){if(lt=lt.options,e){e={};for(var vt=0;vt<$.length;vt++)e["$"+$[vt]]=!0;for($=0;$<lt.length;$++)vt=e.hasOwnProperty("$"+lt[$].value),lt[$].selected!==vt&&(lt[$].selected=vt),vt&&ft&&(lt[$].defaultSelected=!0)}else{for($=""+Sa($),e=null,vt=0;vt<lt.length;vt++){if(lt[vt].value===$){lt[vt].selected=!0,ft&&(lt[vt].defaultSelected=!0);return}e!==null||lt[vt].disabled||(e=lt[vt])}e!==null&&(e.selected=!0)}}function gb(lt,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$2({},e,{value:void 0,defaultValue:void 0,children:""+lt._wrapperState.initialValue})}function hb(lt,e){var $=e.value;if($==null){if($=e.children,e=e.defaultValue,$!=null){if(e!=null)throw Error(p$3(92));if(eb($)){if(1<$.length)throw Error(p$3(93));$=$[0]}e=$}e==null&&(e=""),$=e}lt._wrapperState={initialValue:Sa($)}}function ib(lt,e){var $=Sa(e.value),ft=Sa(e.defaultValue);$!=null&&($=""+$,$!==lt.value&&(lt.value=$),e.defaultValue==null&&lt.defaultValue!==$&&(lt.defaultValue=$)),ft!=null&&(lt.defaultValue=""+ft)}function jb(lt){var e=lt.textContent;e===lt._wrapperState.initialValue&&e!==""&&e!==null&&(lt.value=e)}function kb(lt){switch(lt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(lt,e){return lt==null||lt==="http://www.w3.org/1999/xhtml"?kb(e):lt==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":lt}var mb,nb=function(lt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,$,ft,vt){MSApp.execUnsafeLocalFunction(function(){return lt(e,$,ft,vt)})}:lt}(function(lt,e){if(lt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in lt)lt.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;lt.firstChild;)lt.removeChild(lt.firstChild);for(;e.firstChild;)lt.appendChild(e.firstChild)}});function ob(lt,e){if(e){var $=lt.firstChild;if($&&$===lt.lastChild&&$.nodeType===3){$.nodeValue=e;return}}lt.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(lt){qb.forEach(function(e){e=e+lt.charAt(0).toUpperCase()+lt.substring(1),pb[e]=pb[lt]})});function rb(lt,e,$){return e==null||typeof e=="boolean"||e===""?"":$||typeof e!="number"||e===0||pb.hasOwnProperty(lt)&&pb[lt]?(""+e).trim():e+"px"}function sb(lt,e){lt=lt.style;for(var $ in e)if(e.hasOwnProperty($)){var ft=$.indexOf("--")===0,vt=rb($,e[$],ft);$==="float"&&($="cssFloat"),ft?lt.setProperty($,vt):lt[$]=vt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(lt,e){if(e){if(tb[lt]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$3(137,lt));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$3(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$3(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$3(62))}}function vb(lt,e){if(lt.indexOf("-")===-1)return typeof e.is=="string";switch(lt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(lt){return lt=lt.target||lt.srcElement||window,lt.correspondingUseElement&&(lt=lt.correspondingUseElement),lt.nodeType===3?lt.parentNode:lt}var yb=null,zb=null,Ab=null;function Bb(lt){if(lt=Cb(lt)){if(typeof yb!="function")throw Error(p$3(280));var e=lt.stateNode;e&&(e=Db(e),yb(lt.stateNode,lt.type,e))}}function Eb(lt){zb?Ab?Ab.push(lt):Ab=[lt]:zb=lt}function Fb(){if(zb){var lt=zb,e=Ab;if(Ab=zb=null,Bb(lt),e)for(lt=0;lt<e.length;lt++)Bb(e[lt])}}function Gb(lt,e){return lt(e)}function Hb(){}var Ib=!1;function Jb(lt,e,$){if(Ib)return lt(e,$);Ib=!0;try{return Gb(lt,e,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(lt,e){var $=lt.stateNode;if($===null)return null;var ft=Db($);if(ft===null)return null;$=ft[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ft=!ft.disabled)||(lt=lt.type,ft=!(lt==="button"||lt==="input"||lt==="select"||lt==="textarea")),lt=!ft;break e;default:lt=!1}if(lt)return null;if($&&typeof $!="function")throw Error(p$3(231,e,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(lt,e,$,ft,vt,s,Tt,At,Rt){var Dt=Array.prototype.slice.call(arguments,3);try{e.apply($,Dt)}catch(Nt){this.onError(Nt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(lt){Ob=!0,Pb=lt}};function Tb(lt,e,$,ft,vt,s,Tt,At,Rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(lt,e,$,ft,vt,s,Tt,At,Rt){if(Tb.apply(this,arguments),Ob){if(Ob){var Dt=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=Dt)}}function Vb(lt){var e=lt,$=lt;if(lt.alternate)for(;e.return;)e=e.return;else{lt=e;do e=lt,e.flags&4098&&($=e.return),lt=e.return;while(lt)}return e.tag===3?$:null}function Wb(lt){if(lt.tag===13){var e=lt.memoizedState;if(e===null&&(lt=lt.alternate,lt!==null&&(e=lt.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(lt){if(Vb(lt)!==lt)throw Error(p$3(188))}function Yb(lt){var e=lt.alternate;if(!e){if(e=Vb(lt),e===null)throw Error(p$3(188));return e!==lt?null:lt}for(var $=lt,ft=e;;){var vt=$.return;if(vt===null)break;var s=vt.alternate;if(s===null){if(ft=vt.return,ft!==null){$=ft;continue}break}if(vt.child===s.child){for(s=vt.child;s;){if(s===$)return Xb(vt),lt;if(s===ft)return Xb(vt),e;s=s.sibling}throw Error(p$3(188))}if($.return!==ft.return)$=vt,ft=s;else{for(var Tt=!1,At=vt.child;At;){if(At===$){Tt=!0,$=vt,ft=s;break}if(At===ft){Tt=!0,ft=vt,$=s;break}At=At.sibling}if(!Tt){for(At=s.child;At;){if(At===$){Tt=!0,$=s,ft=vt;break}if(At===ft){Tt=!0,ft=s,$=vt;break}At=At.sibling}if(!Tt)throw Error(p$3(189))}}if($.alternate!==ft)throw Error(p$3(190))}if($.tag!==3)throw Error(p$3(188));return $.stateNode.current===$?lt:e}function Zb(lt){return lt=Yb(lt),lt!==null?$b(lt):null}function $b(lt){if(lt.tag===5||lt.tag===6)return lt;for(lt=lt.child;lt!==null;){var e=$b(lt);if(e!==null)return e;lt=lt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(lt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,lt,void 0,(lt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(lt){return lt>>>=0,lt===0?32:31-(pc(lt)/qc|0)|0}var rc=64,sc=4194304;function tc(lt){switch(lt&-lt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return lt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return lt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return lt}}function uc(lt,e){var $=lt.pendingLanes;if($===0)return 0;var ft=0,vt=lt.suspendedLanes,s=lt.pingedLanes,Tt=$&268435455;if(Tt!==0){var At=Tt&~vt;At!==0?ft=tc(At):(s&=Tt,s!==0&&(ft=tc(s)))}else Tt=$&~vt,Tt!==0?ft=tc(Tt):s!==0&&(ft=tc(s));if(ft===0)return 0;if(e!==0&&e!==ft&&!(e&vt)&&(vt=ft&-ft,s=e&-e,vt>=s||vt===16&&(s&4194240)!==0))return e;if(ft&4&&(ft|=$&16),e=lt.entangledLanes,e!==0)for(lt=lt.entanglements,e&=ft;0<e;)$=31-oc(e),vt=1<<$,ft|=lt[$],e&=~vt;return ft}function vc(lt,e){switch(lt){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(lt,e){for(var $=lt.suspendedLanes,ft=lt.pingedLanes,vt=lt.expirationTimes,s=lt.pendingLanes;0<s;){var Tt=31-oc(s),At=1<<Tt,Rt=vt[Tt];Rt===-1?(!(At&$)||At&ft)&&(vt[Tt]=vc(At,e)):Rt<=e&&(lt.expiredLanes|=At),s&=~At}}function xc(lt){return lt=lt.pendingLanes&-1073741825,lt!==0?lt:lt&1073741824?1073741824:0}function yc(){var lt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),lt}function zc(lt){for(var e=[],$=0;31>$;$++)e.push(lt);return e}function Ac(lt,e,$){lt.pendingLanes|=e,e!==536870912&&(lt.suspendedLanes=0,lt.pingedLanes=0),lt=lt.eventTimes,e=31-oc(e),lt[e]=$}function Bc(lt,e){var $=lt.pendingLanes&~e;lt.pendingLanes=e,lt.suspendedLanes=0,lt.pingedLanes=0,lt.expiredLanes&=e,lt.mutableReadLanes&=e,lt.entangledLanes&=e,e=lt.entanglements;var ft=lt.eventTimes;for(lt=lt.expirationTimes;0<$;){var vt=31-oc($),s=1<<vt;e[vt]=0,ft[vt]=-1,lt[vt]=-1,$&=~s}}function Cc(lt,e){var $=lt.entangledLanes|=e;for(lt=lt.entanglements;$;){var ft=31-oc($),vt=1<<ft;vt&e|lt[ft]&e&&(lt[ft]|=e),$&=~vt}}var C$2=0;function Dc(lt){return lt&=-lt,1<lt?4<lt?lt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(lt,e){switch(lt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(lt,e,$,ft,vt,s){return lt===null||lt.nativeEvent!==s?(lt={blockedOn:e,domEventName:$,eventSystemFlags:ft,nativeEvent:s,targetContainers:[vt]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),lt):(lt.eventSystemFlags|=ft,e=lt.targetContainers,vt!==null&&e.indexOf(vt)===-1&&e.push(vt),lt)}function Uc(lt,e,$,ft,vt){switch(e){case"focusin":return Lc=Tc(Lc,lt,e,$,ft,vt),!0;case"dragenter":return Mc=Tc(Mc,lt,e,$,ft,vt),!0;case"mouseover":return Nc=Tc(Nc,lt,e,$,ft,vt),!0;case"pointerover":var s=vt.pointerId;return Oc.set(s,Tc(Oc.get(s)||null,lt,e,$,ft,vt)),!0;case"gotpointercapture":return s=vt.pointerId,Pc.set(s,Tc(Pc.get(s)||null,lt,e,$,ft,vt)),!0}return!1}function Vc(lt){var e=Wc(lt.target);if(e!==null){var $=Vb(e);if($!==null){if(e=$.tag,e===13){if(e=Wb($),e!==null){lt.blockedOn=e,Ic(lt.priority,function(){Gc($)});return}}else if(e===3&&$.stateNode.current.memoizedState.isDehydrated){lt.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}lt.blockedOn=null}function Xc(lt){if(lt.blockedOn!==null)return!1;for(var e=lt.targetContainers;0<e.length;){var $=Yc(lt.domEventName,lt.eventSystemFlags,e[0],lt.nativeEvent);if($===null){$=lt.nativeEvent;var ft=new $.constructor($.type,$);wb=ft,$.target.dispatchEvent(ft),wb=null}else return e=Cb($),e!==null&&Fc(e),lt.blockedOn=$,!1;e.shift()}return!0}function Zc(lt,e,$){Xc(lt)&&$.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(lt,e){lt.blockedOn===e&&(lt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(lt){function e(vt){return ad(vt,lt)}if(0<Kc.length){ad(Kc[0],lt);for(var $=1;$<Kc.length;$++){var ft=Kc[$];ft.blockedOn===lt&&(ft.blockedOn=null)}}for(Lc!==null&&ad(Lc,lt),Mc!==null&&ad(Mc,lt),Nc!==null&&ad(Nc,lt),Oc.forEach(e),Pc.forEach(e),$=0;$<Qc.length;$++)ft=Qc[$],ft.blockedOn===lt&&(ft.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(lt,e,$,ft){var vt=C$2,s=cd.transition;cd.transition=null;try{C$2=1,fd(lt,e,$,ft)}finally{C$2=vt,cd.transition=s}}function gd(lt,e,$,ft){var vt=C$2,s=cd.transition;cd.transition=null;try{C$2=4,fd(lt,e,$,ft)}finally{C$2=vt,cd.transition=s}}function fd(lt,e,$,ft){if(dd){var vt=Yc(lt,e,$,ft);if(vt===null)hd(lt,e,ft,id$1,$),Sc(lt,ft);else if(Uc(vt,lt,e,$,ft))ft.stopPropagation();else if(Sc(lt,ft),e&4&&-1<Rc.indexOf(lt)){for(;vt!==null;){var s=Cb(vt);if(s!==null&&Ec(s),s=Yc(lt,e,$,ft),s===null&&hd(lt,e,ft,id$1,$),s===vt)break;vt=s}vt!==null&&ft.stopPropagation()}else hd(lt,e,ft,null,$)}}var id$1=null;function Yc(lt,e,$,ft){if(id$1=null,lt=xb(ft),lt=Wc(lt),lt!==null)if(e=Vb(lt),e===null)lt=null;else if($=e.tag,$===13){if(lt=Wb(e),lt!==null)return lt;lt=null}else if($===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;lt=null}else e!==lt&&(lt=null);return id$1=lt,null}function jd(lt){switch(lt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var lt,e=ld,$=e.length,ft,vt="value"in kd?kd.value:kd.textContent,s=vt.length;for(lt=0;lt<$&&e[lt]===vt[lt];lt++);var Tt=$-lt;for(ft=1;ft<=Tt&&e[$-ft]===vt[s-ft];ft++);return md=vt.slice(lt,1<ft?1-ft:void 0)}function od(lt){var e=lt.keyCode;return"charCode"in lt?(lt=lt.charCode,lt===0&&e===13&&(lt=13)):lt=e,lt===10&&(lt=13),32<=lt||lt===13?lt:0}function pd(){return!0}function qd(){return!1}function rd(lt){function e($,ft,vt,s,Tt){this._reactName=$,this._targetInst=vt,this.type=ft,this.nativeEvent=s,this.target=Tt,this.currentTarget=null;for(var At in lt)lt.hasOwnProperty(At)&&($=lt[At],this[At]=$?$(s):s[At]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(lt){return lt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(lt){return lt.relatedTarget===void 0?lt.fromElement===lt.srcElement?lt.toElement:lt.fromElement:lt.relatedTarget},movementX:function(lt){return"movementX"in lt?lt.movementX:(lt!==yd&&(yd&&lt.type==="mousemove"?(wd=lt.screenX-yd.screenX,xd=lt.screenY-yd.screenY):xd=wd=0,yd=lt),wd)},movementY:function(lt){return"movementY"in lt?lt.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(lt){return"clipboardData"in lt?lt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(lt){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(lt):(lt=Od[lt])?!!e[lt]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(lt){if(lt.key){var e=Md[lt.key]||lt.key;if(e!=="Unidentified")return e}return lt.type==="keypress"?(lt=od(lt),lt===13?"Enter":String.fromCharCode(lt)):lt.type==="keydown"||lt.type==="keyup"?Nd[lt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(lt){return lt.type==="keypress"?od(lt):0},keyCode:function(lt){return lt.type==="keydown"||lt.type==="keyup"?lt.keyCode:0},which:function(lt){return lt.type==="keypress"?od(lt):lt.type==="keydown"||lt.type==="keyup"?lt.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(lt){return"deltaX"in lt?lt.deltaX:"wheelDeltaX"in lt?-lt.wheelDeltaX:0},deltaY:function(lt){return"deltaY"in lt?lt.deltaY:"wheelDeltaY"in lt?-lt.wheelDeltaY:"wheelDelta"in lt?-lt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$2,de$2=ia&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee$1=String.fromCharCode(32),fe$2=!1;function ge$1(lt,e){switch(lt){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(lt){return lt=lt.detail,typeof lt=="object"&&"data"in lt?lt.data:null}var ie$1=!1;function je$1(lt,e){switch(lt){case"compositionend":return he$2(e);case"keypress":return e.which!==32?null:(fe$2=!0,ee$1);case"textInput":return lt=e.data,lt===ee$1&&fe$2?null:lt;default:return null}}function ke$1(lt,e){if(ie$1)return lt==="compositionend"||!ae$2&&ge$1(lt,e)?(lt=nd(),md=ld=kd=null,ie$1=!1,lt):null;switch(lt){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$2&&e.locale!=="ko"?null:e.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(lt){var e=lt&&lt.nodeName&&lt.nodeName.toLowerCase();return e==="input"?!!le$2[lt.type]:e==="textarea"}function ne$3(lt,e,$,ft){Eb(ft),e=oe$2(e,"onChange"),0<e.length&&($=new td("onChange","change",null,$,ft),lt.push({event:$,listeners:e}))}var pe$1=null,qe$2=null;function re$1(lt){se$2(lt,0)}function te$2(lt){var e=ue$2(lt);if(Wa(e))return lt}function ve$1(lt,e){if(lt==="change")return e}var we$2=!1;if(ia){var xe$2;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$2=typeof ze$2.oninput=="function"}xe$2=ye$2}else xe$2=!1;we$2=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$2=pe$1=null)}function Be$1(lt){if(lt.propertyName==="value"&&te$2(qe$2)){var e=[];ne$3(e,qe$2,lt,xb(lt)),Jb(re$1,e)}}function Ce$2(lt,e,$){lt==="focusin"?(Ae$1(),pe$1=e,qe$2=$,pe$1.attachEvent("onpropertychange",Be$1)):lt==="focusout"&&Ae$1()}function De$2(lt){if(lt==="selectionchange"||lt==="keyup"||lt==="keydown")return te$2(qe$2)}function Ee$2(lt,e){if(lt==="click")return te$2(e)}function Fe(lt,e){if(lt==="input"||lt==="change")return te$2(e)}function Ge$2(lt,e){return lt===e&&(lt!==0||1/lt===1/e)||lt!==lt&&e!==e}var He$2=typeof Object.is=="function"?Object.is:Ge$2;function Ie$1(lt,e){if(He$2(lt,e))return!0;if(typeof lt!="object"||lt===null||typeof e!="object"||e===null)return!1;var $=Object.keys(lt),ft=Object.keys(e);if($.length!==ft.length)return!1;for(ft=0;ft<$.length;ft++){var vt=$[ft];if(!ja.call(e,vt)||!He$2(lt[vt],e[vt]))return!1}return!0}function Je(lt){for(;lt&&lt.firstChild;)lt=lt.firstChild;return lt}function Ke$2(lt,e){var $=Je(lt);lt=0;for(var ft;$;){if($.nodeType===3){if(ft=lt+$.textContent.length,lt<=e&&ft>=e)return{node:$,offset:e-lt};lt=ft}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le$3(lt,e){return lt&&e?lt===e?!0:lt&&lt.nodeType===3?!1:e&&e.nodeType===3?Le$3(lt,e.parentNode):"contains"in lt?lt.contains(e):lt.compareDocumentPosition?!!(lt.compareDocumentPosition(e)&16):!1:!1}function Me$1(){for(var lt=window,e=Xa();e instanceof lt.HTMLIFrameElement;){try{var $=typeof e.contentWindow.location.href=="string"}catch{$=!1}if($)lt=e.contentWindow;else break;e=Xa(lt.document)}return e}function Ne$2(lt){var e=lt&&lt.nodeName&&lt.nodeName.toLowerCase();return e&&(e==="input"&&(lt.type==="text"||lt.type==="search"||lt.type==="tel"||lt.type==="url"||lt.type==="password")||e==="textarea"||lt.contentEditable==="true")}function Oe$1(lt){var e=Me$1(),$=lt.focusedElem,ft=lt.selectionRange;if(e!==$&&$&&$.ownerDocument&&Le$3($.ownerDocument.documentElement,$)){if(ft!==null&&Ne$2($)){if(e=ft.start,lt=ft.end,lt===void 0&&(lt=e),"selectionStart"in $)$.selectionStart=e,$.selectionEnd=Math.min(lt,$.value.length);else if(lt=(e=$.ownerDocument||document)&&e.defaultView||window,lt.getSelection){lt=lt.getSelection();var vt=$.textContent.length,s=Math.min(ft.start,vt);ft=ft.end===void 0?s:Math.min(ft.end,vt),!lt.extend&&s>ft&&(vt=ft,ft=s,s=vt),vt=Ke$2($,s);var Tt=Ke$2($,ft);vt&&Tt&&(lt.rangeCount!==1||lt.anchorNode!==vt.node||lt.anchorOffset!==vt.offset||lt.focusNode!==Tt.node||lt.focusOffset!==Tt.offset)&&(e=e.createRange(),e.setStart(vt.node,vt.offset),lt.removeAllRanges(),s>ft?(lt.addRange(e),lt.extend(Tt.node,Tt.offset)):(e.setEnd(Tt.node,Tt.offset),lt.addRange(e)))}}for(e=[],lt=$;lt=lt.parentNode;)lt.nodeType===1&&e.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<e.length;$++)lt=e[$],lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}var Pe$2=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te$1=!1;function Ue$2(lt,e,$){var ft=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te$1||Qe==null||Qe!==Xa(ft)||(ft=Qe,"selectionStart"in ft&&Ne$2(ft)?ft={start:ft.selectionStart,end:ft.selectionEnd}:(ft=(ft.ownerDocument&&ft.ownerDocument.defaultView||window).getSelection(),ft={anchorNode:ft.anchorNode,anchorOffset:ft.anchorOffset,focusNode:ft.focusNode,focusOffset:ft.focusOffset}),Se&&Ie$1(Se,ft)||(Se=ft,ft=oe$2(Re$1,"onSelect"),0<ft.length&&(e=new td("onSelect","select",null,e,$),lt.push({event:e,listeners:ft}),e.target=Qe)))}function Ve$1(lt,e){var $={};return $[lt.toLowerCase()]=e.toLowerCase(),$["Webkit"+lt]="webkit"+e,$["Moz"+lt]="moz"+e,$}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(lt){if(Xe[lt])return Xe[lt];if(!We$1[lt])return lt;var e=We$1[lt],$;for($ in e)if(e.hasOwnProperty($)&&$ in Ye)return Xe[lt]=e[$];return lt}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(lt,e){df.set(lt,e),fa(e,[lt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(lt,e,$){var ft=lt.type||"unknown-event";lt.currentTarget=$,Ub(ft,e,void 0,lt),lt.currentTarget=null}function se$2(lt,e){e=(e&4)!==0;for(var $=0;$<lt.length;$++){var ft=lt[$],vt=ft.event;ft=ft.listeners;e:{var s=void 0;if(e)for(var Tt=ft.length-1;0<=Tt;Tt--){var At=ft[Tt],Rt=At.instance,Dt=At.currentTarget;if(At=At.listener,Rt!==s&&vt.isPropagationStopped())break e;nf(vt,At,Dt),s=Rt}else for(Tt=0;Tt<ft.length;Tt++){if(At=ft[Tt],Rt=At.instance,Dt=At.currentTarget,At=At.listener,Rt!==s&&vt.isPropagationStopped())break e;nf(vt,At,Dt),s=Rt}}}if(Qb)throw lt=Rb,Qb=!1,Rb=null,lt}function D$2(lt,e){var $=e[of];$===void 0&&($=e[of]=new Set);var ft=lt+"__bubble";$.has(ft)||(pf(e,lt,2,!1),$.add(ft))}function qf(lt,e,$){var ft=0;e&&(ft|=4),pf($,lt,ft,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(lt){if(!lt[rf]){lt[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,lt),qf($,!0,lt))});var e=lt.nodeType===9?lt:lt.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(lt,e,$,ft){switch(jd(e)){case 1:var vt=ed;break;case 4:vt=gd;break;default:vt=fd}$=vt.bind(null,e,$,lt),vt=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(vt=!0),ft?vt!==void 0?lt.addEventListener(e,$,{capture:!0,passive:vt}):lt.addEventListener(e,$,!0):vt!==void 0?lt.addEventListener(e,$,{passive:vt}):lt.addEventListener(e,$,!1)}function hd(lt,e,$,ft,vt){var s=ft;if(!(e&1)&&!(e&2)&&ft!==null)e:for(;;){if(ft===null)return;var Tt=ft.tag;if(Tt===3||Tt===4){var At=ft.stateNode.containerInfo;if(At===vt||At.nodeType===8&&At.parentNode===vt)break;if(Tt===4)for(Tt=ft.return;Tt!==null;){var Rt=Tt.tag;if((Rt===3||Rt===4)&&(Rt=Tt.stateNode.containerInfo,Rt===vt||Rt.nodeType===8&&Rt.parentNode===vt))return;Tt=Tt.return}for(;At!==null;){if(Tt=Wc(At),Tt===null)return;if(Rt=Tt.tag,Rt===5||Rt===6){ft=s=Tt;continue e}At=At.parentNode}}ft=ft.return}Jb(function(){var Dt=s,Nt=xb($),Wt=[];e:{var Ht=df.get(lt);if(Ht!==void 0){var Kt=td,Ft=lt;switch(lt){case"keypress":if(od($)===0)break e;case"keydown":case"keyup":Kt=Rd;break;case"focusin":Ft="focus",Kt=Fd;break;case"focusout":Ft="blur",Kt=Fd;break;case"beforeblur":case"afterblur":Kt=Fd;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Kt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Kt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Kt=Vd;break;case $e$1:case af:case bf:Kt=Hd;break;case cf:Kt=Xd;break;case"scroll":Kt=vd;break;case"wheel":Kt=Zd;break;case"copy":case"cut":case"paste":Kt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Kt=Td}var tn=(e&4)!==0,cn=!tn&&lt==="scroll",fn=tn?Ht!==null?Ht+"Capture":null:Ht;tn=[];for(var ln=Dt,dn;ln!==null;){dn=ln;var mn=dn.stateNode;if(dn.tag===5&&mn!==null&&(dn=mn,fn!==null&&(mn=Kb(ln,fn),mn!=null&&tn.push(tf(ln,mn,dn)))),cn)break;ln=ln.return}0<tn.length&&(Ht=new Kt(Ht,Ft,null,$,Nt),Wt.push({event:Ht,listeners:tn}))}}if(!(e&7)){e:{if(Ht=lt==="mouseover"||lt==="pointerover",Kt=lt==="mouseout"||lt==="pointerout",Ht&&$!==wb&&(Ft=$.relatedTarget||$.fromElement)&&(Wc(Ft)||Ft[uf]))break e;if((Kt||Ht)&&(Ht=Nt.window===Nt?Nt:(Ht=Nt.ownerDocument)?Ht.defaultView||Ht.parentWindow:window,Kt?(Ft=$.relatedTarget||$.toElement,Kt=Dt,Ft=Ft?Wc(Ft):null,Ft!==null&&(cn=Vb(Ft),Ft!==cn||Ft.tag!==5&&Ft.tag!==6)&&(Ft=null)):(Kt=null,Ft=Dt),Kt!==Ft)){if(tn=Bd,mn="onMouseLeave",fn="onMouseEnter",ln="mouse",(lt==="pointerout"||lt==="pointerover")&&(tn=Td,mn="onPointerLeave",fn="onPointerEnter",ln="pointer"),cn=Kt==null?Ht:ue$2(Kt),dn=Ft==null?Ht:ue$2(Ft),Ht=new tn(mn,ln+"leave",Kt,$,Nt),Ht.target=cn,Ht.relatedTarget=dn,mn=null,Wc(Nt)===Dt&&(tn=new tn(fn,ln+"enter",Ft,$,Nt),tn.target=dn,tn.relatedTarget=cn,mn=tn),cn=mn,Kt&&Ft)t:{for(tn=Kt,fn=Ft,ln=0,dn=tn;dn;dn=vf(dn))ln++;for(dn=0,mn=fn;mn;mn=vf(mn))dn++;for(;0<ln-dn;)tn=vf(tn),ln--;for(;0<dn-ln;)fn=vf(fn),dn--;for(;ln--;){if(tn===fn||fn!==null&&tn===fn.alternate)break t;tn=vf(tn),fn=vf(fn)}tn=null}else tn=null;Kt!==null&&wf(Wt,Ht,Kt,tn,!1),Ft!==null&&cn!==null&&wf(Wt,cn,Ft,tn,!0)}}e:{if(Ht=Dt?ue$2(Dt):window,Kt=Ht.nodeName&&Ht.nodeName.toLowerCase(),Kt==="select"||Kt==="input"&&Ht.type==="file")var xn=ve$1;else if(me$2(Ht))if(we$2)xn=Fe;else{xn=De$2;var Mn=Ce$2}else(Kt=Ht.nodeName)&&Kt.toLowerCase()==="input"&&(Ht.type==="checkbox"||Ht.type==="radio")&&(xn=Ee$2);if(xn&&(xn=xn(lt,Dt))){ne$3(Wt,xn,$,Nt);break e}Mn&&Mn(lt,Ht,Dt),lt==="focusout"&&(Mn=Ht._wrapperState)&&Mn.controlled&&Ht.type==="number"&&cb(Ht,"number",Ht.value)}switch(Mn=Dt?ue$2(Dt):window,lt){case"focusin":(me$2(Mn)||Mn.contentEditable==="true")&&(Qe=Mn,Re$1=Dt,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$2(Wt,$,Nt);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$2(Wt,$,Nt)}var Tn;if(ae$2)e:{switch(lt){case"compositionstart":var vn="onCompositionStart";break e;case"compositionend":vn="onCompositionEnd";break e;case"compositionupdate":vn="onCompositionUpdate";break e}vn=void 0}else ie$1?ge$1(lt,$)&&(vn="onCompositionEnd"):lt==="keydown"&&$.keyCode===229&&(vn="onCompositionStart");vn&&(de$2&&$.locale!=="ko"&&(ie$1||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&ie$1&&(Tn=nd()):(kd=Nt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Mn=oe$2(Dt,vn),0<Mn.length&&(vn=new Ld(vn,lt,null,$,Nt),Wt.push({event:vn,listeners:Mn}),Tn?vn.data=Tn:(Tn=he$2($),Tn!==null&&(vn.data=Tn)))),(Tn=ce$1?je$1(lt,$):ke$1(lt,$))&&(Dt=oe$2(Dt,"onBeforeInput"),0<Dt.length&&(Nt=new Ld("onBeforeInput","beforeinput",null,$,Nt),Wt.push({event:Nt,listeners:Dt}),Nt.data=Tn))}se$2(Wt,e)})}function tf(lt,e,$){return{instance:lt,listener:e,currentTarget:$}}function oe$2(lt,e){for(var $=e+"Capture",ft=[];lt!==null;){var vt=lt,s=vt.stateNode;vt.tag===5&&s!==null&&(vt=s,s=Kb(lt,$),s!=null&&ft.unshift(tf(lt,s,vt)),s=Kb(lt,e),s!=null&&ft.push(tf(lt,s,vt))),lt=lt.return}return ft}function vf(lt){if(lt===null)return null;do lt=lt.return;while(lt&&lt.tag!==5);return lt||null}function wf(lt,e,$,ft,vt){for(var s=e._reactName,Tt=[];$!==null&&$!==ft;){var At=$,Rt=At.alternate,Dt=At.stateNode;if(Rt!==null&&Rt===ft)break;At.tag===5&&Dt!==null&&(At=Dt,vt?(Rt=Kb($,s),Rt!=null&&Tt.unshift(tf($,Rt,At))):vt||(Rt=Kb($,s),Rt!=null&&Tt.push(tf($,Rt,At)))),$=$.return}Tt.length!==0&&lt.push({event:e,listeners:Tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(lt){return(typeof lt=="string"?lt:""+lt).replace(xf,`
`).replace(yf,"")}function Af(lt,e,$){if(e=zf(e),zf(lt)!==e&&$)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(lt,e){return lt==="textarea"||lt==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(lt){return Hf.resolve(null).then(lt).catch(If)}:Ff;function If(lt){setTimeout(function(){throw lt})}function Kf(lt,e){var $=e,ft=0;do{var vt=$.nextSibling;if(lt.removeChild($),vt&&vt.nodeType===8)if($=vt.data,$==="/$"){if(ft===0){lt.removeChild(vt),bd(e);return}ft--}else $!=="$"&&$!=="$?"&&$!=="$!"||ft++;$=vt}while($);bd(e)}function Lf(lt){for(;lt!=null;lt=lt.nextSibling){var e=lt.nodeType;if(e===1||e===3)break;if(e===8){if(e=lt.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return lt}function Mf(lt){lt=lt.previousSibling;for(var e=0;lt;){if(lt.nodeType===8){var $=lt.data;if($==="$"||$==="$!"||$==="$?"){if(e===0)return lt;e--}else $==="/$"&&e++}lt=lt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(lt){var e=lt[Of];if(e)return e;for(var $=lt.parentNode;$;){if(e=$[uf]||$[Of]){if($=e.alternate,e.child!==null||$!==null&&$.child!==null)for(lt=Mf(lt);lt!==null;){if($=lt[Of])return $;lt=Mf(lt)}return e}lt=$,$=lt.parentNode}return null}function Cb(lt){return lt=lt[Of]||lt[uf],!lt||lt.tag!==5&&lt.tag!==6&&lt.tag!==13&&lt.tag!==3?null:lt}function ue$2(lt){if(lt.tag===5||lt.tag===6)return lt.stateNode;throw Error(p$3(33))}function Db(lt){return lt[Pf]||null}var Sf=[],Tf=-1;function Uf(lt){return{current:lt}}function E$4(lt){0>Tf||(lt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(lt,e){Tf++,Sf[Tf]=lt.current,lt.current=e}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(lt,e){var $=lt.type.contextTypes;if(!$)return Vf;var ft=lt.stateNode;if(ft&&ft.__reactInternalMemoizedUnmaskedChildContext===e)return ft.__reactInternalMemoizedMaskedChildContext;var vt={},s;for(s in $)vt[s]=e[s];return ft&&(lt=lt.stateNode,lt.__reactInternalMemoizedUnmaskedChildContext=e,lt.__reactInternalMemoizedMaskedChildContext=vt),vt}function Zf(lt){return lt=lt.childContextTypes,lt!=null}function $f(){E$4(Wf),E$4(H$2)}function ag(lt,e,$){if(H$2.current!==Vf)throw Error(p$3(168));G$1(H$2,e),G$1(Wf,$)}function bg(lt,e,$){var ft=lt.stateNode;if(e=e.childContextTypes,typeof ft.getChildContext!="function")return $;ft=ft.getChildContext();for(var vt in ft)if(!(vt in e))throw Error(p$3(108,Ra(lt)||"Unknown",vt));return A$2({},$,ft)}function cg(lt){return lt=(lt=lt.stateNode)&&lt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,lt),G$1(Wf,Wf.current),!0}function dg(lt,e,$){var ft=lt.stateNode;if(!ft)throw Error(p$3(169));$?(lt=bg(lt,e,Xf),ft.__reactInternalMemoizedMergedChildContext=lt,E$4(Wf),E$4(H$2),G$1(H$2,lt)):E$4(Wf),G$1(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(lt){eg===null?eg=[lt]:eg.push(lt)}function ig(lt){fg=!0,hg(lt)}function jg(){if(!gg&&eg!==null){gg=!0;var lt=0,e=C$2;try{var $=eg;for(C$2=1;lt<$.length;lt++){var ft=$[lt];do ft=ft(!0);while(ft!==null)}eg=null,fg=!1}catch(vt){throw eg!==null&&(eg=eg.slice(lt+1)),ac(fc,jg),vt}finally{C$2=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(lt,e){kg[lg++]=ng,kg[lg++]=mg,mg=lt,ng=e}function ug(lt,e,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=lt;var ft=rg;lt=sg;var vt=32-oc(ft)-1;ft&=~(1<<vt),$+=1;var s=32-oc(e)+vt;if(30<s){var Tt=vt-vt%5;s=(ft&(1<<Tt)-1).toString(32),ft>>=Tt,vt-=Tt,rg=1<<32-oc(e)+vt|$<<vt|ft,sg=s+lt}else rg=1<<s|$<<vt|ft,sg=lt}function vg(lt){lt.return!==null&&(tg(lt,1),ug(lt,1,0))}function wg(lt){for(;lt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;lt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(lt,e){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=e,$.return=lt,e=lt.deletions,e===null?(lt.deletions=[$],lt.flags|=16):e.push($)}function Cg(lt,e){switch(lt.tag){case 5:var $=lt.type;return e=e.nodeType!==1||$.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(lt.stateNode=e,xg=lt,yg=Lf(e.firstChild),!0):!1;case 6:return e=lt.pendingProps===""||e.nodeType!==3?null:e,e!==null?(lt.stateNode=e,xg=lt,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?($=qg!==null?{id:rg,overflow:sg}:null,lt.memoizedState={dehydrated:e,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=e,$.return=lt,lt.child=$,xg=lt,yg=null,!0):!1;default:return!1}}function Dg(lt){return(lt.mode&1)!==0&&(lt.flags&128)===0}function Eg(lt){if(I$2){var e=yg;if(e){var $=e;if(!Cg(lt,e)){if(Dg(lt))throw Error(p$3(418));e=Lf($.nextSibling);var ft=xg;e&&Cg(lt,e)?Ag(ft,$):(lt.flags=lt.flags&-4097|2,I$2=!1,xg=lt)}}else{if(Dg(lt))throw Error(p$3(418));lt.flags=lt.flags&-4097|2,I$2=!1,xg=lt}}}function Fg(lt){for(lt=lt.return;lt!==null&&lt.tag!==5&&lt.tag!==3&&lt.tag!==13;)lt=lt.return;xg=lt}function Gg(lt){if(lt!==xg)return!1;if(!I$2)return Fg(lt),I$2=!0,!1;var e;if((e=lt.tag!==3)&&!(e=lt.tag!==5)&&(e=lt.type,e=e!=="head"&&e!=="body"&&!Ef(lt.type,lt.memoizedProps)),e&&(e=yg)){if(Dg(lt))throw Hg(),Error(p$3(418));for(;e;)Ag(lt,e),e=Lf(e.nextSibling)}if(Fg(lt),lt.tag===13){if(lt=lt.memoizedState,lt=lt!==null?lt.dehydrated:null,!lt)throw Error(p$3(317));e:{for(lt=lt.nextSibling,e=0;lt;){if(lt.nodeType===8){var $=lt.data;if($==="/$"){if(e===0){yg=Lf(lt.nextSibling);break e}e--}else $!=="$"&&$!=="$!"&&$!=="$?"||e++}lt=lt.nextSibling}yg=null}}else yg=xg?Lf(lt.stateNode.nextSibling):null;return!0}function Hg(){for(var lt=yg;lt;)lt=Lf(lt.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(lt){zg===null?zg=[lt]:zg.push(lt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(lt,e){if(lt&&lt.defaultProps){e=A$2({},e),lt=lt.defaultProps;for(var $ in lt)e[$]===void 0&&(e[$]=lt[$]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(lt){var e=Mg.current;E$4(Mg),lt._currentValue=e}function Sg(lt,e,$){for(;lt!==null;){var ft=lt.alternate;if((lt.childLanes&e)!==e?(lt.childLanes|=e,ft!==null&&(ft.childLanes|=e)):ft!==null&&(ft.childLanes&e)!==e&&(ft.childLanes|=e),lt===$)break;lt=lt.return}}function Tg(lt,e){Ng=lt,Pg=Og=null,lt=lt.dependencies,lt!==null&&lt.firstContext!==null&&(lt.lanes&e&&(Ug=!0),lt.firstContext=null)}function Vg(lt){var e=lt._currentValue;if(Pg!==lt)if(lt={context:lt,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p$3(308));Og=lt,Ng.dependencies={lanes:0,firstContext:lt}}else Og=Og.next=lt;return e}var Wg=null;function Xg(lt){Wg===null?Wg=[lt]:Wg.push(lt)}function Yg(lt,e,$,ft){var vt=e.interleaved;return vt===null?($.next=$,Xg(e)):($.next=vt.next,vt.next=$),e.interleaved=$,Zg(lt,ft)}function Zg(lt,e){lt.lanes|=e;var $=lt.alternate;for($!==null&&($.lanes|=e),$=lt,lt=lt.return;lt!==null;)lt.childLanes|=e,$=lt.alternate,$!==null&&($.childLanes|=e),$=lt,lt=lt.return;return $.tag===3?$.stateNode:null}var $g=!1;function ah(lt){lt.updateQueue={baseState:lt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(lt,e){lt=lt.updateQueue,e.updateQueue===lt&&(e.updateQueue={baseState:lt.baseState,firstBaseUpdate:lt.firstBaseUpdate,lastBaseUpdate:lt.lastBaseUpdate,shared:lt.shared,effects:lt.effects})}function ch(lt,e){return{eventTime:lt,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(lt,e,$){var ft=lt.updateQueue;if(ft===null)return null;if(ft=ft.shared,K$1&2){var vt=ft.pending;return vt===null?e.next=e:(e.next=vt.next,vt.next=e),ft.pending=e,Zg(lt,$)}return vt=ft.interleaved,vt===null?(e.next=e,Xg(ft)):(e.next=vt.next,vt.next=e),ft.interleaved=e,Zg(lt,$)}function eh(lt,e,$){if(e=e.updateQueue,e!==null&&(e=e.shared,($&4194240)!==0)){var ft=e.lanes;ft&=lt.pendingLanes,$|=ft,e.lanes=$,Cc(lt,$)}}function fh(lt,e){var $=lt.updateQueue,ft=lt.alternate;if(ft!==null&&(ft=ft.updateQueue,$===ft)){var vt=null,s=null;if($=$.firstBaseUpdate,$!==null){do{var Tt={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};s===null?vt=s=Tt:s=s.next=Tt,$=$.next}while($!==null);s===null?vt=s=e:s=s.next=e}else vt=s=e;$={baseState:ft.baseState,firstBaseUpdate:vt,lastBaseUpdate:s,shared:ft.shared,effects:ft.effects},lt.updateQueue=$;return}lt=$.lastBaseUpdate,lt===null?$.firstBaseUpdate=e:lt.next=e,$.lastBaseUpdate=e}function gh(lt,e,$,ft){var vt=lt.updateQueue;$g=!1;var s=vt.firstBaseUpdate,Tt=vt.lastBaseUpdate,At=vt.shared.pending;if(At!==null){vt.shared.pending=null;var Rt=At,Dt=Rt.next;Rt.next=null,Tt===null?s=Dt:Tt.next=Dt,Tt=Rt;var Nt=lt.alternate;Nt!==null&&(Nt=Nt.updateQueue,At=Nt.lastBaseUpdate,At!==Tt&&(At===null?Nt.firstBaseUpdate=Dt:At.next=Dt,Nt.lastBaseUpdate=Rt))}if(s!==null){var Wt=vt.baseState;Tt=0,Nt=Dt=Rt=null,At=s;do{var Ht=At.lane,Kt=At.eventTime;if((ft&Ht)===Ht){Nt!==null&&(Nt=Nt.next={eventTime:Kt,lane:0,tag:At.tag,payload:At.payload,callback:At.callback,next:null});e:{var Ft=lt,tn=At;switch(Ht=e,Kt=$,tn.tag){case 1:if(Ft=tn.payload,typeof Ft=="function"){Wt=Ft.call(Kt,Wt,Ht);break e}Wt=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=tn.payload,Ht=typeof Ft=="function"?Ft.call(Kt,Wt,Ht):Ft,Ht==null)break e;Wt=A$2({},Wt,Ht);break e;case 2:$g=!0}}At.callback!==null&&At.lane!==0&&(lt.flags|=64,Ht=vt.effects,Ht===null?vt.effects=[At]:Ht.push(At))}else Kt={eventTime:Kt,lane:Ht,tag:At.tag,payload:At.payload,callback:At.callback,next:null},Nt===null?(Dt=Nt=Kt,Rt=Wt):Nt=Nt.next=Kt,Tt|=Ht;if(At=At.next,At===null){if(At=vt.shared.pending,At===null)break;Ht=At,At=Ht.next,Ht.next=null,vt.lastBaseUpdate=Ht,vt.shared.pending=null}}while(1);if(Nt===null&&(Rt=Wt),vt.baseState=Rt,vt.firstBaseUpdate=Dt,vt.lastBaseUpdate=Nt,e=vt.shared.interleaved,e!==null){vt=e;do Tt|=vt.lane,vt=vt.next;while(vt!==e)}else s===null&&(vt.shared.lanes=0);hh|=Tt,lt.lanes=Tt,lt.memoizedState=Wt}}function ih(lt,e,$){if(lt=e.effects,e.effects=null,lt!==null)for(e=0;e<lt.length;e++){var ft=lt[e],vt=ft.callback;if(vt!==null){if(ft.callback=null,ft=$,typeof vt!="function")throw Error(p$3(191,vt));vt.call(ft)}}}var jh=new aa.Component().refs;function kh(lt,e,$,ft){e=lt.memoizedState,$=$(ft,e),$=$==null?e:A$2({},e,$),lt.memoizedState=$,lt.lanes===0&&(lt.updateQueue.baseState=$)}var nh={isMounted:function(lt){return(lt=lt._reactInternals)?Vb(lt)===lt:!1},enqueueSetState:function(lt,e,$){lt=lt._reactInternals;var ft=L$1(),vt=lh(lt),s=ch(ft,vt);s.payload=e,$!=null&&(s.callback=$),e=dh(lt,s,vt),e!==null&&(mh(e,lt,vt,ft),eh(e,lt,vt))},enqueueReplaceState:function(lt,e,$){lt=lt._reactInternals;var ft=L$1(),vt=lh(lt),s=ch(ft,vt);s.tag=1,s.payload=e,$!=null&&(s.callback=$),e=dh(lt,s,vt),e!==null&&(mh(e,lt,vt,ft),eh(e,lt,vt))},enqueueForceUpdate:function(lt,e){lt=lt._reactInternals;var $=L$1(),ft=lh(lt),vt=ch($,ft);vt.tag=2,e!=null&&(vt.callback=e),e=dh(lt,vt,ft),e!==null&&(mh(e,lt,ft,$),eh(e,lt,ft))}};function oh(lt,e,$,ft,vt,s,Tt){return lt=lt.stateNode,typeof lt.shouldComponentUpdate=="function"?lt.shouldComponentUpdate(ft,s,Tt):e.prototype&&e.prototype.isPureReactComponent?!Ie$1($,ft)||!Ie$1(vt,s):!0}function ph(lt,e,$){var ft=!1,vt=Vf,s=e.contextType;return typeof s=="object"&&s!==null?s=Vg(s):(vt=Zf(e)?Xf:H$2.current,ft=e.contextTypes,s=(ft=ft!=null)?Yf(lt,vt):Vf),e=new e($,s),lt.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,lt.stateNode=e,e._reactInternals=lt,ft&&(lt=lt.stateNode,lt.__reactInternalMemoizedUnmaskedChildContext=vt,lt.__reactInternalMemoizedMaskedChildContext=s),e}function qh(lt,e,$,ft){lt=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps($,ft),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps($,ft),e.state!==lt&&nh.enqueueReplaceState(e,e.state,null)}function rh(lt,e,$,ft){var vt=lt.stateNode;vt.props=$,vt.state=lt.memoizedState,vt.refs=jh,ah(lt);var s=e.contextType;typeof s=="object"&&s!==null?vt.context=Vg(s):(s=Zf(e)?Xf:H$2.current,vt.context=Yf(lt,s)),vt.state=lt.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kh(lt,e,s,$),vt.state=lt.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof vt.getSnapshotBeforeUpdate=="function"||typeof vt.UNSAFE_componentWillMount!="function"&&typeof vt.componentWillMount!="function"||(e=vt.state,typeof vt.componentWillMount=="function"&&vt.componentWillMount(),typeof vt.UNSAFE_componentWillMount=="function"&&vt.UNSAFE_componentWillMount(),e!==vt.state&&nh.enqueueReplaceState(vt,vt.state,null),gh(lt,$,vt,ft),vt.state=lt.memoizedState),typeof vt.componentDidMount=="function"&&(lt.flags|=4194308)}function sh(lt,e,$){if(lt=$.ref,lt!==null&&typeof lt!="function"&&typeof lt!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$3(309));var ft=$.stateNode}if(!ft)throw Error(p$3(147,lt));var vt=ft,s=""+lt;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(Tt){var At=vt.refs;At===jh&&(At=vt.refs={}),Tt===null?delete At[s]:At[s]=Tt},e._stringRef=s,e)}if(typeof lt!="string")throw Error(p$3(284));if(!$._owner)throw Error(p$3(290,lt))}return lt}function th(lt,e){throw lt=Object.prototype.toString.call(e),Error(p$3(31,lt==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":lt))}function uh(lt){var e=lt._init;return e(lt._payload)}function vh(lt){function e(fn,ln){if(lt){var dn=fn.deletions;dn===null?(fn.deletions=[ln],fn.flags|=16):dn.push(ln)}}function $(fn,ln){if(!lt)return null;for(;ln!==null;)e(fn,ln),ln=ln.sibling;return null}function ft(fn,ln){for(fn=new Map;ln!==null;)ln.key!==null?fn.set(ln.key,ln):fn.set(ln.index,ln),ln=ln.sibling;return fn}function vt(fn,ln){return fn=wh(fn,ln),fn.index=0,fn.sibling=null,fn}function s(fn,ln,dn){return fn.index=dn,lt?(dn=fn.alternate,dn!==null?(dn=dn.index,dn<ln?(fn.flags|=2,ln):dn):(fn.flags|=2,ln)):(fn.flags|=1048576,ln)}function Tt(fn){return lt&&fn.alternate===null&&(fn.flags|=2),fn}function At(fn,ln,dn,mn){return ln===null||ln.tag!==6?(ln=xh(dn,fn.mode,mn),ln.return=fn,ln):(ln=vt(ln,dn),ln.return=fn,ln)}function Rt(fn,ln,dn,mn){var xn=dn.type;return xn===ya?Nt(fn,ln,dn.props.children,mn,dn.key):ln!==null&&(ln.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===Ha&&uh(xn)===ln.type)?(mn=vt(ln,dn.props),mn.ref=sh(fn,ln,dn),mn.return=fn,mn):(mn=yh(dn.type,dn.key,dn.props,null,fn.mode,mn),mn.ref=sh(fn,ln,dn),mn.return=fn,mn)}function Dt(fn,ln,dn,mn){return ln===null||ln.tag!==4||ln.stateNode.containerInfo!==dn.containerInfo||ln.stateNode.implementation!==dn.implementation?(ln=zh(dn,fn.mode,mn),ln.return=fn,ln):(ln=vt(ln,dn.children||[]),ln.return=fn,ln)}function Nt(fn,ln,dn,mn,xn){return ln===null||ln.tag!==7?(ln=Ah(dn,fn.mode,mn,xn),ln.return=fn,ln):(ln=vt(ln,dn),ln.return=fn,ln)}function Wt(fn,ln,dn){if(typeof ln=="string"&&ln!==""||typeof ln=="number")return ln=xh(""+ln,fn.mode,dn),ln.return=fn,ln;if(typeof ln=="object"&&ln!==null){switch(ln.$$typeof){case va:return dn=yh(ln.type,ln.key,ln.props,null,fn.mode,dn),dn.ref=sh(fn,null,ln),dn.return=fn,dn;case wa:return ln=zh(ln,fn.mode,dn),ln.return=fn,ln;case Ha:var mn=ln._init;return Wt(fn,mn(ln._payload),dn)}if(eb(ln)||Ka(ln))return ln=Ah(ln,fn.mode,dn,null),ln.return=fn,ln;th(fn,ln)}return null}function Ht(fn,ln,dn,mn){var xn=ln!==null?ln.key:null;if(typeof dn=="string"&&dn!==""||typeof dn=="number")return xn!==null?null:At(fn,ln,""+dn,mn);if(typeof dn=="object"&&dn!==null){switch(dn.$$typeof){case va:return dn.key===xn?Rt(fn,ln,dn,mn):null;case wa:return dn.key===xn?Dt(fn,ln,dn,mn):null;case Ha:return xn=dn._init,Ht(fn,ln,xn(dn._payload),mn)}if(eb(dn)||Ka(dn))return xn!==null?null:Nt(fn,ln,dn,mn,null);th(fn,dn)}return null}function Kt(fn,ln,dn,mn,xn){if(typeof mn=="string"&&mn!==""||typeof mn=="number")return fn=fn.get(dn)||null,At(ln,fn,""+mn,xn);if(typeof mn=="object"&&mn!==null){switch(mn.$$typeof){case va:return fn=fn.get(mn.key===null?dn:mn.key)||null,Rt(ln,fn,mn,xn);case wa:return fn=fn.get(mn.key===null?dn:mn.key)||null,Dt(ln,fn,mn,xn);case Ha:var Mn=mn._init;return Kt(fn,ln,dn,Mn(mn._payload),xn)}if(eb(mn)||Ka(mn))return fn=fn.get(dn)||null,Nt(ln,fn,mn,xn,null);th(ln,mn)}return null}function Ft(fn,ln,dn,mn){for(var xn=null,Mn=null,Tn=ln,vn=ln=0,An=null;Tn!==null&&vn<dn.length;vn++){Tn.index>vn?(An=Tn,Tn=null):An=Tn.sibling;var Pn=Ht(fn,Tn,dn[vn],mn);if(Pn===null){Tn===null&&(Tn=An);break}lt&&Tn&&Pn.alternate===null&&e(fn,Tn),ln=s(Pn,ln,vn),Mn===null?xn=Pn:Mn.sibling=Pn,Mn=Pn,Tn=An}if(vn===dn.length)return $(fn,Tn),I$2&&tg(fn,vn),xn;if(Tn===null){for(;vn<dn.length;vn++)Tn=Wt(fn,dn[vn],mn),Tn!==null&&(ln=s(Tn,ln,vn),Mn===null?xn=Tn:Mn.sibling=Tn,Mn=Tn);return I$2&&tg(fn,vn),xn}for(Tn=ft(fn,Tn);vn<dn.length;vn++)An=Kt(Tn,fn,vn,dn[vn],mn),An!==null&&(lt&&An.alternate!==null&&Tn.delete(An.key===null?vn:An.key),ln=s(An,ln,vn),Mn===null?xn=An:Mn.sibling=An,Mn=An);return lt&&Tn.forEach(function(bn){return e(fn,bn)}),I$2&&tg(fn,vn),xn}function tn(fn,ln,dn,mn){var xn=Ka(dn);if(typeof xn!="function")throw Error(p$3(150));if(dn=xn.call(dn),dn==null)throw Error(p$3(151));for(var Mn=xn=null,Tn=ln,vn=ln=0,An=null,Pn=dn.next();Tn!==null&&!Pn.done;vn++,Pn=dn.next()){Tn.index>vn?(An=Tn,Tn=null):An=Tn.sibling;var bn=Ht(fn,Tn,Pn.value,mn);if(bn===null){Tn===null&&(Tn=An);break}lt&&Tn&&bn.alternate===null&&e(fn,Tn),ln=s(bn,ln,vn),Mn===null?xn=bn:Mn.sibling=bn,Mn=bn,Tn=An}if(Pn.done)return $(fn,Tn),I$2&&tg(fn,vn),xn;if(Tn===null){for(;!Pn.done;vn++,Pn=dn.next())Pn=Wt(fn,Pn.value,mn),Pn!==null&&(ln=s(Pn,ln,vn),Mn===null?xn=Pn:Mn.sibling=Pn,Mn=Pn);return I$2&&tg(fn,vn),xn}for(Tn=ft(fn,Tn);!Pn.done;vn++,Pn=dn.next())Pn=Kt(Tn,fn,vn,Pn.value,mn),Pn!==null&&(lt&&Pn.alternate!==null&&Tn.delete(Pn.key===null?vn:Pn.key),ln=s(Pn,ln,vn),Mn===null?xn=Pn:Mn.sibling=Pn,Mn=Pn);return lt&&Tn.forEach(function(In){return e(fn,In)}),I$2&&tg(fn,vn),xn}function cn(fn,ln,dn,mn){if(typeof dn=="object"&&dn!==null&&dn.type===ya&&dn.key===null&&(dn=dn.props.children),typeof dn=="object"&&dn!==null){switch(dn.$$typeof){case va:e:{for(var xn=dn.key,Mn=ln;Mn!==null;){if(Mn.key===xn){if(xn=dn.type,xn===ya){if(Mn.tag===7){$(fn,Mn.sibling),ln=vt(Mn,dn.props.children),ln.return=fn,fn=ln;break e}}else if(Mn.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===Ha&&uh(xn)===Mn.type){$(fn,Mn.sibling),ln=vt(Mn,dn.props),ln.ref=sh(fn,Mn,dn),ln.return=fn,fn=ln;break e}$(fn,Mn);break}else e(fn,Mn);Mn=Mn.sibling}dn.type===ya?(ln=Ah(dn.props.children,fn.mode,mn,dn.key),ln.return=fn,fn=ln):(mn=yh(dn.type,dn.key,dn.props,null,fn.mode,mn),mn.ref=sh(fn,ln,dn),mn.return=fn,fn=mn)}return Tt(fn);case wa:e:{for(Mn=dn.key;ln!==null;){if(ln.key===Mn)if(ln.tag===4&&ln.stateNode.containerInfo===dn.containerInfo&&ln.stateNode.implementation===dn.implementation){$(fn,ln.sibling),ln=vt(ln,dn.children||[]),ln.return=fn,fn=ln;break e}else{$(fn,ln);break}else e(fn,ln);ln=ln.sibling}ln=zh(dn,fn.mode,mn),ln.return=fn,fn=ln}return Tt(fn);case Ha:return Mn=dn._init,cn(fn,ln,Mn(dn._payload),mn)}if(eb(dn))return Ft(fn,ln,dn,mn);if(Ka(dn))return tn(fn,ln,dn,mn);th(fn,dn)}return typeof dn=="string"&&dn!==""||typeof dn=="number"?(dn=""+dn,ln!==null&&ln.tag===6?($(fn,ln.sibling),ln=vt(ln,dn),ln.return=fn,fn=ln):($(fn,ln),ln=xh(dn,fn.mode,mn),ln.return=fn,fn=ln),Tt(fn)):$(fn,ln)}return cn}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(lt){if(lt===Dh)throw Error(p$3(174));return lt}function Ih(lt,e){switch(G$1(Gh,e),G$1(Fh,lt),G$1(Eh,Dh),lt=e.nodeType,lt){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:lt=lt===8?e.parentNode:e,e=lt.namespaceURI||null,lt=lt.tagName,e=lb(e,lt)}E$4(Eh),G$1(Eh,e)}function Jh(){E$4(Eh),E$4(Fh),E$4(Gh)}function Kh(lt){Hh(Gh.current);var e=Hh(Eh.current),$=lb(e,lt.type);e!==$&&(G$1(Fh,lt),G$1(Eh,$))}function Lh(lt){Fh.current===lt&&(E$4(Eh),E$4(Fh))}var M$1=Uf(0);function Mh(lt){for(var e=lt;e!==null;){if(e.tag===13){var $=e.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===lt)break;for(;e.sibling===null;){if(e.return===null||e.return===lt)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var lt=0;lt<Nh.length;lt++)Nh[lt]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$3(){throw Error(p$3(321))}function Wh(lt,e){if(e===null)return!1;for(var $=0;$<e.length&&$<lt.length;$++)if(!He$2(lt[$],e[$]))return!1;return!0}function Xh(lt,e,$,ft,vt,s){if(Rh=s,N$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=lt===null||lt.memoizedState===null?Yh:Zh,lt=$(ft,vt),Th){s=0;do{if(Th=!1,Uh=0,25<=s)throw Error(p$3(301));s+=1,P$1=O$1=null,e.updateQueue=null,Ph.current=$h,lt=$(ft,vt)}while(Th)}if(Ph.current=ai,e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,e)throw Error(p$3(300));return lt}function bi(){var lt=Uh!==0;return Uh=0,lt}function ci(){var lt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=lt:P$1=P$1.next=lt,P$1}function di(){if(O$1===null){var lt=N$1.alternate;lt=lt!==null?lt.memoizedState:null}else lt=O$1.next;var e=P$1===null?N$1.memoizedState:P$1.next;if(e!==null)P$1=e,O$1=lt;else{if(lt===null)throw Error(p$3(310));O$1=lt,lt={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=lt:P$1=P$1.next=lt}return P$1}function ei(lt,e){return typeof e=="function"?e(lt):e}function fi(lt){var e=di(),$=e.queue;if($===null)throw Error(p$3(311));$.lastRenderedReducer=lt;var ft=O$1,vt=ft.baseQueue,s=$.pending;if(s!==null){if(vt!==null){var Tt=vt.next;vt.next=s.next,s.next=Tt}ft.baseQueue=vt=s,$.pending=null}if(vt!==null){s=vt.next,ft=ft.baseState;var At=Tt=null,Rt=null,Dt=s;do{var Nt=Dt.lane;if((Rh&Nt)===Nt)Rt!==null&&(Rt=Rt.next={lane:0,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null}),ft=Dt.hasEagerState?Dt.eagerState:lt(ft,Dt.action);else{var Wt={lane:Nt,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null};Rt===null?(At=Rt=Wt,Tt=ft):Rt=Rt.next=Wt,N$1.lanes|=Nt,hh|=Nt}Dt=Dt.next}while(Dt!==null&&Dt!==s);Rt===null?Tt=ft:Rt.next=At,He$2(ft,e.memoizedState)||(Ug=!0),e.memoizedState=ft,e.baseState=Tt,e.baseQueue=Rt,$.lastRenderedState=ft}if(lt=$.interleaved,lt!==null){vt=lt;do s=vt.lane,N$1.lanes|=s,hh|=s,vt=vt.next;while(vt!==lt)}else vt===null&&($.lanes=0);return[e.memoizedState,$.dispatch]}function gi(lt){var e=di(),$=e.queue;if($===null)throw Error(p$3(311));$.lastRenderedReducer=lt;var ft=$.dispatch,vt=$.pending,s=e.memoizedState;if(vt!==null){$.pending=null;var Tt=vt=vt.next;do s=lt(s,Tt.action),Tt=Tt.next;while(Tt!==vt);He$2(s,e.memoizedState)||(Ug=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),$.lastRenderedState=s}return[s,ft]}function hi(){}function ii(lt,e){var $=N$1,ft=di(),vt=e(),s=!He$2(ft.memoizedState,vt);if(s&&(ft.memoizedState=vt,Ug=!0),ft=ft.queue,ji(ki.bind(null,$,ft,lt),[lt]),ft.getSnapshot!==e||s||P$1!==null&&P$1.memoizedState.tag&1){if($.flags|=2048,li(9,mi.bind(null,$,ft,vt,e),void 0,null),R$1===null)throw Error(p$3(349));Rh&30||ni($,e,vt)}return vt}function ni(lt,e,$){lt.flags|=16384,lt={getSnapshot:e,value:$},e=N$1.updateQueue,e===null?(e={lastEffect:null,stores:null},N$1.updateQueue=e,e.stores=[lt]):($=e.stores,$===null?e.stores=[lt]:$.push(lt))}function mi(lt,e,$,ft){e.value=$,e.getSnapshot=ft,oi(e)&&pi(lt)}function ki(lt,e,$){return $(function(){oi(e)&&pi(lt)})}function oi(lt){var e=lt.getSnapshot;lt=lt.value;try{var $=e();return!He$2(lt,$)}catch{return!0}}function pi(lt){var e=Zg(lt,1);e!==null&&mh(e,lt,1,-1)}function qi(lt){var e=ci();return typeof lt=="function"&&(lt=lt()),e.memoizedState=e.baseState=lt,lt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:lt},e.queue=lt,lt=lt.dispatch=ri.bind(null,N$1,lt),[e.memoizedState,lt]}function li(lt,e,$,ft){return lt={tag:lt,create:e,destroy:$,deps:ft,next:null},e=N$1.updateQueue,e===null?(e={lastEffect:null,stores:null},N$1.updateQueue=e,e.lastEffect=lt.next=lt):($=e.lastEffect,$===null?e.lastEffect=lt.next=lt:(ft=$.next,$.next=lt,lt.next=ft,e.lastEffect=lt)),lt}function si(){return di().memoizedState}function ti(lt,e,$,ft){var vt=ci();N$1.flags|=lt,vt.memoizedState=li(1|e,$,void 0,ft===void 0?null:ft)}function ui$1(lt,e,$,ft){var vt=di();ft=ft===void 0?null:ft;var s=void 0;if(O$1!==null){var Tt=O$1.memoizedState;if(s=Tt.destroy,ft!==null&&Wh(ft,Tt.deps)){vt.memoizedState=li(e,$,s,ft);return}}N$1.flags|=lt,vt.memoizedState=li(1|e,$,s,ft)}function vi(lt,e){return ti(8390656,8,lt,e)}function ji(lt,e){return ui$1(2048,8,lt,e)}function wi(lt,e){return ui$1(4,2,lt,e)}function xi(lt,e){return ui$1(4,4,lt,e)}function yi(lt,e){if(typeof e=="function")return lt=lt(),e(lt),function(){e(null)};if(e!=null)return lt=lt(),e.current=lt,function(){e.current=null}}function zi(lt,e,$){return $=$!=null?$.concat([lt]):null,ui$1(4,4,yi.bind(null,e,lt),$)}function Ai(){}function Bi(lt,e){var $=di();e=e===void 0?null:e;var ft=$.memoizedState;return ft!==null&&e!==null&&Wh(e,ft[1])?ft[0]:($.memoizedState=[lt,e],lt)}function Ci(lt,e){var $=di();e=e===void 0?null:e;var ft=$.memoizedState;return ft!==null&&e!==null&&Wh(e,ft[1])?ft[0]:(lt=lt(),$.memoizedState=[lt,e],lt)}function Di(lt,e,$){return Rh&21?(He$2($,e)||($=yc(),N$1.lanes|=$,hh|=$,lt.baseState=!0),e):(lt.baseState&&(lt.baseState=!1,Ug=!0),lt.memoizedState=$)}function Ei(lt,e){var $=C$2;C$2=$!==0&&4>$?$:4,lt(!0);var ft=Qh.transition;Qh.transition={};try{lt(!1),e()}finally{C$2=$,Qh.transition=ft}}function Fi(){return di().memoizedState}function Gi(lt,e,$){var ft=lh(lt);if($={lane:ft,action:$,hasEagerState:!1,eagerState:null,next:null},Hi(lt))Ii(e,$);else if($=Yg(lt,e,$,ft),$!==null){var vt=L$1();mh($,lt,ft,vt),Ji($,e,ft)}}function ri(lt,e,$){var ft=lh(lt),vt={lane:ft,action:$,hasEagerState:!1,eagerState:null,next:null};if(Hi(lt))Ii(e,vt);else{var s=lt.alternate;if(lt.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var Tt=e.lastRenderedState,At=s(Tt,$);if(vt.hasEagerState=!0,vt.eagerState=At,He$2(At,Tt)){var Rt=e.interleaved;Rt===null?(vt.next=vt,Xg(e)):(vt.next=Rt.next,Rt.next=vt),e.interleaved=vt;return}}catch{}finally{}$=Yg(lt,e,vt,ft),$!==null&&(vt=L$1(),mh($,lt,ft,vt),Ji($,e,ft))}}function Hi(lt){var e=lt.alternate;return lt===N$1||e!==null&&e===N$1}function Ii(lt,e){Th=Sh=!0;var $=lt.pending;$===null?e.next=e:(e.next=$.next,$.next=e),lt.pending=e}function Ji(lt,e,$){if($&4194240){var ft=e.lanes;ft&=lt.pendingLanes,$|=ft,e.lanes=$,Cc(lt,$)}}var ai={readContext:Vg,useCallback:Q$3,useContext:Q$3,useEffect:Q$3,useImperativeHandle:Q$3,useInsertionEffect:Q$3,useLayoutEffect:Q$3,useMemo:Q$3,useReducer:Q$3,useRef:Q$3,useState:Q$3,useDebugValue:Q$3,useDeferredValue:Q$3,useTransition:Q$3,useMutableSource:Q$3,useSyncExternalStore:Q$3,useId:Q$3,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(lt,e){return ci().memoizedState=[lt,e===void 0?null:e],lt},useContext:Vg,useEffect:vi,useImperativeHandle:function(lt,e,$){return $=$!=null?$.concat([lt]):null,ti(4194308,4,yi.bind(null,e,lt),$)},useLayoutEffect:function(lt,e){return ti(4194308,4,lt,e)},useInsertionEffect:function(lt,e){return ti(4,2,lt,e)},useMemo:function(lt,e){var $=ci();return e=e===void 0?null:e,lt=lt(),$.memoizedState=[lt,e],lt},useReducer:function(lt,e,$){var ft=ci();return e=$!==void 0?$(e):e,ft.memoizedState=ft.baseState=e,lt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lt,lastRenderedState:e},ft.queue=lt,lt=lt.dispatch=Gi.bind(null,N$1,lt),[ft.memoizedState,lt]},useRef:function(lt){var e=ci();return lt={current:lt},e.memoizedState=lt},useState:qi,useDebugValue:Ai,useDeferredValue:function(lt){return ci().memoizedState=lt},useTransition:function(){var lt=qi(!1),e=lt[0];return lt=Ei.bind(null,lt[1]),ci().memoizedState=lt,[e,lt]},useMutableSource:function(){},useSyncExternalStore:function(lt,e,$){var ft=N$1,vt=ci();if(I$2){if($===void 0)throw Error(p$3(407));$=$()}else{if($=e(),R$1===null)throw Error(p$3(349));Rh&30||ni(ft,e,$)}vt.memoizedState=$;var s={value:$,getSnapshot:e};return vt.queue=s,vi(ki.bind(null,ft,s,lt),[lt]),ft.flags|=2048,li(9,mi.bind(null,ft,s,$,e),void 0,null),$},useId:function(){var lt=ci(),e=R$1.identifierPrefix;if(I$2){var $=sg,ft=rg;$=(ft&~(1<<32-oc(ft)-1)).toString(32)+$,e=":"+e+"R"+$,$=Uh++,0<$&&(e+="H"+$.toString(32)),e+=":"}else $=Vh++,e=":"+e+"r"+$.toString(32)+":";return lt.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(lt){var e=di();return Di(e,O$1.memoizedState,lt)},useTransition:function(){var lt=fi(ei)[0],e=di().memoizedState;return[lt,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(lt){var e=di();return O$1===null?e.memoizedState=lt:Di(e,O$1.memoizedState,lt)},useTransition:function(){var lt=gi(ei)[0],e=di().memoizedState;return[lt,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(lt,e){try{var $="",ft=e;do $+=Pa(ft),ft=ft.return;while(ft);var vt=$}catch(s){vt=`
Error generating stack: `+s.message+`
`+s.stack}return{value:lt,source:e,stack:vt,digest:null}}function Li(lt,e,$){return{value:lt,source:null,stack:$??null,digest:e??null}}function Mi(lt,e){try{console.error(e.value)}catch($){setTimeout(function(){throw $})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(lt,e,$){$=ch(-1,$),$.tag=3,$.payload={element:null};var ft=e.value;return $.callback=function(){Pi||(Pi=!0,Qi=ft),Mi(lt,e)},$}function Ri(lt,e,$){$=ch(-1,$),$.tag=3;var ft=lt.type.getDerivedStateFromError;if(typeof ft=="function"){var vt=e.value;$.payload=function(){return ft(vt)},$.callback=function(){Mi(lt,e)}}var s=lt.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&($.callback=function(){Mi(lt,e),typeof ft!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var Tt=e.stack;this.componentDidCatch(e.value,{componentStack:Tt!==null?Tt:""})}),$}function Ti(lt,e,$){var ft=lt.pingCache;if(ft===null){ft=lt.pingCache=new Ni;var vt=new Set;ft.set(e,vt)}else vt=ft.get(e),vt===void 0&&(vt=new Set,ft.set(e,vt));vt.has($)||(vt.add($),lt=Ui.bind(null,lt,e,$),e.then(lt,lt))}function Vi(lt){do{var e;if((e=lt.tag===13)&&(e=lt.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return lt;lt=lt.return}while(lt!==null);return null}function Wi(lt,e,$,ft,vt){return lt.mode&1?(lt.flags|=65536,lt.lanes=vt,lt):(lt===e?lt.flags|=65536:(lt.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(e=ch(-1,1),e.tag=2,dh($,e,1))),$.lanes|=1),lt)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(lt,e,$,ft){e.child=lt===null?Ch(e,null,$,ft):Bh(e,lt.child,$,ft)}function Zi(lt,e,$,ft,vt){$=$.render;var s=e.ref;return Tg(e,vt),ft=Xh(lt,e,$,ft,s,vt),$=bi(),lt!==null&&!Ug?(e.updateQueue=lt.updateQueue,e.flags&=-2053,lt.lanes&=~vt,$i(lt,e,vt)):(I$2&&$&&vg(e),e.flags|=1,Yi(lt,e,ft,vt),e.child)}function aj(lt,e,$,ft,vt){if(lt===null){var s=$.type;return typeof s=="function"&&!bj(s)&&s.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(e.tag=15,e.type=s,cj(lt,e,s,ft,vt)):(lt=yh($.type,null,ft,e,e.mode,vt),lt.ref=e.ref,lt.return=e,e.child=lt)}if(s=lt.child,!(lt.lanes&vt)){var Tt=s.memoizedProps;if($=$.compare,$=$!==null?$:Ie$1,$(Tt,ft)&&lt.ref===e.ref)return $i(lt,e,vt)}return e.flags|=1,lt=wh(s,ft),lt.ref=e.ref,lt.return=e,e.child=lt}function cj(lt,e,$,ft,vt){if(lt!==null){var s=lt.memoizedProps;if(Ie$1(s,ft)&&lt.ref===e.ref)if(Ug=!1,e.pendingProps=ft=s,(lt.lanes&vt)!==0)lt.flags&131072&&(Ug=!0);else return e.lanes=lt.lanes,$i(lt,e,vt)}return dj(lt,e,$,ft,vt)}function ej(lt,e,$){var ft=e.pendingProps,vt=ft.children,s=lt!==null?lt.memoizedState:null;if(ft.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=$;else{if(!($&1073741824))return lt=s!==null?s.baseLanes|$:$,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:lt,cachePool:null,transitions:null},e.updateQueue=null,G$1(fj,gj),gj|=lt,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft=s!==null?s.baseLanes:$,G$1(fj,gj),gj|=ft}else s!==null?(ft=s.baseLanes|$,e.memoizedState=null):ft=$,G$1(fj,gj),gj|=ft;return Yi(lt,e,vt,$),e.child}function hj(lt,e){var $=e.ref;(lt===null&&$!==null||lt!==null&&lt.ref!==$)&&(e.flags|=512,e.flags|=2097152)}function dj(lt,e,$,ft,vt){var s=Zf($)?Xf:H$2.current;return s=Yf(e,s),Tg(e,vt),$=Xh(lt,e,$,ft,s,vt),ft=bi(),lt!==null&&!Ug?(e.updateQueue=lt.updateQueue,e.flags&=-2053,lt.lanes&=~vt,$i(lt,e,vt)):(I$2&&ft&&vg(e),e.flags|=1,Yi(lt,e,$,vt),e.child)}function ij(lt,e,$,ft,vt){if(Zf($)){var s=!0;cg(e)}else s=!1;if(Tg(e,vt),e.stateNode===null)jj(lt,e),ph(e,$,ft),rh(e,$,ft,vt),ft=!0;else if(lt===null){var Tt=e.stateNode,At=e.memoizedProps;Tt.props=At;var Rt=Tt.context,Dt=$.contextType;typeof Dt=="object"&&Dt!==null?Dt=Vg(Dt):(Dt=Zf($)?Xf:H$2.current,Dt=Yf(e,Dt));var Nt=$.getDerivedStateFromProps,Wt=typeof Nt=="function"||typeof Tt.getSnapshotBeforeUpdate=="function";Wt||typeof Tt.UNSAFE_componentWillReceiveProps!="function"&&typeof Tt.componentWillReceiveProps!="function"||(At!==ft||Rt!==Dt)&&qh(e,Tt,ft,Dt),$g=!1;var Ht=e.memoizedState;Tt.state=Ht,gh(e,ft,Tt,vt),Rt=e.memoizedState,At!==ft||Ht!==Rt||Wf.current||$g?(typeof Nt=="function"&&(kh(e,$,Nt,ft),Rt=e.memoizedState),(At=$g||oh(e,$,At,ft,Ht,Rt,Dt))?(Wt||typeof Tt.UNSAFE_componentWillMount!="function"&&typeof Tt.componentWillMount!="function"||(typeof Tt.componentWillMount=="function"&&Tt.componentWillMount(),typeof Tt.UNSAFE_componentWillMount=="function"&&Tt.UNSAFE_componentWillMount()),typeof Tt.componentDidMount=="function"&&(e.flags|=4194308)):(typeof Tt.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=ft,e.memoizedState=Rt),Tt.props=ft,Tt.state=Rt,Tt.context=Dt,ft=At):(typeof Tt.componentDidMount=="function"&&(e.flags|=4194308),ft=!1)}else{Tt=e.stateNode,bh(lt,e),At=e.memoizedProps,Dt=e.type===e.elementType?At:Lg(e.type,At),Tt.props=Dt,Wt=e.pendingProps,Ht=Tt.context,Rt=$.contextType,typeof Rt=="object"&&Rt!==null?Rt=Vg(Rt):(Rt=Zf($)?Xf:H$2.current,Rt=Yf(e,Rt));var Kt=$.getDerivedStateFromProps;(Nt=typeof Kt=="function"||typeof Tt.getSnapshotBeforeUpdate=="function")||typeof Tt.UNSAFE_componentWillReceiveProps!="function"&&typeof Tt.componentWillReceiveProps!="function"||(At!==Wt||Ht!==Rt)&&qh(e,Tt,ft,Rt),$g=!1,Ht=e.memoizedState,Tt.state=Ht,gh(e,ft,Tt,vt);var Ft=e.memoizedState;At!==Wt||Ht!==Ft||Wf.current||$g?(typeof Kt=="function"&&(kh(e,$,Kt,ft),Ft=e.memoizedState),(Dt=$g||oh(e,$,Dt,ft,Ht,Ft,Rt)||!1)?(Nt||typeof Tt.UNSAFE_componentWillUpdate!="function"&&typeof Tt.componentWillUpdate!="function"||(typeof Tt.componentWillUpdate=="function"&&Tt.componentWillUpdate(ft,Ft,Rt),typeof Tt.UNSAFE_componentWillUpdate=="function"&&Tt.UNSAFE_componentWillUpdate(ft,Ft,Rt)),typeof Tt.componentDidUpdate=="function"&&(e.flags|=4),typeof Tt.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof Tt.componentDidUpdate!="function"||At===lt.memoizedProps&&Ht===lt.memoizedState||(e.flags|=4),typeof Tt.getSnapshotBeforeUpdate!="function"||At===lt.memoizedProps&&Ht===lt.memoizedState||(e.flags|=1024),e.memoizedProps=ft,e.memoizedState=Ft),Tt.props=ft,Tt.state=Ft,Tt.context=Rt,ft=Dt):(typeof Tt.componentDidUpdate!="function"||At===lt.memoizedProps&&Ht===lt.memoizedState||(e.flags|=4),typeof Tt.getSnapshotBeforeUpdate!="function"||At===lt.memoizedProps&&Ht===lt.memoizedState||(e.flags|=1024),ft=!1)}return kj(lt,e,$,ft,s,vt)}function kj(lt,e,$,ft,vt,s){hj(lt,e);var Tt=(e.flags&128)!==0;if(!ft&&!Tt)return vt&&dg(e,$,!1),$i(lt,e,s);ft=e.stateNode,Xi.current=e;var At=Tt&&typeof $.getDerivedStateFromError!="function"?null:ft.render();return e.flags|=1,lt!==null&&Tt?(e.child=Bh(e,lt.child,null,s),e.child=Bh(e,null,At,s)):Yi(lt,e,At,s),e.memoizedState=ft.state,vt&&dg(e,$,!0),e.child}function lj(lt){var e=lt.stateNode;e.pendingContext?ag(lt,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(lt,e.context,!1),Ih(lt,e.containerInfo)}function mj(lt,e,$,ft,vt){return Ig(),Jg(vt),e.flags|=256,Yi(lt,e,$,ft),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(lt){return{baseLanes:lt,cachePool:null,transitions:null}}function pj(lt,e,$){var ft=e.pendingProps,vt=M$1.current,s=!1,Tt=(e.flags&128)!==0,At;if((At=Tt)||(At=lt!==null&&lt.memoizedState===null?!1:(vt&2)!==0),At?(s=!0,e.flags&=-129):(lt===null||lt.memoizedState!==null)&&(vt|=1),G$1(M$1,vt&1),lt===null)return Eg(e),lt=e.memoizedState,lt!==null&&(lt=lt.dehydrated,lt!==null)?(e.mode&1?lt.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(Tt=ft.children,lt=ft.fallback,s?(ft=e.mode,s=e.child,Tt={mode:"hidden",children:Tt},!(ft&1)&&s!==null?(s.childLanes=0,s.pendingProps=Tt):s=qj(Tt,ft,0,null),lt=Ah(lt,ft,$,null),s.return=e,lt.return=e,s.sibling=lt,e.child=s,e.child.memoizedState=oj($),e.memoizedState=nj,lt):rj(e,Tt));if(vt=lt.memoizedState,vt!==null&&(At=vt.dehydrated,At!==null))return sj(lt,e,Tt,ft,At,vt,$);if(s){s=ft.fallback,Tt=e.mode,vt=lt.child,At=vt.sibling;var Rt={mode:"hidden",children:ft.children};return!(Tt&1)&&e.child!==vt?(ft=e.child,ft.childLanes=0,ft.pendingProps=Rt,e.deletions=null):(ft=wh(vt,Rt),ft.subtreeFlags=vt.subtreeFlags&14680064),At!==null?s=wh(At,s):(s=Ah(s,Tt,$,null),s.flags|=2),s.return=e,ft.return=e,ft.sibling=s,e.child=ft,ft=s,s=e.child,Tt=lt.child.memoizedState,Tt=Tt===null?oj($):{baseLanes:Tt.baseLanes|$,cachePool:null,transitions:Tt.transitions},s.memoizedState=Tt,s.childLanes=lt.childLanes&~$,e.memoizedState=nj,ft}return s=lt.child,lt=s.sibling,ft=wh(s,{mode:"visible",children:ft.children}),!(e.mode&1)&&(ft.lanes=$),ft.return=e,ft.sibling=null,lt!==null&&($=e.deletions,$===null?(e.deletions=[lt],e.flags|=16):$.push(lt)),e.child=ft,e.memoizedState=null,ft}function rj(lt,e){return e=qj({mode:"visible",children:e},lt.mode,0,null),e.return=lt,lt.child=e}function tj(lt,e,$,ft){return ft!==null&&Jg(ft),Bh(e,lt.child,null,$),lt=rj(e,e.pendingProps.children),lt.flags|=2,e.memoizedState=null,lt}function sj(lt,e,$,ft,vt,s,Tt){if($)return e.flags&256?(e.flags&=-257,ft=Li(Error(p$3(422))),tj(lt,e,Tt,ft)):e.memoizedState!==null?(e.child=lt.child,e.flags|=128,null):(s=ft.fallback,vt=e.mode,ft=qj({mode:"visible",children:ft.children},vt,0,null),s=Ah(s,vt,Tt,null),s.flags|=2,ft.return=e,s.return=e,ft.sibling=s,e.child=ft,e.mode&1&&Bh(e,lt.child,null,Tt),e.child.memoizedState=oj(Tt),e.memoizedState=nj,s);if(!(e.mode&1))return tj(lt,e,Tt,null);if(vt.data==="$!"){if(ft=vt.nextSibling&&vt.nextSibling.dataset,ft)var At=ft.dgst;return ft=At,s=Error(p$3(419)),ft=Li(s,ft,void 0),tj(lt,e,Tt,ft)}if(At=(Tt&lt.childLanes)!==0,Ug||At){if(ft=R$1,ft!==null){switch(Tt&-Tt){case 4:vt=2;break;case 16:vt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:vt=32;break;case 536870912:vt=268435456;break;default:vt=0}vt=vt&(ft.suspendedLanes|Tt)?0:vt,vt!==0&&vt!==s.retryLane&&(s.retryLane=vt,Zg(lt,vt),mh(ft,lt,vt,-1))}return uj(),ft=Li(Error(p$3(421))),tj(lt,e,Tt,ft)}return vt.data==="$?"?(e.flags|=128,e.child=lt.child,e=vj.bind(null,lt),vt._reactRetry=e,null):(lt=s.treeContext,yg=Lf(vt.nextSibling),xg=e,I$2=!0,zg=null,lt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=lt.id,sg=lt.overflow,qg=e),e=rj(e,ft.children),e.flags|=4096,e)}function wj(lt,e,$){lt.lanes|=e;var ft=lt.alternate;ft!==null&&(ft.lanes|=e),Sg(lt.return,e,$)}function xj(lt,e,$,ft,vt){var s=lt.memoizedState;s===null?lt.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:ft,tail:$,tailMode:vt}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=ft,s.tail=$,s.tailMode=vt)}function yj(lt,e,$){var ft=e.pendingProps,vt=ft.revealOrder,s=ft.tail;if(Yi(lt,e,ft.children,$),ft=M$1.current,ft&2)ft=ft&1|2,e.flags|=128;else{if(lt!==null&&lt.flags&128)e:for(lt=e.child;lt!==null;){if(lt.tag===13)lt.memoizedState!==null&&wj(lt,$,e);else if(lt.tag===19)wj(lt,$,e);else if(lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===e)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===e)break e;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}ft&=1}if(G$1(M$1,ft),!(e.mode&1))e.memoizedState=null;else switch(vt){case"forwards":for($=e.child,vt=null;$!==null;)lt=$.alternate,lt!==null&&Mh(lt)===null&&(vt=$),$=$.sibling;$=vt,$===null?(vt=e.child,e.child=null):(vt=$.sibling,$.sibling=null),xj(e,!1,vt,$,s);break;case"backwards":for($=null,vt=e.child,e.child=null;vt!==null;){if(lt=vt.alternate,lt!==null&&Mh(lt)===null){e.child=vt;break}lt=vt.sibling,vt.sibling=$,$=vt,vt=lt}xj(e,!0,$,null,s);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(lt,e){!(e.mode&1)&&lt!==null&&(lt.alternate=null,e.alternate=null,e.flags|=2)}function $i(lt,e,$){if(lt!==null&&(e.dependencies=lt.dependencies),hh|=e.lanes,!($&e.childLanes))return null;if(lt!==null&&e.child!==lt.child)throw Error(p$3(153));if(e.child!==null){for(lt=e.child,$=wh(lt,lt.pendingProps),e.child=$,$.return=e;lt.sibling!==null;)lt=lt.sibling,$=$.sibling=wh(lt,lt.pendingProps),$.return=e;$.sibling=null}return e.child}function zj(lt,e,$){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var ft=e.type._context,vt=e.memoizedProps.value;G$1(Mg,ft._currentValue),ft._currentValue=vt;break;case 13:if(ft=e.memoizedState,ft!==null)return ft.dehydrated!==null?(G$1(M$1,M$1.current&1),e.flags|=128,null):$&e.child.childLanes?pj(lt,e,$):(G$1(M$1,M$1.current&1),lt=$i(lt,e,$),lt!==null?lt.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(ft=($&e.childLanes)!==0,lt.flags&128){if(ft)return yj(lt,e,$);e.flags|=128}if(vt=e.memoizedState,vt!==null&&(vt.rendering=null,vt.tail=null,vt.lastEffect=null),G$1(M$1,M$1.current),ft)break;return null;case 22:case 23:return e.lanes=0,ej(lt,e,$)}return $i(lt,e,$)}var Aj,Bj,Cj,Dj;Aj=function(lt,e){for(var $=e.child;$!==null;){if($.tag===5||$.tag===6)lt.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break;for(;$.sibling===null;){if($.return===null||$.return===e)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Bj=function(){};Cj=function(lt,e,$,ft){var vt=lt.memoizedProps;if(vt!==ft){lt=e.stateNode,Hh(Eh.current);var s=null;switch($){case"input":vt=Ya(lt,vt),ft=Ya(lt,ft),s=[];break;case"select":vt=A$2({},vt,{value:void 0}),ft=A$2({},ft,{value:void 0}),s=[];break;case"textarea":vt=gb(lt,vt),ft=gb(lt,ft),s=[];break;default:typeof vt.onClick!="function"&&typeof ft.onClick=="function"&&(lt.onclick=Bf)}ub($,ft);var Tt;$=null;for(Dt in vt)if(!ft.hasOwnProperty(Dt)&&vt.hasOwnProperty(Dt)&&vt[Dt]!=null)if(Dt==="style"){var At=vt[Dt];for(Tt in At)At.hasOwnProperty(Tt)&&($||($={}),$[Tt]="")}else Dt!=="dangerouslySetInnerHTML"&&Dt!=="children"&&Dt!=="suppressContentEditableWarning"&&Dt!=="suppressHydrationWarning"&&Dt!=="autoFocus"&&(ea.hasOwnProperty(Dt)?s||(s=[]):(s=s||[]).push(Dt,null));for(Dt in ft){var Rt=ft[Dt];if(At=vt!=null?vt[Dt]:void 0,ft.hasOwnProperty(Dt)&&Rt!==At&&(Rt!=null||At!=null))if(Dt==="style")if(At){for(Tt in At)!At.hasOwnProperty(Tt)||Rt&&Rt.hasOwnProperty(Tt)||($||($={}),$[Tt]="");for(Tt in Rt)Rt.hasOwnProperty(Tt)&&At[Tt]!==Rt[Tt]&&($||($={}),$[Tt]=Rt[Tt])}else $||(s||(s=[]),s.push(Dt,$)),$=Rt;else Dt==="dangerouslySetInnerHTML"?(Rt=Rt?Rt.__html:void 0,At=At?At.__html:void 0,Rt!=null&&At!==Rt&&(s=s||[]).push(Dt,Rt)):Dt==="children"?typeof Rt!="string"&&typeof Rt!="number"||(s=s||[]).push(Dt,""+Rt):Dt!=="suppressContentEditableWarning"&&Dt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Dt)?(Rt!=null&&Dt==="onScroll"&&D$2("scroll",lt),s||At===Rt||(s=[])):(s=s||[]).push(Dt,Rt))}$&&(s=s||[]).push("style",$);var Dt=s;(e.updateQueue=Dt)&&(e.flags|=4)}};Dj=function(lt,e,$,ft){$!==ft&&(e.flags|=4)};function Ej(lt,e){if(!I$2)switch(lt.tailMode){case"hidden":e=lt.tail;for(var $=null;e!==null;)e.alternate!==null&&($=e),e=e.sibling;$===null?lt.tail=null:$.sibling=null;break;case"collapsed":$=lt.tail;for(var ft=null;$!==null;)$.alternate!==null&&(ft=$),$=$.sibling;ft===null?e||lt.tail===null?lt.tail=null:lt.tail.sibling=null:ft.sibling=null}}function S$1(lt){var e=lt.alternate!==null&&lt.alternate.child===lt.child,$=0,ft=0;if(e)for(var vt=lt.child;vt!==null;)$|=vt.lanes|vt.childLanes,ft|=vt.subtreeFlags&14680064,ft|=vt.flags&14680064,vt.return=lt,vt=vt.sibling;else for(vt=lt.child;vt!==null;)$|=vt.lanes|vt.childLanes,ft|=vt.subtreeFlags,ft|=vt.flags,vt.return=lt,vt=vt.sibling;return lt.subtreeFlags|=ft,lt.childLanes=$,e}function Fj(lt,e,$){var ft=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(e),null;case 1:return Zf(e.type)&&$f(),S$1(e),null;case 3:return ft=e.stateNode,Jh(),E$4(Wf),E$4(H$2),Oh(),ft.pendingContext&&(ft.context=ft.pendingContext,ft.pendingContext=null),(lt===null||lt.child===null)&&(Gg(e)?e.flags|=4:lt===null||lt.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(lt,e),S$1(e),null;case 5:Lh(e);var vt=Hh(Gh.current);if($=e.type,lt!==null&&e.stateNode!=null)Cj(lt,e,$,ft,vt),lt.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!ft){if(e.stateNode===null)throw Error(p$3(166));return S$1(e),null}if(lt=Hh(Eh.current),Gg(e)){ft=e.stateNode,$=e.type;var s=e.memoizedProps;switch(ft[Of]=e,ft[Pf]=s,lt=(e.mode&1)!==0,$){case"dialog":D$2("cancel",ft),D$2("close",ft);break;case"iframe":case"object":case"embed":D$2("load",ft);break;case"video":case"audio":for(vt=0;vt<lf.length;vt++)D$2(lf[vt],ft);break;case"source":D$2("error",ft);break;case"img":case"image":case"link":D$2("error",ft),D$2("load",ft);break;case"details":D$2("toggle",ft);break;case"input":Za(ft,s),D$2("invalid",ft);break;case"select":ft._wrapperState={wasMultiple:!!s.multiple},D$2("invalid",ft);break;case"textarea":hb(ft,s),D$2("invalid",ft)}ub($,s),vt=null;for(var Tt in s)if(s.hasOwnProperty(Tt)){var At=s[Tt];Tt==="children"?typeof At=="string"?ft.textContent!==At&&(s.suppressHydrationWarning!==!0&&Af(ft.textContent,At,lt),vt=["children",At]):typeof At=="number"&&ft.textContent!==""+At&&(s.suppressHydrationWarning!==!0&&Af(ft.textContent,At,lt),vt=["children",""+At]):ea.hasOwnProperty(Tt)&&At!=null&&Tt==="onScroll"&&D$2("scroll",ft)}switch($){case"input":Va(ft),db(ft,s,!0);break;case"textarea":Va(ft),jb(ft);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(ft.onclick=Bf)}ft=vt,e.updateQueue=ft,ft!==null&&(e.flags|=4)}else{Tt=vt.nodeType===9?vt:vt.ownerDocument,lt==="http://www.w3.org/1999/xhtml"&&(lt=kb($)),lt==="http://www.w3.org/1999/xhtml"?$==="script"?(lt=Tt.createElement("div"),lt.innerHTML="<script><\/script>",lt=lt.removeChild(lt.firstChild)):typeof ft.is=="string"?lt=Tt.createElement($,{is:ft.is}):(lt=Tt.createElement($),$==="select"&&(Tt=lt,ft.multiple?Tt.multiple=!0:ft.size&&(Tt.size=ft.size))):lt=Tt.createElementNS(lt,$),lt[Of]=e,lt[Pf]=ft,Aj(lt,e,!1,!1),e.stateNode=lt;e:{switch(Tt=vb($,ft),$){case"dialog":D$2("cancel",lt),D$2("close",lt),vt=ft;break;case"iframe":case"object":case"embed":D$2("load",lt),vt=ft;break;case"video":case"audio":for(vt=0;vt<lf.length;vt++)D$2(lf[vt],lt);vt=ft;break;case"source":D$2("error",lt),vt=ft;break;case"img":case"image":case"link":D$2("error",lt),D$2("load",lt),vt=ft;break;case"details":D$2("toggle",lt),vt=ft;break;case"input":Za(lt,ft),vt=Ya(lt,ft),D$2("invalid",lt);break;case"option":vt=ft;break;case"select":lt._wrapperState={wasMultiple:!!ft.multiple},vt=A$2({},ft,{value:void 0}),D$2("invalid",lt);break;case"textarea":hb(lt,ft),vt=gb(lt,ft),D$2("invalid",lt);break;default:vt=ft}ub($,vt),At=vt;for(s in At)if(At.hasOwnProperty(s)){var Rt=At[s];s==="style"?sb(lt,Rt):s==="dangerouslySetInnerHTML"?(Rt=Rt?Rt.__html:void 0,Rt!=null&&nb(lt,Rt)):s==="children"?typeof Rt=="string"?($!=="textarea"||Rt!=="")&&ob(lt,Rt):typeof Rt=="number"&&ob(lt,""+Rt):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ea.hasOwnProperty(s)?Rt!=null&&s==="onScroll"&&D$2("scroll",lt):Rt!=null&&ta(lt,s,Rt,Tt))}switch($){case"input":Va(lt),db(lt,ft,!1);break;case"textarea":Va(lt),jb(lt);break;case"option":ft.value!=null&&lt.setAttribute("value",""+Sa(ft.value));break;case"select":lt.multiple=!!ft.multiple,s=ft.value,s!=null?fb(lt,!!ft.multiple,s,!1):ft.defaultValue!=null&&fb(lt,!!ft.multiple,ft.defaultValue,!0);break;default:typeof vt.onClick=="function"&&(lt.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":ft=!!ft.autoFocus;break e;case"img":ft=!0;break e;default:ft=!1}}ft&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$1(e),null;case 6:if(lt&&e.stateNode!=null)Dj(lt,e,lt.memoizedProps,ft);else{if(typeof ft!="string"&&e.stateNode===null)throw Error(p$3(166));if($=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(ft=e.stateNode,$=e.memoizedProps,ft[Of]=e,(s=ft.nodeValue!==$)&&(lt=xg,lt!==null))switch(lt.tag){case 3:Af(ft.nodeValue,$,(lt.mode&1)!==0);break;case 5:lt.memoizedProps.suppressHydrationWarning!==!0&&Af(ft.nodeValue,$,(lt.mode&1)!==0)}s&&(e.flags|=4)}else ft=($.nodeType===9?$:$.ownerDocument).createTextNode(ft),ft[Of]=e,e.stateNode=ft}return S$1(e),null;case 13:if(E$4(M$1),ft=e.memoizedState,lt===null||lt.memoizedState!==null&&lt.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,s=!1;else if(s=Gg(e),ft!==null&&ft.dehydrated!==null){if(lt===null){if(!s)throw Error(p$3(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p$3(317));s[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$1(e),s=!1}else zg!==null&&(Gj(zg),zg=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=$,e):(ft=ft!==null,ft!==(lt!==null&&lt.memoizedState!==null)&&ft&&(e.child.flags|=8192,e.mode&1&&(lt===null||M$1.current&1?T$2===0&&(T$2=3):uj())),e.updateQueue!==null&&(e.flags|=4),S$1(e),null);case 4:return Jh(),Bj(lt,e),lt===null&&sf(e.stateNode.containerInfo),S$1(e),null;case 10:return Rg(e.type._context),S$1(e),null;case 17:return Zf(e.type)&&$f(),S$1(e),null;case 19:if(E$4(M$1),s=e.memoizedState,s===null)return S$1(e),null;if(ft=(e.flags&128)!==0,Tt=s.rendering,Tt===null)if(ft)Ej(s,!1);else{if(T$2!==0||lt!==null&&lt.flags&128)for(lt=e.child;lt!==null;){if(Tt=Mh(lt),Tt!==null){for(e.flags|=128,Ej(s,!1),ft=Tt.updateQueue,ft!==null&&(e.updateQueue=ft,e.flags|=4),e.subtreeFlags=0,ft=$,$=e.child;$!==null;)s=$,lt=ft,s.flags&=14680066,Tt=s.alternate,Tt===null?(s.childLanes=0,s.lanes=lt,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=Tt.childLanes,s.lanes=Tt.lanes,s.child=Tt.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=Tt.memoizedProps,s.memoizedState=Tt.memoizedState,s.updateQueue=Tt.updateQueue,s.type=Tt.type,lt=Tt.dependencies,s.dependencies=lt===null?null:{lanes:lt.lanes,firstContext:lt.firstContext}),$=$.sibling;return G$1(M$1,M$1.current&1|2),e.child}lt=lt.sibling}s.tail!==null&&B$2()>Hj&&(e.flags|=128,ft=!0,Ej(s,!1),e.lanes=4194304)}else{if(!ft)if(lt=Mh(Tt),lt!==null){if(e.flags|=128,ft=!0,$=lt.updateQueue,$!==null&&(e.updateQueue=$,e.flags|=4),Ej(s,!0),s.tail===null&&s.tailMode==="hidden"&&!Tt.alternate&&!I$2)return S$1(e),null}else 2*B$2()-s.renderingStartTime>Hj&&$!==1073741824&&(e.flags|=128,ft=!0,Ej(s,!1),e.lanes=4194304);s.isBackwards?(Tt.sibling=e.child,e.child=Tt):($=s.last,$!==null?$.sibling=Tt:e.child=Tt,s.last=Tt)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=B$2(),e.sibling=null,$=M$1.current,G$1(M$1,ft?$&1|2:$&1),e):(S$1(e),null);case 22:case 23:return Ij(),ft=e.memoizedState!==null,lt!==null&&lt.memoizedState!==null!==ft&&(e.flags|=8192),ft&&e.mode&1?gj&1073741824&&(S$1(e),e.subtreeFlags&6&&(e.flags|=8192)):S$1(e),null;case 24:return null;case 25:return null}throw Error(p$3(156,e.tag))}function Jj(lt,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),lt=e.flags,lt&65536?(e.flags=lt&-65537|128,e):null;case 3:return Jh(),E$4(Wf),E$4(H$2),Oh(),lt=e.flags,lt&65536&&!(lt&128)?(e.flags=lt&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E$4(M$1),lt=e.memoizedState,lt!==null&&lt.dehydrated!==null){if(e.alternate===null)throw Error(p$3(340));Ig()}return lt=e.flags,lt&65536?(e.flags=lt&-65537|128,e):null;case 19:return E$4(M$1),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(lt,e){var $=lt.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(ft){W$2(lt,e,ft)}else $.current=null}function Nj(lt,e,$){try{$()}catch(ft){W$2(lt,e,ft)}}var Oj=!1;function Pj(lt,e){if(Cf=dd,lt=Me$1(),Ne$2(lt)){if("selectionStart"in lt)var $={start:lt.selectionStart,end:lt.selectionEnd};else e:{$=($=lt.ownerDocument)&&$.defaultView||window;var ft=$.getSelection&&$.getSelection();if(ft&&ft.rangeCount!==0){$=ft.anchorNode;var vt=ft.anchorOffset,s=ft.focusNode;ft=ft.focusOffset;try{$.nodeType,s.nodeType}catch{$=null;break e}var Tt=0,At=-1,Rt=-1,Dt=0,Nt=0,Wt=lt,Ht=null;t:for(;;){for(var Kt;Wt!==$||vt!==0&&Wt.nodeType!==3||(At=Tt+vt),Wt!==s||ft!==0&&Wt.nodeType!==3||(Rt=Tt+ft),Wt.nodeType===3&&(Tt+=Wt.nodeValue.length),(Kt=Wt.firstChild)!==null;)Ht=Wt,Wt=Kt;for(;;){if(Wt===lt)break t;if(Ht===$&&++Dt===vt&&(At=Tt),Ht===s&&++Nt===ft&&(Rt=Tt),(Kt=Wt.nextSibling)!==null)break;Wt=Ht,Ht=Wt.parentNode}Wt=Kt}$=At===-1||Rt===-1?null:{start:At,end:Rt}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:lt,selectionRange:$},dd=!1,V$2=e;V$2!==null;)if(e=V$2,lt=e.child,(e.subtreeFlags&1028)!==0&&lt!==null)lt.return=e,V$2=lt;else for(;V$2!==null;){e=V$2;try{var Ft=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(Ft!==null){var tn=Ft.memoizedProps,cn=Ft.memoizedState,fn=e.stateNode,ln=fn.getSnapshotBeforeUpdate(e.elementType===e.type?tn:Lg(e.type,tn),cn);fn.__reactInternalSnapshotBeforeUpdate=ln}break;case 3:var dn=e.stateNode.containerInfo;dn.nodeType===1?dn.textContent="":dn.nodeType===9&&dn.documentElement&&dn.removeChild(dn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(mn){W$2(e,e.return,mn)}if(lt=e.sibling,lt!==null){lt.return=e.return,V$2=lt;break}V$2=e.return}return Ft=Oj,Oj=!1,Ft}function Qj(lt,e,$){var ft=e.updateQueue;if(ft=ft!==null?ft.lastEffect:null,ft!==null){var vt=ft=ft.next;do{if((vt.tag&lt)===lt){var s=vt.destroy;vt.destroy=void 0,s!==void 0&&Nj(e,$,s)}vt=vt.next}while(vt!==ft)}}function Rj(lt,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var $=e=e.next;do{if(($.tag&lt)===lt){var ft=$.create;$.destroy=ft()}$=$.next}while($!==e)}}function Sj(lt){var e=lt.ref;if(e!==null){var $=lt.stateNode;switch(lt.tag){case 5:lt=$;break;default:lt=$}typeof e=="function"?e(lt):e.current=lt}}function Tj(lt){var e=lt.alternate;e!==null&&(lt.alternate=null,Tj(e)),lt.child=null,lt.deletions=null,lt.sibling=null,lt.tag===5&&(e=lt.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),lt.stateNode=null,lt.return=null,lt.dependencies=null,lt.memoizedProps=null,lt.memoizedState=null,lt.pendingProps=null,lt.stateNode=null,lt.updateQueue=null}function Uj(lt){return lt.tag===5||lt.tag===3||lt.tag===4}function Vj(lt){e:for(;;){for(;lt.sibling===null;){if(lt.return===null||Uj(lt.return))return null;lt=lt.return}for(lt.sibling.return=lt.return,lt=lt.sibling;lt.tag!==5&&lt.tag!==6&&lt.tag!==18;){if(lt.flags&2||lt.child===null||lt.tag===4)continue e;lt.child.return=lt,lt=lt.child}if(!(lt.flags&2))return lt.stateNode}}function Wj(lt,e,$){var ft=lt.tag;if(ft===5||ft===6)lt=lt.stateNode,e?$.nodeType===8?$.parentNode.insertBefore(lt,e):$.insertBefore(lt,e):($.nodeType===8?(e=$.parentNode,e.insertBefore(lt,$)):(e=$,e.appendChild(lt)),$=$._reactRootContainer,$!=null||e.onclick!==null||(e.onclick=Bf));else if(ft!==4&&(lt=lt.child,lt!==null))for(Wj(lt,e,$),lt=lt.sibling;lt!==null;)Wj(lt,e,$),lt=lt.sibling}function Xj(lt,e,$){var ft=lt.tag;if(ft===5||ft===6)lt=lt.stateNode,e?$.insertBefore(lt,e):$.appendChild(lt);else if(ft!==4&&(lt=lt.child,lt!==null))for(Xj(lt,e,$),lt=lt.sibling;lt!==null;)Xj(lt,e,$),lt=lt.sibling}var X$1=null,Yj=!1;function Zj(lt,e,$){for($=$.child;$!==null;)ak(lt,e,$),$=$.sibling}function ak(lt,e,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U$1||Mj($,e);case 6:var ft=X$1,vt=Yj;X$1=null,Zj(lt,e,$),X$1=ft,Yj=vt,X$1!==null&&(Yj?(lt=X$1,$=$.stateNode,lt.nodeType===8?lt.parentNode.removeChild($):lt.removeChild($)):X$1.removeChild($.stateNode));break;case 18:X$1!==null&&(Yj?(lt=X$1,$=$.stateNode,lt.nodeType===8?Kf(lt.parentNode,$):lt.nodeType===1&&Kf(lt,$),bd(lt)):Kf(X$1,$.stateNode));break;case 4:ft=X$1,vt=Yj,X$1=$.stateNode.containerInfo,Yj=!0,Zj(lt,e,$),X$1=ft,Yj=vt;break;case 0:case 11:case 14:case 15:if(!U$1&&(ft=$.updateQueue,ft!==null&&(ft=ft.lastEffect,ft!==null))){vt=ft=ft.next;do{var s=vt,Tt=s.destroy;s=s.tag,Tt!==void 0&&(s&2||s&4)&&Nj($,e,Tt),vt=vt.next}while(vt!==ft)}Zj(lt,e,$);break;case 1:if(!U$1&&(Mj($,e),ft=$.stateNode,typeof ft.componentWillUnmount=="function"))try{ft.props=$.memoizedProps,ft.state=$.memoizedState,ft.componentWillUnmount()}catch(At){W$2($,e,At)}Zj(lt,e,$);break;case 21:Zj(lt,e,$);break;case 22:$.mode&1?(U$1=(ft=U$1)||$.memoizedState!==null,Zj(lt,e,$),U$1=ft):Zj(lt,e,$);break;default:Zj(lt,e,$)}}function bk(lt){var e=lt.updateQueue;if(e!==null){lt.updateQueue=null;var $=lt.stateNode;$===null&&($=lt.stateNode=new Lj),e.forEach(function(ft){var vt=ck.bind(null,lt,ft);$.has(ft)||($.add(ft),ft.then(vt,vt))})}}function dk(lt,e){var $=e.deletions;if($!==null)for(var ft=0;ft<$.length;ft++){var vt=$[ft];try{var s=lt,Tt=e,At=Tt;e:for(;At!==null;){switch(At.tag){case 5:X$1=At.stateNode,Yj=!1;break e;case 3:X$1=At.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=At.stateNode.containerInfo,Yj=!0;break e}At=At.return}if(X$1===null)throw Error(p$3(160));ak(s,Tt,vt),X$1=null,Yj=!1;var Rt=vt.alternate;Rt!==null&&(Rt.return=null),vt.return=null}catch(Dt){W$2(vt,e,Dt)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,lt),e=e.sibling}function ek(lt,e){var $=lt.alternate,ft=lt.flags;switch(lt.tag){case 0:case 11:case 14:case 15:if(dk(e,lt),fk(lt),ft&4){try{Qj(3,lt,lt.return),Rj(3,lt)}catch(tn){W$2(lt,lt.return,tn)}try{Qj(5,lt,lt.return)}catch(tn){W$2(lt,lt.return,tn)}}break;case 1:dk(e,lt),fk(lt),ft&512&&$!==null&&Mj($,$.return);break;case 5:if(dk(e,lt),fk(lt),ft&512&&$!==null&&Mj($,$.return),lt.flags&32){var vt=lt.stateNode;try{ob(vt,"")}catch(tn){W$2(lt,lt.return,tn)}}if(ft&4&&(vt=lt.stateNode,vt!=null)){var s=lt.memoizedProps,Tt=$!==null?$.memoizedProps:s,At=lt.type,Rt=lt.updateQueue;if(lt.updateQueue=null,Rt!==null)try{At==="input"&&s.type==="radio"&&s.name!=null&&ab(vt,s),vb(At,Tt);var Dt=vb(At,s);for(Tt=0;Tt<Rt.length;Tt+=2){var Nt=Rt[Tt],Wt=Rt[Tt+1];Nt==="style"?sb(vt,Wt):Nt==="dangerouslySetInnerHTML"?nb(vt,Wt):Nt==="children"?ob(vt,Wt):ta(vt,Nt,Wt,Dt)}switch(At){case"input":bb(vt,s);break;case"textarea":ib(vt,s);break;case"select":var Ht=vt._wrapperState.wasMultiple;vt._wrapperState.wasMultiple=!!s.multiple;var Kt=s.value;Kt!=null?fb(vt,!!s.multiple,Kt,!1):Ht!==!!s.multiple&&(s.defaultValue!=null?fb(vt,!!s.multiple,s.defaultValue,!0):fb(vt,!!s.multiple,s.multiple?[]:"",!1))}vt[Pf]=s}catch(tn){W$2(lt,lt.return,tn)}}break;case 6:if(dk(e,lt),fk(lt),ft&4){if(lt.stateNode===null)throw Error(p$3(162));vt=lt.stateNode,s=lt.memoizedProps;try{vt.nodeValue=s}catch(tn){W$2(lt,lt.return,tn)}}break;case 3:if(dk(e,lt),fk(lt),ft&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(tn){W$2(lt,lt.return,tn)}break;case 4:dk(e,lt),fk(lt);break;case 13:dk(e,lt),fk(lt),vt=lt.child,vt.flags&8192&&(s=vt.memoizedState!==null,vt.stateNode.isHidden=s,!s||vt.alternate!==null&&vt.alternate.memoizedState!==null||(gk=B$2())),ft&4&&bk(lt);break;case 22:if(Nt=$!==null&&$.memoizedState!==null,lt.mode&1?(U$1=(Dt=U$1)||Nt,dk(e,lt),U$1=Dt):dk(e,lt),fk(lt),ft&8192){if(Dt=lt.memoizedState!==null,(lt.stateNode.isHidden=Dt)&&!Nt&&lt.mode&1)for(V$2=lt,Nt=lt.child;Nt!==null;){for(Wt=V$2=Nt;V$2!==null;){switch(Ht=V$2,Kt=Ht.child,Ht.tag){case 0:case 11:case 14:case 15:Qj(4,Ht,Ht.return);break;case 1:Mj(Ht,Ht.return);var Ft=Ht.stateNode;if(typeof Ft.componentWillUnmount=="function"){ft=Ht,$=Ht.return;try{e=ft,Ft.props=e.memoizedProps,Ft.state=e.memoizedState,Ft.componentWillUnmount()}catch(tn){W$2(ft,$,tn)}}break;case 5:Mj(Ht,Ht.return);break;case 22:if(Ht.memoizedState!==null){hk(Wt);continue}}Kt!==null?(Kt.return=Ht,V$2=Kt):hk(Wt)}Nt=Nt.sibling}e:for(Nt=null,Wt=lt;;){if(Wt.tag===5){if(Nt===null){Nt=Wt;try{vt=Wt.stateNode,Dt?(s=vt.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(At=Wt.stateNode,Rt=Wt.memoizedProps.style,Tt=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null,At.style.display=rb("display",Tt))}catch(tn){W$2(lt,lt.return,tn)}}}else if(Wt.tag===6){if(Nt===null)try{Wt.stateNode.nodeValue=Dt?"":Wt.memoizedProps}catch(tn){W$2(lt,lt.return,tn)}}else if((Wt.tag!==22&&Wt.tag!==23||Wt.memoizedState===null||Wt===lt)&&Wt.child!==null){Wt.child.return=Wt,Wt=Wt.child;continue}if(Wt===lt)break e;for(;Wt.sibling===null;){if(Wt.return===null||Wt.return===lt)break e;Nt===Wt&&(Nt=null),Wt=Wt.return}Nt===Wt&&(Nt=null),Wt.sibling.return=Wt.return,Wt=Wt.sibling}}break;case 19:dk(e,lt),fk(lt),ft&4&&bk(lt);break;case 21:break;default:dk(e,lt),fk(lt)}}function fk(lt){var e=lt.flags;if(e&2){try{e:{for(var $=lt.return;$!==null;){if(Uj($)){var ft=$;break e}$=$.return}throw Error(p$3(160))}switch(ft.tag){case 5:var vt=ft.stateNode;ft.flags&32&&(ob(vt,""),ft.flags&=-33);var s=Vj(lt);Xj(lt,s,vt);break;case 3:case 4:var Tt=ft.stateNode.containerInfo,At=Vj(lt);Wj(lt,At,Tt);break;default:throw Error(p$3(161))}}catch(Rt){W$2(lt,lt.return,Rt)}lt.flags&=-3}e&4096&&(lt.flags&=-4097)}function ik(lt,e,$){V$2=lt,jk(lt)}function jk(lt,e,$){for(var ft=(lt.mode&1)!==0;V$2!==null;){var vt=V$2,s=vt.child;if(vt.tag===22&&ft){var Tt=vt.memoizedState!==null||Kj;if(!Tt){var At=vt.alternate,Rt=At!==null&&At.memoizedState!==null||U$1;At=Kj;var Dt=U$1;if(Kj=Tt,(U$1=Rt)&&!Dt)for(V$2=vt;V$2!==null;)Tt=V$2,Rt=Tt.child,Tt.tag===22&&Tt.memoizedState!==null?kk(vt):Rt!==null?(Rt.return=Tt,V$2=Rt):kk(vt);for(;s!==null;)V$2=s,jk(s),s=s.sibling;V$2=vt,Kj=At,U$1=Dt}lk(lt)}else vt.subtreeFlags&8772&&s!==null?(s.return=vt,V$2=s):lk(lt)}}function lk(lt){for(;V$2!==null;){var e=V$2;if(e.flags&8772){var $=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U$1||Rj(5,e);break;case 1:var ft=e.stateNode;if(e.flags&4&&!U$1)if($===null)ft.componentDidMount();else{var vt=e.elementType===e.type?$.memoizedProps:Lg(e.type,$.memoizedProps);ft.componentDidUpdate(vt,$.memoizedState,ft.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ih(e,s,ft);break;case 3:var Tt=e.updateQueue;if(Tt!==null){if($=null,e.child!==null)switch(e.child.tag){case 5:$=e.child.stateNode;break;case 1:$=e.child.stateNode}ih(e,Tt,$)}break;case 5:var At=e.stateNode;if($===null&&e.flags&4){$=At;var Rt=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":Rt.autoFocus&&$.focus();break;case"img":Rt.src&&($.src=Rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var Dt=e.alternate;if(Dt!==null){var Nt=Dt.memoizedState;if(Nt!==null){var Wt=Nt.dehydrated;Wt!==null&&bd(Wt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$1||e.flags&512&&Sj(e)}catch(Ht){W$2(e,e.return,Ht)}}if(e===lt){V$2=null;break}if($=e.sibling,$!==null){$.return=e.return,V$2=$;break}V$2=e.return}}function hk(lt){for(;V$2!==null;){var e=V$2;if(e===lt){V$2=null;break}var $=e.sibling;if($!==null){$.return=e.return,V$2=$;break}V$2=e.return}}function kk(lt){for(;V$2!==null;){var e=V$2;try{switch(e.tag){case 0:case 11:case 15:var $=e.return;try{Rj(4,e)}catch(Rt){W$2(e,$,Rt)}break;case 1:var ft=e.stateNode;if(typeof ft.componentDidMount=="function"){var vt=e.return;try{ft.componentDidMount()}catch(Rt){W$2(e,vt,Rt)}}var s=e.return;try{Sj(e)}catch(Rt){W$2(e,s,Rt)}break;case 5:var Tt=e.return;try{Sj(e)}catch(Rt){W$2(e,Tt,Rt)}}}catch(Rt){W$2(e,e.return,Rt)}if(e===lt){V$2=null;break}var At=e.sibling;if(At!==null){At.return=e.return,V$2=At;break}V$2=e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K$1&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(lt){return lt.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(lt=C$2,lt!==0||(lt=window.event,lt=lt===void 0?16:jd(lt.type)),lt):1}function mh(lt,e,$,ft){if(50<zk)throw zk=0,Ak=null,Error(p$3(185));Ac(lt,$,ft),(!(K$1&2)||lt!==R$1)&&(lt===R$1&&(!(K$1&2)&&(rk|=$),T$2===4&&Dk(lt,Z$1)),Ek(lt,ft),$===1&&K$1===0&&!(e.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(lt,e){var $=lt.callbackNode;wc(lt,e);var ft=uc(lt,lt===R$1?Z$1:0);if(ft===0)$!==null&&bc($),lt.callbackNode=null,lt.callbackPriority=0;else if(e=ft&-ft,lt.callbackPriority!==e){if($!=null&&bc($),e===1)lt.tag===0?ig(Fk.bind(null,lt)):hg(Fk.bind(null,lt)),Jf(function(){!(K$1&6)&&jg()}),$=null;else{switch(Dc(ft)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Gk($,Hk.bind(null,lt))}lt.callbackPriority=e,lt.callbackNode=$}}function Hk(lt,e){if(Bk=-1,Ck=0,K$1&6)throw Error(p$3(327));var $=lt.callbackNode;if(Ik()&&lt.callbackNode!==$)return null;var ft=uc(lt,lt===R$1?Z$1:0);if(ft===0)return null;if(ft&30||ft&lt.expiredLanes||e)e=Jk(lt,ft);else{e=ft;var vt=K$1;K$1|=2;var s=Kk();(R$1!==lt||Z$1!==e)&&(vk=null,Hj=B$2()+500,Lk(lt,e));do try{Mk();break}catch(At){Nk(lt,At)}while(1);Qg(),nk.current=s,K$1=vt,Y$1!==null?e=0:(R$1=null,Z$1=0,e=T$2)}if(e!==0){if(e===2&&(vt=xc(lt),vt!==0&&(ft=vt,e=Ok(lt,vt))),e===1)throw $=qk,Lk(lt,0),Dk(lt,ft),Ek(lt,B$2()),$;if(e===6)Dk(lt,ft);else{if(vt=lt.current.alternate,!(ft&30)&&!Pk(vt)&&(e=Jk(lt,ft),e===2&&(s=xc(lt),s!==0&&(ft=s,e=Ok(lt,s))),e===1))throw $=qk,Lk(lt,0),Dk(lt,ft),Ek(lt,B$2()),$;switch(lt.finishedWork=vt,lt.finishedLanes=ft,e){case 0:case 1:throw Error(p$3(345));case 2:Qk(lt,uk,vk);break;case 3:if(Dk(lt,ft),(ft&130023424)===ft&&(e=gk+500-B$2(),10<e)){if(uc(lt,0)!==0)break;if(vt=lt.suspendedLanes,(vt&ft)!==ft){L$1(),lt.pingedLanes|=lt.suspendedLanes&vt;break}lt.timeoutHandle=Ff(Qk.bind(null,lt,uk,vk),e);break}Qk(lt,uk,vk);break;case 4:if(Dk(lt,ft),(ft&4194240)===ft)break;for(e=lt.eventTimes,vt=-1;0<ft;){var Tt=31-oc(ft);s=1<<Tt,Tt=e[Tt],Tt>vt&&(vt=Tt),ft&=~s}if(ft=vt,ft=B$2()-ft,ft=(120>ft?120:480>ft?480:1080>ft?1080:1920>ft?1920:3e3>ft?3e3:4320>ft?4320:1960*mk(ft/1960))-ft,10<ft){lt.timeoutHandle=Ff(Qk.bind(null,lt,uk,vk),ft);break}Qk(lt,uk,vk);break;case 5:Qk(lt,uk,vk);break;default:throw Error(p$3(329))}}}return Ek(lt,B$2()),lt.callbackNode===$?Hk.bind(null,lt):null}function Ok(lt,e){var $=tk;return lt.current.memoizedState.isDehydrated&&(Lk(lt,e).flags|=256),lt=Jk(lt,e),lt!==2&&(e=uk,uk=$,e!==null&&Gj(e)),lt}function Gj(lt){uk===null?uk=lt:uk.push.apply(uk,lt)}function Pk(lt){for(var e=lt;;){if(e.flags&16384){var $=e.updateQueue;if($!==null&&($=$.stores,$!==null))for(var ft=0;ft<$.length;ft++){var vt=$[ft],s=vt.getSnapshot;vt=vt.value;try{if(!He$2(s(),vt))return!1}catch{return!1}}}if($=e.child,e.subtreeFlags&16384&&$!==null)$.return=e,e=$;else{if(e===lt)break;for(;e.sibling===null;){if(e.return===null||e.return===lt)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(lt,e){for(e&=~sk,e&=~rk,lt.suspendedLanes|=e,lt.pingedLanes&=~e,lt=lt.expirationTimes;0<e;){var $=31-oc(e),ft=1<<$;lt[$]=-1,e&=~ft}}function Fk(lt){if(K$1&6)throw Error(p$3(327));Ik();var e=uc(lt,0);if(!(e&1))return Ek(lt,B$2()),null;var $=Jk(lt,e);if(lt.tag!==0&&$===2){var ft=xc(lt);ft!==0&&(e=ft,$=Ok(lt,ft))}if($===1)throw $=qk,Lk(lt,0),Dk(lt,e),Ek(lt,B$2()),$;if($===6)throw Error(p$3(345));return lt.finishedWork=lt.current.alternate,lt.finishedLanes=e,Qk(lt,uk,vk),Ek(lt,B$2()),null}function Rk(lt,e){var $=K$1;K$1|=1;try{return lt(e)}finally{K$1=$,K$1===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(lt){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var e=K$1;K$1|=1;var $=pk.transition,ft=C$2;try{if(pk.transition=null,C$2=1,lt)return lt()}finally{C$2=ft,pk.transition=$,K$1=e,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$4(fj)}function Lk(lt,e){lt.finishedWork=null,lt.finishedLanes=0;var $=lt.timeoutHandle;if($!==-1&&(lt.timeoutHandle=-1,Gf($)),Y$1!==null)for($=Y$1.return;$!==null;){var ft=$;switch(wg(ft),ft.tag){case 1:ft=ft.type.childContextTypes,ft!=null&&$f();break;case 3:Jh(),E$4(Wf),E$4(H$2),Oh();break;case 5:Lh(ft);break;case 4:Jh();break;case 13:E$4(M$1);break;case 19:E$4(M$1);break;case 10:Rg(ft.type._context);break;case 22:case 23:Ij()}$=$.return}if(R$1=lt,Y$1=lt=wh(lt.current,null),Z$1=gj=e,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if($=Wg[e],ft=$.interleaved,ft!==null){$.interleaved=null;var vt=ft.next,s=$.pending;if(s!==null){var Tt=s.next;s.next=vt,ft.next=Tt}$.pending=ft}Wg=null}return lt}function Nk(lt,e){do{var $=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var ft=N$1.memoizedState;ft!==null;){var vt=ft.queue;vt!==null&&(vt.pending=null),ft=ft.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,$===null||$.return===null){T$2=1,qk=e,Y$1=null;break}e:{var s=lt,Tt=$.return,At=$,Rt=e;if(e=Z$1,At.flags|=32768,Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var Dt=Rt,Nt=At,Wt=Nt.tag;if(!(Nt.mode&1)&&(Wt===0||Wt===11||Wt===15)){var Ht=Nt.alternate;Ht?(Nt.updateQueue=Ht.updateQueue,Nt.memoizedState=Ht.memoizedState,Nt.lanes=Ht.lanes):(Nt.updateQueue=null,Nt.memoizedState=null)}var Kt=Vi(Tt);if(Kt!==null){Kt.flags&=-257,Wi(Kt,Tt,At,s,e),Kt.mode&1&&Ti(s,Dt,e),e=Kt,Rt=Dt;var Ft=e.updateQueue;if(Ft===null){var tn=new Set;tn.add(Rt),e.updateQueue=tn}else Ft.add(Rt);break e}else{if(!(e&1)){Ti(s,Dt,e),uj();break e}Rt=Error(p$3(426))}}else if(I$2&&At.mode&1){var cn=Vi(Tt);if(cn!==null){!(cn.flags&65536)&&(cn.flags|=256),Wi(cn,Tt,At,s,e),Jg(Ki(Rt,At));break e}}s=Rt=Ki(Rt,At),T$2!==4&&(T$2=2),tk===null?tk=[s]:tk.push(s),s=Tt;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var fn=Oi(s,Rt,e);fh(s,fn);break e;case 1:At=Rt;var ln=s.type,dn=s.stateNode;if(!(s.flags&128)&&(typeof ln.getDerivedStateFromError=="function"||dn!==null&&typeof dn.componentDidCatch=="function"&&(Si===null||!Si.has(dn)))){s.flags|=65536,e&=-e,s.lanes|=e;var mn=Ri(s,At,e);fh(s,mn);break e}}s=s.return}while(s!==null)}Tk($)}catch(xn){e=xn,Y$1===$&&$!==null&&(Y$1=$=$.return);continue}break}while(1)}function Kk(){var lt=nk.current;return nk.current=ai,lt===null?ai:lt}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(lt,e){var $=K$1;K$1|=2;var ft=Kk();(R$1!==lt||Z$1!==e)&&(vk=null,Lk(lt,e));do try{Uk();break}catch(vt){Nk(lt,vt)}while(1);if(Qg(),K$1=$,nk.current=ft,Y$1!==null)throw Error(p$3(261));return R$1=null,Z$1=0,T$2}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(lt){var e=Wk(lt.alternate,lt,gj);lt.memoizedProps=lt.pendingProps,e===null?Tk(lt):Y$1=e,ok.current=null}function Tk(lt){var e=lt;do{var $=e.alternate;if(lt=e.return,e.flags&32768){if($=Jj($,e),$!==null){$.flags&=32767,Y$1=$;return}if(lt!==null)lt.flags|=32768,lt.subtreeFlags=0,lt.deletions=null;else{T$2=6,Y$1=null;return}}else if($=Fj($,e,gj),$!==null){Y$1=$;return}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=lt}while(e!==null);T$2===0&&(T$2=5)}function Qk(lt,e,$){var ft=C$2,vt=pk.transition;try{pk.transition=null,C$2=1,Xk(lt,e,$,ft)}finally{pk.transition=vt,C$2=ft}return null}function Xk(lt,e,$,ft){do Ik();while(xk!==null);if(K$1&6)throw Error(p$3(327));$=lt.finishedWork;var vt=lt.finishedLanes;if($===null)return null;if(lt.finishedWork=null,lt.finishedLanes=0,$===lt.current)throw Error(p$3(177));lt.callbackNode=null,lt.callbackPriority=0;var s=$.lanes|$.childLanes;if(Bc(lt,s),lt===R$1&&(Y$1=R$1=null,Z$1=0),!($.subtreeFlags&2064)&&!($.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),s=($.flags&15990)!==0,$.subtreeFlags&15990||s){s=pk.transition,pk.transition=null;var Tt=C$2;C$2=1;var At=K$1;K$1|=4,ok.current=null,Pj(lt,$),ek($,lt),Oe$1(Df),dd=!!Cf,Df=Cf=null,lt.current=$,ik($),dc(),K$1=At,C$2=Tt,pk.transition=s}else lt.current=$;if(wk&&(wk=!1,xk=lt,yk=vt),s=lt.pendingLanes,s===0&&(Si=null),mc($.stateNode),Ek(lt,B$2()),e!==null)for(ft=lt.onRecoverableError,$=0;$<e.length;$++)vt=e[$],ft(vt.value,{componentStack:vt.stack,digest:vt.digest});if(Pi)throw Pi=!1,lt=Qi,Qi=null,lt;return yk&1&&lt.tag!==0&&Ik(),s=lt.pendingLanes,s&1?lt===Ak?zk++:(zk=0,Ak=lt):zk=0,jg(),null}function Ik(){if(xk!==null){var lt=Dc(yk),e=pk.transition,$=C$2;try{if(pk.transition=null,C$2=16>lt?16:lt,xk===null)var ft=!1;else{if(lt=xk,xk=null,yk=0,K$1&6)throw Error(p$3(331));var vt=K$1;for(K$1|=4,V$2=lt.current;V$2!==null;){var s=V$2,Tt=s.child;if(V$2.flags&16){var At=s.deletions;if(At!==null){for(var Rt=0;Rt<At.length;Rt++){var Dt=At[Rt];for(V$2=Dt;V$2!==null;){var Nt=V$2;switch(Nt.tag){case 0:case 11:case 15:Qj(8,Nt,s)}var Wt=Nt.child;if(Wt!==null)Wt.return=Nt,V$2=Wt;else for(;V$2!==null;){Nt=V$2;var Ht=Nt.sibling,Kt=Nt.return;if(Tj(Nt),Nt===Dt){V$2=null;break}if(Ht!==null){Ht.return=Kt,V$2=Ht;break}V$2=Kt}}}var Ft=s.alternate;if(Ft!==null){var tn=Ft.child;if(tn!==null){Ft.child=null;do{var cn=tn.sibling;tn.sibling=null,tn=cn}while(tn!==null)}}V$2=s}}if(s.subtreeFlags&2064&&Tt!==null)Tt.return=s,V$2=Tt;else e:for(;V$2!==null;){if(s=V$2,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qj(9,s,s.return)}var fn=s.sibling;if(fn!==null){fn.return=s.return,V$2=fn;break e}V$2=s.return}}var ln=lt.current;for(V$2=ln;V$2!==null;){Tt=V$2;var dn=Tt.child;if(Tt.subtreeFlags&2064&&dn!==null)dn.return=Tt,V$2=dn;else e:for(Tt=ln;V$2!==null;){if(At=V$2,At.flags&2048)try{switch(At.tag){case 0:case 11:case 15:Rj(9,At)}}catch(xn){W$2(At,At.return,xn)}if(At===Tt){V$2=null;break e}var mn=At.sibling;if(mn!==null){mn.return=At.return,V$2=mn;break e}V$2=At.return}}if(K$1=vt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,lt)}catch{}ft=!0}return ft}finally{C$2=$,pk.transition=e}}return!1}function Yk(lt,e,$){e=Ki($,e),e=Oi(lt,e,1),lt=dh(lt,e,1),e=L$1(),lt!==null&&(Ac(lt,1,e),Ek(lt,e))}function W$2(lt,e,$){if(lt.tag===3)Yk(lt,lt,$);else for(;e!==null;){if(e.tag===3){Yk(e,lt,$);break}else if(e.tag===1){var ft=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof ft.componentDidCatch=="function"&&(Si===null||!Si.has(ft))){lt=Ki($,lt),lt=Ri(e,lt,1),e=dh(e,lt,1),lt=L$1(),e!==null&&(Ac(e,1,lt),Ek(e,lt));break}}e=e.return}}function Ui(lt,e,$){var ft=lt.pingCache;ft!==null&&ft.delete(e),e=L$1(),lt.pingedLanes|=lt.suspendedLanes&$,R$1===lt&&(Z$1&$)===$&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$2()-gk?Lk(lt,0):sk|=$),Ek(lt,e)}function Zk(lt,e){e===0&&(lt.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var $=L$1();lt=Zg(lt,e),lt!==null&&(Ac(lt,e,$),Ek(lt,$))}function vj(lt){var e=lt.memoizedState,$=0;e!==null&&($=e.retryLane),Zk(lt,$)}function ck(lt,e){var $=0;switch(lt.tag){case 13:var ft=lt.stateNode,vt=lt.memoizedState;vt!==null&&($=vt.retryLane);break;case 19:ft=lt.stateNode;break;default:throw Error(p$3(314))}ft!==null&&ft.delete(e),Zk(lt,$)}var Wk;Wk=function(lt,e,$){if(lt!==null)if(lt.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if(!(lt.lanes&$)&&!(e.flags&128))return Ug=!1,zj(lt,e,$);Ug=!!(lt.flags&131072)}else Ug=!1,I$2&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var ft=e.type;jj(lt,e),lt=e.pendingProps;var vt=Yf(e,H$2.current);Tg(e,$),vt=Xh(null,e,ft,lt,vt,$);var s=bi();return e.flags|=1,typeof vt=="object"&&vt!==null&&typeof vt.render=="function"&&vt.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(ft)?(s=!0,cg(e)):s=!1,e.memoizedState=vt.state!==null&&vt.state!==void 0?vt.state:null,ah(e),vt.updater=nh,e.stateNode=vt,vt._reactInternals=e,rh(e,ft,lt,$),e=kj(null,e,ft,!0,s,$)):(e.tag=0,I$2&&s&&vg(e),Yi(null,e,vt,$),e=e.child),e;case 16:ft=e.elementType;e:{switch(jj(lt,e),lt=e.pendingProps,vt=ft._init,ft=vt(ft._payload),e.type=ft,vt=e.tag=$k(ft),lt=Lg(ft,lt),vt){case 0:e=dj(null,e,ft,lt,$);break e;case 1:e=ij(null,e,ft,lt,$);break e;case 11:e=Zi(null,e,ft,lt,$);break e;case 14:e=aj(null,e,ft,Lg(ft.type,lt),$);break e}throw Error(p$3(306,ft,""))}return e;case 0:return ft=e.type,vt=e.pendingProps,vt=e.elementType===ft?vt:Lg(ft,vt),dj(lt,e,ft,vt,$);case 1:return ft=e.type,vt=e.pendingProps,vt=e.elementType===ft?vt:Lg(ft,vt),ij(lt,e,ft,vt,$);case 3:e:{if(lj(e),lt===null)throw Error(p$3(387));ft=e.pendingProps,s=e.memoizedState,vt=s.element,bh(lt,e),gh(e,ft,null,$);var Tt=e.memoizedState;if(ft=Tt.element,s.isDehydrated)if(s={element:ft,isDehydrated:!1,cache:Tt.cache,pendingSuspenseBoundaries:Tt.pendingSuspenseBoundaries,transitions:Tt.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){vt=Ki(Error(p$3(423)),e),e=mj(lt,e,ft,$,vt);break e}else if(ft!==vt){vt=Ki(Error(p$3(424)),e),e=mj(lt,e,ft,$,vt);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$2=!0,zg=null,$=Ch(e,null,ft,$),e.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),ft===vt){e=$i(lt,e,$);break e}Yi(lt,e,ft,$)}e=e.child}return e;case 5:return Kh(e),lt===null&&Eg(e),ft=e.type,vt=e.pendingProps,s=lt!==null?lt.memoizedProps:null,Tt=vt.children,Ef(ft,vt)?Tt=null:s!==null&&Ef(ft,s)&&(e.flags|=32),hj(lt,e),Yi(lt,e,Tt,$),e.child;case 6:return lt===null&&Eg(e),null;case 13:return pj(lt,e,$);case 4:return Ih(e,e.stateNode.containerInfo),ft=e.pendingProps,lt===null?e.child=Bh(e,null,ft,$):Yi(lt,e,ft,$),e.child;case 11:return ft=e.type,vt=e.pendingProps,vt=e.elementType===ft?vt:Lg(ft,vt),Zi(lt,e,ft,vt,$);case 7:return Yi(lt,e,e.pendingProps,$),e.child;case 8:return Yi(lt,e,e.pendingProps.children,$),e.child;case 12:return Yi(lt,e,e.pendingProps.children,$),e.child;case 10:e:{if(ft=e.type._context,vt=e.pendingProps,s=e.memoizedProps,Tt=vt.value,G$1(Mg,ft._currentValue),ft._currentValue=Tt,s!==null)if(He$2(s.value,Tt)){if(s.children===vt.children&&!Wf.current){e=$i(lt,e,$);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var At=s.dependencies;if(At!==null){Tt=s.child;for(var Rt=At.firstContext;Rt!==null;){if(Rt.context===ft){if(s.tag===1){Rt=ch(-1,$&-$),Rt.tag=2;var Dt=s.updateQueue;if(Dt!==null){Dt=Dt.shared;var Nt=Dt.pending;Nt===null?Rt.next=Rt:(Rt.next=Nt.next,Nt.next=Rt),Dt.pending=Rt}}s.lanes|=$,Rt=s.alternate,Rt!==null&&(Rt.lanes|=$),Sg(s.return,$,e),At.lanes|=$;break}Rt=Rt.next}}else if(s.tag===10)Tt=s.type===e.type?null:s.child;else if(s.tag===18){if(Tt=s.return,Tt===null)throw Error(p$3(341));Tt.lanes|=$,At=Tt.alternate,At!==null&&(At.lanes|=$),Sg(Tt,$,e),Tt=s.sibling}else Tt=s.child;if(Tt!==null)Tt.return=s;else for(Tt=s;Tt!==null;){if(Tt===e){Tt=null;break}if(s=Tt.sibling,s!==null){s.return=Tt.return,Tt=s;break}Tt=Tt.return}s=Tt}Yi(lt,e,vt.children,$),e=e.child}return e;case 9:return vt=e.type,ft=e.pendingProps.children,Tg(e,$),vt=Vg(vt),ft=ft(vt),e.flags|=1,Yi(lt,e,ft,$),e.child;case 14:return ft=e.type,vt=Lg(ft,e.pendingProps),vt=Lg(ft.type,vt),aj(lt,e,ft,vt,$);case 15:return cj(lt,e,e.type,e.pendingProps,$);case 17:return ft=e.type,vt=e.pendingProps,vt=e.elementType===ft?vt:Lg(ft,vt),jj(lt,e),e.tag=1,Zf(ft)?(lt=!0,cg(e)):lt=!1,Tg(e,$),ph(e,ft,vt),rh(e,ft,vt,$),kj(null,e,ft,!0,lt,$);case 19:return yj(lt,e,$);case 22:return ej(lt,e,$)}throw Error(p$3(156,e.tag))};function Gk(lt,e){return ac(lt,e)}function al(lt,e,$,ft){this.tag=lt,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ft,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(lt,e,$,ft){return new al(lt,e,$,ft)}function bj(lt){return lt=lt.prototype,!(!lt||!lt.isReactComponent)}function $k(lt){if(typeof lt=="function")return bj(lt)?1:0;if(lt!=null){if(lt=lt.$$typeof,lt===Da)return 11;if(lt===Ga)return 14}return 2}function wh(lt,e){var $=lt.alternate;return $===null?($=Bg(lt.tag,e,lt.key,lt.mode),$.elementType=lt.elementType,$.type=lt.type,$.stateNode=lt.stateNode,$.alternate=lt,lt.alternate=$):($.pendingProps=e,$.type=lt.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=lt.flags&14680064,$.childLanes=lt.childLanes,$.lanes=lt.lanes,$.child=lt.child,$.memoizedProps=lt.memoizedProps,$.memoizedState=lt.memoizedState,$.updateQueue=lt.updateQueue,e=lt.dependencies,$.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},$.sibling=lt.sibling,$.index=lt.index,$.ref=lt.ref,$}function yh(lt,e,$,ft,vt,s){var Tt=2;if(ft=lt,typeof lt=="function")bj(lt)&&(Tt=1);else if(typeof lt=="string")Tt=5;else e:switch(lt){case ya:return Ah($.children,vt,s,e);case za:Tt=8,vt|=8;break;case Aa:return lt=Bg(12,$,e,vt|2),lt.elementType=Aa,lt.lanes=s,lt;case Ea:return lt=Bg(13,$,e,vt),lt.elementType=Ea,lt.lanes=s,lt;case Fa:return lt=Bg(19,$,e,vt),lt.elementType=Fa,lt.lanes=s,lt;case Ia:return qj($,vt,s,e);default:if(typeof lt=="object"&&lt!==null)switch(lt.$$typeof){case Ba:Tt=10;break e;case Ca:Tt=9;break e;case Da:Tt=11;break e;case Ga:Tt=14;break e;case Ha:Tt=16,ft=null;break e}throw Error(p$3(130,lt==null?lt:typeof lt,""))}return e=Bg(Tt,$,e,vt),e.elementType=lt,e.type=ft,e.lanes=s,e}function Ah(lt,e,$,ft){return lt=Bg(7,lt,ft,e),lt.lanes=$,lt}function qj(lt,e,$,ft){return lt=Bg(22,lt,ft,e),lt.elementType=Ia,lt.lanes=$,lt.stateNode={isHidden:!1},lt}function xh(lt,e,$){return lt=Bg(6,lt,null,e),lt.lanes=$,lt}function zh(lt,e,$){return e=Bg(4,lt.children!==null?lt.children:[],lt.key,e),e.lanes=$,e.stateNode={containerInfo:lt.containerInfo,pendingChildren:null,implementation:lt.implementation},e}function bl(lt,e,$,ft,vt){this.tag=e,this.containerInfo=lt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=ft,this.onRecoverableError=vt,this.mutableSourceEagerHydrationData=null}function cl(lt,e,$,ft,vt,s,Tt,At,Rt){return lt=new bl(lt,e,$,At,Rt),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bg(3,null,null,e),lt.current=s,s.stateNode=lt,s.memoizedState={element:ft,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(s),lt}function dl(lt,e,$){var ft=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:ft==null?null:""+ft,children:lt,containerInfo:e,implementation:$}}function el(lt){if(!lt)return Vf;lt=lt._reactInternals;e:{if(Vb(lt)!==lt||lt.tag!==1)throw Error(p$3(170));var e=lt;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$3(171))}if(lt.tag===1){var $=lt.type;if(Zf($))return bg(lt,$,e)}return e}function fl(lt,e,$,ft,vt,s,Tt,At,Rt){return lt=cl($,ft,!0,lt,vt,s,Tt,At,Rt),lt.context=el(null),$=lt.current,ft=L$1(),vt=lh($),s=ch(ft,vt),s.callback=e??null,dh($,s,vt),lt.current.lanes=vt,Ac(lt,vt,ft),Ek(lt,ft),lt}function gl(lt,e,$,ft){var vt=e.current,s=L$1(),Tt=lh(vt);return $=el($),e.context===null?e.context=$:e.pendingContext=$,e=ch(s,Tt),e.payload={element:lt},ft=ft===void 0?null:ft,ft!==null&&(e.callback=ft),lt=dh(vt,e,Tt),lt!==null&&(mh(lt,vt,Tt,s),eh(lt,vt,Tt)),Tt}function hl(lt){if(lt=lt.current,!lt.child)return null;switch(lt.child.tag){case 5:return lt.child.stateNode;default:return lt.child.stateNode}}function il(lt,e){if(lt=lt.memoizedState,lt!==null&&lt.dehydrated!==null){var $=lt.retryLane;lt.retryLane=$!==0&&$<e?$:e}}function jl(lt,e){il(lt,e),(lt=lt.alternate)&&il(lt,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(lt){console.error(lt)};function ml(lt){this._internalRoot=lt}nl.prototype.render=ml.prototype.render=function(lt){var e=this._internalRoot;if(e===null)throw Error(p$3(409));gl(lt,e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var lt=this._internalRoot;if(lt!==null){this._internalRoot=null;var e=lt.containerInfo;Sk(function(){gl(null,lt,null,null)}),e[uf]=null}};function nl(lt){this._internalRoot=lt}nl.prototype.unstable_scheduleHydration=function(lt){if(lt){var e=Hc();lt={blockedOn:null,target:lt,priority:e};for(var $=0;$<Qc.length&&e!==0&&e<Qc[$].priority;$++);Qc.splice($,0,lt),$===0&&Vc(lt)}};function ol(lt){return!(!lt||lt.nodeType!==1&&lt.nodeType!==9&&lt.nodeType!==11)}function pl(lt){return!(!lt||lt.nodeType!==1&&lt.nodeType!==9&&lt.nodeType!==11&&(lt.nodeType!==8||lt.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(lt,e,$,ft,vt){if(vt){if(typeof ft=="function"){var s=ft;ft=function(){var Dt=hl(Tt);s.call(Dt)}}var Tt=fl(e,ft,lt,0,null,!1,!1,"",ql);return lt._reactRootContainer=Tt,lt[uf]=Tt.current,sf(lt.nodeType===8?lt.parentNode:lt),Sk(),Tt}for(;vt=lt.lastChild;)lt.removeChild(vt);if(typeof ft=="function"){var At=ft;ft=function(){var Dt=hl(Rt);At.call(Dt)}}var Rt=cl(lt,0,!1,null,null,!1,!1,"",ql);return lt._reactRootContainer=Rt,lt[uf]=Rt.current,sf(lt.nodeType===8?lt.parentNode:lt),Sk(function(){gl(e,Rt,$,ft)}),Rt}function sl(lt,e,$,ft,vt){var s=$._reactRootContainer;if(s){var Tt=s;if(typeof vt=="function"){var At=vt;vt=function(){var Rt=hl(Tt);At.call(Rt)}}gl(e,Tt,lt,vt)}else Tt=rl($,e,lt,vt,ft);return hl(Tt)}Ec=function(lt){switch(lt.tag){case 3:var e=lt.stateNode;if(e.current.memoizedState.isDehydrated){var $=tc(e.pendingLanes);$!==0&&(Cc(e,$|1),Ek(e,B$2()),!(K$1&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var ft=Zg(lt,1);if(ft!==null){var vt=L$1();mh(ft,lt,1,vt)}}),jl(lt,1)}};Fc=function(lt){if(lt.tag===13){var e=Zg(lt,134217728);if(e!==null){var $=L$1();mh(e,lt,134217728,$)}jl(lt,134217728)}};Gc=function(lt){if(lt.tag===13){var e=lh(lt),$=Zg(lt,e);if($!==null){var ft=L$1();mh($,lt,e,ft)}jl(lt,e)}};Hc=function(){return C$2};Ic=function(lt,e){var $=C$2;try{return C$2=lt,e()}finally{C$2=$}};yb=function(lt,e,$){switch(e){case"input":if(bb(lt,$),e=$.name,$.type==="radio"&&e!=null){for($=lt;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<$.length;e++){var ft=$[e];if(ft!==lt&&ft.form===lt.form){var vt=Db(ft);if(!vt)throw Error(p$3(90));Wa(ft),bb(ft,vt)}}}break;case"textarea":ib(lt,$);break;case"select":e=$.value,e!=null&&fb(lt,!!$.multiple,e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(lt){return lt=Zb(lt),lt===null?null:lt.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(lt,e){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p$3(200));return dl(lt,e,null,$)};reactDom_production_min.createRoot=function(lt,e){if(!ol(lt))throw Error(p$3(299));var $=!1,ft="",vt=ll;return e!=null&&(e.unstable_strictMode===!0&&($=!0),e.identifierPrefix!==void 0&&(ft=e.identifierPrefix),e.onRecoverableError!==void 0&&(vt=e.onRecoverableError)),e=cl(lt,1,!1,null,null,$,!1,ft,vt),lt[uf]=e.current,sf(lt.nodeType===8?lt.parentNode:lt),new ml(e)};reactDom_production_min.findDOMNode=function(lt){if(lt==null)return null;if(lt.nodeType===1)return lt;var e=lt._reactInternals;if(e===void 0)throw typeof lt.render=="function"?Error(p$3(188)):(lt=Object.keys(lt).join(","),Error(p$3(268,lt)));return lt=Zb(e),lt=lt===null?null:lt.stateNode,lt};reactDom_production_min.flushSync=function(lt){return Sk(lt)};reactDom_production_min.hydrate=function(lt,e,$){if(!pl(e))throw Error(p$3(200));return sl(null,lt,e,!0,$)};reactDom_production_min.hydrateRoot=function(lt,e,$){if(!ol(lt))throw Error(p$3(405));var ft=$!=null&&$.hydratedSources||null,vt=!1,s="",Tt=ll;if($!=null&&($.unstable_strictMode===!0&&(vt=!0),$.identifierPrefix!==void 0&&(s=$.identifierPrefix),$.onRecoverableError!==void 0&&(Tt=$.onRecoverableError)),e=fl(e,null,lt,1,$??null,vt,!1,s,Tt),lt[uf]=e.current,sf(lt),ft)for(lt=0;lt<ft.length;lt++)$=ft[lt],vt=$._getVersion,vt=vt($._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[$,vt]:e.mutableSourceEagerHydrationData.push($,vt);return new nl(e)};reactDom_production_min.render=function(lt,e,$){if(!pl(e))throw Error(p$3(200));return sl(null,lt,e,!1,$)};reactDom_production_min.unmountComponentAtNode=function(lt){if(!pl(lt))throw Error(p$3(40));return lt._reactRootContainer?(Sk(function(){sl(null,null,lt,!1,function(){lt._reactRootContainer=null,lt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(lt,e,$,ft){if(!pl($))throw Error(p$3(200));if(lt==null||lt._reactInternals===void 0)throw Error(p$3(38));return sl(lt,e,$,!1,ft)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(lt){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch($){console.error($)}}e(),lt.exports=reactDom_production_min})(reactDom);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="150",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(e,$){this._listeners===void 0&&(this._listeners={});const ft=this._listeners;ft[e]===void 0&&(ft[e]=[]),ft[e].indexOf($)===-1&&ft[e].push($)}hasEventListener(e,$){if(this._listeners===void 0)return!1;const ft=this._listeners;return ft[e]!==void 0&&ft[e].indexOf($)!==-1}removeEventListener(e,$){if(this._listeners===void 0)return;const vt=this._listeners[e];if(vt!==void 0){const s=vt.indexOf($);s!==-1&&vt.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const ft=this._listeners[e.type];if(ft!==void 0){e.target=this;const vt=ft.slice(0);for(let s=0,Tt=vt.length;s<Tt;s++)vt[s].call(this,e);e.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const lt=Math.random()*4294967295|0,e=Math.random()*4294967295|0,$=Math.random()*4294967295|0,ft=Math.random()*4294967295|0;return(_lut$1[lt&255]+_lut$1[lt>>8&255]+_lut$1[lt>>16&255]+_lut$1[lt>>24&255]+"-"+_lut$1[e&255]+_lut$1[e>>8&255]+"-"+_lut$1[e>>16&15|64]+_lut$1[e>>24&255]+"-"+_lut$1[$&63|128]+_lut$1[$>>8&255]+"-"+_lut$1[$>>16&255]+_lut$1[$>>24&255]+_lut$1[ft&255]+_lut$1[ft>>8&255]+_lut$1[ft>>16&255]+_lut$1[ft>>24&255]).toLowerCase()}function clamp$1(lt,e,$){return Math.max(e,Math.min($,lt))}function euclideanModulo(lt,e){return(lt%e+e)%e}function mapLinear(lt,e,$,ft,vt){return ft+(lt-e)*(vt-ft)/($-e)}function inverseLerp(lt,e,$){return lt!==e?($-lt)/(e-lt):0}function lerp(lt,e,$){return(1-$)*lt+$*e}function damp(lt,e,$,ft){return lerp(lt,e,1-Math.exp(-$*ft))}function pingpong(lt,e=1){return e-Math.abs(euclideanModulo(lt,e*2)-e)}function smoothstep(lt,e,$){return lt<=e?0:lt>=$?1:(lt=(lt-e)/($-e),lt*lt*(3-2*lt))}function smootherstep(lt,e,$){return lt<=e?0:lt>=$?1:(lt=(lt-e)/($-e),lt*lt*lt*(lt*(lt*6-15)+10))}function randInt(lt,e){return lt+Math.floor(Math.random()*(e-lt+1))}function randFloat(lt,e){return lt+Math.random()*(e-lt)}function randFloatSpread(lt){return lt*(.5-Math.random())}function seededRandom(lt){lt!==void 0&&(_seed=lt);let e=_seed+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function degToRad$2(lt){return lt*DEG2RAD}function radToDeg(lt){return lt*RAD2DEG}function isPowerOfTwo(lt){return(lt&lt-1)===0&&lt!==0}function ceilPowerOfTwo(lt){return Math.pow(2,Math.ceil(Math.log(lt)/Math.LN2))}function floorPowerOfTwo(lt){return Math.pow(2,Math.floor(Math.log(lt)/Math.LN2))}function setQuaternionFromProperEuler(lt,e,$,ft,vt){const s=Math.cos,Tt=Math.sin,At=s($/2),Rt=Tt($/2),Dt=s((e+ft)/2),Nt=Tt((e+ft)/2),Wt=s((e-ft)/2),Ht=Tt((e-ft)/2),Kt=s((ft-e)/2),Ft=Tt((ft-e)/2);switch(vt){case"XYX":lt.set(At*Nt,Rt*Wt,Rt*Ht,At*Dt);break;case"YZY":lt.set(Rt*Ht,At*Nt,Rt*Wt,At*Dt);break;case"ZXZ":lt.set(Rt*Wt,Rt*Ht,At*Nt,At*Dt);break;case"XZX":lt.set(At*Nt,Rt*Ft,Rt*Kt,At*Dt);break;case"YXY":lt.set(Rt*Kt,At*Nt,Rt*Ft,At*Dt);break;case"ZYZ":lt.set(Rt*Ft,Rt*Kt,At*Nt,At*Dt);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+vt)}}function denormalize(lt,e){switch(e.constructor){case Float32Array:return lt;case Uint16Array:return lt/65535;case Uint8Array:return lt/255;case Int16Array:return Math.max(lt/32767,-1);case Int8Array:return Math.max(lt/127,-1);default:throw new Error("Invalid component type.")}}function normalize(lt,e){switch(e.constructor){case Float32Array:return lt;case Uint16Array:return Math.round(lt*65535);case Uint8Array:return Math.round(lt*255);case Int16Array:return Math.round(lt*32767);case Int8Array:return Math.round(lt*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp:clamp$1,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad:degToRad$2,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(e=0,$=0){Vector2.prototype.isVector2=!0,this.x=e,this.y=$}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,$){return this.x=e,this.y=$,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,$){switch(e){case 0:this.x=$;break;case 1:this.y=$;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,$){return this.x=e.x+$.x,this.y=e.y+$.y,this}addScaledVector(e,$){return this.x+=e.x*$,this.y+=e.y*$,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,$){return this.x=e.x-$.x,this.y=e.y-$.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const $=this.x,ft=this.y,vt=e.elements;return this.x=vt[0]*$+vt[3]*ft+vt[6],this.y=vt[1]*$+vt[4]*ft+vt[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,$){return this.x=Math.max(e.x,Math.min($.x,this.x)),this.y=Math.max(e.y,Math.min($.y,this.y)),this}clampScalar(e,$){return this.x=Math.max(e,Math.min($,this.x)),this.y=Math.max(e,Math.min($,this.y)),this}clampLength(e,$){const ft=this.length();return this.divideScalar(ft||1).multiplyScalar(Math.max(e,Math.min($,ft)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const $=this.x-e.x,ft=this.y-e.y;return $*$+ft*ft}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,$){return this.x+=(e.x-this.x)*$,this.y+=(e.y-this.y)*$,this}lerpVectors(e,$,ft){return this.x=e.x+($.x-e.x)*ft,this.y=e.y+($.y-e.y)*ft,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,$=0){return this.x=e[$],this.y=e[$+1],this}toArray(e=[],$=0){return e[$]=this.x,e[$+1]=this.y,e}fromBufferAttribute(e,$){return this.x=e.getX($),this.y=e.getY($),this}rotateAround(e,$){const ft=Math.cos($),vt=Math.sin($),s=this.x-e.x,Tt=this.y-e.y;return this.x=s*ft-Tt*vt+e.x,this.y=s*vt+Tt*ft+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,$,ft,vt,s,Tt,At,Rt,Dt){const Nt=this.elements;return Nt[0]=e,Nt[1]=vt,Nt[2]=At,Nt[3]=$,Nt[4]=s,Nt[5]=Rt,Nt[6]=ft,Nt[7]=Tt,Nt[8]=Dt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const $=this.elements,ft=e.elements;return $[0]=ft[0],$[1]=ft[1],$[2]=ft[2],$[3]=ft[3],$[4]=ft[4],$[5]=ft[5],$[6]=ft[6],$[7]=ft[7],$[8]=ft[8],this}extractBasis(e,$,ft){return e.setFromMatrix3Column(this,0),$.setFromMatrix3Column(this,1),ft.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const $=e.elements;return this.set($[0],$[4],$[8],$[1],$[5],$[9],$[2],$[6],$[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,$){const ft=e.elements,vt=$.elements,s=this.elements,Tt=ft[0],At=ft[3],Rt=ft[6],Dt=ft[1],Nt=ft[4],Wt=ft[7],Ht=ft[2],Kt=ft[5],Ft=ft[8],tn=vt[0],cn=vt[3],fn=vt[6],ln=vt[1],dn=vt[4],mn=vt[7],xn=vt[2],Mn=vt[5],Tn=vt[8];return s[0]=Tt*tn+At*ln+Rt*xn,s[3]=Tt*cn+At*dn+Rt*Mn,s[6]=Tt*fn+At*mn+Rt*Tn,s[1]=Dt*tn+Nt*ln+Wt*xn,s[4]=Dt*cn+Nt*dn+Wt*Mn,s[7]=Dt*fn+Nt*mn+Wt*Tn,s[2]=Ht*tn+Kt*ln+Ft*xn,s[5]=Ht*cn+Kt*dn+Ft*Mn,s[8]=Ht*fn+Kt*mn+Ft*Tn,this}multiplyScalar(e){const $=this.elements;return $[0]*=e,$[3]*=e,$[6]*=e,$[1]*=e,$[4]*=e,$[7]*=e,$[2]*=e,$[5]*=e,$[8]*=e,this}determinant(){const e=this.elements,$=e[0],ft=e[1],vt=e[2],s=e[3],Tt=e[4],At=e[5],Rt=e[6],Dt=e[7],Nt=e[8];return $*Tt*Nt-$*At*Dt-ft*s*Nt+ft*At*Rt+vt*s*Dt-vt*Tt*Rt}invert(){const e=this.elements,$=e[0],ft=e[1],vt=e[2],s=e[3],Tt=e[4],At=e[5],Rt=e[6],Dt=e[7],Nt=e[8],Wt=Nt*Tt-At*Dt,Ht=At*Rt-Nt*s,Kt=Dt*s-Tt*Rt,Ft=$*Wt+ft*Ht+vt*Kt;if(Ft===0)return this.set(0,0,0,0,0,0,0,0,0);const tn=1/Ft;return e[0]=Wt*tn,e[1]=(vt*Dt-Nt*ft)*tn,e[2]=(At*ft-vt*Tt)*tn,e[3]=Ht*tn,e[4]=(Nt*$-vt*Rt)*tn,e[5]=(vt*s-At*$)*tn,e[6]=Kt*tn,e[7]=(ft*Rt-Dt*$)*tn,e[8]=(Tt*$-ft*s)*tn,this}transpose(){let e;const $=this.elements;return e=$[1],$[1]=$[3],$[3]=e,e=$[2],$[2]=$[6],$[6]=e,e=$[5],$[5]=$[7],$[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const $=this.elements;return e[0]=$[0],e[1]=$[3],e[2]=$[6],e[3]=$[1],e[4]=$[4],e[5]=$[7],e[6]=$[2],e[7]=$[5],e[8]=$[8],this}setUvTransform(e,$,ft,vt,s,Tt,At){const Rt=Math.cos(s),Dt=Math.sin(s);return this.set(ft*Rt,ft*Dt,-ft*(Rt*Tt+Dt*At)+Tt+e,-vt*Dt,vt*Rt,-vt*(-Dt*Tt+Rt*At)+At+$,0,0,1),this}scale(e,$){return this.premultiply(_m3.makeScale(e,$)),this}rotate(e){return this.premultiply(_m3.makeRotation(-e)),this}translate(e,$){return this.premultiply(_m3.makeTranslation(e,$)),this}makeTranslation(e,$){return this.set(1,0,e,0,1,$,0,0,1),this}makeRotation(e){const $=Math.cos(e),ft=Math.sin(e);return this.set($,-ft,0,ft,$,0,0,0,1),this}makeScale(e,$){return this.set(e,0,0,0,$,0,0,0,1),this}equals(e){const $=this.elements,ft=e.elements;for(let vt=0;vt<9;vt++)if($[vt]!==ft[vt])return!1;return!0}fromArray(e,$=0){for(let ft=0;ft<9;ft++)this.elements[ft]=e[ft+$];return this}toArray(e=[],$=0){const ft=this.elements;return e[$]=ft[0],e[$+1]=ft[1],e[$+2]=ft[2],e[$+3]=ft[3],e[$+4]=ft[4],e[$+5]=ft[5],e[$+6]=ft[6],e[$+7]=ft[7],e[$+8]=ft[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(lt){for(let e=lt.length-1;e>=0;--e)if(lt[e]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(lt,e){return new TYPED_ARRAYS[lt](e)}function createElementNS$1(lt){return document.createElementNS("http://www.w3.org/1999/xhtml",lt)}class Quaternion{constructor(e=0,$=0,ft=0,vt=1){this.isQuaternion=!0,this._x=e,this._y=$,this._z=ft,this._w=vt}static slerpFlat(e,$,ft,vt,s,Tt,At){let Rt=ft[vt+0],Dt=ft[vt+1],Nt=ft[vt+2],Wt=ft[vt+3];const Ht=s[Tt+0],Kt=s[Tt+1],Ft=s[Tt+2],tn=s[Tt+3];if(At===0){e[$+0]=Rt,e[$+1]=Dt,e[$+2]=Nt,e[$+3]=Wt;return}if(At===1){e[$+0]=Ht,e[$+1]=Kt,e[$+2]=Ft,e[$+3]=tn;return}if(Wt!==tn||Rt!==Ht||Dt!==Kt||Nt!==Ft){let cn=1-At;const fn=Rt*Ht+Dt*Kt+Nt*Ft+Wt*tn,ln=fn>=0?1:-1,dn=1-fn*fn;if(dn>Number.EPSILON){const xn=Math.sqrt(dn),Mn=Math.atan2(xn,fn*ln);cn=Math.sin(cn*Mn)/xn,At=Math.sin(At*Mn)/xn}const mn=At*ln;if(Rt=Rt*cn+Ht*mn,Dt=Dt*cn+Kt*mn,Nt=Nt*cn+Ft*mn,Wt=Wt*cn+tn*mn,cn===1-At){const xn=1/Math.sqrt(Rt*Rt+Dt*Dt+Nt*Nt+Wt*Wt);Rt*=xn,Dt*=xn,Nt*=xn,Wt*=xn}}e[$]=Rt,e[$+1]=Dt,e[$+2]=Nt,e[$+3]=Wt}static multiplyQuaternionsFlat(e,$,ft,vt,s,Tt){const At=ft[vt],Rt=ft[vt+1],Dt=ft[vt+2],Nt=ft[vt+3],Wt=s[Tt],Ht=s[Tt+1],Kt=s[Tt+2],Ft=s[Tt+3];return e[$]=At*Ft+Nt*Wt+Rt*Kt-Dt*Ht,e[$+1]=Rt*Ft+Nt*Ht+Dt*Wt-At*Kt,e[$+2]=Dt*Ft+Nt*Kt+At*Ht-Rt*Wt,e[$+3]=Nt*Ft-At*Wt-Rt*Ht-Dt*Kt,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,$,ft,vt){return this._x=e,this._y=$,this._z=ft,this._w=vt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,$){const ft=e._x,vt=e._y,s=e._z,Tt=e._order,At=Math.cos,Rt=Math.sin,Dt=At(ft/2),Nt=At(vt/2),Wt=At(s/2),Ht=Rt(ft/2),Kt=Rt(vt/2),Ft=Rt(s/2);switch(Tt){case"XYZ":this._x=Ht*Nt*Wt+Dt*Kt*Ft,this._y=Dt*Kt*Wt-Ht*Nt*Ft,this._z=Dt*Nt*Ft+Ht*Kt*Wt,this._w=Dt*Nt*Wt-Ht*Kt*Ft;break;case"YXZ":this._x=Ht*Nt*Wt+Dt*Kt*Ft,this._y=Dt*Kt*Wt-Ht*Nt*Ft,this._z=Dt*Nt*Ft-Ht*Kt*Wt,this._w=Dt*Nt*Wt+Ht*Kt*Ft;break;case"ZXY":this._x=Ht*Nt*Wt-Dt*Kt*Ft,this._y=Dt*Kt*Wt+Ht*Nt*Ft,this._z=Dt*Nt*Ft+Ht*Kt*Wt,this._w=Dt*Nt*Wt-Ht*Kt*Ft;break;case"ZYX":this._x=Ht*Nt*Wt-Dt*Kt*Ft,this._y=Dt*Kt*Wt+Ht*Nt*Ft,this._z=Dt*Nt*Ft-Ht*Kt*Wt,this._w=Dt*Nt*Wt+Ht*Kt*Ft;break;case"YZX":this._x=Ht*Nt*Wt+Dt*Kt*Ft,this._y=Dt*Kt*Wt+Ht*Nt*Ft,this._z=Dt*Nt*Ft-Ht*Kt*Wt,this._w=Dt*Nt*Wt-Ht*Kt*Ft;break;case"XZY":this._x=Ht*Nt*Wt-Dt*Kt*Ft,this._y=Dt*Kt*Wt-Ht*Nt*Ft,this._z=Dt*Nt*Ft+Ht*Kt*Wt,this._w=Dt*Nt*Wt+Ht*Kt*Ft;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+Tt)}return $!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,$){const ft=$/2,vt=Math.sin(ft);return this._x=e.x*vt,this._y=e.y*vt,this._z=e.z*vt,this._w=Math.cos(ft),this._onChangeCallback(),this}setFromRotationMatrix(e){const $=e.elements,ft=$[0],vt=$[4],s=$[8],Tt=$[1],At=$[5],Rt=$[9],Dt=$[2],Nt=$[6],Wt=$[10],Ht=ft+At+Wt;if(Ht>0){const Kt=.5/Math.sqrt(Ht+1);this._w=.25/Kt,this._x=(Nt-Rt)*Kt,this._y=(s-Dt)*Kt,this._z=(Tt-vt)*Kt}else if(ft>At&&ft>Wt){const Kt=2*Math.sqrt(1+ft-At-Wt);this._w=(Nt-Rt)/Kt,this._x=.25*Kt,this._y=(vt+Tt)/Kt,this._z=(s+Dt)/Kt}else if(At>Wt){const Kt=2*Math.sqrt(1+At-ft-Wt);this._w=(s-Dt)/Kt,this._x=(vt+Tt)/Kt,this._y=.25*Kt,this._z=(Rt+Nt)/Kt}else{const Kt=2*Math.sqrt(1+Wt-ft-At);this._w=(Tt-vt)/Kt,this._x=(s+Dt)/Kt,this._y=(Rt+Nt)/Kt,this._z=.25*Kt}return this._onChangeCallback(),this}setFromUnitVectors(e,$){let ft=e.dot($)+1;return ft<Number.EPSILON?(ft=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=ft):(this._x=0,this._y=-e.z,this._z=e.y,this._w=ft)):(this._x=e.y*$.z-e.z*$.y,this._y=e.z*$.x-e.x*$.z,this._z=e.x*$.y-e.y*$.x,this._w=ft),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp$1(this.dot(e),-1,1)))}rotateTowards(e,$){const ft=this.angleTo(e);if(ft===0)return this;const vt=Math.min(1,$/ft);return this.slerp(e,vt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,$){const ft=e._x,vt=e._y,s=e._z,Tt=e._w,At=$._x,Rt=$._y,Dt=$._z,Nt=$._w;return this._x=ft*Nt+Tt*At+vt*Dt-s*Rt,this._y=vt*Nt+Tt*Rt+s*At-ft*Dt,this._z=s*Nt+Tt*Dt+ft*Rt-vt*At,this._w=Tt*Nt-ft*At-vt*Rt-s*Dt,this._onChangeCallback(),this}slerp(e,$){if($===0)return this;if($===1)return this.copy(e);const ft=this._x,vt=this._y,s=this._z,Tt=this._w;let At=Tt*e._w+ft*e._x+vt*e._y+s*e._z;if(At<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,At=-At):this.copy(e),At>=1)return this._w=Tt,this._x=ft,this._y=vt,this._z=s,this;const Rt=1-At*At;if(Rt<=Number.EPSILON){const Kt=1-$;return this._w=Kt*Tt+$*this._w,this._x=Kt*ft+$*this._x,this._y=Kt*vt+$*this._y,this._z=Kt*s+$*this._z,this.normalize(),this._onChangeCallback(),this}const Dt=Math.sqrt(Rt),Nt=Math.atan2(Dt,At),Wt=Math.sin((1-$)*Nt)/Dt,Ht=Math.sin($*Nt)/Dt;return this._w=Tt*Wt+this._w*Ht,this._x=ft*Wt+this._x*Ht,this._y=vt*Wt+this._y*Ht,this._z=s*Wt+this._z*Ht,this._onChangeCallback(),this}slerpQuaternions(e,$,ft){return this.copy(e).slerp($,ft)}random(){const e=Math.random(),$=Math.sqrt(1-e),ft=Math.sqrt(e),vt=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set($*Math.cos(vt),ft*Math.sin(s),ft*Math.cos(s),$*Math.sin(vt))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,$=0){return this._x=e[$],this._y=e[$+1],this._z=e[$+2],this._w=e[$+3],this._onChangeCallback(),this}toArray(e=[],$=0){return e[$]=this._x,e[$+1]=this._y,e[$+2]=this._z,e[$+3]=this._w,e}fromBufferAttribute(e,$){return this._x=e.getX($),this._y=e.getY($),this._z=e.getZ($),this._w=e.getW($),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(e=0,$=0,ft=0){Vector3.prototype.isVector3=!0,this.x=e,this.y=$,this.z=ft}set(e,$,ft){return ft===void 0&&(ft=this.z),this.x=e,this.y=$,this.z=ft,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,$){switch(e){case 0:this.x=$;break;case 1:this.y=$;break;case 2:this.z=$;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,$){return this.x=e.x+$.x,this.y=e.y+$.y,this.z=e.z+$.z,this}addScaledVector(e,$){return this.x+=e.x*$,this.y+=e.y*$,this.z+=e.z*$,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,$){return this.x=e.x-$.x,this.y=e.y-$.y,this.z=e.z-$.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,$){return this.x=e.x*$.x,this.y=e.y*$.y,this.z=e.z*$.z,this}applyEuler(e){return this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,$){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,$))}applyMatrix3(e){const $=this.x,ft=this.y,vt=this.z,s=e.elements;return this.x=s[0]*$+s[3]*ft+s[6]*vt,this.y=s[1]*$+s[4]*ft+s[7]*vt,this.z=s[2]*$+s[5]*ft+s[8]*vt,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const $=this.x,ft=this.y,vt=this.z,s=e.elements,Tt=1/(s[3]*$+s[7]*ft+s[11]*vt+s[15]);return this.x=(s[0]*$+s[4]*ft+s[8]*vt+s[12])*Tt,this.y=(s[1]*$+s[5]*ft+s[9]*vt+s[13])*Tt,this.z=(s[2]*$+s[6]*ft+s[10]*vt+s[14])*Tt,this}applyQuaternion(e){const $=this.x,ft=this.y,vt=this.z,s=e.x,Tt=e.y,At=e.z,Rt=e.w,Dt=Rt*$+Tt*vt-At*ft,Nt=Rt*ft+At*$-s*vt,Wt=Rt*vt+s*ft-Tt*$,Ht=-s*$-Tt*ft-At*vt;return this.x=Dt*Rt+Ht*-s+Nt*-At-Wt*-Tt,this.y=Nt*Rt+Ht*-Tt+Wt*-s-Dt*-At,this.z=Wt*Rt+Ht*-At+Dt*-Tt-Nt*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const $=this.x,ft=this.y,vt=this.z,s=e.elements;return this.x=s[0]*$+s[4]*ft+s[8]*vt,this.y=s[1]*$+s[5]*ft+s[9]*vt,this.z=s[2]*$+s[6]*ft+s[10]*vt,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,$){return this.x=Math.max(e.x,Math.min($.x,this.x)),this.y=Math.max(e.y,Math.min($.y,this.y)),this.z=Math.max(e.z,Math.min($.z,this.z)),this}clampScalar(e,$){return this.x=Math.max(e,Math.min($,this.x)),this.y=Math.max(e,Math.min($,this.y)),this.z=Math.max(e,Math.min($,this.z)),this}clampLength(e,$){const ft=this.length();return this.divideScalar(ft||1).multiplyScalar(Math.max(e,Math.min($,ft)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,$){return this.x+=(e.x-this.x)*$,this.y+=(e.y-this.y)*$,this.z+=(e.z-this.z)*$,this}lerpVectors(e,$,ft){return this.x=e.x+($.x-e.x)*ft,this.y=e.y+($.y-e.y)*ft,this.z=e.z+($.z-e.z)*ft,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,$){const ft=e.x,vt=e.y,s=e.z,Tt=$.x,At=$.y,Rt=$.z;return this.x=vt*Rt-s*At,this.y=s*Tt-ft*Rt,this.z=ft*At-vt*Tt,this}projectOnVector(e){const $=e.lengthSq();if($===0)return this.set(0,0,0);const ft=e.dot(this)/$;return this.copy(e).multiplyScalar(ft)}projectOnPlane(e){return _vector$d.copy(this).projectOnVector(e),this.sub(_vector$d)}reflect(e){return this.sub(_vector$d.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const $=Math.sqrt(this.lengthSq()*e.lengthSq());if($===0)return Math.PI/2;const ft=this.dot(e)/$;return Math.acos(clamp$1(ft,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const $=this.x-e.x,ft=this.y-e.y,vt=this.z-e.z;return $*$+ft*ft+vt*vt}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,$,ft){const vt=Math.sin($)*e;return this.x=vt*Math.sin(ft),this.y=Math.cos($)*e,this.z=vt*Math.cos(ft),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,$,ft){return this.x=e*Math.sin($),this.y=ft,this.z=e*Math.cos($),this}setFromMatrixPosition(e){const $=e.elements;return this.x=$[12],this.y=$[13],this.z=$[14],this}setFromMatrixScale(e){const $=this.setFromMatrixColumn(e,0).length(),ft=this.setFromMatrixColumn(e,1).length(),vt=this.setFromMatrixColumn(e,2).length();return this.x=$,this.y=ft,this.z=vt,this}setFromMatrixColumn(e,$){return this.fromArray(e.elements,$*4)}setFromMatrix3Column(e,$){return this.fromArray(e.elements,$*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,$=0){return this.x=e[$],this.y=e[$+1],this.z=e[$+2],this}toArray(e=[],$=0){return e[$]=this.x,e[$+1]=this.y,e[$+2]=this.z,e}fromBufferAttribute(e,$){return this.x=e.getX($),this.y=e.getY($),this.z=e.getZ($),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,$=Math.random()*Math.PI*2,ft=Math.sqrt(1-e**2);return this.x=ft*Math.cos($),this.y=ft*Math.sin($),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$d=new Vector3,_quaternion$4=new Quaternion;function SRGBToLinear(lt){return lt<.04045?lt*.0773993808:Math.pow(lt*.9478672986+.0521327014,2.4)}function LinearToSRGB(lt){return lt<.0031308?lt*12.92:1.055*Math.pow(lt,.41666)-.055}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),_vector$c=new Vector3;function DisplayP3ToLinearSRGB(lt){return lt.convertSRGBToLinear(),_vector$c.set(lt.r,lt.g,lt.b).applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),lt.setRGB(_vector$c.x,_vector$c.y,_vector$c.z)}function LinearSRGBToDisplayP3(lt){return _vector$c.set(lt.r,lt.g,lt.b).applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3),lt.setRGB(_vector$c.x,_vector$c.y,_vector$c.z).convertLinearToSRGB()}const TO_LINEAR={[LinearSRGBColorSpace]:lt=>lt,[SRGBColorSpace]:lt=>lt.convertSRGBToLinear(),[DisplayP3ColorSpace]:DisplayP3ToLinearSRGB},FROM_LINEAR={[LinearSRGBColorSpace]:lt=>lt,[SRGBColorSpace]:lt=>lt.convertLinearToSRGB(),[DisplayP3ColorSpace]:LinearSRGBToDisplayP3},ColorManagement={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(lt){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!lt},get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(lt){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(lt,e,$){if(this.enabled===!1||e===$||!e||!$)return lt;const ft=TO_LINEAR[e],vt=FROM_LINEAR[$];if(ft===void 0||vt===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${$}".`);return vt(ft(lt))},fromWorkingColorSpace:function(lt,e){return this.convert(lt,this.workingColorSpace,e)},toWorkingColorSpace:function(lt,e){return this.convert(lt,e,this.workingColorSpace)}};let _canvas;class ImageUtils{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let $;if(e instanceof HTMLCanvasElement)$=e;else{_canvas===void 0&&(_canvas=createElementNS$1("canvas")),_canvas.width=e.width,_canvas.height=e.height;const ft=_canvas.getContext("2d");e instanceof ImageData?ft.putImageData(e,0,0):ft.drawImage(e,0,0,e.width,e.height),$=_canvas}return $.width>2048||$.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),$.toDataURL("image/jpeg",.6)):$.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const $=createElementNS$1("canvas");$.width=e.width,$.height=e.height;const ft=$.getContext("2d");ft.drawImage(e,0,0,e.width,e.height);const vt=ft.getImageData(0,0,e.width,e.height),s=vt.data;for(let Tt=0;Tt<s.length;Tt++)s[Tt]=SRGBToLinear(s[Tt]/255)*255;return ft.putImageData(vt,0,0),$}else if(e.data){const $=e.data.slice(0);for(let ft=0;ft<$.length;ft++)$ instanceof Uint8Array||$ instanceof Uint8ClampedArray?$[ft]=Math.floor(SRGBToLinear($[ft]/255)*255):$[ft]=SRGBToLinear($[ft]);return{data:$,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Source{constructor(e=null){this.isSource=!0,this.uuid=generateUUID$1(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const $=e===void 0||typeof e=="string";if(!$&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const ft={uuid:this.uuid,url:""},vt=this.data;if(vt!==null){let s;if(Array.isArray(vt)){s=[];for(let Tt=0,At=vt.length;Tt<At;Tt++)vt[Tt].isDataTexture?s.push(serializeImage(vt[Tt].image)):s.push(serializeImage(vt[Tt]))}else s=serializeImage(vt);ft.url=s}return $||(e.images[this.uuid]=ft),ft}}function serializeImage(lt){return typeof HTMLImageElement<"u"&&lt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&lt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&lt instanceof ImageBitmap?ImageUtils.getDataURL(lt):lt.data?{data:Array.from(lt.data),width:lt.width,height:lt.height,type:lt.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(e=Texture.DEFAULT_IMAGE,$=Texture.DEFAULT_MAPPING,ft=ClampToEdgeWrapping,vt=ClampToEdgeWrapping,s=LinearFilter,Tt=LinearMipmapLinearFilter,At=RGBAFormat,Rt=UnsignedByteType,Dt=Texture.DEFAULT_ANISOTROPY,Nt=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=$,this.wrapS=ft,this.wrapT=vt,this.magFilter=s,this.minFilter=Tt,this.anisotropy=Dt,this.format=At,this.internalFormat=null,this.type=Rt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=Nt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const $=e===void 0||typeof e=="string";if(!$&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const ft={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(ft.userData=this.userData),$||(e.textures[this.uuid]=ft),ft}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(e=0,$=0,ft=0,vt=1){Vector4.prototype.isVector4=!0,this.x=e,this.y=$,this.z=ft,this.w=vt}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,$,ft,vt){return this.x=e,this.y=$,this.z=ft,this.w=vt,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,$){switch(e){case 0:this.x=$;break;case 1:this.y=$;break;case 2:this.z=$;break;case 3:this.w=$;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,$){return this.x=e.x+$.x,this.y=e.y+$.y,this.z=e.z+$.z,this.w=e.w+$.w,this}addScaledVector(e,$){return this.x+=e.x*$,this.y+=e.y*$,this.z+=e.z*$,this.w+=e.w*$,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,$){return this.x=e.x-$.x,this.y=e.y-$.y,this.z=e.z-$.z,this.w=e.w-$.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const $=this.x,ft=this.y,vt=this.z,s=this.w,Tt=e.elements;return this.x=Tt[0]*$+Tt[4]*ft+Tt[8]*vt+Tt[12]*s,this.y=Tt[1]*$+Tt[5]*ft+Tt[9]*vt+Tt[13]*s,this.z=Tt[2]*$+Tt[6]*ft+Tt[10]*vt+Tt[14]*s,this.w=Tt[3]*$+Tt[7]*ft+Tt[11]*vt+Tt[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const $=Math.sqrt(1-e.w*e.w);return $<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/$,this.y=e.y/$,this.z=e.z/$),this}setAxisAngleFromRotationMatrix(e){let $,ft,vt,s;const Rt=e.elements,Dt=Rt[0],Nt=Rt[4],Wt=Rt[8],Ht=Rt[1],Kt=Rt[5],Ft=Rt[9],tn=Rt[2],cn=Rt[6],fn=Rt[10];if(Math.abs(Nt-Ht)<.01&&Math.abs(Wt-tn)<.01&&Math.abs(Ft-cn)<.01){if(Math.abs(Nt+Ht)<.1&&Math.abs(Wt+tn)<.1&&Math.abs(Ft+cn)<.1&&Math.abs(Dt+Kt+fn-3)<.1)return this.set(1,0,0,0),this;$=Math.PI;const dn=(Dt+1)/2,mn=(Kt+1)/2,xn=(fn+1)/2,Mn=(Nt+Ht)/4,Tn=(Wt+tn)/4,vn=(Ft+cn)/4;return dn>mn&&dn>xn?dn<.01?(ft=0,vt=.707106781,s=.707106781):(ft=Math.sqrt(dn),vt=Mn/ft,s=Tn/ft):mn>xn?mn<.01?(ft=.707106781,vt=0,s=.707106781):(vt=Math.sqrt(mn),ft=Mn/vt,s=vn/vt):xn<.01?(ft=.707106781,vt=.707106781,s=0):(s=Math.sqrt(xn),ft=Tn/s,vt=vn/s),this.set(ft,vt,s,$),this}let ln=Math.sqrt((cn-Ft)*(cn-Ft)+(Wt-tn)*(Wt-tn)+(Ht-Nt)*(Ht-Nt));return Math.abs(ln)<.001&&(ln=1),this.x=(cn-Ft)/ln,this.y=(Wt-tn)/ln,this.z=(Ht-Nt)/ln,this.w=Math.acos((Dt+Kt+fn-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,$){return this.x=Math.max(e.x,Math.min($.x,this.x)),this.y=Math.max(e.y,Math.min($.y,this.y)),this.z=Math.max(e.z,Math.min($.z,this.z)),this.w=Math.max(e.w,Math.min($.w,this.w)),this}clampScalar(e,$){return this.x=Math.max(e,Math.min($,this.x)),this.y=Math.max(e,Math.min($,this.y)),this.z=Math.max(e,Math.min($,this.z)),this.w=Math.max(e,Math.min($,this.w)),this}clampLength(e,$){const ft=this.length();return this.divideScalar(ft||1).multiplyScalar(Math.max(e,Math.min($,ft)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,$){return this.x+=(e.x-this.x)*$,this.y+=(e.y-this.y)*$,this.z+=(e.z-this.z)*$,this.w+=(e.w-this.w)*$,this}lerpVectors(e,$,ft){return this.x=e.x+($.x-e.x)*ft,this.y=e.y+($.y-e.y)*ft,this.z=e.z+($.z-e.z)*ft,this.w=e.w+($.w-e.w)*ft,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,$=0){return this.x=e[$],this.y=e[$+1],this.z=e[$+2],this.w=e[$+3],this}toArray(e=[],$=0){return e[$]=this.x,e[$+1]=this.y,e[$+2]=this.z,e[$+3]=this.w,e}fromBufferAttribute(e,$){return this.x=e.getX($),this.y=e.getY($),this.z=e.getZ($),this.w=e.getW($),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(e=1,$=1,ft={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=$,this.depth=1,this.scissor=new Vector4(0,0,e,$),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,$);const vt={width:e,height:$,depth:1};this.texture=new Texture(vt,ft.mapping,ft.wrapS,ft.wrapT,ft.magFilter,ft.minFilter,ft.format,ft.type,ft.anisotropy,ft.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=ft.generateMipmaps!==void 0?ft.generateMipmaps:!1,this.texture.internalFormat=ft.internalFormat!==void 0?ft.internalFormat:null,this.texture.minFilter=ft.minFilter!==void 0?ft.minFilter:LinearFilter,this.depthBuffer=ft.depthBuffer!==void 0?ft.depthBuffer:!0,this.stencilBuffer=ft.stencilBuffer!==void 0?ft.stencilBuffer:!1,this.depthTexture=ft.depthTexture!==void 0?ft.depthTexture:null,this.samples=ft.samples!==void 0?ft.samples:0}setSize(e,$,ft=1){(this.width!==e||this.height!==$||this.depth!==ft)&&(this.width=e,this.height=$,this.depth=ft,this.texture.image.width=e,this.texture.image.height=$,this.texture.image.depth=ft,this.dispose()),this.viewport.set(0,0,e,$),this.scissor.set(0,0,e,$)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const $=Object.assign({},e.texture.image);return this.texture.source=new Source($),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(e=null,$=1,ft=1,vt=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:$,height:ft,depth:vt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(e=1,$=1,ft=1){super(e,$),this.isWebGLArrayRenderTarget=!0,this.depth=ft,this.texture=new DataArrayTexture(null,e,$,ft),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(e=null,$=1,ft=1,vt=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:$,height:ft,depth:vt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(e=1,$=1,ft=1){super(e,$),this.isWebGL3DRenderTarget=!0,this.depth=ft,this.texture=new Data3DTexture(null,e,$,ft),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(e=1,$=1,ft=1,vt={}){super(e,$,vt),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let Tt=0;Tt<ft;Tt++)this.texture[Tt]=s.clone(),this.texture[Tt].isRenderTargetTexture=!0}setSize(e,$,ft=1){if(this.width!==e||this.height!==$||this.depth!==ft){this.width=e,this.height=$,this.depth=ft;for(let vt=0,s=this.texture.length;vt<s;vt++)this.texture[vt].image.width=e,this.texture[vt].image.height=$,this.texture[vt].image.depth=ft;this.dispose()}return this.viewport.set(0,0,e,$),this.scissor.set(0,0,e,$),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let $=0,ft=e.texture.length;$<ft;$++)this.texture[$]=e.texture[$].clone(),this.texture[$].isRenderTargetTexture=!0;return this}}class Box3{constructor(e=new Vector3(1/0,1/0,1/0),$=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=$}set(e,$){return this.min.copy(e),this.max.copy($),this}setFromArray(e){let $=1/0,ft=1/0,vt=1/0,s=-1/0,Tt=-1/0,At=-1/0;for(let Rt=0,Dt=e.length;Rt<Dt;Rt+=3){const Nt=e[Rt],Wt=e[Rt+1],Ht=e[Rt+2];Nt<$&&($=Nt),Wt<ft&&(ft=Wt),Ht<vt&&(vt=Ht),Nt>s&&(s=Nt),Wt>Tt&&(Tt=Wt),Ht>At&&(At=Ht)}return this.min.set($,ft,vt),this.max.set(s,Tt,At),this}setFromBufferAttribute(e){let $=1/0,ft=1/0,vt=1/0,s=-1/0,Tt=-1/0,At=-1/0;for(let Rt=0,Dt=e.count;Rt<Dt;Rt++){const Nt=e.getX(Rt),Wt=e.getY(Rt),Ht=e.getZ(Rt);Nt<$&&($=Nt),Wt<ft&&(ft=Wt),Ht<vt&&(vt=Ht),Nt>s&&(s=Nt),Wt>Tt&&(Tt=Wt),Ht>At&&(At=Ht)}return this.min.set($,ft,vt),this.max.set(s,Tt,At),this}setFromPoints(e){this.makeEmpty();for(let $=0,ft=e.length;$<ft;$++)this.expandByPoint(e[$]);return this}setFromCenterAndSize(e,$){const ft=_vector$b.copy($).multiplyScalar(.5);return this.min.copy(e).sub(ft),this.max.copy(e).add(ft),this}setFromObject(e,$=!1){return this.makeEmpty(),this.expandByObject(e,$)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,$=!1){e.updateWorldMatrix(!1,!1);const ft=e.geometry;if(ft!==void 0)if($&&ft.attributes!=null&&ft.attributes.position!==void 0){const s=ft.attributes.position;for(let Tt=0,At=s.count;Tt<At;Tt++)_vector$b.fromBufferAttribute(s,Tt).applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$b)}else ft.boundingBox===null&&ft.computeBoundingBox(),_box$3.copy(ft.boundingBox),_box$3.applyMatrix4(e.matrixWorld),this.union(_box$3);const vt=e.children;for(let s=0,Tt=vt.length;s<Tt;s++)this.expandByObject(vt[s],$);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,$){return $.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_vector$b),_vector$b.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let $,ft;return e.normal.x>0?($=e.normal.x*this.min.x,ft=e.normal.x*this.max.x):($=e.normal.x*this.max.x,ft=e.normal.x*this.min.x),e.normal.y>0?($+=e.normal.y*this.min.y,ft+=e.normal.y*this.max.y):($+=e.normal.y*this.max.y,ft+=e.normal.y*this.min.y),e.normal.z>0?($+=e.normal.z*this.min.z,ft+=e.normal.z*this.max.z):($+=e.normal.z*this.max.z,ft+=e.normal.z*this.min.z),$<=-e.constant&&ft>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$4.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let $=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes($,_v0$2,_v1$7,_v2$4,_extents)||($=[1,0,0,0,1,0,0,0,1],!satForAxes($,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),$=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes($,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(e,$){return $.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$b).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_vector$b).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(lt,e,$,ft,vt){for(let s=0,Tt=lt.length-3;s<=Tt;s+=3){_testAxis.fromArray(lt,s);const At=vt.x*Math.abs(_testAxis.x)+vt.y*Math.abs(_testAxis.y)+vt.z*Math.abs(_testAxis.z),Rt=e.dot(_testAxis),Dt=$.dot(_testAxis),Nt=ft.dot(_testAxis);if(Math.max(-Math.max(Rt,Dt,Nt),Math.min(Rt,Dt,Nt))>At)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(e=new Vector3,$=-1){this.center=e,this.radius=$}set(e,$){return this.center.copy(e),this.radius=$,this}setFromPoints(e,$){const ft=this.center;$!==void 0?ft.copy($):_box$2.setFromPoints(e).getCenter(ft);let vt=0;for(let s=0,Tt=e.length;s<Tt;s++)vt=Math.max(vt,ft.distanceToSquared(e[s]));return this.radius=Math.sqrt(vt),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const $=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=$*$}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,$){const ft=this.center.distanceToSquared(e);return $.copy(e),ft>this.radius*this.radius&&($.sub(this.center).normalize(),$.multiplyScalar(this.radius).add(this.center)),$}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v1$6.subVectors(e,this.center);const $=_v1$6.lengthSq();if($>this.radius*this.radius){const ft=Math.sqrt($),vt=(ft-this.radius)*.5;this.center.addScaledVector(_v1$6,vt/ft),this.radius+=vt}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v2$3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(e.center).sub(_v2$3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,$=new Vector3(0,0,-1)){this.origin=e,this.direction=$}set(e,$){return this.origin.copy(e),this.direction.copy($),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,$){return $.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$a)),this}closestPointToPoint(e,$){$.subVectors(e,this.origin);const ft=$.dot(this.direction);return ft<0?$.copy(this.origin):$.copy(this.origin).addScaledVector(this.direction,ft)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const $=_vector$a.subVectors(e,this.origin).dot(this.direction);return $<0?this.origin.distanceToSquared(e):(_vector$a.copy(this.origin).addScaledVector(this.direction,$),_vector$a.distanceToSquared(e))}distanceSqToSegment(e,$,ft,vt){_segCenter.copy(e).add($).multiplyScalar(.5),_segDir.copy($).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const s=e.distanceTo($)*.5,Tt=-this.direction.dot(_segDir),At=_diff.dot(this.direction),Rt=-_diff.dot(_segDir),Dt=_diff.lengthSq(),Nt=Math.abs(1-Tt*Tt);let Wt,Ht,Kt,Ft;if(Nt>0)if(Wt=Tt*Rt-At,Ht=Tt*At-Rt,Ft=s*Nt,Wt>=0)if(Ht>=-Ft)if(Ht<=Ft){const tn=1/Nt;Wt*=tn,Ht*=tn,Kt=Wt*(Wt+Tt*Ht+2*At)+Ht*(Tt*Wt+Ht+2*Rt)+Dt}else Ht=s,Wt=Math.max(0,-(Tt*Ht+At)),Kt=-Wt*Wt+Ht*(Ht+2*Rt)+Dt;else Ht=-s,Wt=Math.max(0,-(Tt*Ht+At)),Kt=-Wt*Wt+Ht*(Ht+2*Rt)+Dt;else Ht<=-Ft?(Wt=Math.max(0,-(-Tt*s+At)),Ht=Wt>0?-s:Math.min(Math.max(-s,-Rt),s),Kt=-Wt*Wt+Ht*(Ht+2*Rt)+Dt):Ht<=Ft?(Wt=0,Ht=Math.min(Math.max(-s,-Rt),s),Kt=Ht*(Ht+2*Rt)+Dt):(Wt=Math.max(0,-(Tt*s+At)),Ht=Wt>0?s:Math.min(Math.max(-s,-Rt),s),Kt=-Wt*Wt+Ht*(Ht+2*Rt)+Dt);else Ht=Tt>0?-s:s,Wt=Math.max(0,-(Tt*Ht+At)),Kt=-Wt*Wt+Ht*(Ht+2*Rt)+Dt;return ft&&ft.copy(this.origin).addScaledVector(this.direction,Wt),vt&&vt.copy(_segCenter).addScaledVector(_segDir,Ht),Kt}intersectSphere(e,$){_vector$a.subVectors(e.center,this.origin);const ft=_vector$a.dot(this.direction),vt=_vector$a.dot(_vector$a)-ft*ft,s=e.radius*e.radius;if(vt>s)return null;const Tt=Math.sqrt(s-vt),At=ft-Tt,Rt=ft+Tt;return Rt<0?null:At<0?this.at(Rt,$):this.at(At,$)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const $=e.normal.dot(this.direction);if($===0)return e.distanceToPoint(this.origin)===0?0:null;const ft=-(this.origin.dot(e.normal)+e.constant)/$;return ft>=0?ft:null}intersectPlane(e,$){const ft=this.distanceToPlane(e);return ft===null?null:this.at(ft,$)}intersectsPlane(e){const $=e.distanceToPoint(this.origin);return $===0||e.normal.dot(this.direction)*$<0}intersectBox(e,$){let ft,vt,s,Tt,At,Rt;const Dt=1/this.direction.x,Nt=1/this.direction.y,Wt=1/this.direction.z,Ht=this.origin;return Dt>=0?(ft=(e.min.x-Ht.x)*Dt,vt=(e.max.x-Ht.x)*Dt):(ft=(e.max.x-Ht.x)*Dt,vt=(e.min.x-Ht.x)*Dt),Nt>=0?(s=(e.min.y-Ht.y)*Nt,Tt=(e.max.y-Ht.y)*Nt):(s=(e.max.y-Ht.y)*Nt,Tt=(e.min.y-Ht.y)*Nt),ft>Tt||s>vt||((s>ft||isNaN(ft))&&(ft=s),(Tt<vt||isNaN(vt))&&(vt=Tt),Wt>=0?(At=(e.min.z-Ht.z)*Wt,Rt=(e.max.z-Ht.z)*Wt):(At=(e.max.z-Ht.z)*Wt,Rt=(e.min.z-Ht.z)*Wt),ft>Rt||At>vt)||((At>ft||ft!==ft)&&(ft=At),(Rt<vt||vt!==vt)&&(vt=Rt),vt<0)?null:this.at(ft>=0?ft:vt,$)}intersectsBox(e){return this.intersectBox(e,_vector$a)!==null}intersectTriangle(e,$,ft,vt,s){_edge1.subVectors($,e),_edge2.subVectors(ft,e),_normal$1.crossVectors(_edge1,_edge2);let Tt=this.direction.dot(_normal$1),At;if(Tt>0){if(vt)return null;At=1}else if(Tt<0)At=-1,Tt=-Tt;else return null;_diff.subVectors(this.origin,e);const Rt=At*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(Rt<0)return null;const Dt=At*this.direction.dot(_edge1.cross(_diff));if(Dt<0||Rt+Dt>Tt)return null;const Nt=-At*_diff.dot(_normal$1);return Nt<0?null:this.at(Nt/Tt,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,$,ft,vt,s,Tt,At,Rt,Dt,Nt,Wt,Ht,Kt,Ft,tn,cn){const fn=this.elements;return fn[0]=e,fn[4]=$,fn[8]=ft,fn[12]=vt,fn[1]=s,fn[5]=Tt,fn[9]=At,fn[13]=Rt,fn[2]=Dt,fn[6]=Nt,fn[10]=Wt,fn[14]=Ht,fn[3]=Kt,fn[7]=Ft,fn[11]=tn,fn[15]=cn,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const $=this.elements,ft=e.elements;return $[0]=ft[0],$[1]=ft[1],$[2]=ft[2],$[3]=ft[3],$[4]=ft[4],$[5]=ft[5],$[6]=ft[6],$[7]=ft[7],$[8]=ft[8],$[9]=ft[9],$[10]=ft[10],$[11]=ft[11],$[12]=ft[12],$[13]=ft[13],$[14]=ft[14],$[15]=ft[15],this}copyPosition(e){const $=this.elements,ft=e.elements;return $[12]=ft[12],$[13]=ft[13],$[14]=ft[14],this}setFromMatrix3(e){const $=e.elements;return this.set($[0],$[3],$[6],0,$[1],$[4],$[7],0,$[2],$[5],$[8],0,0,0,0,1),this}extractBasis(e,$,ft){return e.setFromMatrixColumn(this,0),$.setFromMatrixColumn(this,1),ft.setFromMatrixColumn(this,2),this}makeBasis(e,$,ft){return this.set(e.x,$.x,ft.x,0,e.y,$.y,ft.y,0,e.z,$.z,ft.z,0,0,0,0,1),this}extractRotation(e){const $=this.elements,ft=e.elements,vt=1/_v1$5.setFromMatrixColumn(e,0).length(),s=1/_v1$5.setFromMatrixColumn(e,1).length(),Tt=1/_v1$5.setFromMatrixColumn(e,2).length();return $[0]=ft[0]*vt,$[1]=ft[1]*vt,$[2]=ft[2]*vt,$[3]=0,$[4]=ft[4]*s,$[5]=ft[5]*s,$[6]=ft[6]*s,$[7]=0,$[8]=ft[8]*Tt,$[9]=ft[9]*Tt,$[10]=ft[10]*Tt,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,this}makeRotationFromEuler(e){const $=this.elements,ft=e.x,vt=e.y,s=e.z,Tt=Math.cos(ft),At=Math.sin(ft),Rt=Math.cos(vt),Dt=Math.sin(vt),Nt=Math.cos(s),Wt=Math.sin(s);if(e.order==="XYZ"){const Ht=Tt*Nt,Kt=Tt*Wt,Ft=At*Nt,tn=At*Wt;$[0]=Rt*Nt,$[4]=-Rt*Wt,$[8]=Dt,$[1]=Kt+Ft*Dt,$[5]=Ht-tn*Dt,$[9]=-At*Rt,$[2]=tn-Ht*Dt,$[6]=Ft+Kt*Dt,$[10]=Tt*Rt}else if(e.order==="YXZ"){const Ht=Rt*Nt,Kt=Rt*Wt,Ft=Dt*Nt,tn=Dt*Wt;$[0]=Ht+tn*At,$[4]=Ft*At-Kt,$[8]=Tt*Dt,$[1]=Tt*Wt,$[5]=Tt*Nt,$[9]=-At,$[2]=Kt*At-Ft,$[6]=tn+Ht*At,$[10]=Tt*Rt}else if(e.order==="ZXY"){const Ht=Rt*Nt,Kt=Rt*Wt,Ft=Dt*Nt,tn=Dt*Wt;$[0]=Ht-tn*At,$[4]=-Tt*Wt,$[8]=Ft+Kt*At,$[1]=Kt+Ft*At,$[5]=Tt*Nt,$[9]=tn-Ht*At,$[2]=-Tt*Dt,$[6]=At,$[10]=Tt*Rt}else if(e.order==="ZYX"){const Ht=Tt*Nt,Kt=Tt*Wt,Ft=At*Nt,tn=At*Wt;$[0]=Rt*Nt,$[4]=Ft*Dt-Kt,$[8]=Ht*Dt+tn,$[1]=Rt*Wt,$[5]=tn*Dt+Ht,$[9]=Kt*Dt-Ft,$[2]=-Dt,$[6]=At*Rt,$[10]=Tt*Rt}else if(e.order==="YZX"){const Ht=Tt*Rt,Kt=Tt*Dt,Ft=At*Rt,tn=At*Dt;$[0]=Rt*Nt,$[4]=tn-Ht*Wt,$[8]=Ft*Wt+Kt,$[1]=Wt,$[5]=Tt*Nt,$[9]=-At*Nt,$[2]=-Dt*Nt,$[6]=Kt*Wt+Ft,$[10]=Ht-tn*Wt}else if(e.order==="XZY"){const Ht=Tt*Rt,Kt=Tt*Dt,Ft=At*Rt,tn=At*Dt;$[0]=Rt*Nt,$[4]=-Wt,$[8]=Dt*Nt,$[1]=Ht*Wt+tn,$[5]=Tt*Nt,$[9]=Kt*Wt-Ft,$[2]=Ft*Wt-Kt,$[6]=At*Nt,$[10]=tn*Wt+Ht}return $[3]=0,$[7]=0,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,$,ft){const vt=this.elements;return _z.subVectors(e,$),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(ft,_z),_x.lengthSq()===0&&(Math.abs(ft.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(ft,_z)),_x.normalize(),_y.crossVectors(_z,_x),vt[0]=_x.x,vt[4]=_y.x,vt[8]=_z.x,vt[1]=_x.y,vt[5]=_y.y,vt[9]=_z.y,vt[2]=_x.z,vt[6]=_y.z,vt[10]=_z.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,$){const ft=e.elements,vt=$.elements,s=this.elements,Tt=ft[0],At=ft[4],Rt=ft[8],Dt=ft[12],Nt=ft[1],Wt=ft[5],Ht=ft[9],Kt=ft[13],Ft=ft[2],tn=ft[6],cn=ft[10],fn=ft[14],ln=ft[3],dn=ft[7],mn=ft[11],xn=ft[15],Mn=vt[0],Tn=vt[4],vn=vt[8],An=vt[12],Pn=vt[1],bn=vt[5],In=vt[9],On=vt[13],Nn=vt[2],Yn=vt[6],Xn=vt[10],sr=vt[14],Un=vt[3],Gn=vt[7],Wn=vt[11],$n=vt[15];return s[0]=Tt*Mn+At*Pn+Rt*Nn+Dt*Un,s[4]=Tt*Tn+At*bn+Rt*Yn+Dt*Gn,s[8]=Tt*vn+At*In+Rt*Xn+Dt*Wn,s[12]=Tt*An+At*On+Rt*sr+Dt*$n,s[1]=Nt*Mn+Wt*Pn+Ht*Nn+Kt*Un,s[5]=Nt*Tn+Wt*bn+Ht*Yn+Kt*Gn,s[9]=Nt*vn+Wt*In+Ht*Xn+Kt*Wn,s[13]=Nt*An+Wt*On+Ht*sr+Kt*$n,s[2]=Ft*Mn+tn*Pn+cn*Nn+fn*Un,s[6]=Ft*Tn+tn*bn+cn*Yn+fn*Gn,s[10]=Ft*vn+tn*In+cn*Xn+fn*Wn,s[14]=Ft*An+tn*On+cn*sr+fn*$n,s[3]=ln*Mn+dn*Pn+mn*Nn+xn*Un,s[7]=ln*Tn+dn*bn+mn*Yn+xn*Gn,s[11]=ln*vn+dn*In+mn*Xn+xn*Wn,s[15]=ln*An+dn*On+mn*sr+xn*$n,this}multiplyScalar(e){const $=this.elements;return $[0]*=e,$[4]*=e,$[8]*=e,$[12]*=e,$[1]*=e,$[5]*=e,$[9]*=e,$[13]*=e,$[2]*=e,$[6]*=e,$[10]*=e,$[14]*=e,$[3]*=e,$[7]*=e,$[11]*=e,$[15]*=e,this}determinant(){const e=this.elements,$=e[0],ft=e[4],vt=e[8],s=e[12],Tt=e[1],At=e[5],Rt=e[9],Dt=e[13],Nt=e[2],Wt=e[6],Ht=e[10],Kt=e[14],Ft=e[3],tn=e[7],cn=e[11],fn=e[15];return Ft*(+s*Rt*Wt-vt*Dt*Wt-s*At*Ht+ft*Dt*Ht+vt*At*Kt-ft*Rt*Kt)+tn*(+$*Rt*Kt-$*Dt*Ht+s*Tt*Ht-vt*Tt*Kt+vt*Dt*Nt-s*Rt*Nt)+cn*(+$*Dt*Wt-$*At*Kt-s*Tt*Wt+ft*Tt*Kt+s*At*Nt-ft*Dt*Nt)+fn*(-vt*At*Nt-$*Rt*Wt+$*At*Ht+vt*Tt*Wt-ft*Tt*Ht+ft*Rt*Nt)}transpose(){const e=this.elements;let $;return $=e[1],e[1]=e[4],e[4]=$,$=e[2],e[2]=e[8],e[8]=$,$=e[6],e[6]=e[9],e[9]=$,$=e[3],e[3]=e[12],e[12]=$,$=e[7],e[7]=e[13],e[13]=$,$=e[11],e[11]=e[14],e[14]=$,this}setPosition(e,$,ft){const vt=this.elements;return e.isVector3?(vt[12]=e.x,vt[13]=e.y,vt[14]=e.z):(vt[12]=e,vt[13]=$,vt[14]=ft),this}invert(){const e=this.elements,$=e[0],ft=e[1],vt=e[2],s=e[3],Tt=e[4],At=e[5],Rt=e[6],Dt=e[7],Nt=e[8],Wt=e[9],Ht=e[10],Kt=e[11],Ft=e[12],tn=e[13],cn=e[14],fn=e[15],ln=Wt*cn*Dt-tn*Ht*Dt+tn*Rt*Kt-At*cn*Kt-Wt*Rt*fn+At*Ht*fn,dn=Ft*Ht*Dt-Nt*cn*Dt-Ft*Rt*Kt+Tt*cn*Kt+Nt*Rt*fn-Tt*Ht*fn,mn=Nt*tn*Dt-Ft*Wt*Dt+Ft*At*Kt-Tt*tn*Kt-Nt*At*fn+Tt*Wt*fn,xn=Ft*Wt*Rt-Nt*tn*Rt-Ft*At*Ht+Tt*tn*Ht+Nt*At*cn-Tt*Wt*cn,Mn=$*ln+ft*dn+vt*mn+s*xn;if(Mn===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Tn=1/Mn;return e[0]=ln*Tn,e[1]=(tn*Ht*s-Wt*cn*s-tn*vt*Kt+ft*cn*Kt+Wt*vt*fn-ft*Ht*fn)*Tn,e[2]=(At*cn*s-tn*Rt*s+tn*vt*Dt-ft*cn*Dt-At*vt*fn+ft*Rt*fn)*Tn,e[3]=(Wt*Rt*s-At*Ht*s-Wt*vt*Dt+ft*Ht*Dt+At*vt*Kt-ft*Rt*Kt)*Tn,e[4]=dn*Tn,e[5]=(Nt*cn*s-Ft*Ht*s+Ft*vt*Kt-$*cn*Kt-Nt*vt*fn+$*Ht*fn)*Tn,e[6]=(Ft*Rt*s-Tt*cn*s-Ft*vt*Dt+$*cn*Dt+Tt*vt*fn-$*Rt*fn)*Tn,e[7]=(Tt*Ht*s-Nt*Rt*s+Nt*vt*Dt-$*Ht*Dt-Tt*vt*Kt+$*Rt*Kt)*Tn,e[8]=mn*Tn,e[9]=(Ft*Wt*s-Nt*tn*s-Ft*ft*Kt+$*tn*Kt+Nt*ft*fn-$*Wt*fn)*Tn,e[10]=(Tt*tn*s-Ft*At*s+Ft*ft*Dt-$*tn*Dt-Tt*ft*fn+$*At*fn)*Tn,e[11]=(Nt*At*s-Tt*Wt*s-Nt*ft*Dt+$*Wt*Dt+Tt*ft*Kt-$*At*Kt)*Tn,e[12]=xn*Tn,e[13]=(Nt*tn*vt-Ft*Wt*vt+Ft*ft*Ht-$*tn*Ht-Nt*ft*cn+$*Wt*cn)*Tn,e[14]=(Ft*At*vt-Tt*tn*vt-Ft*ft*Rt+$*tn*Rt+Tt*ft*cn-$*At*cn)*Tn,e[15]=(Tt*Wt*vt-Nt*At*vt+Nt*ft*Rt-$*Wt*Rt-Tt*ft*Ht+$*At*Ht)*Tn,this}scale(e){const $=this.elements,ft=e.x,vt=e.y,s=e.z;return $[0]*=ft,$[4]*=vt,$[8]*=s,$[1]*=ft,$[5]*=vt,$[9]*=s,$[2]*=ft,$[6]*=vt,$[10]*=s,$[3]*=ft,$[7]*=vt,$[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,$=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],ft=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],vt=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max($,ft,vt))}makeTranslation(e,$,ft){return this.set(1,0,0,e,0,1,0,$,0,0,1,ft,0,0,0,1),this}makeRotationX(e){const $=Math.cos(e),ft=Math.sin(e);return this.set(1,0,0,0,0,$,-ft,0,0,ft,$,0,0,0,0,1),this}makeRotationY(e){const $=Math.cos(e),ft=Math.sin(e);return this.set($,0,ft,0,0,1,0,0,-ft,0,$,0,0,0,0,1),this}makeRotationZ(e){const $=Math.cos(e),ft=Math.sin(e);return this.set($,-ft,0,0,ft,$,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,$){const ft=Math.cos($),vt=Math.sin($),s=1-ft,Tt=e.x,At=e.y,Rt=e.z,Dt=s*Tt,Nt=s*At;return this.set(Dt*Tt+ft,Dt*At-vt*Rt,Dt*Rt+vt*At,0,Dt*At+vt*Rt,Nt*At+ft,Nt*Rt-vt*Tt,0,Dt*Rt-vt*At,Nt*Rt+vt*Tt,s*Rt*Rt+ft,0,0,0,0,1),this}makeScale(e,$,ft){return this.set(e,0,0,0,0,$,0,0,0,0,ft,0,0,0,0,1),this}makeShear(e,$,ft,vt,s,Tt){return this.set(1,ft,s,0,e,1,Tt,0,$,vt,1,0,0,0,0,1),this}compose(e,$,ft){const vt=this.elements,s=$._x,Tt=$._y,At=$._z,Rt=$._w,Dt=s+s,Nt=Tt+Tt,Wt=At+At,Ht=s*Dt,Kt=s*Nt,Ft=s*Wt,tn=Tt*Nt,cn=Tt*Wt,fn=At*Wt,ln=Rt*Dt,dn=Rt*Nt,mn=Rt*Wt,xn=ft.x,Mn=ft.y,Tn=ft.z;return vt[0]=(1-(tn+fn))*xn,vt[1]=(Kt+mn)*xn,vt[2]=(Ft-dn)*xn,vt[3]=0,vt[4]=(Kt-mn)*Mn,vt[5]=(1-(Ht+fn))*Mn,vt[6]=(cn+ln)*Mn,vt[7]=0,vt[8]=(Ft+dn)*Tn,vt[9]=(cn-ln)*Tn,vt[10]=(1-(Ht+tn))*Tn,vt[11]=0,vt[12]=e.x,vt[13]=e.y,vt[14]=e.z,vt[15]=1,this}decompose(e,$,ft){const vt=this.elements;let s=_v1$5.set(vt[0],vt[1],vt[2]).length();const Tt=_v1$5.set(vt[4],vt[5],vt[6]).length(),At=_v1$5.set(vt[8],vt[9],vt[10]).length();this.determinant()<0&&(s=-s),e.x=vt[12],e.y=vt[13],e.z=vt[14],_m1$2.copy(this);const Dt=1/s,Nt=1/Tt,Wt=1/At;return _m1$2.elements[0]*=Dt,_m1$2.elements[1]*=Dt,_m1$2.elements[2]*=Dt,_m1$2.elements[4]*=Nt,_m1$2.elements[5]*=Nt,_m1$2.elements[6]*=Nt,_m1$2.elements[8]*=Wt,_m1$2.elements[9]*=Wt,_m1$2.elements[10]*=Wt,$.setFromRotationMatrix(_m1$2),ft.x=s,ft.y=Tt,ft.z=At,this}makePerspective(e,$,ft,vt,s,Tt){const At=this.elements,Rt=2*s/($-e),Dt=2*s/(ft-vt),Nt=($+e)/($-e),Wt=(ft+vt)/(ft-vt),Ht=-(Tt+s)/(Tt-s),Kt=-2*Tt*s/(Tt-s);return At[0]=Rt,At[4]=0,At[8]=Nt,At[12]=0,At[1]=0,At[5]=Dt,At[9]=Wt,At[13]=0,At[2]=0,At[6]=0,At[10]=Ht,At[14]=Kt,At[3]=0,At[7]=0,At[11]=-1,At[15]=0,this}makeOrthographic(e,$,ft,vt,s,Tt){const At=this.elements,Rt=1/($-e),Dt=1/(ft-vt),Nt=1/(Tt-s),Wt=($+e)*Rt,Ht=(ft+vt)*Dt,Kt=(Tt+s)*Nt;return At[0]=2*Rt,At[4]=0,At[8]=0,At[12]=-Wt,At[1]=0,At[5]=2*Dt,At[9]=0,At[13]=-Ht,At[2]=0,At[6]=0,At[10]=-2*Nt,At[14]=-Kt,At[3]=0,At[7]=0,At[11]=0,At[15]=1,this}equals(e){const $=this.elements,ft=e.elements;for(let vt=0;vt<16;vt++)if($[vt]!==ft[vt])return!1;return!0}fromArray(e,$=0){for(let ft=0;ft<16;ft++)this.elements[ft]=e[ft+$];return this}toArray(e=[],$=0){const ft=this.elements;return e[$]=ft[0],e[$+1]=ft[1],e[$+2]=ft[2],e[$+3]=ft[3],e[$+4]=ft[4],e[$+5]=ft[5],e[$+6]=ft[6],e[$+7]=ft[7],e[$+8]=ft[8],e[$+9]=ft[9],e[$+10]=ft[10],e[$+11]=ft[11],e[$+12]=ft[12],e[$+13]=ft[13],e[$+14]=ft[14],e[$+15]=ft[15],e}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,$=0,ft=0,vt=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=$,this._z=ft,this._order=vt}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,$,ft,vt=this._order){return this._x=e,this._y=$,this._z=ft,this._order=vt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,$=this._order,ft=!0){const vt=e.elements,s=vt[0],Tt=vt[4],At=vt[8],Rt=vt[1],Dt=vt[5],Nt=vt[9],Wt=vt[2],Ht=vt[6],Kt=vt[10];switch($){case"XYZ":this._y=Math.asin(clamp$1(At,-1,1)),Math.abs(At)<.9999999?(this._x=Math.atan2(-Nt,Kt),this._z=Math.atan2(-Tt,s)):(this._x=Math.atan2(Ht,Dt),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$1(Nt,-1,1)),Math.abs(Nt)<.9999999?(this._y=Math.atan2(At,Kt),this._z=Math.atan2(Rt,Dt)):(this._y=Math.atan2(-Wt,s),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$1(Ht,-1,1)),Math.abs(Ht)<.9999999?(this._y=Math.atan2(-Wt,Kt),this._z=Math.atan2(-Tt,Dt)):(this._y=0,this._z=Math.atan2(Rt,s));break;case"ZYX":this._y=Math.asin(-clamp$1(Wt,-1,1)),Math.abs(Wt)<.9999999?(this._x=Math.atan2(Ht,Kt),this._z=Math.atan2(Rt,s)):(this._x=0,this._z=Math.atan2(-Tt,Dt));break;case"YZX":this._z=Math.asin(clamp$1(Rt,-1,1)),Math.abs(Rt)<.9999999?(this._x=Math.atan2(-Nt,Dt),this._y=Math.atan2(-Wt,s)):(this._x=0,this._y=Math.atan2(At,Kt));break;case"XZY":this._z=Math.asin(-clamp$1(Tt,-1,1)),Math.abs(Tt)<.9999999?(this._x=Math.atan2(Ht,Dt),this._y=Math.atan2(At,s)):(this._x=Math.atan2(-Nt,Kt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+$)}return this._order=$,ft===!0&&this._onChangeCallback(),this}setFromQuaternion(e,$,ft){return _matrix$1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix$1,$,ft)}setFromVector3(e,$=this._order){return this.set(e.x,e.y,e.z,$)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],$=0){return e[$]=this._x,e[$+1]=this._y,e[$+2]=this._z,e[$+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";let Layers$1=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},_object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const e=new Vector3,$=new Euler,ft=new Quaternion,vt=new Vector3(1,1,1);function s(){ft.setFromEuler($,!1)}function Tt(){$.setFromQuaternion(ft,void 0,!1)}$._onChange(s),ft._onChange(Tt),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:$},quaternion:{configurable:!0,enumerable:!0,value:ft},scale:{configurable:!0,enumerable:!0,value:vt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers$1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,$){this.quaternion.setFromAxisAngle(e,$)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,$){return _q1.setFromAxisAngle(e,$),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,$){return _q1.setFromAxisAngle(e,$),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,$){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar($)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(e,$,ft){e.isVector3?_target.copy(e):_target.set(e,$,ft);const vt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),vt&&(_m1$1.extractRotation(vt.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let $=0;$<arguments.length;$++)this.add(arguments[$]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let ft=0;ft<arguments.length;ft++)this.remove(arguments[ft]);return this}const $=this.children.indexOf(e);return $!==-1&&(e.parent=null,this.children.splice($,1),e.dispatchEvent(_removedEvent)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const $=this.children[e];$.parent=null,$.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$1),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,$){if(this[e]===$)return this;for(let ft=0,vt=this.children.length;ft<vt;ft++){const Tt=this.children[ft].getObjectByProperty(e,$);if(Tt!==void 0)return Tt}}getObjectsByProperty(e,$){let ft=[];this[e]===$&&ft.push(this);for(let vt=0,s=this.children.length;vt<s;vt++){const Tt=this.children[vt].getObjectsByProperty(e,$);Tt.length>0&&(ft=ft.concat(Tt))}return ft}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const $=this.matrixWorld.elements;return e.set($[8],$[9],$[10]).normalize()}raycast(){}traverse(e){e(this);const $=this.children;for(let ft=0,vt=$.length;ft<vt;ft++)$[ft].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const $=this.children;for(let ft=0,vt=$.length;ft<vt;ft++)$[ft].traverseVisible(e)}traverseAncestors(e){const $=this.parent;$!==null&&(e($),$.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const $=this.children;for(let ft=0,vt=$.length;ft<vt;ft++){const s=$[ft];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,$){const ft=this.parent;if(e===!0&&ft!==null&&ft.matrixWorldAutoUpdate===!0&&ft.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),$===!0){const vt=this.children;for(let s=0,Tt=vt.length;s<Tt;s++){const At=vt[s];At.matrixWorldAutoUpdate===!0&&At.updateWorldMatrix(!1,!0)}}}toJSON(e){const $=e===void 0||typeof e=="string",ft={};$&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},ft.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const vt={};vt.uuid=this.uuid,vt.type=this.type,this.name!==""&&(vt.name=this.name),this.castShadow===!0&&(vt.castShadow=!0),this.receiveShadow===!0&&(vt.receiveShadow=!0),this.visible===!1&&(vt.visible=!1),this.frustumCulled===!1&&(vt.frustumCulled=!1),this.renderOrder!==0&&(vt.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(vt.userData=this.userData),vt.layers=this.layers.mask,vt.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(vt.matrixAutoUpdate=!1),this.isInstancedMesh&&(vt.type="InstancedMesh",vt.count=this.count,vt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(vt.instanceColor=this.instanceColor.toJSON()));function s(At,Rt){return At[Rt.uuid]===void 0&&(At[Rt.uuid]=Rt.toJSON(e)),Rt.uuid}if(this.isScene)this.background&&(this.background.isColor?vt.background=this.background.toJSON():this.background.isTexture&&(vt.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(vt.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){vt.geometry=s(e.geometries,this.geometry);const At=this.geometry.parameters;if(At!==void 0&&At.shapes!==void 0){const Rt=At.shapes;if(Array.isArray(Rt))for(let Dt=0,Nt=Rt.length;Dt<Nt;Dt++){const Wt=Rt[Dt];s(e.shapes,Wt)}else s(e.shapes,Rt)}}if(this.isSkinnedMesh&&(vt.bindMode=this.bindMode,vt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),vt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const At=[];for(let Rt=0,Dt=this.material.length;Rt<Dt;Rt++)At.push(s(e.materials,this.material[Rt]));vt.material=At}else vt.material=s(e.materials,this.material);if(this.children.length>0){vt.children=[];for(let At=0;At<this.children.length;At++)vt.children.push(this.children[At].toJSON(e).object)}if(this.animations.length>0){vt.animations=[];for(let At=0;At<this.animations.length;At++){const Rt=this.animations[At];vt.animations.push(s(e.animations,Rt))}}if($){const At=Tt(e.geometries),Rt=Tt(e.materials),Dt=Tt(e.textures),Nt=Tt(e.images),Wt=Tt(e.shapes),Ht=Tt(e.skeletons),Kt=Tt(e.animations),Ft=Tt(e.nodes);At.length>0&&(ft.geometries=At),Rt.length>0&&(ft.materials=Rt),Dt.length>0&&(ft.textures=Dt),Nt.length>0&&(ft.images=Nt),Wt.length>0&&(ft.shapes=Wt),Ht.length>0&&(ft.skeletons=Ht),Kt.length>0&&(ft.animations=Kt),Ft.length>0&&(ft.nodes=Ft)}return ft.object=vt,ft;function Tt(At){const Rt=[];for(const Dt in At){const Nt=At[Dt];delete Nt.metadata,Rt.push(Nt)}return Rt}}clone(e){return new this.constructor().copy(this,e)}copy(e,$=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),$===!0)for(let ft=0;ft<e.children.length;ft++){const vt=e.children[ft];this.add(vt.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(e=new Vector3,$=new Vector3,ft=new Vector3){this.a=e,this.b=$,this.c=ft}static getNormal(e,$,ft,vt){vt.subVectors(ft,$),_v0$1.subVectors(e,$),vt.cross(_v0$1);const s=vt.lengthSq();return s>0?vt.multiplyScalar(1/Math.sqrt(s)):vt.set(0,0,0)}static getBarycoord(e,$,ft,vt,s){_v0$1.subVectors(vt,$),_v1$3.subVectors(ft,$),_v2$2.subVectors(e,$);const Tt=_v0$1.dot(_v0$1),At=_v0$1.dot(_v1$3),Rt=_v0$1.dot(_v2$2),Dt=_v1$3.dot(_v1$3),Nt=_v1$3.dot(_v2$2),Wt=Tt*Dt-At*At;if(Wt===0)return s.set(-2,-1,-1);const Ht=1/Wt,Kt=(Dt*Rt-At*Nt)*Ht,Ft=(Tt*Nt-At*Rt)*Ht;return s.set(1-Kt-Ft,Ft,Kt)}static containsPoint(e,$,ft,vt){return this.getBarycoord(e,$,ft,vt,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(e,$,ft,vt,s,Tt,At,Rt){return this.getBarycoord(e,$,ft,vt,_v3$1),Rt.set(0,0),Rt.addScaledVector(s,_v3$1.x),Rt.addScaledVector(Tt,_v3$1.y),Rt.addScaledVector(At,_v3$1.z),Rt}static isFrontFacing(e,$,ft,vt){return _v0$1.subVectors(ft,$),_v1$3.subVectors(e,$),_v0$1.cross(_v1$3).dot(vt)<0}set(e,$,ft){return this.a.copy(e),this.b.copy($),this.c.copy(ft),this}setFromPointsAndIndices(e,$,ft,vt){return this.a.copy(e[$]),this.b.copy(e[ft]),this.c.copy(e[vt]),this}setFromAttributeAndIndices(e,$,ft,vt){return this.a.fromBufferAttribute(e,$),this.b.fromBufferAttribute(e,ft),this.c.fromBufferAttribute(e,vt),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,$){return Triangle.getBarycoord(e,this.a,this.b,this.c,$)}getUV(e,$,ft,vt,s){return Triangle.getUV(e,this.a,this.b,this.c,$,ft,vt,s)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,$){const ft=this.a,vt=this.b,s=this.c;let Tt,At;_vab.subVectors(vt,ft),_vac.subVectors(s,ft),_vap.subVectors(e,ft);const Rt=_vab.dot(_vap),Dt=_vac.dot(_vap);if(Rt<=0&&Dt<=0)return $.copy(ft);_vbp.subVectors(e,vt);const Nt=_vab.dot(_vbp),Wt=_vac.dot(_vbp);if(Nt>=0&&Wt<=Nt)return $.copy(vt);const Ht=Rt*Wt-Nt*Dt;if(Ht<=0&&Rt>=0&&Nt<=0)return Tt=Rt/(Rt-Nt),$.copy(ft).addScaledVector(_vab,Tt);_vcp.subVectors(e,s);const Kt=_vab.dot(_vcp),Ft=_vac.dot(_vcp);if(Ft>=0&&Kt<=Ft)return $.copy(s);const tn=Kt*Dt-Rt*Ft;if(tn<=0&&Dt>=0&&Ft<=0)return At=Dt/(Dt-Ft),$.copy(ft).addScaledVector(_vac,At);const cn=Nt*Ft-Kt*Wt;if(cn<=0&&Wt-Nt>=0&&Kt-Ft>=0)return _vbc.subVectors(s,vt),At=(Wt-Nt)/(Wt-Nt+(Kt-Ft)),$.copy(vt).addScaledVector(_vbc,At);const fn=1/(cn+tn+Ht);return Tt=tn*fn,At=Ht*fn,$.copy(ft).addScaledVector(_vab,Tt).addScaledVector(_vac,At)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let materialId=0,Material$1=class extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const $ in e){const ft=e[$];if(ft===void 0){console.warn("THREE.Material: '"+$+"' parameter is undefined.");continue}const vt=this[$];if(vt===void 0){console.warn("THREE."+this.type+": '"+$+"' is not a property of this material.");continue}vt&&vt.isColor?vt.set(ft):vt&&vt.isVector3&&ft&&ft.isVector3?vt.copy(ft):this[$]=ft}}toJSON(e){const $=e===void 0||typeof e=="string";$&&(e={textures:{},images:{}});const ft={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};ft.uuid=this.uuid,ft.type=this.type,this.name!==""&&(ft.name=this.name),this.color&&this.color.isColor&&(ft.color=this.color.getHex()),this.roughness!==void 0&&(ft.roughness=this.roughness),this.metalness!==void 0&&(ft.metalness=this.metalness),this.sheen!==void 0&&(ft.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(ft.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(ft.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(ft.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(ft.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(ft.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(ft.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(ft.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(ft.shininess=this.shininess),this.clearcoat!==void 0&&(ft.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(ft.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(ft.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(ft.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(ft.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,ft.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(ft.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(ft.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(ft.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(ft.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(ft.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(ft.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(ft.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(ft.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(ft.lightMap=this.lightMap.toJSON(e).uuid,ft.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(ft.aoMap=this.aoMap.toJSON(e).uuid,ft.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(ft.bumpMap=this.bumpMap.toJSON(e).uuid,ft.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(ft.normalMap=this.normalMap.toJSON(e).uuid,ft.normalMapType=this.normalMapType,ft.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(ft.displacementMap=this.displacementMap.toJSON(e).uuid,ft.displacementScale=this.displacementScale,ft.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(ft.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(ft.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(ft.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(ft.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(ft.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(ft.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(ft.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(ft.combine=this.combine)),this.envMapIntensity!==void 0&&(ft.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(ft.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(ft.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(ft.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(ft.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(ft.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(ft.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(ft.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(ft.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(ft.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(ft.size=this.size),this.shadowSide!==null&&(ft.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(ft.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(ft.blending=this.blending),this.side!==FrontSide&&(ft.side=this.side),this.vertexColors&&(ft.vertexColors=!0),this.opacity<1&&(ft.opacity=this.opacity),this.transparent===!0&&(ft.transparent=this.transparent),ft.depthFunc=this.depthFunc,ft.depthTest=this.depthTest,ft.depthWrite=this.depthWrite,ft.colorWrite=this.colorWrite,ft.stencilWrite=this.stencilWrite,ft.stencilWriteMask=this.stencilWriteMask,ft.stencilFunc=this.stencilFunc,ft.stencilRef=this.stencilRef,ft.stencilFuncMask=this.stencilFuncMask,ft.stencilFail=this.stencilFail,ft.stencilZFail=this.stencilZFail,ft.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(ft.rotation=this.rotation),this.polygonOffset===!0&&(ft.polygonOffset=!0),this.polygonOffsetFactor!==0&&(ft.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(ft.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(ft.linewidth=this.linewidth),this.dashSize!==void 0&&(ft.dashSize=this.dashSize),this.gapSize!==void 0&&(ft.gapSize=this.gapSize),this.scale!==void 0&&(ft.scale=this.scale),this.dithering===!0&&(ft.dithering=!0),this.alphaTest>0&&(ft.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(ft.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(ft.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(ft.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(ft.wireframe=this.wireframe),this.wireframeLinewidth>1&&(ft.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(ft.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(ft.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(ft.flatShading=this.flatShading),this.visible===!1&&(ft.visible=!1),this.toneMapped===!1&&(ft.toneMapped=!1),this.fog===!1&&(ft.fog=!1),Object.keys(this.userData).length>0&&(ft.userData=this.userData);function vt(s){const Tt=[];for(const At in s){const Rt=s[At];delete Rt.metadata,Tt.push(Rt)}return Tt}if($){const s=vt(e.textures),Tt=vt(e.images);s.length>0&&(ft.textures=s),Tt.length>0&&(ft.images=Tt)}return ft}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const $=e.clippingPlanes;let ft=null;if($!==null){const vt=$.length;ft=new Array(vt);for(let s=0;s!==vt;++s)ft[s]=$[s].clone()}return this.clippingPlanes=ft,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(lt,e,$){return $<0&&($+=1),$>1&&($-=1),$<1/6?lt+(e-lt)*6*$:$<1/2?e:$<2/3?lt+(e-lt)*6*(2/3-$):lt}class Color{constructor(e,$,ft){return this.isColor=!0,this.r=1,this.g=1,this.b=1,$===void 0&&ft===void 0?this.set(e):this.setRGB(e,$,ft)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,$=SRGBColorSpace){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ColorManagement.toWorkingColorSpace(this,$),this}setRGB(e,$,ft,vt=ColorManagement.workingColorSpace){return this.r=e,this.g=$,this.b=ft,ColorManagement.toWorkingColorSpace(this,vt),this}setHSL(e,$,ft,vt=ColorManagement.workingColorSpace){if(e=euclideanModulo(e,1),$=clamp$1($,0,1),ft=clamp$1(ft,0,1),$===0)this.r=this.g=this.b=ft;else{const s=ft<=.5?ft*(1+$):ft+$-ft*$,Tt=2*ft-s;this.r=hue2rgb(Tt,s,e+1/3),this.g=hue2rgb(Tt,s,e),this.b=hue2rgb(Tt,s,e-1/3)}return ColorManagement.toWorkingColorSpace(this,vt),this}setStyle(e,$=SRGBColorSpace){function ft(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let vt;if(vt=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const Tt=vt[1],At=vt[2];switch(Tt){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(At))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ColorManagement.toWorkingColorSpace(this,$),ft(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(At))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ColorManagement.toWorkingColorSpace(this,$),ft(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(At)){const Rt=parseFloat(s[1])/360,Dt=parseFloat(s[2])/100,Nt=parseFloat(s[3])/100;return ft(s[4]),this.setHSL(Rt,Dt,Nt,$)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(vt=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=vt[1],Tt=s.length;if(Tt===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,$),this;if(Tt===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,$),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,$);return this}setColorName(e,$=SRGBColorSpace){const ft=_colorKeywords[e.toLowerCase()];return ft!==void 0?this.setHex(ft,$):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),e),clamp$1(_color.r*255,0,255)<<16^clamp$1(_color.g*255,0,255)<<8^clamp$1(_color.b*255,0,255)<<0}getHexString(e=SRGBColorSpace){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,$=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),$);const ft=_color.r,vt=_color.g,s=_color.b,Tt=Math.max(ft,vt,s),At=Math.min(ft,vt,s);let Rt,Dt;const Nt=(At+Tt)/2;if(At===Tt)Rt=0,Dt=0;else{const Wt=Tt-At;switch(Dt=Nt<=.5?Wt/(Tt+At):Wt/(2-Tt-At),Tt){case ft:Rt=(vt-s)/Wt+(vt<s?6:0);break;case vt:Rt=(s-ft)/Wt+2;break;case s:Rt=(ft-vt)/Wt+4;break}Rt/=6}return e.h=Rt,e.s=Dt,e.l=Nt,e}getRGB(e,$=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),$),e.r=_color.r,e.g=_color.g,e.b=_color.b,e}getStyle(e=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),e);const $=_color.r,ft=_color.g,vt=_color.b;return e!==SRGBColorSpace?`color(${e} ${$.toFixed(3)} ${ft.toFixed(3)} ${vt.toFixed(3)})`:`rgb(${$*255|0},${ft*255|0},${vt*255|0})`}offsetHSL(e,$,ft){return this.getHSL(_hslA),_hslA.h+=e,_hslA.s+=$,_hslA.l+=ft,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,$){return this.r=e.r+$.r,this.g=e.g+$.g,this.b=e.b+$.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,$){return this.r+=(e.r-this.r)*$,this.g+=(e.g-this.g)*$,this.b+=(e.b-this.b)*$,this}lerpColors(e,$,ft){return this.r=e.r+($.r-e.r)*ft,this.g=e.g+($.g-e.g)*ft,this.b=e.b+($.b-e.b)*ft,this}lerpHSL(e,$){this.getHSL(_hslA),e.getHSL(_hslB);const ft=lerp(_hslA.h,_hslB.h,$),vt=lerp(_hslA.s,_hslB.s,$),s=lerp(_hslA.l,_hslB.l,$);return this.setHSL(ft,vt,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,$=0){return this.r=e[$],this.g=e[$+1],this.b=e[$+2],this}toArray(e=[],$=0){return e[$]=this.r,e[$+1]=this.g,e[$+2]=this.b,e}fromBufferAttribute(e,$){return this.r=e.getX($),this.g=e.getY($),this.b=e.getZ($),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;class MeshBasicMaterial extends Material$1{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(e,$,ft=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=$,this.count=e!==void 0?e.length/$:0,this.normalized=ft,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,$,ft){e*=this.itemSize,ft*=$.itemSize;for(let vt=0,s=this.itemSize;vt<s;vt++)this.array[e+vt]=$.array[ft+vt];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let $=0,ft=this.count;$<ft;$++)_vector2$1.fromBufferAttribute(this,$),_vector2$1.applyMatrix3(e),this.setXY($,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let $=0,ft=this.count;$<ft;$++)_vector$9.fromBufferAttribute(this,$),_vector$9.applyMatrix3(e),this.setXYZ($,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(e){for(let $=0,ft=this.count;$<ft;$++)_vector$9.fromBufferAttribute(this,$),_vector$9.applyMatrix4(e),this.setXYZ($,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(e){for(let $=0,ft=this.count;$<ft;$++)_vector$9.fromBufferAttribute(this,$),_vector$9.applyNormalMatrix(e),this.setXYZ($,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(e){for(let $=0,ft=this.count;$<ft;$++)_vector$9.fromBufferAttribute(this,$),_vector$9.transformDirection(e),this.setXYZ($,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(e,$=0){return this.array.set(e,$),this}getX(e){let $=this.array[e*this.itemSize];return this.normalized&&($=denormalize($,this.array)),$}setX(e,$){return this.normalized&&($=normalize($,this.array)),this.array[e*this.itemSize]=$,this}getY(e){let $=this.array[e*this.itemSize+1];return this.normalized&&($=denormalize($,this.array)),$}setY(e,$){return this.normalized&&($=normalize($,this.array)),this.array[e*this.itemSize+1]=$,this}getZ(e){let $=this.array[e*this.itemSize+2];return this.normalized&&($=denormalize($,this.array)),$}setZ(e,$){return this.normalized&&($=normalize($,this.array)),this.array[e*this.itemSize+2]=$,this}getW(e){let $=this.array[e*this.itemSize+3];return this.normalized&&($=denormalize($,this.array)),$}setW(e,$){return this.normalized&&($=normalize($,this.array)),this.array[e*this.itemSize+3]=$,this}setXY(e,$,ft){return e*=this.itemSize,this.normalized&&($=normalize($,this.array),ft=normalize(ft,this.array)),this.array[e+0]=$,this.array[e+1]=ft,this}setXYZ(e,$,ft,vt){return e*=this.itemSize,this.normalized&&($=normalize($,this.array),ft=normalize(ft,this.array),vt=normalize(vt,this.array)),this.array[e+0]=$,this.array[e+1]=ft,this.array[e+2]=vt,this}setXYZW(e,$,ft,vt,s){return e*=this.itemSize,this.normalized&&($=normalize($,this.array),ft=normalize(ft,this.array),vt=normalize(vt,this.array),s=normalize(s,this.array)),this.array[e+0]=$,this.array[e+1]=ft,this.array[e+2]=vt,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Int8Array(e),$,ft)}}class Uint8BufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Uint8Array(e),$,ft)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Uint8ClampedArray(e),$,ft)}}class Int16BufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Int16Array(e),$,ft)}}class Uint16BufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Uint16Array(e),$,ft)}}class Int32BufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Int32Array(e),$,ft)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Uint32Array(e),$,ft)}}class Float16BufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Uint16Array(e),$,ft),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Float32Array(e),$,ft)}}class Float64BufferAttribute extends BufferAttribute{constructor(e,$,ft){super(new Float64Array(e),$,ft)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,$){return this.attributes[e]=$,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,$,ft=0){this.groups.push({start:e,count:$,materialIndex:ft})}clearGroups(){this.groups=[]}setDrawRange(e,$){this.drawRange.start=e,this.drawRange.count=$}applyMatrix4(e){const $=this.attributes.position;$!==void 0&&($.applyMatrix4(e),$.needsUpdate=!0);const ft=this.attributes.normal;if(ft!==void 0){const s=new Matrix3().getNormalMatrix(e);ft.applyNormalMatrix(s),ft.needsUpdate=!0}const vt=this.attributes.tangent;return vt!==void 0&&(vt.transformDirection(e),vt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1.makeRotationFromQuaternion(e),this.applyMatrix4(_m1),this}rotateX(e){return _m1.makeRotationX(e),this.applyMatrix4(_m1),this}rotateY(e){return _m1.makeRotationY(e),this.applyMatrix4(_m1),this}rotateZ(e){return _m1.makeRotationZ(e),this.applyMatrix4(_m1),this}translate(e,$,ft){return _m1.makeTranslation(e,$,ft),this.applyMatrix4(_m1),this}scale(e,$,ft){return _m1.makeScale(e,$,ft),this.applyMatrix4(_m1),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const $=[];for(let ft=0,vt=e.length;ft<vt;ft++){const s=e[ft];$.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Float32BufferAttribute($,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,$=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),$)for(let ft=0,vt=$.length;ft<vt;ft++){const s=$[ft];_box$1.setFromBufferAttribute(s),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,$=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const ft=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(e),$)for(let s=0,Tt=$.length;s<Tt;s++){const At=$[s];_boxMorphTargets.setFromBufferAttribute(At),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(ft);let vt=0;for(let s=0,Tt=e.count;s<Tt;s++)_vector$8.fromBufferAttribute(e,s),vt=Math.max(vt,ft.distanceToSquared(_vector$8));if($)for(let s=0,Tt=$.length;s<Tt;s++){const At=$[s],Rt=this.morphTargetsRelative;for(let Dt=0,Nt=At.count;Dt<Nt;Dt++)_vector$8.fromBufferAttribute(At,Dt),Rt&&(_offset.fromBufferAttribute(e,Dt),_vector$8.add(_offset)),vt=Math.max(vt,ft.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(vt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,$=this.attributes;if(e===null||$.position===void 0||$.normal===void 0||$.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const ft=e.array,vt=$.position.array,s=$.normal.array,Tt=$.uv.array,At=vt.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*At),4));const Rt=this.getAttribute("tangent").array,Dt=[],Nt=[];for(let Pn=0;Pn<At;Pn++)Dt[Pn]=new Vector3,Nt[Pn]=new Vector3;const Wt=new Vector3,Ht=new Vector3,Kt=new Vector3,Ft=new Vector2,tn=new Vector2,cn=new Vector2,fn=new Vector3,ln=new Vector3;function dn(Pn,bn,In){Wt.fromArray(vt,Pn*3),Ht.fromArray(vt,bn*3),Kt.fromArray(vt,In*3),Ft.fromArray(Tt,Pn*2),tn.fromArray(Tt,bn*2),cn.fromArray(Tt,In*2),Ht.sub(Wt),Kt.sub(Wt),tn.sub(Ft),cn.sub(Ft);const On=1/(tn.x*cn.y-cn.x*tn.y);isFinite(On)&&(fn.copy(Ht).multiplyScalar(cn.y).addScaledVector(Kt,-tn.y).multiplyScalar(On),ln.copy(Kt).multiplyScalar(tn.x).addScaledVector(Ht,-cn.x).multiplyScalar(On),Dt[Pn].add(fn),Dt[bn].add(fn),Dt[In].add(fn),Nt[Pn].add(ln),Nt[bn].add(ln),Nt[In].add(ln))}let mn=this.groups;mn.length===0&&(mn=[{start:0,count:ft.length}]);for(let Pn=0,bn=mn.length;Pn<bn;++Pn){const In=mn[Pn],On=In.start,Nn=In.count;for(let Yn=On,Xn=On+Nn;Yn<Xn;Yn+=3)dn(ft[Yn+0],ft[Yn+1],ft[Yn+2])}const xn=new Vector3,Mn=new Vector3,Tn=new Vector3,vn=new Vector3;function An(Pn){Tn.fromArray(s,Pn*3),vn.copy(Tn);const bn=Dt[Pn];xn.copy(bn),xn.sub(Tn.multiplyScalar(Tn.dot(bn))).normalize(),Mn.crossVectors(vn,bn);const On=Mn.dot(Nt[Pn])<0?-1:1;Rt[Pn*4]=xn.x,Rt[Pn*4+1]=xn.y,Rt[Pn*4+2]=xn.z,Rt[Pn*4+3]=On}for(let Pn=0,bn=mn.length;Pn<bn;++Pn){const In=mn[Pn],On=In.start,Nn=In.count;for(let Yn=On,Xn=On+Nn;Yn<Xn;Yn+=3)An(ft[Yn+0]),An(ft[Yn+1]),An(ft[Yn+2])}}computeVertexNormals(){const e=this.index,$=this.getAttribute("position");if($!==void 0){let ft=this.getAttribute("normal");if(ft===void 0)ft=new BufferAttribute(new Float32Array($.count*3),3),this.setAttribute("normal",ft);else for(let Ht=0,Kt=ft.count;Ht<Kt;Ht++)ft.setXYZ(Ht,0,0,0);const vt=new Vector3,s=new Vector3,Tt=new Vector3,At=new Vector3,Rt=new Vector3,Dt=new Vector3,Nt=new Vector3,Wt=new Vector3;if(e)for(let Ht=0,Kt=e.count;Ht<Kt;Ht+=3){const Ft=e.getX(Ht+0),tn=e.getX(Ht+1),cn=e.getX(Ht+2);vt.fromBufferAttribute($,Ft),s.fromBufferAttribute($,tn),Tt.fromBufferAttribute($,cn),Nt.subVectors(Tt,s),Wt.subVectors(vt,s),Nt.cross(Wt),At.fromBufferAttribute(ft,Ft),Rt.fromBufferAttribute(ft,tn),Dt.fromBufferAttribute(ft,cn),At.add(Nt),Rt.add(Nt),Dt.add(Nt),ft.setXYZ(Ft,At.x,At.y,At.z),ft.setXYZ(tn,Rt.x,Rt.y,Rt.z),ft.setXYZ(cn,Dt.x,Dt.y,Dt.z)}else for(let Ht=0,Kt=$.count;Ht<Kt;Ht+=3)vt.fromBufferAttribute($,Ht+0),s.fromBufferAttribute($,Ht+1),Tt.fromBufferAttribute($,Ht+2),Nt.subVectors(Tt,s),Wt.subVectors(vt,s),Nt.cross(Wt),ft.setXYZ(Ht+0,Nt.x,Nt.y,Nt.z),ft.setXYZ(Ht+1,Nt.x,Nt.y,Nt.z),ft.setXYZ(Ht+2,Nt.x,Nt.y,Nt.z);this.normalizeNormals(),ft.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let $=0,ft=e.count;$<ft;$++)_vector$8.fromBufferAttribute(e,$),_vector$8.normalize(),e.setXYZ($,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function e(At,Rt){const Dt=At.array,Nt=At.itemSize,Wt=At.normalized,Ht=new Dt.constructor(Rt.length*Nt);let Kt=0,Ft=0;for(let tn=0,cn=Rt.length;tn<cn;tn++){At.isInterleavedBufferAttribute?Kt=Rt[tn]*At.data.stride+At.offset:Kt=Rt[tn]*Nt;for(let fn=0;fn<Nt;fn++)Ht[Ft++]=Dt[Kt++]}return new BufferAttribute(Ht,Nt,Wt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const $=new BufferGeometry,ft=this.index.array,vt=this.attributes;for(const At in vt){const Rt=vt[At],Dt=e(Rt,ft);$.setAttribute(At,Dt)}const s=this.morphAttributes;for(const At in s){const Rt=[],Dt=s[At];for(let Nt=0,Wt=Dt.length;Nt<Wt;Nt++){const Ht=Dt[Nt],Kt=e(Ht,ft);Rt.push(Kt)}$.morphAttributes[At]=Rt}$.morphTargetsRelative=this.morphTargetsRelative;const Tt=this.groups;for(let At=0,Rt=Tt.length;At<Rt;At++){const Dt=Tt[At];$.addGroup(Dt.start,Dt.count,Dt.materialIndex)}return $}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const Rt=this.parameters;for(const Dt in Rt)Rt[Dt]!==void 0&&(e[Dt]=Rt[Dt]);return e}e.data={attributes:{}};const $=this.index;$!==null&&(e.data.index={type:$.array.constructor.name,array:Array.prototype.slice.call($.array)});const ft=this.attributes;for(const Rt in ft){const Dt=ft[Rt];e.data.attributes[Rt]=Dt.toJSON(e.data)}const vt={};let s=!1;for(const Rt in this.morphAttributes){const Dt=this.morphAttributes[Rt],Nt=[];for(let Wt=0,Ht=Dt.length;Wt<Ht;Wt++){const Kt=Dt[Wt];Nt.push(Kt.toJSON(e.data))}Nt.length>0&&(vt[Rt]=Nt,s=!0)}s&&(e.data.morphAttributes=vt,e.data.morphTargetsRelative=this.morphTargetsRelative);const Tt=this.groups;Tt.length>0&&(e.data.groups=JSON.parse(JSON.stringify(Tt)));const At=this.boundingSphere;return At!==null&&(e.data.boundingSphere={center:At.center.toArray(),radius:At.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const $={};this.name=e.name;const ft=e.index;ft!==null&&this.setIndex(ft.clone($));const vt=e.attributes;for(const Dt in vt){const Nt=vt[Dt];this.setAttribute(Dt,Nt.clone($))}const s=e.morphAttributes;for(const Dt in s){const Nt=[],Wt=s[Dt];for(let Ht=0,Kt=Wt.length;Ht<Kt;Ht++)Nt.push(Wt[Ht].clone($));this.morphAttributes[Dt]=Nt}this.morphTargetsRelative=e.morphTargetsRelative;const Tt=e.groups;for(let Dt=0,Nt=Tt.length;Dt<Nt;Dt++){const Wt=Tt[Dt];this.addGroup(Wt.start,Wt.count,Wt.materialIndex)}const At=e.boundingBox;At!==null&&(this.boundingBox=At.clone());const Rt=e.boundingSphere;return Rt!==null&&(this.boundingSphere=Rt.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,$=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=$,this.updateMorphTargets()}copy(e,$){return super.copy(e,$),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const $=this.geometry.morphAttributes,ft=Object.keys($);if(ft.length>0){const vt=$[ft[0]];if(vt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,Tt=vt.length;s<Tt;s++){const At=vt[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[At]=s}}}}getVertexPosition(e,$){const ft=this.geometry,vt=ft.attributes.position,s=ft.morphAttributes.position,Tt=ft.morphTargetsRelative;$.fromBufferAttribute(vt,e);const At=this.morphTargetInfluences;if(s&&At){_morphA.set(0,0,0);for(let Rt=0,Dt=s.length;Rt<Dt;Rt++){const Nt=At[Rt],Wt=s[Rt];Nt!==0&&(_tempA.fromBufferAttribute(Wt,e),Tt?_morphA.addScaledVector(_tempA,Nt):_morphA.addScaledVector(_tempA.sub($),Nt))}$.add(_morphA)}return this.isSkinnedMesh&&this.boneTransform(e,$),$}raycast(e,$){const ft=this.geometry,vt=this.material,s=this.matrixWorld;if(vt===void 0||(ft.boundingSphere===null&&ft.computeBoundingSphere(),_sphere$3.copy(ft.boundingSphere),_sphere$3.applyMatrix4(s),_ray$2.copy(e.ray).recast(e.near),_sphere$3.containsPoint(_ray$2.origin)===!1&&(_ray$2.intersectSphere(_sphere$3,_sphereHitAt)===null||_ray$2.origin.distanceToSquared(_sphereHitAt)>(e.far-e.near)**2))||(_inverseMatrix$2.copy(s).invert(),_ray$2.copy(e.ray).applyMatrix4(_inverseMatrix$2),ft.boundingBox!==null&&_ray$2.intersectsBox(ft.boundingBox)===!1))return;let Tt;const At=ft.index,Rt=ft.attributes.position,Dt=ft.attributes.uv,Nt=ft.attributes.uv2,Wt=ft.groups,Ht=ft.drawRange;if(At!==null)if(Array.isArray(vt))for(let Kt=0,Ft=Wt.length;Kt<Ft;Kt++){const tn=Wt[Kt],cn=vt[tn.materialIndex],fn=Math.max(tn.start,Ht.start),ln=Math.min(At.count,Math.min(tn.start+tn.count,Ht.start+Ht.count));for(let dn=fn,mn=ln;dn<mn;dn+=3){const xn=At.getX(dn),Mn=At.getX(dn+1),Tn=At.getX(dn+2);Tt=checkBufferGeometryIntersection(this,cn,e,_ray$2,Dt,Nt,xn,Mn,Tn),Tt&&(Tt.faceIndex=Math.floor(dn/3),Tt.face.materialIndex=tn.materialIndex,$.push(Tt))}}else{const Kt=Math.max(0,Ht.start),Ft=Math.min(At.count,Ht.start+Ht.count);for(let tn=Kt,cn=Ft;tn<cn;tn+=3){const fn=At.getX(tn),ln=At.getX(tn+1),dn=At.getX(tn+2);Tt=checkBufferGeometryIntersection(this,vt,e,_ray$2,Dt,Nt,fn,ln,dn),Tt&&(Tt.faceIndex=Math.floor(tn/3),$.push(Tt))}}else if(Rt!==void 0)if(Array.isArray(vt))for(let Kt=0,Ft=Wt.length;Kt<Ft;Kt++){const tn=Wt[Kt],cn=vt[tn.materialIndex],fn=Math.max(tn.start,Ht.start),ln=Math.min(Rt.count,Math.min(tn.start+tn.count,Ht.start+Ht.count));for(let dn=fn,mn=ln;dn<mn;dn+=3){const xn=dn,Mn=dn+1,Tn=dn+2;Tt=checkBufferGeometryIntersection(this,cn,e,_ray$2,Dt,Nt,xn,Mn,Tn),Tt&&(Tt.faceIndex=Math.floor(dn/3),Tt.face.materialIndex=tn.materialIndex,$.push(Tt))}}else{const Kt=Math.max(0,Ht.start),Ft=Math.min(Rt.count,Ht.start+Ht.count);for(let tn=Kt,cn=Ft;tn<cn;tn+=3){const fn=tn,ln=tn+1,dn=tn+2;Tt=checkBufferGeometryIntersection(this,vt,e,_ray$2,Dt,Nt,fn,ln,dn),Tt&&(Tt.faceIndex=Math.floor(tn/3),$.push(Tt))}}}}function checkIntersection(lt,e,$,ft,vt,s,Tt,At){let Rt;if(e.side===BackSide?Rt=ft.intersectTriangle(Tt,s,vt,!0,At):Rt=ft.intersectTriangle(vt,s,Tt,e.side===FrontSide,At),Rt===null)return null;_intersectionPointWorld.copy(At),_intersectionPointWorld.applyMatrix4(lt.matrixWorld);const Dt=$.ray.origin.distanceTo(_intersectionPointWorld);return Dt<$.near||Dt>$.far?null:{distance:Dt,point:_intersectionPointWorld.clone(),object:lt}}function checkBufferGeometryIntersection(lt,e,$,ft,vt,s,Tt,At,Rt){lt.getVertexPosition(Tt,_vA$1),lt.getVertexPosition(At,_vB$1),lt.getVertexPosition(Rt,_vC$1);const Dt=checkIntersection(lt,e,$,ft,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(Dt){vt&&(_uvA$1.fromBufferAttribute(vt,Tt),_uvB$1.fromBufferAttribute(vt,At),_uvC$1.fromBufferAttribute(vt,Rt),Dt.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),s&&(_uvA$1.fromBufferAttribute(s,Tt),_uvB$1.fromBufferAttribute(s,At),_uvC$1.fromBufferAttribute(s,Rt),Dt.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const Nt={a:Tt,b:At,c:Rt,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,Nt.normal),Dt.face=Nt}return Dt}class BoxGeometry extends BufferGeometry{constructor(e=1,$=1,ft=1,vt=1,s=1,Tt=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:$,depth:ft,widthSegments:vt,heightSegments:s,depthSegments:Tt};const At=this;vt=Math.floor(vt),s=Math.floor(s),Tt=Math.floor(Tt);const Rt=[],Dt=[],Nt=[],Wt=[];let Ht=0,Kt=0;Ft("z","y","x",-1,-1,ft,$,e,Tt,s,0),Ft("z","y","x",1,-1,ft,$,-e,Tt,s,1),Ft("x","z","y",1,1,e,ft,$,vt,Tt,2),Ft("x","z","y",1,-1,e,ft,-$,vt,Tt,3),Ft("x","y","z",1,-1,e,$,ft,vt,s,4),Ft("x","y","z",-1,-1,e,$,-ft,vt,s,5),this.setIndex(Rt),this.setAttribute("position",new Float32BufferAttribute(Dt,3)),this.setAttribute("normal",new Float32BufferAttribute(Nt,3)),this.setAttribute("uv",new Float32BufferAttribute(Wt,2));function Ft(tn,cn,fn,ln,dn,mn,xn,Mn,Tn,vn,An){const Pn=mn/Tn,bn=xn/vn,In=mn/2,On=xn/2,Nn=Mn/2,Yn=Tn+1,Xn=vn+1;let sr=0,Un=0;const Gn=new Vector3;for(let Wn=0;Wn<Xn;Wn++){const $n=Wn*bn-On;for(let zn=0;zn<Yn;zn++){const Zn=zn*Pn-In;Gn[tn]=Zn*ln,Gn[cn]=$n*dn,Gn[fn]=Nn,Dt.push(Gn.x,Gn.y,Gn.z),Gn[tn]=0,Gn[cn]=0,Gn[fn]=Mn>0?1:-1,Nt.push(Gn.x,Gn.y,Gn.z),Wt.push(zn/Tn),Wt.push(1-Wn/vn),sr+=1}}for(let Wn=0;Wn<vn;Wn++)for(let $n=0;$n<Tn;$n++){const zn=Ht+$n+Yn*Wn,Zn=Ht+$n+Yn*(Wn+1),tr=Ht+($n+1)+Yn*(Wn+1),Hn=Ht+($n+1)+Yn*Wn;Rt.push(zn,Zn,Hn),Rt.push(Zn,tr,Hn),Un+=6}At.addGroup(Kt,Un,An),Kt+=Un,Ht+=sr}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(lt){const e={};for(const $ in lt){e[$]={};for(const ft in lt[$]){const vt=lt[$][ft];vt&&(vt.isColor||vt.isMatrix3||vt.isMatrix4||vt.isVector2||vt.isVector3||vt.isVector4||vt.isTexture||vt.isQuaternion)?e[$][ft]=vt.clone():Array.isArray(vt)?e[$][ft]=vt.slice():e[$][ft]=vt}}return e}function mergeUniforms(lt){const e={};for(let $=0;$<lt.length;$++){const ft=cloneUniforms(lt[$]);for(const vt in ft)e[vt]=ft[vt]}return e}function cloneUniformsGroups(lt){const e=[];for(let $=0;$<lt.length;$++)e.push(lt[$].clone());return e}function getUnlitUniformColorSpace(lt){return lt.getRenderTarget()===null&&lt.outputEncoding===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material$1{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.uniformsGroups=cloneUniformsGroups(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const $=super.toJSON(e);$.glslVersion=this.glslVersion,$.uniforms={};for(const vt in this.uniforms){const Tt=this.uniforms[vt].value;Tt&&Tt.isTexture?$.uniforms[vt]={type:"t",value:Tt.toJSON(e).uuid}:Tt&&Tt.isColor?$.uniforms[vt]={type:"c",value:Tt.getHex()}:Tt&&Tt.isVector2?$.uniforms[vt]={type:"v2",value:Tt.toArray()}:Tt&&Tt.isVector3?$.uniforms[vt]={type:"v3",value:Tt.toArray()}:Tt&&Tt.isVector4?$.uniforms[vt]={type:"v4",value:Tt.toArray()}:Tt&&Tt.isMatrix3?$.uniforms[vt]={type:"m3",value:Tt.toArray()}:Tt&&Tt.isMatrix4?$.uniforms[vt]={type:"m4",value:Tt.toArray()}:$.uniforms[vt]={value:Tt}}Object.keys(this.defines).length>0&&($.defines=this.defines),$.vertexShader=this.vertexShader,$.fragmentShader=this.fragmentShader;const ft={};for(const vt in this.extensions)this.extensions[vt]===!0&&(ft[vt]=!0);return Object.keys(ft).length>0&&($.extensions=ft),$}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(e,$){return super.copy(e,$),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const $=this.matrixWorld.elements;return e.set(-$[8],-$[9],-$[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,$){super.updateWorldMatrix(e,$),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(e=50,$=1,ft=.1,vt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=ft,this.far=vt,this.focus=10,this.aspect=$,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,$){return super.copy(e,$),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const $=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan($),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,$,ft,vt,s,Tt){this.aspect=e/$,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=$,this.view.offsetX=ft,this.view.offsetY=vt,this.view.width=s,this.view.height=Tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let $=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,ft=2*$,vt=this.aspect*ft,s=-.5*vt;const Tt=this.view;if(this.view!==null&&this.view.enabled){const Rt=Tt.fullWidth,Dt=Tt.fullHeight;s+=Tt.offsetX*vt/Rt,$-=Tt.offsetY*ft/Dt,vt*=Tt.width/Rt,ft*=Tt.height/Dt}const At=this.filmOffset;At!==0&&(s+=e*At/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+vt,$,$-ft,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const $=super.toJSON(e);return $.object.fov=this.fov,$.object.zoom=this.zoom,$.object.near=this.near,$.object.far=this.far,$.object.focus=this.focus,$.object.aspect=this.aspect,this.view!==null&&($.object.view=Object.assign({},this.view)),$.object.filmGauge=this.filmGauge,$.object.filmOffset=this.filmOffset,$}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(e,$,ft){super(),this.type="CubeCamera",this.renderTarget=ft;const vt=new PerspectiveCamera(fov,aspect,e,$);vt.layers=this.layers,vt.up.set(0,1,0),vt.lookAt(1,0,0),this.add(vt);const s=new PerspectiveCamera(fov,aspect,e,$);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const Tt=new PerspectiveCamera(fov,aspect,e,$);Tt.layers=this.layers,Tt.up.set(0,0,-1),Tt.lookAt(0,1,0),this.add(Tt);const At=new PerspectiveCamera(fov,aspect,e,$);At.layers=this.layers,At.up.set(0,0,1),At.lookAt(0,-1,0),this.add(At);const Rt=new PerspectiveCamera(fov,aspect,e,$);Rt.layers=this.layers,Rt.up.set(0,1,0),Rt.lookAt(0,0,1),this.add(Rt);const Dt=new PerspectiveCamera(fov,aspect,e,$);Dt.layers=this.layers,Dt.up.set(0,1,0),Dt.lookAt(0,0,-1),this.add(Dt)}update(e,$){this.parent===null&&this.updateMatrixWorld();const ft=this.renderTarget,[vt,s,Tt,At,Rt,Dt]=this.children,Nt=e.getRenderTarget(),Wt=e.toneMapping,Ht=e.xr.enabled;e.toneMapping=NoToneMapping,e.xr.enabled=!1;const Kt=ft.texture.generateMipmaps;ft.texture.generateMipmaps=!1,e.setRenderTarget(ft,0),e.render($,vt),e.setRenderTarget(ft,1),e.render($,s),e.setRenderTarget(ft,2),e.render($,Tt),e.setRenderTarget(ft,3),e.render($,At),e.setRenderTarget(ft,4),e.render($,Rt),ft.texture.generateMipmaps=Kt,e.setRenderTarget(ft,5),e.render($,Dt),e.setRenderTarget(Nt),e.toneMapping=Wt,e.xr.enabled=Ht,ft.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e,$,ft,vt,s,Tt,At,Rt,Dt,Nt){e=e!==void 0?e:[],$=$!==void 0?$:CubeReflectionMapping,super(e,$,ft,vt,s,Tt,At,Rt,Dt,Nt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e=1,$={}){super(e,e,$),this.isWebGLCubeRenderTarget=!0;const ft={width:e,height:e,depth:1},vt=[ft,ft,ft,ft,ft,ft];this.texture=new CubeTexture(vt,$.mapping,$.wrapS,$.wrapT,$.magFilter,$.minFilter,$.format,$.type,$.anisotropy,$.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=$.generateMipmaps!==void 0?$.generateMipmaps:!1,this.texture.minFilter=$.minFilter!==void 0?$.minFilter:LinearFilter}fromEquirectangularTexture(e,$){this.texture.type=$.type,this.texture.encoding=$.encoding,this.texture.generateMipmaps=$.generateMipmaps,this.texture.minFilter=$.minFilter,this.texture.magFilter=$.magFilter;const ft={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},vt=new BoxGeometry(5,5,5),s=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(ft.uniforms),vertexShader:ft.vertexShader,fragmentShader:ft.fragmentShader,side:BackSide,blending:NoBlending});s.uniforms.tEquirect.value=$;const Tt=new Mesh(vt,s),At=$.minFilter;return $.minFilter===LinearMipmapLinearFilter&&($.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,Tt),$.minFilter=At,Tt.geometry.dispose(),Tt.material.dispose(),this}clear(e,$,ft,vt){const s=e.getRenderTarget();for(let Tt=0;Tt<6;Tt++)e.setRenderTarget(this,Tt),e.clear($,ft,vt);e.setRenderTarget(s)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;let Plane$1=class{constructor(e=new Vector3(1,0,0),$=0){this.isPlane=!0,this.normal=e,this.constant=$}set(e,$){return this.normal.copy(e),this.constant=$,this}setComponents(e,$,ft,vt){return this.normal.set(e,$,ft),this.constant=vt,this}setFromNormalAndCoplanarPoint(e,$){return this.normal.copy(e),this.constant=-$.dot(this.normal),this}setFromCoplanarPoints(e,$,ft){const vt=_vector1.subVectors(ft,$).cross(_vector2.subVectors(e,$)).normalize();return this.setFromNormalAndCoplanarPoint(vt,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,$){return $.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,$){const ft=e.delta(_vector1),vt=this.normal.dot(ft);if(vt===0)return this.distanceToPoint(e.start)===0?$.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/vt;return s<0||s>1?null:$.copy(e.start).addScaledVector(ft,s)}intersectsLine(e){const $=this.distanceToPoint(e.start),ft=this.distanceToPoint(e.end);return $<0&&ft>0||ft<0&&$>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,$){const ft=$||_normalMatrix.getNormalMatrix(e),vt=this.coplanarPoint(_vector1).applyMatrix4(e),s=this.normal.applyMatrix3(ft).normalize();return this.constant=-vt.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(e=new Plane$1,$=new Plane$1,ft=new Plane$1,vt=new Plane$1,s=new Plane$1,Tt=new Plane$1){this.planes=[e,$,ft,vt,s,Tt]}set(e,$,ft,vt,s,Tt){const At=this.planes;return At[0].copy(e),At[1].copy($),At[2].copy(ft),At[3].copy(vt),At[4].copy(s),At[5].copy(Tt),this}copy(e){const $=this.planes;for(let ft=0;ft<6;ft++)$[ft].copy(e.planes[ft]);return this}setFromProjectionMatrix(e){const $=this.planes,ft=e.elements,vt=ft[0],s=ft[1],Tt=ft[2],At=ft[3],Rt=ft[4],Dt=ft[5],Nt=ft[6],Wt=ft[7],Ht=ft[8],Kt=ft[9],Ft=ft[10],tn=ft[11],cn=ft[12],fn=ft[13],ln=ft[14],dn=ft[15];return $[0].setComponents(At-vt,Wt-Rt,tn-Ht,dn-cn).normalize(),$[1].setComponents(At+vt,Wt+Rt,tn+Ht,dn+cn).normalize(),$[2].setComponents(At+s,Wt+Dt,tn+Kt,dn+fn).normalize(),$[3].setComponents(At-s,Wt-Dt,tn-Kt,dn-fn).normalize(),$[4].setComponents(At-Tt,Wt-Nt,tn-Ft,dn-ln).normalize(),$[5].setComponents(At+Tt,Wt+Nt,tn+Ft,dn+ln).normalize(),this}intersectsObject(e){const $=e.geometry;return $.boundingSphere===null&&$.computeBoundingSphere(),_sphere$2.copy($.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(e){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(e){const $=this.planes,ft=e.center,vt=-e.radius;for(let s=0;s<6;s++)if($[s].distanceToPoint(ft)<vt)return!1;return!0}intersectsBox(e){const $=this.planes;for(let ft=0;ft<6;ft++){const vt=$[ft];if(_vector$7.x=vt.normal.x>0?e.max.x:e.min.x,_vector$7.y=vt.normal.y>0?e.max.y:e.min.y,_vector$7.z=vt.normal.z>0?e.max.z:e.min.z,vt.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(e){const $=this.planes;for(let ft=0;ft<6;ft++)if($[ft].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let lt=null,e=!1,$=null,ft=null;function vt(s,Tt){$(s,Tt),ft=lt.requestAnimationFrame(vt)}return{start:function(){e!==!0&&$!==null&&(ft=lt.requestAnimationFrame(vt),e=!0)},stop:function(){lt.cancelAnimationFrame(ft),e=!1},setAnimationLoop:function(s){$=s},setContext:function(s){lt=s}}}function WebGLAttributes(lt,e){const $=e.isWebGL2,ft=new WeakMap;function vt(Dt,Nt){const Wt=Dt.array,Ht=Dt.usage,Kt=lt.createBuffer();lt.bindBuffer(Nt,Kt),lt.bufferData(Nt,Wt,Ht),Dt.onUploadCallback();let Ft;if(Wt instanceof Float32Array)Ft=5126;else if(Wt instanceof Uint16Array)if(Dt.isFloat16BufferAttribute)if($)Ft=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else Ft=5123;else if(Wt instanceof Int16Array)Ft=5122;else if(Wt instanceof Uint32Array)Ft=5125;else if(Wt instanceof Int32Array)Ft=5124;else if(Wt instanceof Int8Array)Ft=5120;else if(Wt instanceof Uint8Array)Ft=5121;else if(Wt instanceof Uint8ClampedArray)Ft=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+Wt);return{buffer:Kt,type:Ft,bytesPerElement:Wt.BYTES_PER_ELEMENT,version:Dt.version}}function s(Dt,Nt,Wt){const Ht=Nt.array,Kt=Nt.updateRange;lt.bindBuffer(Wt,Dt),Kt.count===-1?lt.bufferSubData(Wt,0,Ht):($?lt.bufferSubData(Wt,Kt.offset*Ht.BYTES_PER_ELEMENT,Ht,Kt.offset,Kt.count):lt.bufferSubData(Wt,Kt.offset*Ht.BYTES_PER_ELEMENT,Ht.subarray(Kt.offset,Kt.offset+Kt.count)),Kt.count=-1),Nt.onUploadCallback()}function Tt(Dt){return Dt.isInterleavedBufferAttribute&&(Dt=Dt.data),ft.get(Dt)}function At(Dt){Dt.isInterleavedBufferAttribute&&(Dt=Dt.data);const Nt=ft.get(Dt);Nt&&(lt.deleteBuffer(Nt.buffer),ft.delete(Dt))}function Rt(Dt,Nt){if(Dt.isGLBufferAttribute){const Ht=ft.get(Dt);(!Ht||Ht.version<Dt.version)&&ft.set(Dt,{buffer:Dt.buffer,type:Dt.type,bytesPerElement:Dt.elementSize,version:Dt.version});return}Dt.isInterleavedBufferAttribute&&(Dt=Dt.data);const Wt=ft.get(Dt);Wt===void 0?ft.set(Dt,vt(Dt,Nt)):Wt.version<Dt.version&&(s(Wt.buffer,Dt,Nt),Wt.version=Dt.version)}return{get:Tt,remove:At,update:Rt}}class PlaneGeometry extends BufferGeometry{constructor(e=1,$=1,ft=1,vt=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:$,widthSegments:ft,heightSegments:vt};const s=e/2,Tt=$/2,At=Math.floor(ft),Rt=Math.floor(vt),Dt=At+1,Nt=Rt+1,Wt=e/At,Ht=$/Rt,Kt=[],Ft=[],tn=[],cn=[];for(let fn=0;fn<Nt;fn++){const ln=fn*Ht-Tt;for(let dn=0;dn<Dt;dn++){const mn=dn*Wt-s;Ft.push(mn,-ln,0),tn.push(0,0,1),cn.push(dn/At),cn.push(1-fn/Rt)}}for(let fn=0;fn<Rt;fn++)for(let ln=0;ln<At;ln++){const dn=ln+Dt*fn,mn=ln+Dt*(fn+1),xn=ln+1+Dt*(fn+1),Mn=ln+1+Dt*fn;Kt.push(dn,mn,Mn),Kt.push(mn,xn,Mn)}this.setIndex(Kt),this.setAttribute("position",new Float32BufferAttribute(Ft,3)),this.setAttribute("normal",new Float32BufferAttribute(tn,3)),this.setAttribute("uv",new Float32BufferAttribute(cn,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(lt,e,$,ft,vt,s,Tt){const At=new Color(0);let Rt=s===!0?0:1,Dt,Nt,Wt=null,Ht=0,Kt=null;function Ft(cn,fn){let ln=!1,dn=fn.isScene===!0?fn.background:null;dn&&dn.isTexture&&(dn=(fn.backgroundBlurriness>0?$:e).get(dn));const mn=lt.xr,xn=mn.getSession&&mn.getSession();xn&&xn.environmentBlendMode==="additive"&&(dn=null),dn===null?tn(At,Rt):dn&&dn.isColor&&(tn(dn,1),ln=!0),(lt.autoClear||ln)&&lt.clear(lt.autoClearColor,lt.autoClearDepth,lt.autoClearStencil),dn&&(dn.isCubeTexture||dn.mapping===CubeUVReflectionMapping)?(Nt===void 0&&(Nt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),Nt.geometry.deleteAttribute("normal"),Nt.geometry.deleteAttribute("uv"),Nt.onBeforeRender=function(Mn,Tn,vn){this.matrixWorld.copyPosition(vn.matrixWorld)},Object.defineProperty(Nt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),vt.update(Nt)),Nt.material.uniforms.envMap.value=dn,Nt.material.uniforms.flipEnvMap.value=dn.isCubeTexture&&dn.isRenderTargetTexture===!1?-1:1,Nt.material.uniforms.backgroundBlurriness.value=fn.backgroundBlurriness,Nt.material.uniforms.backgroundIntensity.value=fn.backgroundIntensity,Nt.material.toneMapped=dn.encoding!==sRGBEncoding,(Wt!==dn||Ht!==dn.version||Kt!==lt.toneMapping)&&(Nt.material.needsUpdate=!0,Wt=dn,Ht=dn.version,Kt=lt.toneMapping),Nt.layers.enableAll(),cn.unshift(Nt,Nt.geometry,Nt.material,0,0,null)):dn&&dn.isTexture&&(Dt===void 0&&(Dt=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),Dt.geometry.deleteAttribute("normal"),Object.defineProperty(Dt.material,"map",{get:function(){return this.uniforms.t2D.value}}),vt.update(Dt)),Dt.material.uniforms.t2D.value=dn,Dt.material.uniforms.backgroundIntensity.value=fn.backgroundIntensity,Dt.material.toneMapped=dn.encoding!==sRGBEncoding,dn.matrixAutoUpdate===!0&&dn.updateMatrix(),Dt.material.uniforms.uvTransform.value.copy(dn.matrix),(Wt!==dn||Ht!==dn.version||Kt!==lt.toneMapping)&&(Dt.material.needsUpdate=!0,Wt=dn,Ht=dn.version,Kt=lt.toneMapping),Dt.layers.enableAll(),cn.unshift(Dt,Dt.geometry,Dt.material,0,0,null))}function tn(cn,fn){cn.getRGB(_rgb,getUnlitUniformColorSpace(lt)),ft.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,fn,Tt)}return{getClearColor:function(){return At},setClearColor:function(cn,fn=1){At.set(cn),Rt=fn,tn(At,Rt)},getClearAlpha:function(){return Rt},setClearAlpha:function(cn){Rt=cn,tn(At,Rt)},render:Ft}}function WebGLBindingStates(lt,e,$,ft){const vt=lt.getParameter(34921),s=ft.isWebGL2?null:e.get("OES_vertex_array_object"),Tt=ft.isWebGL2||s!==null,At={},Rt=cn(null);let Dt=Rt,Nt=!1;function Wt(Nn,Yn,Xn,sr,Un){let Gn=!1;if(Tt){const Wn=tn(sr,Xn,Yn);Dt!==Wn&&(Dt=Wn,Kt(Dt.object)),Gn=fn(Nn,sr,Xn,Un),Gn&&ln(Nn,sr,Xn,Un)}else{const Wn=Yn.wireframe===!0;(Dt.geometry!==sr.id||Dt.program!==Xn.id||Dt.wireframe!==Wn)&&(Dt.geometry=sr.id,Dt.program=Xn.id,Dt.wireframe=Wn,Gn=!0)}Un!==null&&$.update(Un,34963),(Gn||Nt)&&(Nt=!1,vn(Nn,Yn,Xn,sr),Un!==null&&lt.bindBuffer(34963,$.get(Un).buffer))}function Ht(){return ft.isWebGL2?lt.createVertexArray():s.createVertexArrayOES()}function Kt(Nn){return ft.isWebGL2?lt.bindVertexArray(Nn):s.bindVertexArrayOES(Nn)}function Ft(Nn){return ft.isWebGL2?lt.deleteVertexArray(Nn):s.deleteVertexArrayOES(Nn)}function tn(Nn,Yn,Xn){const sr=Xn.wireframe===!0;let Un=At[Nn.id];Un===void 0&&(Un={},At[Nn.id]=Un);let Gn=Un[Yn.id];Gn===void 0&&(Gn={},Un[Yn.id]=Gn);let Wn=Gn[sr];return Wn===void 0&&(Wn=cn(Ht()),Gn[sr]=Wn),Wn}function cn(Nn){const Yn=[],Xn=[],sr=[];for(let Un=0;Un<vt;Un++)Yn[Un]=0,Xn[Un]=0,sr[Un]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Yn,enabledAttributes:Xn,attributeDivisors:sr,object:Nn,attributes:{},index:null}}function fn(Nn,Yn,Xn,sr){const Un=Dt.attributes,Gn=Yn.attributes;let Wn=0;const $n=Xn.getAttributes();for(const zn in $n)if($n[zn].location>=0){const tr=Un[zn];let Hn=Gn[zn];if(Hn===void 0&&(zn==="instanceMatrix"&&Nn.instanceMatrix&&(Hn=Nn.instanceMatrix),zn==="instanceColor"&&Nn.instanceColor&&(Hn=Nn.instanceColor)),tr===void 0||tr.attribute!==Hn||Hn&&tr.data!==Hn.data)return!0;Wn++}return Dt.attributesNum!==Wn||Dt.index!==sr}function ln(Nn,Yn,Xn,sr){const Un={},Gn=Yn.attributes;let Wn=0;const $n=Xn.getAttributes();for(const zn in $n)if($n[zn].location>=0){let tr=Gn[zn];tr===void 0&&(zn==="instanceMatrix"&&Nn.instanceMatrix&&(tr=Nn.instanceMatrix),zn==="instanceColor"&&Nn.instanceColor&&(tr=Nn.instanceColor));const Hn={};Hn.attribute=tr,tr&&tr.data&&(Hn.data=tr.data),Un[zn]=Hn,Wn++}Dt.attributes=Un,Dt.attributesNum=Wn,Dt.index=sr}function dn(){const Nn=Dt.newAttributes;for(let Yn=0,Xn=Nn.length;Yn<Xn;Yn++)Nn[Yn]=0}function mn(Nn){xn(Nn,0)}function xn(Nn,Yn){const Xn=Dt.newAttributes,sr=Dt.enabledAttributes,Un=Dt.attributeDivisors;Xn[Nn]=1,sr[Nn]===0&&(lt.enableVertexAttribArray(Nn),sr[Nn]=1),Un[Nn]!==Yn&&((ft.isWebGL2?lt:e.get("ANGLE_instanced_arrays"))[ft.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Nn,Yn),Un[Nn]=Yn)}function Mn(){const Nn=Dt.newAttributes,Yn=Dt.enabledAttributes;for(let Xn=0,sr=Yn.length;Xn<sr;Xn++)Yn[Xn]!==Nn[Xn]&&(lt.disableVertexAttribArray(Xn),Yn[Xn]=0)}function Tn(Nn,Yn,Xn,sr,Un,Gn){ft.isWebGL2===!0&&(Xn===5124||Xn===5125)?lt.vertexAttribIPointer(Nn,Yn,Xn,Un,Gn):lt.vertexAttribPointer(Nn,Yn,Xn,sr,Un,Gn)}function vn(Nn,Yn,Xn,sr){if(ft.isWebGL2===!1&&(Nn.isInstancedMesh||sr.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;dn();const Un=sr.attributes,Gn=Xn.getAttributes(),Wn=Yn.defaultAttributeValues;for(const $n in Gn){const zn=Gn[$n];if(zn.location>=0){let Zn=Un[$n];if(Zn===void 0&&($n==="instanceMatrix"&&Nn.instanceMatrix&&(Zn=Nn.instanceMatrix),$n==="instanceColor"&&Nn.instanceColor&&(Zn=Nn.instanceColor)),Zn!==void 0){const tr=Zn.normalized,Hn=Zn.itemSize,dr=$.get(Zn);if(dr===void 0)continue;const nr=dr.buffer,hr=dr.type,Pr=dr.bytesPerElement;if(Zn.isInterleavedBufferAttribute){const Vr=Zn.data,kr=Vr.stride,Zt=Zn.offset;if(Vr.isInstancedInterleavedBuffer){for(let ur=0;ur<zn.locationSize;ur++)xn(zn.location+ur,Vr.meshPerAttribute);Nn.isInstancedMesh!==!0&&sr._maxInstanceCount===void 0&&(sr._maxInstanceCount=Vr.meshPerAttribute*Vr.count)}else for(let ur=0;ur<zn.locationSize;ur++)mn(zn.location+ur);lt.bindBuffer(34962,nr);for(let ur=0;ur<zn.locationSize;ur++)Tn(zn.location+ur,Hn/zn.locationSize,hr,tr,kr*Pr,(Zt+Hn/zn.locationSize*ur)*Pr)}else{if(Zn.isInstancedBufferAttribute){for(let Vr=0;Vr<zn.locationSize;Vr++)xn(zn.location+Vr,Zn.meshPerAttribute);Nn.isInstancedMesh!==!0&&sr._maxInstanceCount===void 0&&(sr._maxInstanceCount=Zn.meshPerAttribute*Zn.count)}else for(let Vr=0;Vr<zn.locationSize;Vr++)mn(zn.location+Vr);lt.bindBuffer(34962,nr);for(let Vr=0;Vr<zn.locationSize;Vr++)Tn(zn.location+Vr,Hn/zn.locationSize,hr,tr,Hn*Pr,Hn/zn.locationSize*Vr*Pr)}}else if(Wn!==void 0){const tr=Wn[$n];if(tr!==void 0)switch(tr.length){case 2:lt.vertexAttrib2fv(zn.location,tr);break;case 3:lt.vertexAttrib3fv(zn.location,tr);break;case 4:lt.vertexAttrib4fv(zn.location,tr);break;default:lt.vertexAttrib1fv(zn.location,tr)}}}}Mn()}function An(){In();for(const Nn in At){const Yn=At[Nn];for(const Xn in Yn){const sr=Yn[Xn];for(const Un in sr)Ft(sr[Un].object),delete sr[Un];delete Yn[Xn]}delete At[Nn]}}function Pn(Nn){if(At[Nn.id]===void 0)return;const Yn=At[Nn.id];for(const Xn in Yn){const sr=Yn[Xn];for(const Un in sr)Ft(sr[Un].object),delete sr[Un];delete Yn[Xn]}delete At[Nn.id]}function bn(Nn){for(const Yn in At){const Xn=At[Yn];if(Xn[Nn.id]===void 0)continue;const sr=Xn[Nn.id];for(const Un in sr)Ft(sr[Un].object),delete sr[Un];delete Xn[Nn.id]}}function In(){On(),Nt=!0,Dt!==Rt&&(Dt=Rt,Kt(Dt.object))}function On(){Rt.geometry=null,Rt.program=null,Rt.wireframe=!1}return{setup:Wt,reset:In,resetDefaultState:On,dispose:An,releaseStatesOfGeometry:Pn,releaseStatesOfProgram:bn,initAttributes:dn,enableAttribute:mn,disableUnusedAttributes:Mn}}function WebGLBufferRenderer(lt,e,$,ft){const vt=ft.isWebGL2;let s;function Tt(Dt){s=Dt}function At(Dt,Nt){lt.drawArrays(s,Dt,Nt),$.update(Nt,s,1)}function Rt(Dt,Nt,Wt){if(Wt===0)return;let Ht,Kt;if(vt)Ht=lt,Kt="drawArraysInstanced";else if(Ht=e.get("ANGLE_instanced_arrays"),Kt="drawArraysInstancedANGLE",Ht===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Ht[Kt](s,Dt,Nt,Wt),$.update(Nt,s,Wt)}this.setMode=Tt,this.render=At,this.renderInstances=Rt}function WebGLCapabilities(lt,e,$){let ft;function vt(){if(ft!==void 0)return ft;if(e.has("EXT_texture_filter_anisotropic")===!0){const Tn=e.get("EXT_texture_filter_anisotropic");ft=lt.getParameter(Tn.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else ft=0;return ft}function s(Tn){if(Tn==="highp"){if(lt.getShaderPrecisionFormat(35633,36338).precision>0&&lt.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Tn="mediump"}return Tn==="mediump"&&lt.getShaderPrecisionFormat(35633,36337).precision>0&&lt.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const Tt=typeof WebGL2RenderingContext<"u"&&lt instanceof WebGL2RenderingContext;let At=$.precision!==void 0?$.precision:"highp";const Rt=s(At);Rt!==At&&(console.warn("THREE.WebGLRenderer:",At,"not supported, using",Rt,"instead."),At=Rt);const Dt=Tt||e.has("WEBGL_draw_buffers"),Nt=$.logarithmicDepthBuffer===!0,Wt=lt.getParameter(34930),Ht=lt.getParameter(35660),Kt=lt.getParameter(3379),Ft=lt.getParameter(34076),tn=lt.getParameter(34921),cn=lt.getParameter(36347),fn=lt.getParameter(36348),ln=lt.getParameter(36349),dn=Ht>0,mn=Tt||e.has("OES_texture_float"),xn=dn&&mn,Mn=Tt?lt.getParameter(36183):0;return{isWebGL2:Tt,drawBuffers:Dt,getMaxAnisotropy:vt,getMaxPrecision:s,precision:At,logarithmicDepthBuffer:Nt,maxTextures:Wt,maxVertexTextures:Ht,maxTextureSize:Kt,maxCubemapSize:Ft,maxAttributes:tn,maxVertexUniforms:cn,maxVaryings:fn,maxFragmentUniforms:ln,vertexTextures:dn,floatFragmentTextures:mn,floatVertexTextures:xn,maxSamples:Mn}}function WebGLClipping(lt){const e=this;let $=null,ft=0,vt=!1,s=!1;const Tt=new Plane$1,At=new Matrix3,Rt={value:null,needsUpdate:!1};this.uniform=Rt,this.numPlanes=0,this.numIntersection=0,this.init=function(Wt,Ht){const Kt=Wt.length!==0||Ht||ft!==0||vt;return vt=Ht,ft=Wt.length,Kt},this.beginShadows=function(){s=!0,Nt(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(Wt,Ht){$=Nt(Wt,Ht,0)},this.setState=function(Wt,Ht,Kt){const Ft=Wt.clippingPlanes,tn=Wt.clipIntersection,cn=Wt.clipShadows,fn=lt.get(Wt);if(!vt||Ft===null||Ft.length===0||s&&!cn)s?Nt(null):Dt();else{const ln=s?0:ft,dn=ln*4;let mn=fn.clippingState||null;Rt.value=mn,mn=Nt(Ft,Ht,dn,Kt);for(let xn=0;xn!==dn;++xn)mn[xn]=$[xn];fn.clippingState=mn,this.numIntersection=tn?this.numPlanes:0,this.numPlanes+=ln}};function Dt(){Rt.value!==$&&(Rt.value=$,Rt.needsUpdate=ft>0),e.numPlanes=ft,e.numIntersection=0}function Nt(Wt,Ht,Kt,Ft){const tn=Wt!==null?Wt.length:0;let cn=null;if(tn!==0){if(cn=Rt.value,Ft!==!0||cn===null){const fn=Kt+tn*4,ln=Ht.matrixWorldInverse;At.getNormalMatrix(ln),(cn===null||cn.length<fn)&&(cn=new Float32Array(fn));for(let dn=0,mn=Kt;dn!==tn;++dn,mn+=4)Tt.copy(Wt[dn]).applyMatrix4(ln,At),Tt.normal.toArray(cn,mn),cn[mn+3]=Tt.constant}Rt.value=cn,Rt.needsUpdate=!0}return e.numPlanes=tn,e.numIntersection=0,cn}}function WebGLCubeMaps(lt){let e=new WeakMap;function $(Tt,At){return At===EquirectangularReflectionMapping?Tt.mapping=CubeReflectionMapping:At===EquirectangularRefractionMapping&&(Tt.mapping=CubeRefractionMapping),Tt}function ft(Tt){if(Tt&&Tt.isTexture&&Tt.isRenderTargetTexture===!1){const At=Tt.mapping;if(At===EquirectangularReflectionMapping||At===EquirectangularRefractionMapping)if(e.has(Tt)){const Rt=e.get(Tt).texture;return $(Rt,Tt.mapping)}else{const Rt=Tt.image;if(Rt&&Rt.height>0){const Dt=new WebGLCubeRenderTarget(Rt.height/2);return Dt.fromEquirectangularTexture(lt,Tt),e.set(Tt,Dt),Tt.addEventListener("dispose",vt),$(Dt.texture,Tt.mapping)}else return null}}return Tt}function vt(Tt){const At=Tt.target;At.removeEventListener("dispose",vt);const Rt=e.get(At);Rt!==void 0&&(e.delete(At),Rt.dispose())}function s(){e=new WeakMap}return{get:ft,dispose:s}}let OrthographicCamera$1=class extends Camera{constructor(e=-1,$=1,ft=1,vt=-1,s=.1,Tt=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=$,this.top=ft,this.bottom=vt,this.near=s,this.far=Tt,this.updateProjectionMatrix()}copy(e,$){return super.copy(e,$),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,$,ft,vt,s,Tt){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=$,this.view.offsetX=ft,this.view.offsetY=vt,this.view.width=s,this.view.height=Tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),$=(this.top-this.bottom)/(2*this.zoom),ft=(this.right+this.left)/2,vt=(this.top+this.bottom)/2;let s=ft-e,Tt=ft+e,At=vt+$,Rt=vt-$;if(this.view!==null&&this.view.enabled){const Dt=(this.right-this.left)/this.view.fullWidth/this.zoom,Nt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=Dt*this.view.offsetX,Tt=s+Dt*this.view.width,At-=Nt*this.view.offsetY,Rt=At-Nt*this.view.height}this.projectionMatrix.makeOrthographic(s,Tt,At,Rt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const $=super.toJSON(e);return $.object.zoom=this.zoom,$.object.left=this.left,$.object.right=this.right,$.object.top=this.top,$.object.bottom=this.bottom,$.object.near=this.near,$.object.far=this.far,this.view!==null&&($.object.view=Object.assign({},this.view)),$}};const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera$1,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,$=0,ft=.1,vt=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,ft,vt,s),$>0&&this._blur(s,0,0,$),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,$=null){return this._fromTexture(e,$)}fromCubemap(e,$=null){return this._fromTexture(e,$)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget),e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,$){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget();const ft=$||this._allocateTargets();return this._textureToCubeUV(e,ft),this._applyPMREM(ft),this._cleanup(ft),ft}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),$=4*this._cubeSize,ft={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},vt=_createRenderTarget(e,$,ft);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==$){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,$,ft);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(s)),this._blurMaterial=_getBlurShader(s,e,$)}return vt}_compileMaterial(e){const $=new Mesh(this._lodPlanes[0],e);this._renderer.compile($,_flatCamera)}_sceneToCubeUV(e,$,ft,vt){const At=new PerspectiveCamera(90,1,$,ft),Rt=[1,-1,1,1,1,1],Dt=[1,1,1,-1,-1,-1],Nt=this._renderer,Wt=Nt.autoClear,Ht=Nt.toneMapping;Nt.getClearColor(_clearColor),Nt.toneMapping=NoToneMapping,Nt.autoClear=!1;const Kt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),Ft=new Mesh(new BoxGeometry,Kt);let tn=!1;const cn=e.background;cn?cn.isColor&&(Kt.color.copy(cn),e.background=null,tn=!0):(Kt.color.copy(_clearColor),tn=!0);for(let fn=0;fn<6;fn++){const ln=fn%3;ln===0?(At.up.set(0,Rt[fn],0),At.lookAt(Dt[fn],0,0)):ln===1?(At.up.set(0,0,Rt[fn]),At.lookAt(0,Dt[fn],0)):(At.up.set(0,Rt[fn],0),At.lookAt(0,0,Dt[fn]));const dn=this._cubeSize;_setViewport(vt,ln*dn,fn>2?dn:0,dn,dn),Nt.setRenderTarget(vt),tn&&Nt.render(Ft,At),Nt.render(e,At)}Ft.geometry.dispose(),Ft.material.dispose(),Nt.toneMapping=Ht,Nt.autoClear=Wt,e.background=cn}_textureToCubeUV(e,$){const ft=this._renderer,vt=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;vt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const s=vt?this._cubemapMaterial:this._equirectMaterial,Tt=new Mesh(this._lodPlanes[0],s),At=s.uniforms;At.envMap.value=e;const Rt=this._cubeSize;_setViewport($,0,0,3*Rt,2*Rt),ft.setRenderTarget($),ft.render(Tt,_flatCamera)}_applyPMREM(e){const $=this._renderer,ft=$.autoClear;$.autoClear=!1;for(let vt=1;vt<this._lodPlanes.length;vt++){const s=Math.sqrt(this._sigmas[vt]*this._sigmas[vt]-this._sigmas[vt-1]*this._sigmas[vt-1]),Tt=_axisDirections[(vt-1)%_axisDirections.length];this._blur(e,vt-1,vt,s,Tt)}$.autoClear=ft}_blur(e,$,ft,vt,s){const Tt=this._pingPongRenderTarget;this._halfBlur(e,Tt,$,ft,vt,"latitudinal",s),this._halfBlur(Tt,e,ft,ft,vt,"longitudinal",s)}_halfBlur(e,$,ft,vt,s,Tt,At){const Rt=this._renderer,Dt=this._blurMaterial;Tt!=="latitudinal"&&Tt!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const Nt=3,Wt=new Mesh(this._lodPlanes[vt],Dt),Ht=Dt.uniforms,Kt=this._sizeLods[ft]-1,Ft=isFinite(s)?Math.PI/(2*Kt):2*Math.PI/(2*MAX_SAMPLES-1),tn=s/Ft,cn=isFinite(s)?1+Math.floor(Nt*tn):MAX_SAMPLES;cn>MAX_SAMPLES&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${cn} samples when the maximum is set to ${MAX_SAMPLES}`);const fn=[];let ln=0;for(let Tn=0;Tn<MAX_SAMPLES;++Tn){const vn=Tn/tn,An=Math.exp(-vn*vn/2);fn.push(An),Tn===0?ln+=An:Tn<cn&&(ln+=2*An)}for(let Tn=0;Tn<fn.length;Tn++)fn[Tn]=fn[Tn]/ln;Ht.envMap.value=e.texture,Ht.samples.value=cn,Ht.weights.value=fn,Ht.latitudinal.value=Tt==="latitudinal",At&&(Ht.poleAxis.value=At);const{_lodMax:dn}=this;Ht.dTheta.value=Ft,Ht.mipInt.value=dn-ft;const mn=this._sizeLods[vt],xn=3*mn*(vt>dn-LOD_MIN?vt-dn+LOD_MIN:0),Mn=4*(this._cubeSize-mn);_setViewport($,xn,Mn,3*mn,2*mn),Rt.setRenderTarget($),Rt.render(Wt,_flatCamera)}}function _createPlanes(lt){const e=[],$=[],ft=[];let vt=lt;const s=lt-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let Tt=0;Tt<s;Tt++){const At=Math.pow(2,vt);$.push(At);let Rt=1/At;Tt>lt-LOD_MIN?Rt=EXTRA_LOD_SIGMA[Tt-lt+LOD_MIN-1]:Tt===0&&(Rt=0),ft.push(Rt);const Dt=1/(At-2),Nt=-Dt,Wt=1+Dt,Ht=[Nt,Nt,Wt,Nt,Wt,Wt,Nt,Nt,Wt,Wt,Nt,Wt],Kt=6,Ft=6,tn=3,cn=2,fn=1,ln=new Float32Array(tn*Ft*Kt),dn=new Float32Array(cn*Ft*Kt),mn=new Float32Array(fn*Ft*Kt);for(let Mn=0;Mn<Kt;Mn++){const Tn=Mn%3*2/3-1,vn=Mn>2?0:-1,An=[Tn,vn,0,Tn+2/3,vn,0,Tn+2/3,vn+1,0,Tn,vn,0,Tn+2/3,vn+1,0,Tn,vn+1,0];ln.set(An,tn*Ft*Mn),dn.set(Ht,cn*Ft*Mn);const Pn=[Mn,Mn,Mn,Mn,Mn,Mn];mn.set(Pn,fn*Ft*Mn)}const xn=new BufferGeometry;xn.setAttribute("position",new BufferAttribute(ln,tn)),xn.setAttribute("uv",new BufferAttribute(dn,cn)),xn.setAttribute("faceIndex",new BufferAttribute(mn,fn)),e.push(xn),vt>LOD_MIN&&vt--}return{lodPlanes:e,sizeLods:$,sigmas:ft}}function _createRenderTarget(lt,e,$){const ft=new WebGLRenderTarget(lt,e,$);return ft.texture.mapping=CubeUVReflectionMapping,ft.texture.name="PMREM.cubeUv",ft.scissorTest=!0,ft}function _setViewport(lt,e,$,ft,vt){lt.viewport.set(e,$,ft,vt),lt.scissor.set(e,$,ft,vt)}function _getBlurShader(lt,e,$){const ft=new Float32Array(MAX_SAMPLES),vt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/$,CUBEUV_MAX_MIP:`${lt}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:ft},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:vt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(lt){let e=new WeakMap,$=null;function ft(At){if(At&&At.isTexture){const Rt=At.mapping,Dt=Rt===EquirectangularReflectionMapping||Rt===EquirectangularRefractionMapping,Nt=Rt===CubeReflectionMapping||Rt===CubeRefractionMapping;if(Dt||Nt)if(At.isRenderTargetTexture&&At.needsPMREMUpdate===!0){At.needsPMREMUpdate=!1;let Wt=e.get(At);return $===null&&($=new PMREMGenerator(lt)),Wt=Dt?$.fromEquirectangular(At,Wt):$.fromCubemap(At,Wt),e.set(At,Wt),Wt.texture}else{if(e.has(At))return e.get(At).texture;{const Wt=At.image;if(Dt&&Wt&&Wt.height>0||Nt&&Wt&&vt(Wt)){$===null&&($=new PMREMGenerator(lt));const Ht=Dt?$.fromEquirectangular(At):$.fromCubemap(At);return e.set(At,Ht),At.addEventListener("dispose",s),Ht.texture}else return null}}}return At}function vt(At){let Rt=0;const Dt=6;for(let Nt=0;Nt<Dt;Nt++)At[Nt]!==void 0&&Rt++;return Rt===Dt}function s(At){const Rt=At.target;Rt.removeEventListener("dispose",s);const Dt=e.get(Rt);Dt!==void 0&&(e.delete(Rt),Dt.dispose())}function Tt(){e=new WeakMap,$!==null&&($.dispose(),$=null)}return{get:ft,dispose:Tt}}function WebGLExtensions(lt){const e={};function $(ft){if(e[ft]!==void 0)return e[ft];let vt;switch(ft){case"WEBGL_depth_texture":vt=lt.getExtension("WEBGL_depth_texture")||lt.getExtension("MOZ_WEBGL_depth_texture")||lt.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":vt=lt.getExtension("EXT_texture_filter_anisotropic")||lt.getExtension("MOZ_EXT_texture_filter_anisotropic")||lt.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":vt=lt.getExtension("WEBGL_compressed_texture_s3tc")||lt.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||lt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":vt=lt.getExtension("WEBGL_compressed_texture_pvrtc")||lt.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:vt=lt.getExtension(ft)}return e[ft]=vt,vt}return{has:function(ft){return $(ft)!==null},init:function(ft){ft.isWebGL2?$("EXT_color_buffer_float"):($("WEBGL_depth_texture"),$("OES_texture_float"),$("OES_texture_half_float"),$("OES_texture_half_float_linear"),$("OES_standard_derivatives"),$("OES_element_index_uint"),$("OES_vertex_array_object"),$("ANGLE_instanced_arrays")),$("OES_texture_float_linear"),$("EXT_color_buffer_half_float"),$("WEBGL_multisampled_render_to_texture")},get:function(ft){const vt=$(ft);return vt===null&&console.warn("THREE.WebGLRenderer: "+ft+" extension not supported."),vt}}}function WebGLGeometries(lt,e,$,ft){const vt={},s=new WeakMap;function Tt(Wt){const Ht=Wt.target;Ht.index!==null&&e.remove(Ht.index);for(const Ft in Ht.attributes)e.remove(Ht.attributes[Ft]);Ht.removeEventListener("dispose",Tt),delete vt[Ht.id];const Kt=s.get(Ht);Kt&&(e.remove(Kt),s.delete(Ht)),ft.releaseStatesOfGeometry(Ht),Ht.isInstancedBufferGeometry===!0&&delete Ht._maxInstanceCount,$.memory.geometries--}function At(Wt,Ht){return vt[Ht.id]===!0||(Ht.addEventListener("dispose",Tt),vt[Ht.id]=!0,$.memory.geometries++),Ht}function Rt(Wt){const Ht=Wt.attributes;for(const Ft in Ht)e.update(Ht[Ft],34962);const Kt=Wt.morphAttributes;for(const Ft in Kt){const tn=Kt[Ft];for(let cn=0,fn=tn.length;cn<fn;cn++)e.update(tn[cn],34962)}}function Dt(Wt){const Ht=[],Kt=Wt.index,Ft=Wt.attributes.position;let tn=0;if(Kt!==null){const ln=Kt.array;tn=Kt.version;for(let dn=0,mn=ln.length;dn<mn;dn+=3){const xn=ln[dn+0],Mn=ln[dn+1],Tn=ln[dn+2];Ht.push(xn,Mn,Mn,Tn,Tn,xn)}}else{const ln=Ft.array;tn=Ft.version;for(let dn=0,mn=ln.length/3-1;dn<mn;dn+=3){const xn=dn+0,Mn=dn+1,Tn=dn+2;Ht.push(xn,Mn,Mn,Tn,Tn,xn)}}const cn=new(arrayNeedsUint32(Ht)?Uint32BufferAttribute:Uint16BufferAttribute)(Ht,1);cn.version=tn;const fn=s.get(Wt);fn&&e.remove(fn),s.set(Wt,cn)}function Nt(Wt){const Ht=s.get(Wt);if(Ht){const Kt=Wt.index;Kt!==null&&Ht.version<Kt.version&&Dt(Wt)}else Dt(Wt);return s.get(Wt)}return{get:At,update:Rt,getWireframeAttribute:Nt}}function WebGLIndexedBufferRenderer(lt,e,$,ft){const vt=ft.isWebGL2;let s;function Tt(Ht){s=Ht}let At,Rt;function Dt(Ht){At=Ht.type,Rt=Ht.bytesPerElement}function Nt(Ht,Kt){lt.drawElements(s,Kt,At,Ht*Rt),$.update(Kt,s,1)}function Wt(Ht,Kt,Ft){if(Ft===0)return;let tn,cn;if(vt)tn=lt,cn="drawElementsInstanced";else if(tn=e.get("ANGLE_instanced_arrays"),cn="drawElementsInstancedANGLE",tn===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}tn[cn](s,Kt,At,Ht*Rt,Ft),$.update(Kt,s,Ft)}this.setMode=Tt,this.setIndex=Dt,this.render=Nt,this.renderInstances=Wt}function WebGLInfo(lt){const e={geometries:0,textures:0},$={frame:0,calls:0,triangles:0,points:0,lines:0};function ft(s,Tt,At){switch($.calls++,Tt){case 4:$.triangles+=At*(s/3);break;case 1:$.lines+=At*(s/2);break;case 3:$.lines+=At*(s-1);break;case 2:$.lines+=At*s;break;case 0:$.points+=At*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",Tt);break}}function vt(){$.frame++,$.calls=0,$.triangles=0,$.points=0,$.lines=0}return{memory:e,render:$,programs:null,autoReset:!0,reset:vt,update:ft}}function numericalSort(lt,e){return lt[0]-e[0]}function absNumericalSort(lt,e){return Math.abs(e[1])-Math.abs(lt[1])}function WebGLMorphtargets(lt,e,$){const ft={},vt=new Float32Array(8),s=new WeakMap,Tt=new Vector4,At=[];for(let Dt=0;Dt<8;Dt++)At[Dt]=[Dt,0];function Rt(Dt,Nt,Wt){const Ht=Dt.morphTargetInfluences;if(e.isWebGL2===!0){const Ft=Nt.morphAttributes.position||Nt.morphAttributes.normal||Nt.morphAttributes.color,tn=Ft!==void 0?Ft.length:0;let cn=s.get(Nt);if(cn===void 0||cn.count!==tn){let Yn=function(){On.dispose(),s.delete(Nt),Nt.removeEventListener("dispose",Yn)};var Kt=Yn;cn!==void 0&&cn.texture.dispose();const dn=Nt.morphAttributes.position!==void 0,mn=Nt.morphAttributes.normal!==void 0,xn=Nt.morphAttributes.color!==void 0,Mn=Nt.morphAttributes.position||[],Tn=Nt.morphAttributes.normal||[],vn=Nt.morphAttributes.color||[];let An=0;dn===!0&&(An=1),mn===!0&&(An=2),xn===!0&&(An=3);let Pn=Nt.attributes.position.count*An,bn=1;Pn>e.maxTextureSize&&(bn=Math.ceil(Pn/e.maxTextureSize),Pn=e.maxTextureSize);const In=new Float32Array(Pn*bn*4*tn),On=new DataArrayTexture(In,Pn,bn,tn);On.type=FloatType,On.needsUpdate=!0;const Nn=An*4;for(let Xn=0;Xn<tn;Xn++){const sr=Mn[Xn],Un=Tn[Xn],Gn=vn[Xn],Wn=Pn*bn*4*Xn;for(let $n=0;$n<sr.count;$n++){const zn=$n*Nn;dn===!0&&(Tt.fromBufferAttribute(sr,$n),In[Wn+zn+0]=Tt.x,In[Wn+zn+1]=Tt.y,In[Wn+zn+2]=Tt.z,In[Wn+zn+3]=0),mn===!0&&(Tt.fromBufferAttribute(Un,$n),In[Wn+zn+4]=Tt.x,In[Wn+zn+5]=Tt.y,In[Wn+zn+6]=Tt.z,In[Wn+zn+7]=0),xn===!0&&(Tt.fromBufferAttribute(Gn,$n),In[Wn+zn+8]=Tt.x,In[Wn+zn+9]=Tt.y,In[Wn+zn+10]=Tt.z,In[Wn+zn+11]=Gn.itemSize===4?Tt.w:1)}}cn={count:tn,texture:On,size:new Vector2(Pn,bn)},s.set(Nt,cn),Nt.addEventListener("dispose",Yn)}let fn=0;for(let dn=0;dn<Ht.length;dn++)fn+=Ht[dn];const ln=Nt.morphTargetsRelative?1:1-fn;Wt.getUniforms().setValue(lt,"morphTargetBaseInfluence",ln),Wt.getUniforms().setValue(lt,"morphTargetInfluences",Ht),Wt.getUniforms().setValue(lt,"morphTargetsTexture",cn.texture,$),Wt.getUniforms().setValue(lt,"morphTargetsTextureSize",cn.size)}else{const Ft=Ht===void 0?0:Ht.length;let tn=ft[Nt.id];if(tn===void 0||tn.length!==Ft){tn=[];for(let mn=0;mn<Ft;mn++)tn[mn]=[mn,0];ft[Nt.id]=tn}for(let mn=0;mn<Ft;mn++){const xn=tn[mn];xn[0]=mn,xn[1]=Ht[mn]}tn.sort(absNumericalSort);for(let mn=0;mn<8;mn++)mn<Ft&&tn[mn][1]?(At[mn][0]=tn[mn][0],At[mn][1]=tn[mn][1]):(At[mn][0]=Number.MAX_SAFE_INTEGER,At[mn][1]=0);At.sort(numericalSort);const cn=Nt.morphAttributes.position,fn=Nt.morphAttributes.normal;let ln=0;for(let mn=0;mn<8;mn++){const xn=At[mn],Mn=xn[0],Tn=xn[1];Mn!==Number.MAX_SAFE_INTEGER&&Tn?(cn&&Nt.getAttribute("morphTarget"+mn)!==cn[Mn]&&Nt.setAttribute("morphTarget"+mn,cn[Mn]),fn&&Nt.getAttribute("morphNormal"+mn)!==fn[Mn]&&Nt.setAttribute("morphNormal"+mn,fn[Mn]),vt[mn]=Tn,ln+=Tn):(cn&&Nt.hasAttribute("morphTarget"+mn)===!0&&Nt.deleteAttribute("morphTarget"+mn),fn&&Nt.hasAttribute("morphNormal"+mn)===!0&&Nt.deleteAttribute("morphNormal"+mn),vt[mn]=0)}const dn=Nt.morphTargetsRelative?1:1-ln;Wt.getUniforms().setValue(lt,"morphTargetBaseInfluence",dn),Wt.getUniforms().setValue(lt,"morphTargetInfluences",vt)}}return{update:Rt}}function WebGLObjects(lt,e,$,ft){let vt=new WeakMap;function s(Rt){const Dt=ft.render.frame,Nt=Rt.geometry,Wt=e.get(Rt,Nt);return vt.get(Wt)!==Dt&&(e.update(Wt),vt.set(Wt,Dt)),Rt.isInstancedMesh&&(Rt.hasEventListener("dispose",At)===!1&&Rt.addEventListener("dispose",At),$.update(Rt.instanceMatrix,34962),Rt.instanceColor!==null&&$.update(Rt.instanceColor,34962)),Wt}function Tt(){vt=new WeakMap}function At(Rt){const Dt=Rt.target;Dt.removeEventListener("dispose",At),$.remove(Dt.instanceMatrix),Dt.instanceColor!==null&&$.remove(Dt.instanceColor)}return{update:s,dispose:Tt}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(lt,e,$){const ft=lt[0];if(ft<=0||ft>0)return lt;const vt=e*$;let s=arrayCacheF32[vt];if(s===void 0&&(s=new Float32Array(vt),arrayCacheF32[vt]=s),e!==0){ft.toArray(s,0);for(let Tt=1,At=0;Tt!==e;++Tt)At+=$,lt[Tt].toArray(s,At)}return s}function arraysEqual(lt,e){if(lt.length!==e.length)return!1;for(let $=0,ft=lt.length;$<ft;$++)if(lt[$]!==e[$])return!1;return!0}function copyArray(lt,e){for(let $=0,ft=e.length;$<ft;$++)lt[$]=e[$]}function allocTexUnits(lt,e){let $=arrayCacheI32[e];$===void 0&&($=new Int32Array(e),arrayCacheI32[e]=$);for(let ft=0;ft!==e;++ft)$[ft]=lt.allocateTextureUnit();return $}function setValueV1f(lt,e){const $=this.cache;$[0]!==e&&(lt.uniform1f(this.addr,e),$[0]=e)}function setValueV2f(lt,e){const $=this.cache;if(e.x!==void 0)($[0]!==e.x||$[1]!==e.y)&&(lt.uniform2f(this.addr,e.x,e.y),$[0]=e.x,$[1]=e.y);else{if(arraysEqual($,e))return;lt.uniform2fv(this.addr,e),copyArray($,e)}}function setValueV3f(lt,e){const $=this.cache;if(e.x!==void 0)($[0]!==e.x||$[1]!==e.y||$[2]!==e.z)&&(lt.uniform3f(this.addr,e.x,e.y,e.z),$[0]=e.x,$[1]=e.y,$[2]=e.z);else if(e.r!==void 0)($[0]!==e.r||$[1]!==e.g||$[2]!==e.b)&&(lt.uniform3f(this.addr,e.r,e.g,e.b),$[0]=e.r,$[1]=e.g,$[2]=e.b);else{if(arraysEqual($,e))return;lt.uniform3fv(this.addr,e),copyArray($,e)}}function setValueV4f(lt,e){const $=this.cache;if(e.x!==void 0)($[0]!==e.x||$[1]!==e.y||$[2]!==e.z||$[3]!==e.w)&&(lt.uniform4f(this.addr,e.x,e.y,e.z,e.w),$[0]=e.x,$[1]=e.y,$[2]=e.z,$[3]=e.w);else{if(arraysEqual($,e))return;lt.uniform4fv(this.addr,e),copyArray($,e)}}function setValueM2(lt,e){const $=this.cache,ft=e.elements;if(ft===void 0){if(arraysEqual($,e))return;lt.uniformMatrix2fv(this.addr,!1,e),copyArray($,e)}else{if(arraysEqual($,ft))return;mat2array.set(ft),lt.uniformMatrix2fv(this.addr,!1,mat2array),copyArray($,ft)}}function setValueM3(lt,e){const $=this.cache,ft=e.elements;if(ft===void 0){if(arraysEqual($,e))return;lt.uniformMatrix3fv(this.addr,!1,e),copyArray($,e)}else{if(arraysEqual($,ft))return;mat3array.set(ft),lt.uniformMatrix3fv(this.addr,!1,mat3array),copyArray($,ft)}}function setValueM4(lt,e){const $=this.cache,ft=e.elements;if(ft===void 0){if(arraysEqual($,e))return;lt.uniformMatrix4fv(this.addr,!1,e),copyArray($,e)}else{if(arraysEqual($,ft))return;mat4array.set(ft),lt.uniformMatrix4fv(this.addr,!1,mat4array),copyArray($,ft)}}function setValueV1i(lt,e){const $=this.cache;$[0]!==e&&(lt.uniform1i(this.addr,e),$[0]=e)}function setValueV2i(lt,e){const $=this.cache;if(e.x!==void 0)($[0]!==e.x||$[1]!==e.y)&&(lt.uniform2i(this.addr,e.x,e.y),$[0]=e.x,$[1]=e.y);else{if(arraysEqual($,e))return;lt.uniform2iv(this.addr,e),copyArray($,e)}}function setValueV3i(lt,e){const $=this.cache;if(e.x!==void 0)($[0]!==e.x||$[1]!==e.y||$[2]!==e.z)&&(lt.uniform3i(this.addr,e.x,e.y,e.z),$[0]=e.x,$[1]=e.y,$[2]=e.z);else{if(arraysEqual($,e))return;lt.uniform3iv(this.addr,e),copyArray($,e)}}function setValueV4i(lt,e){const $=this.cache;if(e.x!==void 0)($[0]!==e.x||$[1]!==e.y||$[2]!==e.z||$[3]!==e.w)&&(lt.uniform4i(this.addr,e.x,e.y,e.z,e.w),$[0]=e.x,$[1]=e.y,$[2]=e.z,$[3]=e.w);else{if(arraysEqual($,e))return;lt.uniform4iv(this.addr,e),copyArray($,e)}}function setValueV1ui(lt,e){const $=this.cache;$[0]!==e&&(lt.uniform1ui(this.addr,e),$[0]=e)}function setValueV2ui(lt,e){const $=this.cache;if(e.x!==void 0)($[0]!==e.x||$[1]!==e.y)&&(lt.uniform2ui(this.addr,e.x,e.y),$[0]=e.x,$[1]=e.y);else{if(arraysEqual($,e))return;lt.uniform2uiv(this.addr,e),copyArray($,e)}}function setValueV3ui(lt,e){const $=this.cache;if(e.x!==void 0)($[0]!==e.x||$[1]!==e.y||$[2]!==e.z)&&(lt.uniform3ui(this.addr,e.x,e.y,e.z),$[0]=e.x,$[1]=e.y,$[2]=e.z);else{if(arraysEqual($,e))return;lt.uniform3uiv(this.addr,e),copyArray($,e)}}function setValueV4ui(lt,e){const $=this.cache;if(e.x!==void 0)($[0]!==e.x||$[1]!==e.y||$[2]!==e.z||$[3]!==e.w)&&(lt.uniform4ui(this.addr,e.x,e.y,e.z,e.w),$[0]=e.x,$[1]=e.y,$[2]=e.z,$[3]=e.w);else{if(arraysEqual($,e))return;lt.uniform4uiv(this.addr,e),copyArray($,e)}}function setValueT1(lt,e,$){const ft=this.cache,vt=$.allocateTextureUnit();ft[0]!==vt&&(lt.uniform1i(this.addr,vt),ft[0]=vt),$.setTexture2D(e||emptyTexture,vt)}function setValueT3D1(lt,e,$){const ft=this.cache,vt=$.allocateTextureUnit();ft[0]!==vt&&(lt.uniform1i(this.addr,vt),ft[0]=vt),$.setTexture3D(e||empty3dTexture,vt)}function setValueT6(lt,e,$){const ft=this.cache,vt=$.allocateTextureUnit();ft[0]!==vt&&(lt.uniform1i(this.addr,vt),ft[0]=vt),$.setTextureCube(e||emptyCubeTexture,vt)}function setValueT2DArray1(lt,e,$){const ft=this.cache,vt=$.allocateTextureUnit();ft[0]!==vt&&(lt.uniform1i(this.addr,vt),ft[0]=vt),$.setTexture2DArray(e||emptyArrayTexture,vt)}function getSingularSetter(lt){switch(lt){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(lt,e){lt.uniform1fv(this.addr,e)}function setValueV2fArray(lt,e){const $=flatten(e,this.size,2);lt.uniform2fv(this.addr,$)}function setValueV3fArray(lt,e){const $=flatten(e,this.size,3);lt.uniform3fv(this.addr,$)}function setValueV4fArray(lt,e){const $=flatten(e,this.size,4);lt.uniform4fv(this.addr,$)}function setValueM2Array(lt,e){const $=flatten(e,this.size,4);lt.uniformMatrix2fv(this.addr,!1,$)}function setValueM3Array(lt,e){const $=flatten(e,this.size,9);lt.uniformMatrix3fv(this.addr,!1,$)}function setValueM4Array(lt,e){const $=flatten(e,this.size,16);lt.uniformMatrix4fv(this.addr,!1,$)}function setValueV1iArray(lt,e){lt.uniform1iv(this.addr,e)}function setValueV2iArray(lt,e){lt.uniform2iv(this.addr,e)}function setValueV3iArray(lt,e){lt.uniform3iv(this.addr,e)}function setValueV4iArray(lt,e){lt.uniform4iv(this.addr,e)}function setValueV1uiArray(lt,e){lt.uniform1uiv(this.addr,e)}function setValueV2uiArray(lt,e){lt.uniform2uiv(this.addr,e)}function setValueV3uiArray(lt,e){lt.uniform3uiv(this.addr,e)}function setValueV4uiArray(lt,e){lt.uniform4uiv(this.addr,e)}function setValueT1Array(lt,e,$){const ft=this.cache,vt=e.length,s=allocTexUnits($,vt);arraysEqual(ft,s)||(lt.uniform1iv(this.addr,s),copyArray(ft,s));for(let Tt=0;Tt!==vt;++Tt)$.setTexture2D(e[Tt]||emptyTexture,s[Tt])}function setValueT3DArray(lt,e,$){const ft=this.cache,vt=e.length,s=allocTexUnits($,vt);arraysEqual(ft,s)||(lt.uniform1iv(this.addr,s),copyArray(ft,s));for(let Tt=0;Tt!==vt;++Tt)$.setTexture3D(e[Tt]||empty3dTexture,s[Tt])}function setValueT6Array(lt,e,$){const ft=this.cache,vt=e.length,s=allocTexUnits($,vt);arraysEqual(ft,s)||(lt.uniform1iv(this.addr,s),copyArray(ft,s));for(let Tt=0;Tt!==vt;++Tt)$.setTextureCube(e[Tt]||emptyCubeTexture,s[Tt])}function setValueT2DArrayArray(lt,e,$){const ft=this.cache,vt=e.length,s=allocTexUnits($,vt);arraysEqual(ft,s)||(lt.uniform1iv(this.addr,s),copyArray(ft,s));for(let Tt=0;Tt!==vt;++Tt)$.setTexture2DArray(e[Tt]||emptyArrayTexture,s[Tt])}function getPureArraySetter(lt){switch(lt){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(e,$,ft){this.id=e,this.addr=ft,this.cache=[],this.setValue=getSingularSetter($.type)}}class PureArrayUniform{constructor(e,$,ft){this.id=e,this.addr=ft,this.cache=[],this.size=$.size,this.setValue=getPureArraySetter($.type)}}class StructuredUniform{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,$,ft){const vt=this.seq;for(let s=0,Tt=vt.length;s!==Tt;++s){const At=vt[s];At.setValue(e,$[At.id],ft)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(lt,e){lt.seq.push(e),lt.map[e.id]=e}function parseUniform(lt,e,$){const ft=lt.name,vt=ft.length;for(RePathPart.lastIndex=0;;){const s=RePathPart.exec(ft),Tt=RePathPart.lastIndex;let At=s[1];const Rt=s[2]==="]",Dt=s[3];if(Rt&&(At=At|0),Dt===void 0||Dt==="["&&Tt+2===vt){addUniform($,Dt===void 0?new SingleUniform(At,lt,e):new PureArrayUniform(At,lt,e));break}else{let Wt=$.map[At];Wt===void 0&&(Wt=new StructuredUniform(At),addUniform($,Wt)),$=Wt}}}class WebGLUniforms{constructor(e,$){this.seq=[],this.map={};const ft=e.getProgramParameter($,35718);for(let vt=0;vt<ft;++vt){const s=e.getActiveUniform($,vt),Tt=e.getUniformLocation($,s.name);parseUniform(s,Tt,this)}}setValue(e,$,ft,vt){const s=this.map[$];s!==void 0&&s.setValue(e,ft,vt)}setOptional(e,$,ft){const vt=$[ft];vt!==void 0&&this.setValue(e,ft,vt)}static upload(e,$,ft,vt){for(let s=0,Tt=$.length;s!==Tt;++s){const At=$[s],Rt=ft[At.id];Rt.needsUpdate!==!1&&At.setValue(e,Rt.value,vt)}}static seqWithValue(e,$){const ft=[];for(let vt=0,s=e.length;vt!==s;++vt){const Tt=e[vt];Tt.id in $&&ft.push(Tt)}return ft}}function WebGLShader(lt,e,$){const ft=lt.createShader(e);return lt.shaderSource(ft,$),lt.compileShader(ft),ft}let programIdCount=0;function handleSource(lt,e){const $=lt.split(`
`),ft=[],vt=Math.max(e-6,0),s=Math.min(e+6,$.length);for(let Tt=vt;Tt<s;Tt++){const At=Tt+1;ft.push(`${At===e?">":" "} ${At}: ${$[Tt]}`)}return ft.join(`
`)}function getEncodingComponents(lt){switch(lt){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",lt),["Linear","( value )"]}}function getShaderErrors(lt,e,$){const ft=lt.getShaderParameter(e,35713),vt=lt.getShaderInfoLog(e).trim();if(ft&&vt==="")return"";const s=/ERROR: 0:(\d+)/.exec(vt);if(s){const Tt=parseInt(s[1]);return $.toUpperCase()+`

`+vt+`

`+handleSource(lt.getShaderSource(e),Tt)}else return vt}function getTexelEncodingFunction(lt,e){const $=getEncodingComponents(e);return"vec4 "+lt+"( vec4 value ) { return LinearTo"+$[0]+$[1]+"; }"}function getToneMappingFunction(lt,e){let $;switch(e){case LinearToneMapping:$="Linear";break;case ReinhardToneMapping:$="Reinhard";break;case CineonToneMapping:$="OptimizedCineon";break;case ACESFilmicToneMapping:$="ACESFilmic";break;case CustomToneMapping:$="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),$="Linear"}return"vec3 "+lt+"( vec3 color ) { return "+$+"ToneMapping( color ); }"}function generateExtensions(lt){return[lt.extensionDerivatives||lt.envMapCubeUVHeight||lt.bumpMap||lt.tangentSpaceNormalMap||lt.clearcoatNormalMap||lt.flatShading||lt.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(lt.extensionFragDepth||lt.logarithmicDepthBuffer)&&lt.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",lt.extensionDrawBuffers&&lt.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(lt.extensionShaderTextureLOD||lt.envMap||lt.transmission)&&lt.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(lt){const e=[];for(const $ in lt){const ft=lt[$];ft!==!1&&e.push("#define "+$+" "+ft)}return e.join(`
`)}function fetchAttributeLocations(lt,e){const $={},ft=lt.getProgramParameter(e,35721);for(let vt=0;vt<ft;vt++){const s=lt.getActiveAttrib(e,vt),Tt=s.name;let At=1;s.type===35674&&(At=2),s.type===35675&&(At=3),s.type===35676&&(At=4),$[Tt]={type:s.type,location:lt.getAttribLocation(e,Tt),locationSize:At}}return $}function filterEmptyLine(lt){return lt!==""}function replaceLightNums(lt,e){const $=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return lt.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,$).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(lt,e){return lt.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(lt){return lt.replace(includePattern,includeReplacer)}function includeReplacer(lt,e){const $=ShaderChunk[e];if($===void 0)throw new Error("Can not resolve #include <"+e+">");return resolveIncludes($)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(lt){return lt.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(lt,e,$,ft){let vt="";for(let s=parseInt(e);s<parseInt($);s++)vt+=ft.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return vt}function generatePrecision(lt){let e="precision "+lt.precision+` float;
precision `+lt.precision+" int;";return lt.precision==="highp"?e+=`
#define HIGH_PRECISION`:lt.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:lt.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(lt){let e="SHADOWMAP_TYPE_BASIC";return lt.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":lt.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":lt.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(lt){let e="ENVMAP_TYPE_CUBE";if(lt.envMap)switch(lt.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(lt){let e="ENVMAP_MODE_REFLECTION";if(lt.envMap)switch(lt.envMapMode){case CubeRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(lt){let e="ENVMAP_BLENDING_NONE";if(lt.envMap)switch(lt.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(lt){const e=lt.envMapCubeUVHeight;if(e===null)return null;const $=Math.log2(e)-2,ft=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,$),7*16)),texelHeight:ft,maxMip:$}}function WebGLProgram(lt,e,$,ft){const vt=lt.getContext(),s=$.defines;let Tt=$.vertexShader,At=$.fragmentShader;const Rt=generateShadowMapTypeDefine($),Dt=generateEnvMapTypeDefine($),Nt=generateEnvMapModeDefine($),Wt=generateEnvMapBlendingDefine($),Ht=generateCubeUVSize($),Kt=$.isWebGL2?"":generateExtensions($),Ft=generateDefines(s),tn=vt.createProgram();let cn,fn,ln=$.glslVersion?"#version "+$.glslVersion+`
`:"";$.isRawShaderMaterial?(cn=[Ft].filter(filterEmptyLine).join(`
`),cn.length>0&&(cn+=`
`),fn=[Kt,Ft].filter(filterEmptyLine).join(`
`),fn.length>0&&(fn+=`
`)):(cn=[generatePrecision($),"#define SHADER_NAME "+$.shaderName,Ft,$.instancing?"#define USE_INSTANCING":"",$.instancingColor?"#define USE_INSTANCING_COLOR":"",$.supportsVertexTextures?"#define VERTEX_TEXTURES":"",$.useFog&&$.fog?"#define USE_FOG":"",$.useFog&&$.fogExp2?"#define FOG_EXP2":"",$.map?"#define USE_MAP":"",$.envMap?"#define USE_ENVMAP":"",$.envMap?"#define "+Nt:"",$.lightMap?"#define USE_LIGHTMAP":"",$.aoMap?"#define USE_AOMAP":"",$.emissiveMap?"#define USE_EMISSIVEMAP":"",$.bumpMap?"#define USE_BUMPMAP":"",$.normalMap?"#define USE_NORMALMAP":"",$.normalMap&&$.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",$.normalMap&&$.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",$.clearcoatMap?"#define USE_CLEARCOATMAP":"",$.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",$.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",$.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",$.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",$.displacementMap&&$.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",$.specularMap?"#define USE_SPECULARMAP":"",$.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",$.specularColorMap?"#define USE_SPECULARCOLORMAP":"",$.roughnessMap?"#define USE_ROUGHNESSMAP":"",$.metalnessMap?"#define USE_METALNESSMAP":"",$.alphaMap?"#define USE_ALPHAMAP":"",$.transmission?"#define USE_TRANSMISSION":"",$.transmissionMap?"#define USE_TRANSMISSIONMAP":"",$.thicknessMap?"#define USE_THICKNESSMAP":"",$.sheenColorMap?"#define USE_SHEENCOLORMAP":"",$.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",$.vertexTangents?"#define USE_TANGENT":"",$.vertexColors?"#define USE_COLOR":"",$.vertexAlphas?"#define USE_COLOR_ALPHA":"",$.vertexUvs?"#define USE_UV":"",$.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",$.flatShading?"#define FLAT_SHADED":"",$.skinning?"#define USE_SKINNING":"",$.morphTargets?"#define USE_MORPHTARGETS":"",$.morphNormals&&$.flatShading===!1?"#define USE_MORPHNORMALS":"",$.morphColors&&$.isWebGL2?"#define USE_MORPHCOLORS":"",$.morphTargetsCount>0&&$.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",$.morphTargetsCount>0&&$.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+$.morphTextureStride:"",$.morphTargetsCount>0&&$.isWebGL2?"#define MORPHTARGETS_COUNT "+$.morphTargetsCount:"",$.doubleSided?"#define DOUBLE_SIDED":"",$.flipSided?"#define FLIP_SIDED":"",$.shadowMapEnabled?"#define USE_SHADOWMAP":"",$.shadowMapEnabled?"#define "+Rt:"",$.sizeAttenuation?"#define USE_SIZEATTENUATION":"",$.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",$.logarithmicDepthBuffer&&$.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),fn=[Kt,generatePrecision($),"#define SHADER_NAME "+$.shaderName,Ft,$.useFog&&$.fog?"#define USE_FOG":"",$.useFog&&$.fogExp2?"#define FOG_EXP2":"",$.map?"#define USE_MAP":"",$.matcap?"#define USE_MATCAP":"",$.envMap?"#define USE_ENVMAP":"",$.envMap?"#define "+Dt:"",$.envMap?"#define "+Nt:"",$.envMap?"#define "+Wt:"",Ht?"#define CUBEUV_TEXEL_WIDTH "+Ht.texelWidth:"",Ht?"#define CUBEUV_TEXEL_HEIGHT "+Ht.texelHeight:"",Ht?"#define CUBEUV_MAX_MIP "+Ht.maxMip+".0":"",$.lightMap?"#define USE_LIGHTMAP":"",$.aoMap?"#define USE_AOMAP":"",$.emissiveMap?"#define USE_EMISSIVEMAP":"",$.bumpMap?"#define USE_BUMPMAP":"",$.normalMap?"#define USE_NORMALMAP":"",$.normalMap&&$.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",$.normalMap&&$.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",$.clearcoat?"#define USE_CLEARCOAT":"",$.clearcoatMap?"#define USE_CLEARCOATMAP":"",$.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",$.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",$.iridescence?"#define USE_IRIDESCENCE":"",$.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",$.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",$.specularMap?"#define USE_SPECULARMAP":"",$.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",$.specularColorMap?"#define USE_SPECULARCOLORMAP":"",$.roughnessMap?"#define USE_ROUGHNESSMAP":"",$.metalnessMap?"#define USE_METALNESSMAP":"",$.alphaMap?"#define USE_ALPHAMAP":"",$.alphaTest?"#define USE_ALPHATEST":"",$.sheen?"#define USE_SHEEN":"",$.sheenColorMap?"#define USE_SHEENCOLORMAP":"",$.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",$.transmission?"#define USE_TRANSMISSION":"",$.transmissionMap?"#define USE_TRANSMISSIONMAP":"",$.thicknessMap?"#define USE_THICKNESSMAP":"",$.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",$.vertexTangents?"#define USE_TANGENT":"",$.vertexColors||$.instancingColor?"#define USE_COLOR":"",$.vertexAlphas?"#define USE_COLOR_ALPHA":"",$.vertexUvs?"#define USE_UV":"",$.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",$.gradientMap?"#define USE_GRADIENTMAP":"",$.flatShading?"#define FLAT_SHADED":"",$.doubleSided?"#define DOUBLE_SIDED":"",$.flipSided?"#define FLIP_SIDED":"",$.shadowMapEnabled?"#define USE_SHADOWMAP":"",$.shadowMapEnabled?"#define "+Rt:"",$.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",$.useLegacyLights?"#define LEGACY_LIGHTS":"",$.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",$.logarithmicDepthBuffer&&$.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",$.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",$.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",$.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",$.toneMapping):"",$.dithering?"#define DITHERING":"",$.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",$.outputEncoding),$.useDepthPacking?"#define DEPTH_PACKING "+$.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),Tt=resolveIncludes(Tt),Tt=replaceLightNums(Tt,$),Tt=replaceClippingPlaneNums(Tt,$),At=resolveIncludes(At),At=replaceLightNums(At,$),At=replaceClippingPlaneNums(At,$),Tt=unrollLoops(Tt),At=unrollLoops(At),$.isWebGL2&&$.isRawShaderMaterial!==!0&&(ln=`#version 300 es
`,cn=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+cn,fn=["#define varying in",$.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",$.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+fn);const dn=ln+cn+Tt,mn=ln+fn+At,xn=WebGLShader(vt,35633,dn),Mn=WebGLShader(vt,35632,mn);if(vt.attachShader(tn,xn),vt.attachShader(tn,Mn),$.index0AttributeName!==void 0?vt.bindAttribLocation(tn,0,$.index0AttributeName):$.morphTargets===!0&&vt.bindAttribLocation(tn,0,"position"),vt.linkProgram(tn),lt.debug.checkShaderErrors){const An=vt.getProgramInfoLog(tn).trim(),Pn=vt.getShaderInfoLog(xn).trim(),bn=vt.getShaderInfoLog(Mn).trim();let In=!0,On=!0;if(vt.getProgramParameter(tn,35714)===!1){In=!1;const Nn=getShaderErrors(vt,xn,"vertex"),Yn=getShaderErrors(vt,Mn,"fragment");console.error("THREE.WebGLProgram: Shader Error "+vt.getError()+" - VALIDATE_STATUS "+vt.getProgramParameter(tn,35715)+`

Program Info Log: `+An+`
`+Nn+`
`+Yn)}else An!==""?console.warn("THREE.WebGLProgram: Program Info Log:",An):(Pn===""||bn==="")&&(On=!1);On&&(this.diagnostics={runnable:In,programLog:An,vertexShader:{log:Pn,prefix:cn},fragmentShader:{log:bn,prefix:fn}})}vt.deleteShader(xn),vt.deleteShader(Mn);let Tn;this.getUniforms=function(){return Tn===void 0&&(Tn=new WebGLUniforms(vt,tn)),Tn};let vn;return this.getAttributes=function(){return vn===void 0&&(vn=fetchAttributeLocations(vt,tn)),vn},this.destroy=function(){ft.releaseStatesOfProgram(this),vt.deleteProgram(tn),this.program=void 0},this.name=$.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=tn,this.vertexShader=xn,this.fragmentShader=Mn,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const $=e.vertexShader,ft=e.fragmentShader,vt=this._getShaderStage($),s=this._getShaderStage(ft),Tt=this._getShaderCacheForMaterial(e);return Tt.has(vt)===!1&&(Tt.add(vt),vt.usedTimes++),Tt.has(s)===!1&&(Tt.add(s),s.usedTimes++),this}remove(e){const $=this.materialCache.get(e);for(const ft of $)ft.usedTimes--,ft.usedTimes===0&&this.shaderCache.delete(ft.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const $=this.materialCache;let ft=$.get(e);return ft===void 0&&(ft=new Set,$.set(e,ft)),ft}_getShaderStage(e){const $=this.shaderCache;let ft=$.get(e);return ft===void 0&&(ft=new WebGLShaderStage(e),$.set(e,ft)),ft}}class WebGLShaderStage{constructor(e){this.id=_id++,this.code=e,this.usedTimes=0}}function WebGLPrograms(lt,e,$,ft,vt,s,Tt){const At=new Layers$1,Rt=new WebGLShaderCache,Dt=[],Nt=vt.isWebGL2,Wt=vt.logarithmicDepthBuffer,Ht=vt.vertexTextures;let Kt=vt.precision;const Ft={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function tn(vn,An,Pn,bn,In){const On=bn.fog,Nn=In.geometry,Yn=vn.isMeshStandardMaterial?bn.environment:null,Xn=(vn.isMeshStandardMaterial?$:e).get(vn.envMap||Yn),sr=Xn&&Xn.mapping===CubeUVReflectionMapping?Xn.image.height:null,Un=Ft[vn.type];vn.precision!==null&&(Kt=vt.getMaxPrecision(vn.precision),Kt!==vn.precision&&console.warn("THREE.WebGLProgram.getParameters:",vn.precision,"not supported, using",Kt,"instead."));const Gn=Nn.morphAttributes.position||Nn.morphAttributes.normal||Nn.morphAttributes.color,Wn=Gn!==void 0?Gn.length:0;let $n=0;Nn.morphAttributes.position!==void 0&&($n=1),Nn.morphAttributes.normal!==void 0&&($n=2),Nn.morphAttributes.color!==void 0&&($n=3);let zn,Zn,tr,Hn;if(Un){const kr=ShaderLib[Un];zn=kr.vertexShader,Zn=kr.fragmentShader}else zn=vn.vertexShader,Zn=vn.fragmentShader,Rt.update(vn),tr=Rt.getVertexShaderID(vn),Hn=Rt.getFragmentShaderID(vn);const dr=lt.getRenderTarget(),nr=vn.alphaTest>0,hr=vn.clearcoat>0,Pr=vn.iridescence>0;return{isWebGL2:Nt,shaderID:Un,shaderName:vn.type,vertexShader:zn,fragmentShader:Zn,defines:vn.defines,customVertexShaderID:tr,customFragmentShaderID:Hn,isRawShaderMaterial:vn.isRawShaderMaterial===!0,glslVersion:vn.glslVersion,precision:Kt,instancing:In.isInstancedMesh===!0,instancingColor:In.isInstancedMesh===!0&&In.instanceColor!==null,supportsVertexTextures:Ht,outputEncoding:dr===null?lt.outputEncoding:dr.isXRRenderTarget===!0?dr.texture.encoding:LinearEncoding,map:!!vn.map,matcap:!!vn.matcap,envMap:!!Xn,envMapMode:Xn&&Xn.mapping,envMapCubeUVHeight:sr,lightMap:!!vn.lightMap,aoMap:!!vn.aoMap,emissiveMap:!!vn.emissiveMap,bumpMap:!!vn.bumpMap,normalMap:!!vn.normalMap,objectSpaceNormalMap:vn.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:vn.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!vn.map&&vn.map.isVideoTexture===!0&&vn.map.encoding===sRGBEncoding,clearcoat:hr,clearcoatMap:hr&&!!vn.clearcoatMap,clearcoatRoughnessMap:hr&&!!vn.clearcoatRoughnessMap,clearcoatNormalMap:hr&&!!vn.clearcoatNormalMap,iridescence:Pr,iridescenceMap:Pr&&!!vn.iridescenceMap,iridescenceThicknessMap:Pr&&!!vn.iridescenceThicknessMap,displacementMap:!!vn.displacementMap,roughnessMap:!!vn.roughnessMap,metalnessMap:!!vn.metalnessMap,specularMap:!!vn.specularMap,specularIntensityMap:!!vn.specularIntensityMap,specularColorMap:!!vn.specularColorMap,opaque:vn.transparent===!1&&vn.blending===NormalBlending,alphaMap:!!vn.alphaMap,alphaTest:nr,gradientMap:!!vn.gradientMap,sheen:vn.sheen>0,sheenColorMap:!!vn.sheenColorMap,sheenRoughnessMap:!!vn.sheenRoughnessMap,transmission:vn.transmission>0,transmissionMap:!!vn.transmissionMap,thicknessMap:!!vn.thicknessMap,combine:vn.combine,vertexTangents:!!vn.normalMap&&!!Nn.attributes.tangent,vertexColors:vn.vertexColors,vertexAlphas:vn.vertexColors===!0&&!!Nn.attributes.color&&Nn.attributes.color.itemSize===4,vertexUvs:!!vn.map||!!vn.bumpMap||!!vn.normalMap||!!vn.specularMap||!!vn.alphaMap||!!vn.emissiveMap||!!vn.roughnessMap||!!vn.metalnessMap||!!vn.clearcoatMap||!!vn.clearcoatRoughnessMap||!!vn.clearcoatNormalMap||!!vn.iridescenceMap||!!vn.iridescenceThicknessMap||!!vn.displacementMap||!!vn.transmissionMap||!!vn.thicknessMap||!!vn.specularIntensityMap||!!vn.specularColorMap||!!vn.sheenColorMap||!!vn.sheenRoughnessMap,uvsVertexOnly:!(vn.map||vn.bumpMap||vn.normalMap||vn.specularMap||vn.alphaMap||vn.emissiveMap||vn.roughnessMap||vn.metalnessMap||vn.clearcoatNormalMap||vn.iridescenceMap||vn.iridescenceThicknessMap||vn.transmission>0||vn.transmissionMap||vn.thicknessMap||vn.specularIntensityMap||vn.specularColorMap||vn.sheen>0||vn.sheenColorMap||vn.sheenRoughnessMap)&&!!vn.displacementMap,fog:!!On,useFog:vn.fog===!0,fogExp2:On&&On.isFogExp2,flatShading:!!vn.flatShading,sizeAttenuation:vn.sizeAttenuation,logarithmicDepthBuffer:Wt,skinning:In.isSkinnedMesh===!0,morphTargets:Nn.morphAttributes.position!==void 0,morphNormals:Nn.morphAttributes.normal!==void 0,morphColors:Nn.morphAttributes.color!==void 0,morphTargetsCount:Wn,morphTextureStride:$n,numDirLights:An.directional.length,numPointLights:An.point.length,numSpotLights:An.spot.length,numSpotLightMaps:An.spotLightMap.length,numRectAreaLights:An.rectArea.length,numHemiLights:An.hemi.length,numDirLightShadows:An.directionalShadowMap.length,numPointLightShadows:An.pointShadowMap.length,numSpotLightShadows:An.spotShadowMap.length,numSpotLightShadowsWithMaps:An.numSpotLightShadowsWithMaps,numClippingPlanes:Tt.numPlanes,numClipIntersection:Tt.numIntersection,dithering:vn.dithering,shadowMapEnabled:lt.shadowMap.enabled&&Pn.length>0,shadowMapType:lt.shadowMap.type,toneMapping:vn.toneMapped?lt.toneMapping:NoToneMapping,useLegacyLights:lt.useLegacyLights,premultipliedAlpha:vn.premultipliedAlpha,doubleSided:vn.side===DoubleSide,flipSided:vn.side===BackSide,useDepthPacking:!!vn.depthPacking,depthPacking:vn.depthPacking||0,index0AttributeName:vn.index0AttributeName,extensionDerivatives:vn.extensions&&vn.extensions.derivatives,extensionFragDepth:vn.extensions&&vn.extensions.fragDepth,extensionDrawBuffers:vn.extensions&&vn.extensions.drawBuffers,extensionShaderTextureLOD:vn.extensions&&vn.extensions.shaderTextureLOD,rendererExtensionFragDepth:Nt||ft.has("EXT_frag_depth"),rendererExtensionDrawBuffers:Nt||ft.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:Nt||ft.has("EXT_shader_texture_lod"),customProgramCacheKey:vn.customProgramCacheKey()}}function cn(vn){const An=[];if(vn.shaderID?An.push(vn.shaderID):(An.push(vn.customVertexShaderID),An.push(vn.customFragmentShaderID)),vn.defines!==void 0)for(const Pn in vn.defines)An.push(Pn),An.push(vn.defines[Pn]);return vn.isRawShaderMaterial===!1&&(fn(An,vn),ln(An,vn),An.push(lt.outputEncoding)),An.push(vn.customProgramCacheKey),An.join()}function fn(vn,An){vn.push(An.precision),vn.push(An.outputEncoding),vn.push(An.envMapMode),vn.push(An.envMapCubeUVHeight),vn.push(An.combine),vn.push(An.vertexUvs),vn.push(An.fogExp2),vn.push(An.sizeAttenuation),vn.push(An.morphTargetsCount),vn.push(An.morphAttributeCount),vn.push(An.numDirLights),vn.push(An.numPointLights),vn.push(An.numSpotLights),vn.push(An.numSpotLightMaps),vn.push(An.numHemiLights),vn.push(An.numRectAreaLights),vn.push(An.numDirLightShadows),vn.push(An.numPointLightShadows),vn.push(An.numSpotLightShadows),vn.push(An.numSpotLightShadowsWithMaps),vn.push(An.shadowMapType),vn.push(An.toneMapping),vn.push(An.numClippingPlanes),vn.push(An.numClipIntersection),vn.push(An.depthPacking)}function ln(vn,An){At.disableAll(),An.isWebGL2&&At.enable(0),An.supportsVertexTextures&&At.enable(1),An.instancing&&At.enable(2),An.instancingColor&&At.enable(3),An.map&&At.enable(4),An.matcap&&At.enable(5),An.envMap&&At.enable(6),An.lightMap&&At.enable(7),An.aoMap&&At.enable(8),An.emissiveMap&&At.enable(9),An.bumpMap&&At.enable(10),An.normalMap&&At.enable(11),An.objectSpaceNormalMap&&At.enable(12),An.tangentSpaceNormalMap&&At.enable(13),An.clearcoat&&At.enable(14),An.clearcoatMap&&At.enable(15),An.clearcoatRoughnessMap&&At.enable(16),An.clearcoatNormalMap&&At.enable(17),An.iridescence&&At.enable(18),An.iridescenceMap&&At.enable(19),An.iridescenceThicknessMap&&At.enable(20),An.displacementMap&&At.enable(21),An.specularMap&&At.enable(22),An.roughnessMap&&At.enable(23),An.metalnessMap&&At.enable(24),An.gradientMap&&At.enable(25),An.alphaMap&&At.enable(26),An.alphaTest&&At.enable(27),An.vertexColors&&At.enable(28),An.vertexAlphas&&At.enable(29),An.vertexUvs&&At.enable(30),An.vertexTangents&&At.enable(31),An.uvsVertexOnly&&At.enable(32),vn.push(At.mask),At.disableAll(),An.fog&&At.enable(0),An.useFog&&At.enable(1),An.flatShading&&At.enable(2),An.logarithmicDepthBuffer&&At.enable(3),An.skinning&&At.enable(4),An.morphTargets&&At.enable(5),An.morphNormals&&At.enable(6),An.morphColors&&At.enable(7),An.premultipliedAlpha&&At.enable(8),An.shadowMapEnabled&&At.enable(9),An.useLegacyLights&&At.enable(10),An.doubleSided&&At.enable(11),An.flipSided&&At.enable(12),An.useDepthPacking&&At.enable(13),An.dithering&&At.enable(14),An.specularIntensityMap&&At.enable(15),An.specularColorMap&&At.enable(16),An.transmission&&At.enable(17),An.transmissionMap&&At.enable(18),An.thicknessMap&&At.enable(19),An.sheen&&At.enable(20),An.sheenColorMap&&At.enable(21),An.sheenRoughnessMap&&At.enable(22),An.decodeVideoTexture&&At.enable(23),An.opaque&&At.enable(24),vn.push(At.mask)}function dn(vn){const An=Ft[vn.type];let Pn;if(An){const bn=ShaderLib[An];Pn=UniformsUtils.clone(bn.uniforms)}else Pn=vn.uniforms;return Pn}function mn(vn,An){let Pn;for(let bn=0,In=Dt.length;bn<In;bn++){const On=Dt[bn];if(On.cacheKey===An){Pn=On,++Pn.usedTimes;break}}return Pn===void 0&&(Pn=new WebGLProgram(lt,An,vn,s),Dt.push(Pn)),Pn}function xn(vn){if(--vn.usedTimes===0){const An=Dt.indexOf(vn);Dt[An]=Dt[Dt.length-1],Dt.pop(),vn.destroy()}}function Mn(vn){Rt.remove(vn)}function Tn(){Rt.dispose()}return{getParameters:tn,getProgramCacheKey:cn,getUniforms:dn,acquireProgram:mn,releaseProgram:xn,releaseShaderCache:Mn,programs:Dt,dispose:Tn}}function WebGLProperties(){let lt=new WeakMap;function e(s){let Tt=lt.get(s);return Tt===void 0&&(Tt={},lt.set(s,Tt)),Tt}function $(s){lt.delete(s)}function ft(s,Tt,At){lt.get(s)[Tt]=At}function vt(){lt=new WeakMap}return{get:e,remove:$,update:ft,dispose:vt}}function painterSortStable(lt,e){return lt.groupOrder!==e.groupOrder?lt.groupOrder-e.groupOrder:lt.renderOrder!==e.renderOrder?lt.renderOrder-e.renderOrder:lt.material.id!==e.material.id?lt.material.id-e.material.id:lt.z!==e.z?lt.z-e.z:lt.id-e.id}function reversePainterSortStable(lt,e){return lt.groupOrder!==e.groupOrder?lt.groupOrder-e.groupOrder:lt.renderOrder!==e.renderOrder?lt.renderOrder-e.renderOrder:lt.z!==e.z?e.z-lt.z:lt.id-e.id}function WebGLRenderList(){const lt=[];let e=0;const $=[],ft=[],vt=[];function s(){e=0,$.length=0,ft.length=0,vt.length=0}function Tt(Wt,Ht,Kt,Ft,tn,cn){let fn=lt[e];return fn===void 0?(fn={id:Wt.id,object:Wt,geometry:Ht,material:Kt,groupOrder:Ft,renderOrder:Wt.renderOrder,z:tn,group:cn},lt[e]=fn):(fn.id=Wt.id,fn.object=Wt,fn.geometry=Ht,fn.material=Kt,fn.groupOrder=Ft,fn.renderOrder=Wt.renderOrder,fn.z=tn,fn.group=cn),e++,fn}function At(Wt,Ht,Kt,Ft,tn,cn){const fn=Tt(Wt,Ht,Kt,Ft,tn,cn);Kt.transmission>0?ft.push(fn):Kt.transparent===!0?vt.push(fn):$.push(fn)}function Rt(Wt,Ht,Kt,Ft,tn,cn){const fn=Tt(Wt,Ht,Kt,Ft,tn,cn);Kt.transmission>0?ft.unshift(fn):Kt.transparent===!0?vt.unshift(fn):$.unshift(fn)}function Dt(Wt,Ht){$.length>1&&$.sort(Wt||painterSortStable),ft.length>1&&ft.sort(Ht||reversePainterSortStable),vt.length>1&&vt.sort(Ht||reversePainterSortStable)}function Nt(){for(let Wt=e,Ht=lt.length;Wt<Ht;Wt++){const Kt=lt[Wt];if(Kt.id===null)break;Kt.id=null,Kt.object=null,Kt.geometry=null,Kt.material=null,Kt.group=null}}return{opaque:$,transmissive:ft,transparent:vt,init:s,push:At,unshift:Rt,finish:Nt,sort:Dt}}function WebGLRenderLists(){let lt=new WeakMap;function e(ft,vt){const s=lt.get(ft);let Tt;return s===void 0?(Tt=new WebGLRenderList,lt.set(ft,[Tt])):vt>=s.length?(Tt=new WebGLRenderList,s.push(Tt)):Tt=s[vt],Tt}function $(){lt=new WeakMap}return{get:e,dispose:$}}function UniformsCache(){const lt={};return{get:function(e){if(lt[e.id]!==void 0)return lt[e.id];let $;switch(e.type){case"DirectionalLight":$={direction:new Vector3,color:new Color};break;case"SpotLight":$={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":$={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":$={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":$={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return lt[e.id]=$,$}}}function ShadowUniformsCache(){const lt={};return{get:function(e){if(lt[e.id]!==void 0)return lt[e.id];let $;switch(e.type){case"DirectionalLight":$={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":$={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":$={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return lt[e.id]=$,$}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(lt,e){return(e.castShadow?2:0)-(lt.castShadow?2:0)+(e.map?1:0)-(lt.map?1:0)}function WebGLLights(lt,e){const $=new UniformsCache,ft=ShadowUniformsCache(),vt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let Nt=0;Nt<9;Nt++)vt.probe.push(new Vector3);const s=new Vector3,Tt=new Matrix4,At=new Matrix4;function Rt(Nt,Wt){let Ht=0,Kt=0,Ft=0;for(let bn=0;bn<9;bn++)vt.probe[bn].set(0,0,0);let tn=0,cn=0,fn=0,ln=0,dn=0,mn=0,xn=0,Mn=0,Tn=0,vn=0;Nt.sort(shadowCastingAndTexturingLightsFirst);const An=Wt===!0?Math.PI:1;for(let bn=0,In=Nt.length;bn<In;bn++){const On=Nt[bn],Nn=On.color,Yn=On.intensity,Xn=On.distance,sr=On.shadow&&On.shadow.map?On.shadow.map.texture:null;if(On.isAmbientLight)Ht+=Nn.r*Yn*An,Kt+=Nn.g*Yn*An,Ft+=Nn.b*Yn*An;else if(On.isLightProbe)for(let Un=0;Un<9;Un++)vt.probe[Un].addScaledVector(On.sh.coefficients[Un],Yn);else if(On.isDirectionalLight){const Un=$.get(On);if(Un.color.copy(On.color).multiplyScalar(On.intensity*An),On.castShadow){const Gn=On.shadow,Wn=ft.get(On);Wn.shadowBias=Gn.bias,Wn.shadowNormalBias=Gn.normalBias,Wn.shadowRadius=Gn.radius,Wn.shadowMapSize=Gn.mapSize,vt.directionalShadow[tn]=Wn,vt.directionalShadowMap[tn]=sr,vt.directionalShadowMatrix[tn]=On.shadow.matrix,mn++}vt.directional[tn]=Un,tn++}else if(On.isSpotLight){const Un=$.get(On);Un.position.setFromMatrixPosition(On.matrixWorld),Un.color.copy(Nn).multiplyScalar(Yn*An),Un.distance=Xn,Un.coneCos=Math.cos(On.angle),Un.penumbraCos=Math.cos(On.angle*(1-On.penumbra)),Un.decay=On.decay,vt.spot[fn]=Un;const Gn=On.shadow;if(On.map&&(vt.spotLightMap[Tn]=On.map,Tn++,Gn.updateMatrices(On),On.castShadow&&vn++),vt.spotLightMatrix[fn]=Gn.matrix,On.castShadow){const Wn=ft.get(On);Wn.shadowBias=Gn.bias,Wn.shadowNormalBias=Gn.normalBias,Wn.shadowRadius=Gn.radius,Wn.shadowMapSize=Gn.mapSize,vt.spotShadow[fn]=Wn,vt.spotShadowMap[fn]=sr,Mn++}fn++}else if(On.isRectAreaLight){const Un=$.get(On);Un.color.copy(Nn).multiplyScalar(Yn),Un.halfWidth.set(On.width*.5,0,0),Un.halfHeight.set(0,On.height*.5,0),vt.rectArea[ln]=Un,ln++}else if(On.isPointLight){const Un=$.get(On);if(Un.color.copy(On.color).multiplyScalar(On.intensity*An),Un.distance=On.distance,Un.decay=On.decay,On.castShadow){const Gn=On.shadow,Wn=ft.get(On);Wn.shadowBias=Gn.bias,Wn.shadowNormalBias=Gn.normalBias,Wn.shadowRadius=Gn.radius,Wn.shadowMapSize=Gn.mapSize,Wn.shadowCameraNear=Gn.camera.near,Wn.shadowCameraFar=Gn.camera.far,vt.pointShadow[cn]=Wn,vt.pointShadowMap[cn]=sr,vt.pointShadowMatrix[cn]=On.shadow.matrix,xn++}vt.point[cn]=Un,cn++}else if(On.isHemisphereLight){const Un=$.get(On);Un.skyColor.copy(On.color).multiplyScalar(Yn*An),Un.groundColor.copy(On.groundColor).multiplyScalar(Yn*An),vt.hemi[dn]=Un,dn++}}ln>0&&(e.isWebGL2||lt.has("OES_texture_float_linear")===!0?(vt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,vt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):lt.has("OES_texture_half_float_linear")===!0?(vt.rectAreaLTC1=UniformsLib.LTC_HALF_1,vt.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),vt.ambient[0]=Ht,vt.ambient[1]=Kt,vt.ambient[2]=Ft;const Pn=vt.hash;(Pn.directionalLength!==tn||Pn.pointLength!==cn||Pn.spotLength!==fn||Pn.rectAreaLength!==ln||Pn.hemiLength!==dn||Pn.numDirectionalShadows!==mn||Pn.numPointShadows!==xn||Pn.numSpotShadows!==Mn||Pn.numSpotMaps!==Tn)&&(vt.directional.length=tn,vt.spot.length=fn,vt.rectArea.length=ln,vt.point.length=cn,vt.hemi.length=dn,vt.directionalShadow.length=mn,vt.directionalShadowMap.length=mn,vt.pointShadow.length=xn,vt.pointShadowMap.length=xn,vt.spotShadow.length=Mn,vt.spotShadowMap.length=Mn,vt.directionalShadowMatrix.length=mn,vt.pointShadowMatrix.length=xn,vt.spotLightMatrix.length=Mn+Tn-vn,vt.spotLightMap.length=Tn,vt.numSpotLightShadowsWithMaps=vn,Pn.directionalLength=tn,Pn.pointLength=cn,Pn.spotLength=fn,Pn.rectAreaLength=ln,Pn.hemiLength=dn,Pn.numDirectionalShadows=mn,Pn.numPointShadows=xn,Pn.numSpotShadows=Mn,Pn.numSpotMaps=Tn,vt.version=nextVersion++)}function Dt(Nt,Wt){let Ht=0,Kt=0,Ft=0,tn=0,cn=0;const fn=Wt.matrixWorldInverse;for(let ln=0,dn=Nt.length;ln<dn;ln++){const mn=Nt[ln];if(mn.isDirectionalLight){const xn=vt.directional[Ht];xn.direction.setFromMatrixPosition(mn.matrixWorld),s.setFromMatrixPosition(mn.target.matrixWorld),xn.direction.sub(s),xn.direction.transformDirection(fn),Ht++}else if(mn.isSpotLight){const xn=vt.spot[Ft];xn.position.setFromMatrixPosition(mn.matrixWorld),xn.position.applyMatrix4(fn),xn.direction.setFromMatrixPosition(mn.matrixWorld),s.setFromMatrixPosition(mn.target.matrixWorld),xn.direction.sub(s),xn.direction.transformDirection(fn),Ft++}else if(mn.isRectAreaLight){const xn=vt.rectArea[tn];xn.position.setFromMatrixPosition(mn.matrixWorld),xn.position.applyMatrix4(fn),At.identity(),Tt.copy(mn.matrixWorld),Tt.premultiply(fn),At.extractRotation(Tt),xn.halfWidth.set(mn.width*.5,0,0),xn.halfHeight.set(0,mn.height*.5,0),xn.halfWidth.applyMatrix4(At),xn.halfHeight.applyMatrix4(At),tn++}else if(mn.isPointLight){const xn=vt.point[Kt];xn.position.setFromMatrixPosition(mn.matrixWorld),xn.position.applyMatrix4(fn),Kt++}else if(mn.isHemisphereLight){const xn=vt.hemi[cn];xn.direction.setFromMatrixPosition(mn.matrixWorld),xn.direction.transformDirection(fn),cn++}}}return{setup:Rt,setupView:Dt,state:vt}}function WebGLRenderState(lt,e){const $=new WebGLLights(lt,e),ft=[],vt=[];function s(){ft.length=0,vt.length=0}function Tt(Wt){ft.push(Wt)}function At(Wt){vt.push(Wt)}function Rt(Wt){$.setup(ft,Wt)}function Dt(Wt){$.setupView(ft,Wt)}return{init:s,state:{lightsArray:ft,shadowsArray:vt,lights:$},setupLights:Rt,setupLightsView:Dt,pushLight:Tt,pushShadow:At}}function WebGLRenderStates(lt,e){let $=new WeakMap;function ft(s,Tt=0){const At=$.get(s);let Rt;return At===void 0?(Rt=new WebGLRenderState(lt,e),$.set(s,[Rt])):Tt>=At.length?(Rt=new WebGLRenderState(lt,e),At.push(Rt)):Rt=At[Tt],Rt}function vt(){$=new WeakMap}return{get:ft,dispose:vt}}class MeshDepthMaterial extends Material$1{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material$1{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(lt,e,$){let ft=new Frustum;const vt=new Vector2,s=new Vector2,Tt=new Vector4,At=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),Rt=new MeshDistanceMaterial,Dt={},Nt=$.maxTextureSize,Wt={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},Ht=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),Kt=Ht.clone();Kt.defines.HORIZONTAL_PASS=1;const Ft=new BufferGeometry;Ft.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const tn=new Mesh(Ft,Ht),cn=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(mn,xn,Mn){if(cn.enabled===!1||cn.autoUpdate===!1&&cn.needsUpdate===!1||mn.length===0)return;const Tn=lt.getRenderTarget(),vn=lt.getActiveCubeFace(),An=lt.getActiveMipmapLevel(),Pn=lt.state;Pn.setBlending(NoBlending),Pn.buffers.color.setClear(1,1,1,1),Pn.buffers.depth.setTest(!0),Pn.setScissorTest(!1);for(let bn=0,In=mn.length;bn<In;bn++){const On=mn[bn],Nn=On.shadow;if(Nn===void 0){console.warn("THREE.WebGLShadowMap:",On,"has no shadow.");continue}if(Nn.autoUpdate===!1&&Nn.needsUpdate===!1)continue;vt.copy(Nn.mapSize);const Yn=Nn.getFrameExtents();if(vt.multiply(Yn),s.copy(Nn.mapSize),(vt.x>Nt||vt.y>Nt)&&(vt.x>Nt&&(s.x=Math.floor(Nt/Yn.x),vt.x=s.x*Yn.x,Nn.mapSize.x=s.x),vt.y>Nt&&(s.y=Math.floor(Nt/Yn.y),vt.y=s.y*Yn.y,Nn.mapSize.y=s.y)),Nn.map===null){const sr=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Nn.map=new WebGLRenderTarget(vt.x,vt.y,sr),Nn.map.texture.name=On.name+".shadowMap",Nn.camera.updateProjectionMatrix()}lt.setRenderTarget(Nn.map),lt.clear();const Xn=Nn.getViewportCount();for(let sr=0;sr<Xn;sr++){const Un=Nn.getViewport(sr);Tt.set(s.x*Un.x,s.y*Un.y,s.x*Un.z,s.y*Un.w),Pn.viewport(Tt),Nn.updateMatrices(On,sr),ft=Nn.getFrustum(),dn(xn,Mn,Nn.camera,On,this.type)}Nn.isPointLightShadow!==!0&&this.type===VSMShadowMap&&fn(Nn,Mn),Nn.needsUpdate=!1}cn.needsUpdate=!1,lt.setRenderTarget(Tn,vn,An)};function fn(mn,xn){const Mn=e.update(tn);Ht.defines.VSM_SAMPLES!==mn.blurSamples&&(Ht.defines.VSM_SAMPLES=mn.blurSamples,Kt.defines.VSM_SAMPLES=mn.blurSamples,Ht.needsUpdate=!0,Kt.needsUpdate=!0),mn.mapPass===null&&(mn.mapPass=new WebGLRenderTarget(vt.x,vt.y)),Ht.uniforms.shadow_pass.value=mn.map.texture,Ht.uniforms.resolution.value=mn.mapSize,Ht.uniforms.radius.value=mn.radius,lt.setRenderTarget(mn.mapPass),lt.clear(),lt.renderBufferDirect(xn,null,Mn,Ht,tn,null),Kt.uniforms.shadow_pass.value=mn.mapPass.texture,Kt.uniforms.resolution.value=mn.mapSize,Kt.uniforms.radius.value=mn.radius,lt.setRenderTarget(mn.map),lt.clear(),lt.renderBufferDirect(xn,null,Mn,Kt,tn,null)}function ln(mn,xn,Mn,Tn,vn,An){let Pn=null;const bn=Mn.isPointLight===!0?mn.customDistanceMaterial:mn.customDepthMaterial;if(bn!==void 0)Pn=bn;else if(Pn=Mn.isPointLight===!0?Rt:At,lt.localClippingEnabled&&xn.clipShadows===!0&&Array.isArray(xn.clippingPlanes)&&xn.clippingPlanes.length!==0||xn.displacementMap&&xn.displacementScale!==0||xn.alphaMap&&xn.alphaTest>0||xn.map&&xn.alphaTest>0){const In=Pn.uuid,On=xn.uuid;let Nn=Dt[In];Nn===void 0&&(Nn={},Dt[In]=Nn);let Yn=Nn[On];Yn===void 0&&(Yn=Pn.clone(),Nn[On]=Yn),Pn=Yn}return Pn.visible=xn.visible,Pn.wireframe=xn.wireframe,An===VSMShadowMap?Pn.side=xn.shadowSide!==null?xn.shadowSide:xn.side:Pn.side=xn.shadowSide!==null?xn.shadowSide:Wt[xn.side],Pn.alphaMap=xn.alphaMap,Pn.alphaTest=xn.alphaTest,Pn.map=xn.map,Pn.clipShadows=xn.clipShadows,Pn.clippingPlanes=xn.clippingPlanes,Pn.clipIntersection=xn.clipIntersection,Pn.displacementMap=xn.displacementMap,Pn.displacementScale=xn.displacementScale,Pn.displacementBias=xn.displacementBias,Pn.wireframeLinewidth=xn.wireframeLinewidth,Pn.linewidth=xn.linewidth,Mn.isPointLight===!0&&Pn.isMeshDistanceMaterial===!0&&(Pn.referencePosition.setFromMatrixPosition(Mn.matrixWorld),Pn.nearDistance=Tn,Pn.farDistance=vn),Pn}function dn(mn,xn,Mn,Tn,vn){if(mn.visible===!1)return;if(mn.layers.test(xn.layers)&&(mn.isMesh||mn.isLine||mn.isPoints)&&(mn.castShadow||mn.receiveShadow&&vn===VSMShadowMap)&&(!mn.frustumCulled||ft.intersectsObject(mn))){mn.modelViewMatrix.multiplyMatrices(Mn.matrixWorldInverse,mn.matrixWorld);const bn=e.update(mn),In=mn.material;if(Array.isArray(In)){const On=bn.groups;for(let Nn=0,Yn=On.length;Nn<Yn;Nn++){const Xn=On[Nn],sr=In[Xn.materialIndex];if(sr&&sr.visible){const Un=ln(mn,sr,Tn,Mn.near,Mn.far,vn);lt.renderBufferDirect(Mn,null,bn,Un,mn,Xn)}}}else if(In.visible){const On=ln(mn,In,Tn,Mn.near,Mn.far,vn);lt.renderBufferDirect(Mn,null,bn,On,mn,null)}}const Pn=mn.children;for(let bn=0,In=Pn.length;bn<In;bn++)dn(Pn[bn],xn,Mn,Tn,vn)}}function WebGLState(lt,e,$){const ft=$.isWebGL2;function vt(){let qn=!1;const mr=new Vector4;let Nr=null;const to=new Vector4(0,0,0,0);return{setMask:function(oo){Nr!==oo&&!qn&&(lt.colorMask(oo,oo,oo,oo),Nr=oo)},setLocked:function(oo){qn=oo},setClear:function(oo,Vo,qo,Yo,Fo){Fo===!0&&(oo*=Yo,Vo*=Yo,qo*=Yo),mr.set(oo,Vo,qo,Yo),to.equals(mr)===!1&&(lt.clearColor(oo,Vo,qo,Yo),to.copy(mr))},reset:function(){qn=!1,Nr=null,to.set(-1,0,0,0)}}}function s(){let qn=!1,mr=null,Nr=null,to=null;return{setTest:function(oo){oo?nr(2929):hr(2929)},setMask:function(oo){mr!==oo&&!qn&&(lt.depthMask(oo),mr=oo)},setFunc:function(oo){if(Nr!==oo){switch(oo){case NeverDepth:lt.depthFunc(512);break;case AlwaysDepth:lt.depthFunc(519);break;case LessDepth:lt.depthFunc(513);break;case LessEqualDepth:lt.depthFunc(515);break;case EqualDepth:lt.depthFunc(514);break;case GreaterEqualDepth:lt.depthFunc(518);break;case GreaterDepth:lt.depthFunc(516);break;case NotEqualDepth:lt.depthFunc(517);break;default:lt.depthFunc(515)}Nr=oo}},setLocked:function(oo){qn=oo},setClear:function(oo){to!==oo&&(lt.clearDepth(oo),to=oo)},reset:function(){qn=!1,mr=null,Nr=null,to=null}}}function Tt(){let qn=!1,mr=null,Nr=null,to=null,oo=null,Vo=null,qo=null,Yo=null,Fo=null;return{setTest:function(Zo){qn||(Zo?nr(2960):hr(2960))},setMask:function(Zo){mr!==Zo&&!qn&&(lt.stencilMask(Zo),mr=Zo)},setFunc:function(Zo,Uo,No){(Nr!==Zo||to!==Uo||oo!==No)&&(lt.stencilFunc(Zo,Uo,No),Nr=Zo,to=Uo,oo=No)},setOp:function(Zo,Uo,No){(Vo!==Zo||qo!==Uo||Yo!==No)&&(lt.stencilOp(Zo,Uo,No),Vo=Zo,qo=Uo,Yo=No)},setLocked:function(Zo){qn=Zo},setClear:function(Zo){Fo!==Zo&&(lt.clearStencil(Zo),Fo=Zo)},reset:function(){qn=!1,mr=null,Nr=null,to=null,oo=null,Vo=null,qo=null,Yo=null,Fo=null}}}const At=new vt,Rt=new s,Dt=new Tt,Nt=new WeakMap,Wt=new WeakMap;let Ht={},Kt={},Ft=new WeakMap,tn=[],cn=null,fn=!1,ln=null,dn=null,mn=null,xn=null,Mn=null,Tn=null,vn=null,An=!1,Pn=null,bn=null,In=null,On=null,Nn=null;const Yn=lt.getParameter(35661);let Xn=!1,sr=0;const Un=lt.getParameter(7938);Un.indexOf("WebGL")!==-1?(sr=parseFloat(/^WebGL (\d)/.exec(Un)[1]),Xn=sr>=1):Un.indexOf("OpenGL ES")!==-1&&(sr=parseFloat(/^OpenGL ES (\d)/.exec(Un)[1]),Xn=sr>=2);let Gn=null,Wn={};const $n=lt.getParameter(3088),zn=lt.getParameter(2978),Zn=new Vector4().fromArray($n),tr=new Vector4().fromArray(zn);function Hn(qn,mr,Nr){const to=new Uint8Array(4),oo=lt.createTexture();lt.bindTexture(qn,oo),lt.texParameteri(qn,10241,9728),lt.texParameteri(qn,10240,9728);for(let Vo=0;Vo<Nr;Vo++)lt.texImage2D(mr+Vo,0,6408,1,1,0,6408,5121,to);return oo}const dr={};dr[3553]=Hn(3553,3553,1),dr[34067]=Hn(34067,34069,6),At.setClear(0,0,0,1),Rt.setClear(1),Dt.setClear(0),nr(2929),Rt.setFunc(LessEqualDepth),Dr(!1),Jr(CullFaceBack),nr(2884),Br(NoBlending);function nr(qn){Ht[qn]!==!0&&(lt.enable(qn),Ht[qn]=!0)}function hr(qn){Ht[qn]!==!1&&(lt.disable(qn),Ht[qn]=!1)}function Pr(qn,mr){return Kt[qn]!==mr?(lt.bindFramebuffer(qn,mr),Kt[qn]=mr,ft&&(qn===36009&&(Kt[36160]=mr),qn===36160&&(Kt[36009]=mr)),!0):!1}function Vr(qn,mr){let Nr=tn,to=!1;if(qn)if(Nr=Ft.get(mr),Nr===void 0&&(Nr=[],Ft.set(mr,Nr)),qn.isWebGLMultipleRenderTargets){const oo=qn.texture;if(Nr.length!==oo.length||Nr[0]!==36064){for(let Vo=0,qo=oo.length;Vo<qo;Vo++)Nr[Vo]=36064+Vo;Nr.length=oo.length,to=!0}}else Nr[0]!==36064&&(Nr[0]=36064,to=!0);else Nr[0]!==1029&&(Nr[0]=1029,to=!0);to&&($.isWebGL2?lt.drawBuffers(Nr):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Nr))}function kr(qn){return cn!==qn?(lt.useProgram(qn),cn=qn,!0):!1}const Zt={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(ft)Zt[MinEquation]=32775,Zt[MaxEquation]=32776;else{const qn=e.get("EXT_blend_minmax");qn!==null&&(Zt[MinEquation]=qn.MIN_EXT,Zt[MaxEquation]=qn.MAX_EXT)}const ur={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function Br(qn,mr,Nr,to,oo,Vo,qo,Yo){if(qn===NoBlending){fn===!0&&(hr(3042),fn=!1);return}if(fn===!1&&(nr(3042),fn=!0),qn!==CustomBlending){if(qn!==ln||Yo!==An){if((dn!==AddEquation||Mn!==AddEquation)&&(lt.blendEquation(32774),dn=AddEquation,Mn=AddEquation),Yo)switch(qn){case NormalBlending:lt.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:lt.blendFunc(1,1);break;case SubtractiveBlending:lt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:lt.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",qn);break}else switch(qn){case NormalBlending:lt.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:lt.blendFunc(770,1);break;case SubtractiveBlending:lt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:lt.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",qn);break}mn=null,xn=null,Tn=null,vn=null,ln=qn,An=Yo}return}oo=oo||mr,Vo=Vo||Nr,qo=qo||to,(mr!==dn||oo!==Mn)&&(lt.blendEquationSeparate(Zt[mr],Zt[oo]),dn=mr,Mn=oo),(Nr!==mn||to!==xn||Vo!==Tn||qo!==vn)&&(lt.blendFuncSeparate(ur[Nr],ur[to],ur[Vo],ur[qo]),mn=Nr,xn=to,Tn=Vo,vn=qo),ln=qn,An=!1}function zr(qn,mr){qn.side===DoubleSide?hr(2884):nr(2884);let Nr=qn.side===BackSide;mr&&(Nr=!Nr),Dr(Nr),qn.blending===NormalBlending&&qn.transparent===!1?Br(NoBlending):Br(qn.blending,qn.blendEquation,qn.blendSrc,qn.blendDst,qn.blendEquationAlpha,qn.blendSrcAlpha,qn.blendDstAlpha,qn.premultipliedAlpha),Rt.setFunc(qn.depthFunc),Rt.setTest(qn.depthTest),Rt.setMask(qn.depthWrite),At.setMask(qn.colorWrite);const to=qn.stencilWrite;Dt.setTest(to),to&&(Dt.setMask(qn.stencilWriteMask),Dt.setFunc(qn.stencilFunc,qn.stencilRef,qn.stencilFuncMask),Dt.setOp(qn.stencilFail,qn.stencilZFail,qn.stencilZPass)),jr(qn.polygonOffset,qn.polygonOffsetFactor,qn.polygonOffsetUnits),qn.alphaToCoverage===!0?nr(32926):hr(32926)}function Dr(qn){Pn!==qn&&(qn?lt.frontFace(2304):lt.frontFace(2305),Pn=qn)}function Jr(qn){qn!==CullFaceNone?(nr(2884),qn!==bn&&(qn===CullFaceBack?lt.cullFace(1029):qn===CullFaceFront?lt.cullFace(1028):lt.cullFace(1032))):hr(2884),bn=qn}function xr(qn){qn!==In&&(Xn&&lt.lineWidth(qn),In=qn)}function jr(qn,mr,Nr){qn?(nr(32823),(On!==mr||Nn!==Nr)&&(lt.polygonOffset(mr,Nr),On=mr,Nn=Nr)):hr(32823)}function qr(qn){qn?nr(3089):hr(3089)}function Tr(qn){qn===void 0&&(qn=33984+Yn-1),Gn!==qn&&(lt.activeTexture(qn),Gn=qn)}function Bn(qn,mr,Nr){Nr===void 0&&(Gn===null?Nr=33984+Yn-1:Nr=Gn);let to=Wn[Nr];to===void 0&&(to={type:void 0,texture:void 0},Wn[Nr]=to),(to.type!==qn||to.texture!==mr)&&(Gn!==Nr&&(lt.activeTexture(Nr),Gn=Nr),lt.bindTexture(qn,mr||dr[qn]),to.type=qn,to.texture=mr)}function Ln(){const qn=Wn[Gn];qn!==void 0&&qn.type!==void 0&&(lt.bindTexture(qn.type,null),qn.type=void 0,qn.texture=void 0)}function Jn(){try{lt.compressedTexImage2D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function yr(){try{lt.compressedTexImage3D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Wr(){try{lt.texSubImage2D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Yr(){try{lt.texSubImage3D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Xr(){try{lt.compressedTexSubImage2D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Kr(){try{lt.compressedTexSubImage3D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Cr(){try{lt.texStorage2D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function eo(){try{lt.texStorage3D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function jn(){try{lt.texImage2D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function gr(){try{lt.texImage3D.apply(lt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Ar(qn){Zn.equals(qn)===!1&&(lt.scissor(qn.x,qn.y,qn.z,qn.w),Zn.copy(qn))}function Rr(qn){tr.equals(qn)===!1&&(lt.viewport(qn.x,qn.y,qn.z,qn.w),tr.copy(qn))}function Qr(qn,mr){let Nr=Wt.get(mr);Nr===void 0&&(Nr=new WeakMap,Wt.set(mr,Nr));let to=Nr.get(qn);to===void 0&&(to=lt.getUniformBlockIndex(mr,qn.name),Nr.set(qn,to))}function po(qn,mr){const to=Wt.get(mr).get(qn);Nt.get(mr)!==to&&(lt.uniformBlockBinding(mr,to,qn.__bindingPointIndex),Nt.set(mr,to))}function _o(){lt.disable(3042),lt.disable(2884),lt.disable(2929),lt.disable(32823),lt.disable(3089),lt.disable(2960),lt.disable(32926),lt.blendEquation(32774),lt.blendFunc(1,0),lt.blendFuncSeparate(1,0,1,0),lt.colorMask(!0,!0,!0,!0),lt.clearColor(0,0,0,0),lt.depthMask(!0),lt.depthFunc(513),lt.clearDepth(1),lt.stencilMask(4294967295),lt.stencilFunc(519,0,4294967295),lt.stencilOp(7680,7680,7680),lt.clearStencil(0),lt.cullFace(1029),lt.frontFace(2305),lt.polygonOffset(0,0),lt.activeTexture(33984),lt.bindFramebuffer(36160,null),ft===!0&&(lt.bindFramebuffer(36009,null),lt.bindFramebuffer(36008,null)),lt.useProgram(null),lt.lineWidth(1),lt.scissor(0,0,lt.canvas.width,lt.canvas.height),lt.viewport(0,0,lt.canvas.width,lt.canvas.height),Ht={},Gn=null,Wn={},Kt={},Ft=new WeakMap,tn=[],cn=null,fn=!1,ln=null,dn=null,mn=null,xn=null,Mn=null,Tn=null,vn=null,An=!1,Pn=null,bn=null,In=null,On=null,Nn=null,Zn.set(0,0,lt.canvas.width,lt.canvas.height),tr.set(0,0,lt.canvas.width,lt.canvas.height),At.reset(),Rt.reset(),Dt.reset()}return{buffers:{color:At,depth:Rt,stencil:Dt},enable:nr,disable:hr,bindFramebuffer:Pr,drawBuffers:Vr,useProgram:kr,setBlending:Br,setMaterial:zr,setFlipSided:Dr,setCullFace:Jr,setLineWidth:xr,setPolygonOffset:jr,setScissorTest:qr,activeTexture:Tr,bindTexture:Bn,unbindTexture:Ln,compressedTexImage2D:Jn,compressedTexImage3D:yr,texImage2D:jn,texImage3D:gr,updateUBOMapping:Qr,uniformBlockBinding:po,texStorage2D:Cr,texStorage3D:eo,texSubImage2D:Wr,texSubImage3D:Yr,compressedTexSubImage2D:Xr,compressedTexSubImage3D:Kr,scissor:Ar,viewport:Rr,reset:_o}}function WebGLTextures(lt,e,$,ft,vt,s,Tt){const At=vt.isWebGL2,Rt=vt.maxTextures,Dt=vt.maxCubemapSize,Nt=vt.maxTextureSize,Wt=vt.maxSamples,Ht=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,Kt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),Ft=new WeakMap;let tn;const cn=new WeakMap;let fn=!1;try{fn=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ln(Bn,Ln){return fn?new OffscreenCanvas(Bn,Ln):createElementNS$1("canvas")}function dn(Bn,Ln,Jn,yr){let Wr=1;if((Bn.width>yr||Bn.height>yr)&&(Wr=yr/Math.max(Bn.width,Bn.height)),Wr<1||Ln===!0)if(typeof HTMLImageElement<"u"&&Bn instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Bn instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Bn instanceof ImageBitmap){const Yr=Ln?floorPowerOfTwo:Math.floor,Xr=Yr(Wr*Bn.width),Kr=Yr(Wr*Bn.height);tn===void 0&&(tn=ln(Xr,Kr));const Cr=Jn?ln(Xr,Kr):tn;return Cr.width=Xr,Cr.height=Kr,Cr.getContext("2d").drawImage(Bn,0,0,Xr,Kr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Bn.width+"x"+Bn.height+") to ("+Xr+"x"+Kr+")."),Cr}else return"data"in Bn&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Bn.width+"x"+Bn.height+")."),Bn;return Bn}function mn(Bn){return isPowerOfTwo(Bn.width)&&isPowerOfTwo(Bn.height)}function xn(Bn){return At?!1:Bn.wrapS!==ClampToEdgeWrapping||Bn.wrapT!==ClampToEdgeWrapping||Bn.minFilter!==NearestFilter&&Bn.minFilter!==LinearFilter}function Mn(Bn,Ln){return Bn.generateMipmaps&&Ln&&Bn.minFilter!==NearestFilter&&Bn.minFilter!==LinearFilter}function Tn(Bn){lt.generateMipmap(Bn)}function vn(Bn,Ln,Jn,yr,Wr=!1){if(At===!1)return Ln;if(Bn!==null){if(lt[Bn]!==void 0)return lt[Bn];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Bn+"'")}let Yr=Ln;return Ln===6403&&(Jn===5126&&(Yr=33326),Jn===5131&&(Yr=33325),Jn===5121&&(Yr=33321)),Ln===33319&&(Jn===5126&&(Yr=33328),Jn===5131&&(Yr=33327),Jn===5121&&(Yr=33323)),Ln===6408&&(Jn===5126&&(Yr=34836),Jn===5131&&(Yr=34842),Jn===5121&&(Yr=yr===sRGBEncoding&&Wr===!1?35907:32856),Jn===32819&&(Yr=32854),Jn===32820&&(Yr=32855)),(Yr===33325||Yr===33326||Yr===33327||Yr===33328||Yr===34842||Yr===34836)&&e.get("EXT_color_buffer_float"),Yr}function An(Bn,Ln,Jn){return Mn(Bn,Jn)===!0||Bn.isFramebufferTexture&&Bn.minFilter!==NearestFilter&&Bn.minFilter!==LinearFilter?Math.log2(Math.max(Ln.width,Ln.height))+1:Bn.mipmaps!==void 0&&Bn.mipmaps.length>0?Bn.mipmaps.length:Bn.isCompressedTexture&&Array.isArray(Bn.image)?Ln.mipmaps.length:1}function Pn(Bn){return Bn===NearestFilter||Bn===NearestMipmapNearestFilter||Bn===NearestMipmapLinearFilter?9728:9729}function bn(Bn){const Ln=Bn.target;Ln.removeEventListener("dispose",bn),On(Ln),Ln.isVideoTexture&&Ft.delete(Ln)}function In(Bn){const Ln=Bn.target;Ln.removeEventListener("dispose",In),Yn(Ln)}function On(Bn){const Ln=ft.get(Bn);if(Ln.__webglInit===void 0)return;const Jn=Bn.source,yr=cn.get(Jn);if(yr){const Wr=yr[Ln.__cacheKey];Wr.usedTimes--,Wr.usedTimes===0&&Nn(Bn),Object.keys(yr).length===0&&cn.delete(Jn)}ft.remove(Bn)}function Nn(Bn){const Ln=ft.get(Bn);lt.deleteTexture(Ln.__webglTexture);const Jn=Bn.source,yr=cn.get(Jn);delete yr[Ln.__cacheKey],Tt.memory.textures--}function Yn(Bn){const Ln=Bn.texture,Jn=ft.get(Bn),yr=ft.get(Ln);if(yr.__webglTexture!==void 0&&(lt.deleteTexture(yr.__webglTexture),Tt.memory.textures--),Bn.depthTexture&&Bn.depthTexture.dispose(),Bn.isWebGLCubeRenderTarget)for(let Wr=0;Wr<6;Wr++)lt.deleteFramebuffer(Jn.__webglFramebuffer[Wr]),Jn.__webglDepthbuffer&&lt.deleteRenderbuffer(Jn.__webglDepthbuffer[Wr]);else{if(lt.deleteFramebuffer(Jn.__webglFramebuffer),Jn.__webglDepthbuffer&&lt.deleteRenderbuffer(Jn.__webglDepthbuffer),Jn.__webglMultisampledFramebuffer&&lt.deleteFramebuffer(Jn.__webglMultisampledFramebuffer),Jn.__webglColorRenderbuffer)for(let Wr=0;Wr<Jn.__webglColorRenderbuffer.length;Wr++)Jn.__webglColorRenderbuffer[Wr]&&lt.deleteRenderbuffer(Jn.__webglColorRenderbuffer[Wr]);Jn.__webglDepthRenderbuffer&&lt.deleteRenderbuffer(Jn.__webglDepthRenderbuffer)}if(Bn.isWebGLMultipleRenderTargets)for(let Wr=0,Yr=Ln.length;Wr<Yr;Wr++){const Xr=ft.get(Ln[Wr]);Xr.__webglTexture&&(lt.deleteTexture(Xr.__webglTexture),Tt.memory.textures--),ft.remove(Ln[Wr])}ft.remove(Ln),ft.remove(Bn)}let Xn=0;function sr(){Xn=0}function Un(){const Bn=Xn;return Bn>=Rt&&console.warn("THREE.WebGLTextures: Trying to use "+Bn+" texture units while this GPU supports only "+Rt),Xn+=1,Bn}function Gn(Bn){const Ln=[];return Ln.push(Bn.wrapS),Ln.push(Bn.wrapT),Ln.push(Bn.wrapR||0),Ln.push(Bn.magFilter),Ln.push(Bn.minFilter),Ln.push(Bn.anisotropy),Ln.push(Bn.internalFormat),Ln.push(Bn.format),Ln.push(Bn.type),Ln.push(Bn.generateMipmaps),Ln.push(Bn.premultiplyAlpha),Ln.push(Bn.flipY),Ln.push(Bn.unpackAlignment),Ln.push(Bn.encoding),Ln.join()}function Wn(Bn,Ln){const Jn=ft.get(Bn);if(Bn.isVideoTexture&&qr(Bn),Bn.isRenderTargetTexture===!1&&Bn.version>0&&Jn.__version!==Bn.version){const yr=Bn.image;if(yr===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(yr.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{hr(Jn,Bn,Ln);return}}$.bindTexture(3553,Jn.__webglTexture,33984+Ln)}function $n(Bn,Ln){const Jn=ft.get(Bn);if(Bn.version>0&&Jn.__version!==Bn.version){hr(Jn,Bn,Ln);return}$.bindTexture(35866,Jn.__webglTexture,33984+Ln)}function zn(Bn,Ln){const Jn=ft.get(Bn);if(Bn.version>0&&Jn.__version!==Bn.version){hr(Jn,Bn,Ln);return}$.bindTexture(32879,Jn.__webglTexture,33984+Ln)}function Zn(Bn,Ln){const Jn=ft.get(Bn);if(Bn.version>0&&Jn.__version!==Bn.version){Pr(Jn,Bn,Ln);return}$.bindTexture(34067,Jn.__webglTexture,33984+Ln)}const tr={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},Hn={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function dr(Bn,Ln,Jn){if(Jn?(lt.texParameteri(Bn,10242,tr[Ln.wrapS]),lt.texParameteri(Bn,10243,tr[Ln.wrapT]),(Bn===32879||Bn===35866)&&lt.texParameteri(Bn,32882,tr[Ln.wrapR]),lt.texParameteri(Bn,10240,Hn[Ln.magFilter]),lt.texParameteri(Bn,10241,Hn[Ln.minFilter])):(lt.texParameteri(Bn,10242,33071),lt.texParameteri(Bn,10243,33071),(Bn===32879||Bn===35866)&&lt.texParameteri(Bn,32882,33071),(Ln.wrapS!==ClampToEdgeWrapping||Ln.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),lt.texParameteri(Bn,10240,Pn(Ln.magFilter)),lt.texParameteri(Bn,10241,Pn(Ln.minFilter)),Ln.minFilter!==NearestFilter&&Ln.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const yr=e.get("EXT_texture_filter_anisotropic");if(Ln.magFilter===NearestFilter||Ln.minFilter!==NearestMipmapLinearFilter&&Ln.minFilter!==LinearMipmapLinearFilter||Ln.type===FloatType&&e.has("OES_texture_float_linear")===!1||At===!1&&Ln.type===HalfFloatType&&e.has("OES_texture_half_float_linear")===!1)return;(Ln.anisotropy>1||ft.get(Ln).__currentAnisotropy)&&(lt.texParameterf(Bn,yr.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ln.anisotropy,vt.getMaxAnisotropy())),ft.get(Ln).__currentAnisotropy=Ln.anisotropy)}}function nr(Bn,Ln){let Jn=!1;Bn.__webglInit===void 0&&(Bn.__webglInit=!0,Ln.addEventListener("dispose",bn));const yr=Ln.source;let Wr=cn.get(yr);Wr===void 0&&(Wr={},cn.set(yr,Wr));const Yr=Gn(Ln);if(Yr!==Bn.__cacheKey){Wr[Yr]===void 0&&(Wr[Yr]={texture:lt.createTexture(),usedTimes:0},Tt.memory.textures++,Jn=!0),Wr[Yr].usedTimes++;const Xr=Wr[Bn.__cacheKey];Xr!==void 0&&(Wr[Bn.__cacheKey].usedTimes--,Xr.usedTimes===0&&Nn(Ln)),Bn.__cacheKey=Yr,Bn.__webglTexture=Wr[Yr].texture}return Jn}function hr(Bn,Ln,Jn){let yr=3553;(Ln.isDataArrayTexture||Ln.isCompressedArrayTexture)&&(yr=35866),Ln.isData3DTexture&&(yr=32879);const Wr=nr(Bn,Ln),Yr=Ln.source;$.bindTexture(yr,Bn.__webglTexture,33984+Jn);const Xr=ft.get(Yr);if(Yr.version!==Xr.__version||Wr===!0){$.activeTexture(33984+Jn),lt.pixelStorei(37440,Ln.flipY),lt.pixelStorei(37441,Ln.premultiplyAlpha),lt.pixelStorei(3317,Ln.unpackAlignment),lt.pixelStorei(37443,0);const Kr=xn(Ln)&&mn(Ln.image)===!1;let Cr=dn(Ln.image,Kr,!1,Nt);Cr=Tr(Ln,Cr);const eo=mn(Cr)||At,jn=s.convert(Ln.format,Ln.encoding);let gr=s.convert(Ln.type),Ar=vn(Ln.internalFormat,jn,gr,Ln.encoding,Ln.isVideoTexture);dr(yr,Ln,eo);let Rr;const Qr=Ln.mipmaps,po=At&&Ln.isVideoTexture!==!0,_o=Xr.__version===void 0||Wr===!0,qn=An(Ln,Cr,eo);if(Ln.isDepthTexture)Ar=6402,At?Ln.type===FloatType?Ar=36012:Ln.type===UnsignedIntType?Ar=33190:Ln.type===UnsignedInt248Type?Ar=35056:Ar=33189:Ln.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ln.format===DepthFormat&&Ar===6402&&Ln.type!==UnsignedShortType&&Ln.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ln.type=UnsignedIntType,gr=s.convert(Ln.type)),Ln.format===DepthStencilFormat&&Ar===6402&&(Ar=34041,Ln.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ln.type=UnsignedInt248Type,gr=s.convert(Ln.type))),_o&&(po?$.texStorage2D(3553,1,Ar,Cr.width,Cr.height):$.texImage2D(3553,0,Ar,Cr.width,Cr.height,0,jn,gr,null));else if(Ln.isDataTexture)if(Qr.length>0&&eo){po&&_o&&$.texStorage2D(3553,qn,Ar,Qr[0].width,Qr[0].height);for(let mr=0,Nr=Qr.length;mr<Nr;mr++)Rr=Qr[mr],po?$.texSubImage2D(3553,mr,0,0,Rr.width,Rr.height,jn,gr,Rr.data):$.texImage2D(3553,mr,Ar,Rr.width,Rr.height,0,jn,gr,Rr.data);Ln.generateMipmaps=!1}else po?(_o&&$.texStorage2D(3553,qn,Ar,Cr.width,Cr.height),$.texSubImage2D(3553,0,0,0,Cr.width,Cr.height,jn,gr,Cr.data)):$.texImage2D(3553,0,Ar,Cr.width,Cr.height,0,jn,gr,Cr.data);else if(Ln.isCompressedTexture)if(Ln.isCompressedArrayTexture){po&&_o&&$.texStorage3D(35866,qn,Ar,Qr[0].width,Qr[0].height,Cr.depth);for(let mr=0,Nr=Qr.length;mr<Nr;mr++)Rr=Qr[mr],Ln.format!==RGBAFormat?jn!==null?po?$.compressedTexSubImage3D(35866,mr,0,0,0,Rr.width,Rr.height,Cr.depth,jn,Rr.data,0,0):$.compressedTexImage3D(35866,mr,Ar,Rr.width,Rr.height,Cr.depth,0,Rr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):po?$.texSubImage3D(35866,mr,0,0,0,Rr.width,Rr.height,Cr.depth,jn,gr,Rr.data):$.texImage3D(35866,mr,Ar,Rr.width,Rr.height,Cr.depth,0,jn,gr,Rr.data)}else{po&&_o&&$.texStorage2D(3553,qn,Ar,Qr[0].width,Qr[0].height);for(let mr=0,Nr=Qr.length;mr<Nr;mr++)Rr=Qr[mr],Ln.format!==RGBAFormat?jn!==null?po?$.compressedTexSubImage2D(3553,mr,0,0,Rr.width,Rr.height,jn,Rr.data):$.compressedTexImage2D(3553,mr,Ar,Rr.width,Rr.height,0,Rr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):po?$.texSubImage2D(3553,mr,0,0,Rr.width,Rr.height,jn,gr,Rr.data):$.texImage2D(3553,mr,Ar,Rr.width,Rr.height,0,jn,gr,Rr.data)}else if(Ln.isDataArrayTexture)po?(_o&&$.texStorage3D(35866,qn,Ar,Cr.width,Cr.height,Cr.depth),$.texSubImage3D(35866,0,0,0,0,Cr.width,Cr.height,Cr.depth,jn,gr,Cr.data)):$.texImage3D(35866,0,Ar,Cr.width,Cr.height,Cr.depth,0,jn,gr,Cr.data);else if(Ln.isData3DTexture)po?(_o&&$.texStorage3D(32879,qn,Ar,Cr.width,Cr.height,Cr.depth),$.texSubImage3D(32879,0,0,0,0,Cr.width,Cr.height,Cr.depth,jn,gr,Cr.data)):$.texImage3D(32879,0,Ar,Cr.width,Cr.height,Cr.depth,0,jn,gr,Cr.data);else if(Ln.isFramebufferTexture){if(_o)if(po)$.texStorage2D(3553,qn,Ar,Cr.width,Cr.height);else{let mr=Cr.width,Nr=Cr.height;for(let to=0;to<qn;to++)$.texImage2D(3553,to,Ar,mr,Nr,0,jn,gr,null),mr>>=1,Nr>>=1}}else if(Qr.length>0&&eo){po&&_o&&$.texStorage2D(3553,qn,Ar,Qr[0].width,Qr[0].height);for(let mr=0,Nr=Qr.length;mr<Nr;mr++)Rr=Qr[mr],po?$.texSubImage2D(3553,mr,0,0,jn,gr,Rr):$.texImage2D(3553,mr,Ar,jn,gr,Rr);Ln.generateMipmaps=!1}else po?(_o&&$.texStorage2D(3553,qn,Ar,Cr.width,Cr.height),$.texSubImage2D(3553,0,0,0,jn,gr,Cr)):$.texImage2D(3553,0,Ar,jn,gr,Cr);Mn(Ln,eo)&&Tn(yr),Xr.__version=Yr.version,Ln.onUpdate&&Ln.onUpdate(Ln)}Bn.__version=Ln.version}function Pr(Bn,Ln,Jn){if(Ln.image.length!==6)return;const yr=nr(Bn,Ln),Wr=Ln.source;$.bindTexture(34067,Bn.__webglTexture,33984+Jn);const Yr=ft.get(Wr);if(Wr.version!==Yr.__version||yr===!0){$.activeTexture(33984+Jn),lt.pixelStorei(37440,Ln.flipY),lt.pixelStorei(37441,Ln.premultiplyAlpha),lt.pixelStorei(3317,Ln.unpackAlignment),lt.pixelStorei(37443,0);const Xr=Ln.isCompressedTexture||Ln.image[0].isCompressedTexture,Kr=Ln.image[0]&&Ln.image[0].isDataTexture,Cr=[];for(let mr=0;mr<6;mr++)!Xr&&!Kr?Cr[mr]=dn(Ln.image[mr],!1,!0,Dt):Cr[mr]=Kr?Ln.image[mr].image:Ln.image[mr],Cr[mr]=Tr(Ln,Cr[mr]);const eo=Cr[0],jn=mn(eo)||At,gr=s.convert(Ln.format,Ln.encoding),Ar=s.convert(Ln.type),Rr=vn(Ln.internalFormat,gr,Ar,Ln.encoding),Qr=At&&Ln.isVideoTexture!==!0,po=Yr.__version===void 0||yr===!0;let _o=An(Ln,eo,jn);dr(34067,Ln,jn);let qn;if(Xr){Qr&&po&&$.texStorage2D(34067,_o,Rr,eo.width,eo.height);for(let mr=0;mr<6;mr++){qn=Cr[mr].mipmaps;for(let Nr=0;Nr<qn.length;Nr++){const to=qn[Nr];Ln.format!==RGBAFormat?gr!==null?Qr?$.compressedTexSubImage2D(34069+mr,Nr,0,0,to.width,to.height,gr,to.data):$.compressedTexImage2D(34069+mr,Nr,Rr,to.width,to.height,0,to.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Qr?$.texSubImage2D(34069+mr,Nr,0,0,to.width,to.height,gr,Ar,to.data):$.texImage2D(34069+mr,Nr,Rr,to.width,to.height,0,gr,Ar,to.data)}}}else{qn=Ln.mipmaps,Qr&&po&&(qn.length>0&&_o++,$.texStorage2D(34067,_o,Rr,Cr[0].width,Cr[0].height));for(let mr=0;mr<6;mr++)if(Kr){Qr?$.texSubImage2D(34069+mr,0,0,0,Cr[mr].width,Cr[mr].height,gr,Ar,Cr[mr].data):$.texImage2D(34069+mr,0,Rr,Cr[mr].width,Cr[mr].height,0,gr,Ar,Cr[mr].data);for(let Nr=0;Nr<qn.length;Nr++){const oo=qn[Nr].image[mr].image;Qr?$.texSubImage2D(34069+mr,Nr+1,0,0,oo.width,oo.height,gr,Ar,oo.data):$.texImage2D(34069+mr,Nr+1,Rr,oo.width,oo.height,0,gr,Ar,oo.data)}}else{Qr?$.texSubImage2D(34069+mr,0,0,0,gr,Ar,Cr[mr]):$.texImage2D(34069+mr,0,Rr,gr,Ar,Cr[mr]);for(let Nr=0;Nr<qn.length;Nr++){const to=qn[Nr];Qr?$.texSubImage2D(34069+mr,Nr+1,0,0,gr,Ar,to.image[mr]):$.texImage2D(34069+mr,Nr+1,Rr,gr,Ar,to.image[mr])}}}Mn(Ln,jn)&&Tn(34067),Yr.__version=Wr.version,Ln.onUpdate&&Ln.onUpdate(Ln)}Bn.__version=Ln.version}function Vr(Bn,Ln,Jn,yr,Wr){const Yr=s.convert(Jn.format,Jn.encoding),Xr=s.convert(Jn.type),Kr=vn(Jn.internalFormat,Yr,Xr,Jn.encoding);ft.get(Ln).__hasExternalTextures||(Wr===32879||Wr===35866?$.texImage3D(Wr,0,Kr,Ln.width,Ln.height,Ln.depth,0,Yr,Xr,null):$.texImage2D(Wr,0,Kr,Ln.width,Ln.height,0,Yr,Xr,null)),$.bindFramebuffer(36160,Bn),jr(Ln)?Ht.framebufferTexture2DMultisampleEXT(36160,yr,Wr,ft.get(Jn).__webglTexture,0,xr(Ln)):(Wr===3553||Wr>=34069&&Wr<=34074)&&lt.framebufferTexture2D(36160,yr,Wr,ft.get(Jn).__webglTexture,0),$.bindFramebuffer(36160,null)}function kr(Bn,Ln,Jn){if(lt.bindRenderbuffer(36161,Bn),Ln.depthBuffer&&!Ln.stencilBuffer){let yr=33189;if(Jn||jr(Ln)){const Wr=Ln.depthTexture;Wr&&Wr.isDepthTexture&&(Wr.type===FloatType?yr=36012:Wr.type===UnsignedIntType&&(yr=33190));const Yr=xr(Ln);jr(Ln)?Ht.renderbufferStorageMultisampleEXT(36161,Yr,yr,Ln.width,Ln.height):lt.renderbufferStorageMultisample(36161,Yr,yr,Ln.width,Ln.height)}else lt.renderbufferStorage(36161,yr,Ln.width,Ln.height);lt.framebufferRenderbuffer(36160,36096,36161,Bn)}else if(Ln.depthBuffer&&Ln.stencilBuffer){const yr=xr(Ln);Jn&&jr(Ln)===!1?lt.renderbufferStorageMultisample(36161,yr,35056,Ln.width,Ln.height):jr(Ln)?Ht.renderbufferStorageMultisampleEXT(36161,yr,35056,Ln.width,Ln.height):lt.renderbufferStorage(36161,34041,Ln.width,Ln.height),lt.framebufferRenderbuffer(36160,33306,36161,Bn)}else{const yr=Ln.isWebGLMultipleRenderTargets===!0?Ln.texture:[Ln.texture];for(let Wr=0;Wr<yr.length;Wr++){const Yr=yr[Wr],Xr=s.convert(Yr.format,Yr.encoding),Kr=s.convert(Yr.type),Cr=vn(Yr.internalFormat,Xr,Kr,Yr.encoding),eo=xr(Ln);Jn&&jr(Ln)===!1?lt.renderbufferStorageMultisample(36161,eo,Cr,Ln.width,Ln.height):jr(Ln)?Ht.renderbufferStorageMultisampleEXT(36161,eo,Cr,Ln.width,Ln.height):lt.renderbufferStorage(36161,Cr,Ln.width,Ln.height)}}lt.bindRenderbuffer(36161,null)}function Zt(Bn,Ln){if(Ln&&Ln.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if($.bindFramebuffer(36160,Bn),!(Ln.depthTexture&&Ln.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!ft.get(Ln.depthTexture).__webglTexture||Ln.depthTexture.image.width!==Ln.width||Ln.depthTexture.image.height!==Ln.height)&&(Ln.depthTexture.image.width=Ln.width,Ln.depthTexture.image.height=Ln.height,Ln.depthTexture.needsUpdate=!0),Wn(Ln.depthTexture,0);const yr=ft.get(Ln.depthTexture).__webglTexture,Wr=xr(Ln);if(Ln.depthTexture.format===DepthFormat)jr(Ln)?Ht.framebufferTexture2DMultisampleEXT(36160,36096,3553,yr,0,Wr):lt.framebufferTexture2D(36160,36096,3553,yr,0);else if(Ln.depthTexture.format===DepthStencilFormat)jr(Ln)?Ht.framebufferTexture2DMultisampleEXT(36160,33306,3553,yr,0,Wr):lt.framebufferTexture2D(36160,33306,3553,yr,0);else throw new Error("Unknown depthTexture format")}function ur(Bn){const Ln=ft.get(Bn),Jn=Bn.isWebGLCubeRenderTarget===!0;if(Bn.depthTexture&&!Ln.__autoAllocateDepthBuffer){if(Jn)throw new Error("target.depthTexture not supported in Cube render targets");Zt(Ln.__webglFramebuffer,Bn)}else if(Jn){Ln.__webglDepthbuffer=[];for(let yr=0;yr<6;yr++)$.bindFramebuffer(36160,Ln.__webglFramebuffer[yr]),Ln.__webglDepthbuffer[yr]=lt.createRenderbuffer(),kr(Ln.__webglDepthbuffer[yr],Bn,!1)}else $.bindFramebuffer(36160,Ln.__webglFramebuffer),Ln.__webglDepthbuffer=lt.createRenderbuffer(),kr(Ln.__webglDepthbuffer,Bn,!1);$.bindFramebuffer(36160,null)}function Br(Bn,Ln,Jn){const yr=ft.get(Bn);Ln!==void 0&&Vr(yr.__webglFramebuffer,Bn,Bn.texture,36064,3553),Jn!==void 0&&ur(Bn)}function zr(Bn){const Ln=Bn.texture,Jn=ft.get(Bn),yr=ft.get(Ln);Bn.addEventListener("dispose",In),Bn.isWebGLMultipleRenderTargets!==!0&&(yr.__webglTexture===void 0&&(yr.__webglTexture=lt.createTexture()),yr.__version=Ln.version,Tt.memory.textures++);const Wr=Bn.isWebGLCubeRenderTarget===!0,Yr=Bn.isWebGLMultipleRenderTargets===!0,Xr=mn(Bn)||At;if(Wr){Jn.__webglFramebuffer=[];for(let Kr=0;Kr<6;Kr++)Jn.__webglFramebuffer[Kr]=lt.createFramebuffer()}else{if(Jn.__webglFramebuffer=lt.createFramebuffer(),Yr)if(vt.drawBuffers){const Kr=Bn.texture;for(let Cr=0,eo=Kr.length;Cr<eo;Cr++){const jn=ft.get(Kr[Cr]);jn.__webglTexture===void 0&&(jn.__webglTexture=lt.createTexture(),Tt.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(At&&Bn.samples>0&&jr(Bn)===!1){const Kr=Yr?Ln:[Ln];Jn.__webglMultisampledFramebuffer=lt.createFramebuffer(),Jn.__webglColorRenderbuffer=[],$.bindFramebuffer(36160,Jn.__webglMultisampledFramebuffer);for(let Cr=0;Cr<Kr.length;Cr++){const eo=Kr[Cr];Jn.__webglColorRenderbuffer[Cr]=lt.createRenderbuffer(),lt.bindRenderbuffer(36161,Jn.__webglColorRenderbuffer[Cr]);const jn=s.convert(eo.format,eo.encoding),gr=s.convert(eo.type),Ar=vn(eo.internalFormat,jn,gr,eo.encoding,Bn.isXRRenderTarget===!0),Rr=xr(Bn);lt.renderbufferStorageMultisample(36161,Rr,Ar,Bn.width,Bn.height),lt.framebufferRenderbuffer(36160,36064+Cr,36161,Jn.__webglColorRenderbuffer[Cr])}lt.bindRenderbuffer(36161,null),Bn.depthBuffer&&(Jn.__webglDepthRenderbuffer=lt.createRenderbuffer(),kr(Jn.__webglDepthRenderbuffer,Bn,!0)),$.bindFramebuffer(36160,null)}}if(Wr){$.bindTexture(34067,yr.__webglTexture),dr(34067,Ln,Xr);for(let Kr=0;Kr<6;Kr++)Vr(Jn.__webglFramebuffer[Kr],Bn,Ln,36064,34069+Kr);Mn(Ln,Xr)&&Tn(34067),$.unbindTexture()}else if(Yr){const Kr=Bn.texture;for(let Cr=0,eo=Kr.length;Cr<eo;Cr++){const jn=Kr[Cr],gr=ft.get(jn);$.bindTexture(3553,gr.__webglTexture),dr(3553,jn,Xr),Vr(Jn.__webglFramebuffer,Bn,jn,36064+Cr,3553),Mn(jn,Xr)&&Tn(3553)}$.unbindTexture()}else{let Kr=3553;(Bn.isWebGL3DRenderTarget||Bn.isWebGLArrayRenderTarget)&&(At?Kr=Bn.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),$.bindTexture(Kr,yr.__webglTexture),dr(Kr,Ln,Xr),Vr(Jn.__webglFramebuffer,Bn,Ln,36064,Kr),Mn(Ln,Xr)&&Tn(Kr),$.unbindTexture()}Bn.depthBuffer&&ur(Bn)}function Dr(Bn){const Ln=mn(Bn)||At,Jn=Bn.isWebGLMultipleRenderTargets===!0?Bn.texture:[Bn.texture];for(let yr=0,Wr=Jn.length;yr<Wr;yr++){const Yr=Jn[yr];if(Mn(Yr,Ln)){const Xr=Bn.isWebGLCubeRenderTarget?34067:3553,Kr=ft.get(Yr).__webglTexture;$.bindTexture(Xr,Kr),Tn(Xr),$.unbindTexture()}}}function Jr(Bn){if(At&&Bn.samples>0&&jr(Bn)===!1){const Ln=Bn.isWebGLMultipleRenderTargets?Bn.texture:[Bn.texture],Jn=Bn.width,yr=Bn.height;let Wr=16384;const Yr=[],Xr=Bn.stencilBuffer?33306:36096,Kr=ft.get(Bn),Cr=Bn.isWebGLMultipleRenderTargets===!0;if(Cr)for(let eo=0;eo<Ln.length;eo++)$.bindFramebuffer(36160,Kr.__webglMultisampledFramebuffer),lt.framebufferRenderbuffer(36160,36064+eo,36161,null),$.bindFramebuffer(36160,Kr.__webglFramebuffer),lt.framebufferTexture2D(36009,36064+eo,3553,null,0);$.bindFramebuffer(36008,Kr.__webglMultisampledFramebuffer),$.bindFramebuffer(36009,Kr.__webglFramebuffer);for(let eo=0;eo<Ln.length;eo++){Yr.push(36064+eo),Bn.depthBuffer&&Yr.push(Xr);const jn=Kr.__ignoreDepthValues!==void 0?Kr.__ignoreDepthValues:!1;if(jn===!1&&(Bn.depthBuffer&&(Wr|=256),Bn.stencilBuffer&&(Wr|=1024)),Cr&&lt.framebufferRenderbuffer(36008,36064,36161,Kr.__webglColorRenderbuffer[eo]),jn===!0&&(lt.invalidateFramebuffer(36008,[Xr]),lt.invalidateFramebuffer(36009,[Xr])),Cr){const gr=ft.get(Ln[eo]).__webglTexture;lt.framebufferTexture2D(36009,36064,3553,gr,0)}lt.blitFramebuffer(0,0,Jn,yr,0,0,Jn,yr,Wr,9728),Kt&&lt.invalidateFramebuffer(36008,Yr)}if($.bindFramebuffer(36008,null),$.bindFramebuffer(36009,null),Cr)for(let eo=0;eo<Ln.length;eo++){$.bindFramebuffer(36160,Kr.__webglMultisampledFramebuffer),lt.framebufferRenderbuffer(36160,36064+eo,36161,Kr.__webglColorRenderbuffer[eo]);const jn=ft.get(Ln[eo]).__webglTexture;$.bindFramebuffer(36160,Kr.__webglFramebuffer),lt.framebufferTexture2D(36009,36064+eo,3553,jn,0)}$.bindFramebuffer(36009,Kr.__webglMultisampledFramebuffer)}}function xr(Bn){return Math.min(Wt,Bn.samples)}function jr(Bn){const Ln=ft.get(Bn);return At&&Bn.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Ln.__useRenderToTexture!==!1}function qr(Bn){const Ln=Tt.render.frame;Ft.get(Bn)!==Ln&&(Ft.set(Bn,Ln),Bn.update())}function Tr(Bn,Ln){const Jn=Bn.encoding,yr=Bn.format,Wr=Bn.type;return Bn.isCompressedTexture===!0||Bn.isVideoTexture===!0||Bn.format===_SRGBAFormat||Jn!==LinearEncoding&&(Jn===sRGBEncoding?At===!1?e.has("EXT_sRGB")===!0&&yr===RGBAFormat?(Bn.format=_SRGBAFormat,Bn.minFilter=LinearFilter,Bn.generateMipmaps=!1):Ln=ImageUtils.sRGBToLinear(Ln):(yr!==RGBAFormat||Wr!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Jn)),Ln}this.allocateTextureUnit=Un,this.resetTextureUnits=sr,this.setTexture2D=Wn,this.setTexture2DArray=$n,this.setTexture3D=zn,this.setTextureCube=Zn,this.rebindTextures=Br,this.setupRenderTarget=zr,this.updateRenderTargetMipmap=Dr,this.updateMultisampleRenderTarget=Jr,this.setupDepthRenderbuffer=ur,this.setupFrameBufferTexture=Vr,this.useMultisampledRTT=jr}function WebGLUtils(lt,e,$){const ft=$.isWebGL2;function vt(s,Tt=null){let At;if(s===UnsignedByteType)return 5121;if(s===UnsignedShort4444Type)return 32819;if(s===UnsignedShort5551Type)return 32820;if(s===ByteType)return 5120;if(s===ShortType)return 5122;if(s===UnsignedShortType)return 5123;if(s===IntType)return 5124;if(s===UnsignedIntType)return 5125;if(s===FloatType)return 5126;if(s===HalfFloatType)return ft?5131:(At=e.get("OES_texture_half_float"),At!==null?At.HALF_FLOAT_OES:null);if(s===AlphaFormat)return 6406;if(s===RGBAFormat)return 6408;if(s===LuminanceFormat)return 6409;if(s===LuminanceAlphaFormat)return 6410;if(s===DepthFormat)return 6402;if(s===DepthStencilFormat)return 34041;if(s===_SRGBAFormat)return At=e.get("EXT_sRGB"),At!==null?At.SRGB_ALPHA_EXT:null;if(s===RedFormat)return 6403;if(s===RedIntegerFormat)return 36244;if(s===RGFormat)return 33319;if(s===RGIntegerFormat)return 33320;if(s===RGBAIntegerFormat)return 36249;if(s===RGB_S3TC_DXT1_Format||s===RGBA_S3TC_DXT1_Format||s===RGBA_S3TC_DXT3_Format||s===RGBA_S3TC_DXT5_Format)if(Tt===sRGBEncoding)if(At=e.get("WEBGL_compressed_texture_s3tc_srgb"),At!==null){if(s===RGB_S3TC_DXT1_Format)return At.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===RGBA_S3TC_DXT1_Format)return At.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===RGBA_S3TC_DXT3_Format)return At.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===RGBA_S3TC_DXT5_Format)return At.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(At=e.get("WEBGL_compressed_texture_s3tc"),At!==null){if(s===RGB_S3TC_DXT1_Format)return At.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===RGBA_S3TC_DXT1_Format)return At.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===RGBA_S3TC_DXT3_Format)return At.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===RGBA_S3TC_DXT5_Format)return At.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===RGB_PVRTC_4BPPV1_Format||s===RGB_PVRTC_2BPPV1_Format||s===RGBA_PVRTC_4BPPV1_Format||s===RGBA_PVRTC_2BPPV1_Format)if(At=e.get("WEBGL_compressed_texture_pvrtc"),At!==null){if(s===RGB_PVRTC_4BPPV1_Format)return At.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===RGB_PVRTC_2BPPV1_Format)return At.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===RGBA_PVRTC_4BPPV1_Format)return At.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===RGBA_PVRTC_2BPPV1_Format)return At.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===RGB_ETC1_Format)return At=e.get("WEBGL_compressed_texture_etc1"),At!==null?At.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===RGB_ETC2_Format||s===RGBA_ETC2_EAC_Format)if(At=e.get("WEBGL_compressed_texture_etc"),At!==null){if(s===RGB_ETC2_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ETC2:At.COMPRESSED_RGB8_ETC2;if(s===RGBA_ETC2_EAC_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:At.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===RGBA_ASTC_4x4_Format||s===RGBA_ASTC_5x4_Format||s===RGBA_ASTC_5x5_Format||s===RGBA_ASTC_6x5_Format||s===RGBA_ASTC_6x6_Format||s===RGBA_ASTC_8x5_Format||s===RGBA_ASTC_8x6_Format||s===RGBA_ASTC_8x8_Format||s===RGBA_ASTC_10x5_Format||s===RGBA_ASTC_10x6_Format||s===RGBA_ASTC_10x8_Format||s===RGBA_ASTC_10x10_Format||s===RGBA_ASTC_12x10_Format||s===RGBA_ASTC_12x12_Format)if(At=e.get("WEBGL_compressed_texture_astc"),At!==null){if(s===RGBA_ASTC_4x4_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:At.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===RGBA_ASTC_5x4_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:At.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===RGBA_ASTC_5x5_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:At.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===RGBA_ASTC_6x5_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:At.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===RGBA_ASTC_6x6_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:At.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===RGBA_ASTC_8x5_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:At.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===RGBA_ASTC_8x6_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:At.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===RGBA_ASTC_8x8_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:At.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===RGBA_ASTC_10x5_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:At.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===RGBA_ASTC_10x6_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:At.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===RGBA_ASTC_10x8_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:At.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===RGBA_ASTC_10x10_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:At.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===RGBA_ASTC_12x10_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:At.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===RGBA_ASTC_12x12_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:At.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===RGBA_BPTC_Format)if(At=e.get("EXT_texture_compression_bptc"),At!==null){if(s===RGBA_BPTC_Format)return Tt===sRGBEncoding?At.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:At.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===RED_RGTC1_Format||s===SIGNED_RED_RGTC1_Format||s===RED_GREEN_RGTC2_Format||s===SIGNED_RED_GREEN_RGTC2_Format)if(At=e.get("EXT_texture_compression_rgtc"),At!==null){if(s===RGBA_BPTC_Format)return At.COMPRESSED_RED_RGTC1_EXT;if(s===SIGNED_RED_RGTC1_Format)return At.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===RED_GREEN_RGTC2_Format)return At.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===SIGNED_RED_GREEN_RGTC2_Format)return At.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===UnsignedInt248Type?ft?34042:(At=e.get("WEBGL_depth_texture"),At!==null?At.UNSIGNED_INT_24_8_WEBGL:null):lt[s]!==void 0?lt[s]:null}return{convert:vt}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const $=this._hand;if($)for(const ft of e.hand.values())this._getHandJoint($,ft)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,$,ft){let vt=null,s=null,Tt=null;const At=this._targetRay,Rt=this._grip,Dt=this._hand;if(e&&$.session.visibilityState!=="visible-blurred"){if(Dt&&e.hand){Tt=!0;for(const tn of e.hand.values()){const cn=$.getJointPose(tn,ft),fn=this._getHandJoint(Dt,tn);cn!==null&&(fn.matrix.fromArray(cn.transform.matrix),fn.matrix.decompose(fn.position,fn.rotation,fn.scale),fn.jointRadius=cn.radius),fn.visible=cn!==null}const Nt=Dt.joints["index-finger-tip"],Wt=Dt.joints["thumb-tip"],Ht=Nt.position.distanceTo(Wt.position),Kt=.02,Ft=.005;Dt.inputState.pinching&&Ht>Kt+Ft?(Dt.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!Dt.inputState.pinching&&Ht<=Kt-Ft&&(Dt.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else Rt!==null&&e.gripSpace&&(s=$.getPose(e.gripSpace,ft),s!==null&&(Rt.matrix.fromArray(s.transform.matrix),Rt.matrix.decompose(Rt.position,Rt.rotation,Rt.scale),s.linearVelocity?(Rt.hasLinearVelocity=!0,Rt.linearVelocity.copy(s.linearVelocity)):Rt.hasLinearVelocity=!1,s.angularVelocity?(Rt.hasAngularVelocity=!0,Rt.angularVelocity.copy(s.angularVelocity)):Rt.hasAngularVelocity=!1));At!==null&&(vt=$.getPose(e.targetRaySpace,ft),vt===null&&s!==null&&(vt=s),vt!==null&&(At.matrix.fromArray(vt.transform.matrix),At.matrix.decompose(At.position,At.rotation,At.scale),vt.linearVelocity?(At.hasLinearVelocity=!0,At.linearVelocity.copy(vt.linearVelocity)):At.hasLinearVelocity=!1,vt.angularVelocity?(At.hasAngularVelocity=!0,At.angularVelocity.copy(vt.angularVelocity)):At.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return At!==null&&(At.visible=vt!==null),Rt!==null&&(Rt.visible=s!==null),Dt!==null&&(Dt.visible=Tt!==null),this}_getHandJoint(e,$){if(e.joints[$.jointName]===void 0){const ft=new Group;ft.matrixAutoUpdate=!1,ft.visible=!1,e.joints[$.jointName]=ft,e.add(ft)}return e.joints[$.jointName]}}class DepthTexture extends Texture{constructor(e,$,ft,vt,s,Tt,At,Rt,Dt,Nt){if(Nt=Nt!==void 0?Nt:DepthFormat,Nt!==DepthFormat&&Nt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");ft===void 0&&Nt===DepthFormat&&(ft=UnsignedIntType),ft===void 0&&Nt===DepthStencilFormat&&(ft=UnsignedInt248Type),super(null,vt,s,Tt,At,Rt,Nt,ft,Dt),this.isDepthTexture=!0,this.image={width:e,height:$},this.magFilter=At!==void 0?At:NearestFilter,this.minFilter=Rt!==void 0?Rt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(e,$){super();const ft=this;let vt=null,s=1,Tt=null,At="local-floor",Rt=1,Dt=null,Nt=null,Wt=null,Ht=null,Kt=null,Ft=null;const tn=$.getContextAttributes();let cn=null,fn=null;const ln=[],dn=[],mn=new Set,xn=new Map,Mn=new PerspectiveCamera;Mn.layers.enable(1),Mn.viewport=new Vector4;const Tn=new PerspectiveCamera;Tn.layers.enable(2),Tn.viewport=new Vector4;const vn=[Mn,Tn],An=new ArrayCamera;An.layers.enable(1),An.layers.enable(2);let Pn=null,bn=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(zn){let Zn=ln[zn];return Zn===void 0&&(Zn=new WebXRController,ln[zn]=Zn),Zn.getTargetRaySpace()},this.getControllerGrip=function(zn){let Zn=ln[zn];return Zn===void 0&&(Zn=new WebXRController,ln[zn]=Zn),Zn.getGripSpace()},this.getHand=function(zn){let Zn=ln[zn];return Zn===void 0&&(Zn=new WebXRController,ln[zn]=Zn),Zn.getHandSpace()};function In(zn){const Zn=dn.indexOf(zn.inputSource);if(Zn===-1)return;const tr=ln[Zn];tr!==void 0&&tr.dispatchEvent({type:zn.type,data:zn.inputSource})}function On(){vt.removeEventListener("select",In),vt.removeEventListener("selectstart",In),vt.removeEventListener("selectend",In),vt.removeEventListener("squeeze",In),vt.removeEventListener("squeezestart",In),vt.removeEventListener("squeezeend",In),vt.removeEventListener("end",On),vt.removeEventListener("inputsourceschange",Nn);for(let zn=0;zn<ln.length;zn++){const Zn=dn[zn];Zn!==null&&(dn[zn]=null,ln[zn].disconnect(Zn))}Pn=null,bn=null,e.setRenderTarget(cn),Kt=null,Ht=null,Wt=null,vt=null,fn=null,$n.stop(),ft.isPresenting=!1,ft.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(zn){s=zn,ft.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(zn){At=zn,ft.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return Dt||Tt},this.setReferenceSpace=function(zn){Dt=zn},this.getBaseLayer=function(){return Ht!==null?Ht:Kt},this.getBinding=function(){return Wt},this.getFrame=function(){return Ft},this.getSession=function(){return vt},this.setSession=async function(zn){if(vt=zn,vt!==null){if(cn=e.getRenderTarget(),vt.addEventListener("select",In),vt.addEventListener("selectstart",In),vt.addEventListener("selectend",In),vt.addEventListener("squeeze",In),vt.addEventListener("squeezestart",In),vt.addEventListener("squeezeend",In),vt.addEventListener("end",On),vt.addEventListener("inputsourceschange",Nn),tn.xrCompatible!==!0&&await $.makeXRCompatible(),vt.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Zn={antialias:vt.renderState.layers===void 0?tn.antialias:!0,alpha:tn.alpha,depth:tn.depth,stencil:tn.stencil,framebufferScaleFactor:s};Kt=new XRWebGLLayer(vt,$,Zn),vt.updateRenderState({baseLayer:Kt}),fn=new WebGLRenderTarget(Kt.framebufferWidth,Kt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:e.outputEncoding,stencilBuffer:tn.stencil})}else{let Zn=null,tr=null,Hn=null;tn.depth&&(Hn=tn.stencil?35056:33190,Zn=tn.stencil?DepthStencilFormat:DepthFormat,tr=tn.stencil?UnsignedInt248Type:UnsignedIntType);const dr={colorFormat:32856,depthFormat:Hn,scaleFactor:s};Wt=new XRWebGLBinding(vt,$),Ht=Wt.createProjectionLayer(dr),vt.updateRenderState({layers:[Ht]}),fn=new WebGLRenderTarget(Ht.textureWidth,Ht.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(Ht.textureWidth,Ht.textureHeight,tr,void 0,void 0,void 0,void 0,void 0,void 0,Zn),stencilBuffer:tn.stencil,encoding:e.outputEncoding,samples:tn.antialias?4:0});const nr=e.properties.get(fn);nr.__ignoreDepthValues=Ht.ignoreDepthValues}fn.isXRRenderTarget=!0,this.setFoveation(Rt),Dt=null,Tt=await vt.requestReferenceSpace(At),$n.setContext(vt),$n.start(),ft.isPresenting=!0,ft.dispatchEvent({type:"sessionstart"})}};function Nn(zn){for(let Zn=0;Zn<zn.removed.length;Zn++){const tr=zn.removed[Zn],Hn=dn.indexOf(tr);Hn>=0&&(dn[Hn]=null,ln[Hn].disconnect(tr))}for(let Zn=0;Zn<zn.added.length;Zn++){const tr=zn.added[Zn];let Hn=dn.indexOf(tr);if(Hn===-1){for(let nr=0;nr<ln.length;nr++)if(nr>=dn.length){dn.push(tr),Hn=nr;break}else if(dn[nr]===null){dn[nr]=tr,Hn=nr;break}if(Hn===-1)break}const dr=ln[Hn];dr&&dr.connect(tr)}}const Yn=new Vector3,Xn=new Vector3;function sr(zn,Zn,tr){Yn.setFromMatrixPosition(Zn.matrixWorld),Xn.setFromMatrixPosition(tr.matrixWorld);const Hn=Yn.distanceTo(Xn),dr=Zn.projectionMatrix.elements,nr=tr.projectionMatrix.elements,hr=dr[14]/(dr[10]-1),Pr=dr[14]/(dr[10]+1),Vr=(dr[9]+1)/dr[5],kr=(dr[9]-1)/dr[5],Zt=(dr[8]-1)/dr[0],ur=(nr[8]+1)/nr[0],Br=hr*Zt,zr=hr*ur,Dr=Hn/(-Zt+ur),Jr=Dr*-Zt;Zn.matrixWorld.decompose(zn.position,zn.quaternion,zn.scale),zn.translateX(Jr),zn.translateZ(Dr),zn.matrixWorld.compose(zn.position,zn.quaternion,zn.scale),zn.matrixWorldInverse.copy(zn.matrixWorld).invert();const xr=hr+Dr,jr=Pr+Dr,qr=Br-Jr,Tr=zr+(Hn-Jr),Bn=Vr*Pr/jr*xr,Ln=kr*Pr/jr*xr;zn.projectionMatrix.makePerspective(qr,Tr,Bn,Ln,xr,jr)}function Un(zn,Zn){Zn===null?zn.matrixWorld.copy(zn.matrix):zn.matrixWorld.multiplyMatrices(Zn.matrixWorld,zn.matrix),zn.matrixWorldInverse.copy(zn.matrixWorld).invert()}this.updateCamera=function(zn){if(vt===null)return;An.near=Tn.near=Mn.near=zn.near,An.far=Tn.far=Mn.far=zn.far,(Pn!==An.near||bn!==An.far)&&(vt.updateRenderState({depthNear:An.near,depthFar:An.far}),Pn=An.near,bn=An.far);const Zn=zn.parent,tr=An.cameras;Un(An,Zn);for(let dr=0;dr<tr.length;dr++)Un(tr[dr],Zn);An.matrixWorld.decompose(An.position,An.quaternion,An.scale),zn.matrix.copy(An.matrix),zn.matrix.decompose(zn.position,zn.quaternion,zn.scale);const Hn=zn.children;for(let dr=0,nr=Hn.length;dr<nr;dr++)Hn[dr].updateMatrixWorld(!0);tr.length===2?sr(An,Mn,Tn):An.projectionMatrix.copy(Mn.projectionMatrix)},this.getCamera=function(){return An},this.getFoveation=function(){if(!(Ht===null&&Kt===null))return Rt},this.setFoveation=function(zn){Rt=zn,Ht!==null&&(Ht.fixedFoveation=zn),Kt!==null&&Kt.fixedFoveation!==void 0&&(Kt.fixedFoveation=zn)},this.getPlanes=function(){return mn};let Gn=null;function Wn(zn,Zn){if(Nt=Zn.getViewerPose(Dt||Tt),Ft=Zn,Nt!==null){const tr=Nt.views;Kt!==null&&(e.setRenderTargetFramebuffer(fn,Kt.framebuffer),e.setRenderTarget(fn));let Hn=!1;tr.length!==An.cameras.length&&(An.cameras.length=0,Hn=!0);for(let dr=0;dr<tr.length;dr++){const nr=tr[dr];let hr=null;if(Kt!==null)hr=Kt.getViewport(nr);else{const Vr=Wt.getViewSubImage(Ht,nr);hr=Vr.viewport,dr===0&&(e.setRenderTargetTextures(fn,Vr.colorTexture,Ht.ignoreDepthValues?void 0:Vr.depthStencilTexture),e.setRenderTarget(fn))}let Pr=vn[dr];Pr===void 0&&(Pr=new PerspectiveCamera,Pr.layers.enable(dr),Pr.viewport=new Vector4,vn[dr]=Pr),Pr.matrix.fromArray(nr.transform.matrix),Pr.projectionMatrix.fromArray(nr.projectionMatrix),Pr.viewport.set(hr.x,hr.y,hr.width,hr.height),dr===0&&An.matrix.copy(Pr.matrix),Hn===!0&&An.cameras.push(Pr)}}for(let tr=0;tr<ln.length;tr++){const Hn=dn[tr],dr=ln[tr];Hn!==null&&dr!==void 0&&dr.update(Hn,Zn,Dt||Tt)}if(Gn&&Gn(zn,Zn),Zn.detectedPlanes){ft.dispatchEvent({type:"planesdetected",data:Zn.detectedPlanes});let tr=null;for(const Hn of mn)Zn.detectedPlanes.has(Hn)||(tr===null&&(tr=[]),tr.push(Hn));if(tr!==null)for(const Hn of tr)mn.delete(Hn),xn.delete(Hn),ft.dispatchEvent({type:"planeremoved",data:Hn});for(const Hn of Zn.detectedPlanes)if(!mn.has(Hn))mn.add(Hn),xn.set(Hn,Zn.lastChangedTime),ft.dispatchEvent({type:"planeadded",data:Hn});else{const dr=xn.get(Hn);Hn.lastChangedTime>dr&&(xn.set(Hn,Hn.lastChangedTime),ft.dispatchEvent({type:"planechanged",data:Hn}))}}Ft=null}const $n=new WebGLAnimation;$n.setAnimationLoop(Wn),this.setAnimationLoop=function(zn){Gn=zn},this.dispose=function(){}}}function WebGLMaterials(lt,e){function $(tn,cn){cn.color.getRGB(tn.fogColor.value,getUnlitUniformColorSpace(lt)),cn.isFog?(tn.fogNear.value=cn.near,tn.fogFar.value=cn.far):cn.isFogExp2&&(tn.fogDensity.value=cn.density)}function ft(tn,cn,fn,ln,dn){cn.isMeshBasicMaterial||cn.isMeshLambertMaterial?vt(tn,cn):cn.isMeshToonMaterial?(vt(tn,cn),Nt(tn,cn)):cn.isMeshPhongMaterial?(vt(tn,cn),Dt(tn,cn)):cn.isMeshStandardMaterial?(vt(tn,cn),Wt(tn,cn),cn.isMeshPhysicalMaterial&&Ht(tn,cn,dn)):cn.isMeshMatcapMaterial?(vt(tn,cn),Kt(tn,cn)):cn.isMeshDepthMaterial?vt(tn,cn):cn.isMeshDistanceMaterial?(vt(tn,cn),Ft(tn,cn)):cn.isMeshNormalMaterial?vt(tn,cn):cn.isLineBasicMaterial?(s(tn,cn),cn.isLineDashedMaterial&&Tt(tn,cn)):cn.isPointsMaterial?At(tn,cn,fn,ln):cn.isSpriteMaterial?Rt(tn,cn):cn.isShadowMaterial?(tn.color.value.copy(cn.color),tn.opacity.value=cn.opacity):cn.isShaderMaterial&&(cn.uniformsNeedUpdate=!1)}function vt(tn,cn){tn.opacity.value=cn.opacity,cn.color&&tn.diffuse.value.copy(cn.color),cn.emissive&&tn.emissive.value.copy(cn.emissive).multiplyScalar(cn.emissiveIntensity),cn.map&&(tn.map.value=cn.map),cn.alphaMap&&(tn.alphaMap.value=cn.alphaMap),cn.bumpMap&&(tn.bumpMap.value=cn.bumpMap,tn.bumpScale.value=cn.bumpScale,cn.side===BackSide&&(tn.bumpScale.value*=-1)),cn.displacementMap&&(tn.displacementMap.value=cn.displacementMap,tn.displacementScale.value=cn.displacementScale,tn.displacementBias.value=cn.displacementBias),cn.emissiveMap&&(tn.emissiveMap.value=cn.emissiveMap),cn.normalMap&&(tn.normalMap.value=cn.normalMap,tn.normalScale.value.copy(cn.normalScale),cn.side===BackSide&&tn.normalScale.value.negate()),cn.specularMap&&(tn.specularMap.value=cn.specularMap),cn.alphaTest>0&&(tn.alphaTest.value=cn.alphaTest);const fn=e.get(cn).envMap;if(fn&&(tn.envMap.value=fn,tn.flipEnvMap.value=fn.isCubeTexture&&fn.isRenderTargetTexture===!1?-1:1,tn.reflectivity.value=cn.reflectivity,tn.ior.value=cn.ior,tn.refractionRatio.value=cn.refractionRatio),cn.lightMap){tn.lightMap.value=cn.lightMap;const mn=lt.useLegacyLights===!0?Math.PI:1;tn.lightMapIntensity.value=cn.lightMapIntensity*mn}cn.aoMap&&(tn.aoMap.value=cn.aoMap,tn.aoMapIntensity.value=cn.aoMapIntensity);let ln;cn.map?ln=cn.map:cn.specularMap?ln=cn.specularMap:cn.displacementMap?ln=cn.displacementMap:cn.normalMap?ln=cn.normalMap:cn.bumpMap?ln=cn.bumpMap:cn.roughnessMap?ln=cn.roughnessMap:cn.metalnessMap?ln=cn.metalnessMap:cn.alphaMap?ln=cn.alphaMap:cn.emissiveMap?ln=cn.emissiveMap:cn.clearcoatMap?ln=cn.clearcoatMap:cn.clearcoatNormalMap?ln=cn.clearcoatNormalMap:cn.clearcoatRoughnessMap?ln=cn.clearcoatRoughnessMap:cn.iridescenceMap?ln=cn.iridescenceMap:cn.iridescenceThicknessMap?ln=cn.iridescenceThicknessMap:cn.specularIntensityMap?ln=cn.specularIntensityMap:cn.specularColorMap?ln=cn.specularColorMap:cn.transmissionMap?ln=cn.transmissionMap:cn.thicknessMap?ln=cn.thicknessMap:cn.sheenColorMap?ln=cn.sheenColorMap:cn.sheenRoughnessMap&&(ln=cn.sheenRoughnessMap),ln!==void 0&&(ln.isWebGLRenderTarget&&(ln=ln.texture),ln.matrixAutoUpdate===!0&&ln.updateMatrix(),tn.uvTransform.value.copy(ln.matrix));let dn;cn.aoMap?dn=cn.aoMap:cn.lightMap&&(dn=cn.lightMap),dn!==void 0&&(dn.isWebGLRenderTarget&&(dn=dn.texture),dn.matrixAutoUpdate===!0&&dn.updateMatrix(),tn.uv2Transform.value.copy(dn.matrix))}function s(tn,cn){tn.diffuse.value.copy(cn.color),tn.opacity.value=cn.opacity}function Tt(tn,cn){tn.dashSize.value=cn.dashSize,tn.totalSize.value=cn.dashSize+cn.gapSize,tn.scale.value=cn.scale}function At(tn,cn,fn,ln){tn.diffuse.value.copy(cn.color),tn.opacity.value=cn.opacity,tn.size.value=cn.size*fn,tn.scale.value=ln*.5,cn.map&&(tn.map.value=cn.map),cn.alphaMap&&(tn.alphaMap.value=cn.alphaMap),cn.alphaTest>0&&(tn.alphaTest.value=cn.alphaTest);let dn;cn.map?dn=cn.map:cn.alphaMap&&(dn=cn.alphaMap),dn!==void 0&&(dn.matrixAutoUpdate===!0&&dn.updateMatrix(),tn.uvTransform.value.copy(dn.matrix))}function Rt(tn,cn){tn.diffuse.value.copy(cn.color),tn.opacity.value=cn.opacity,tn.rotation.value=cn.rotation,cn.map&&(tn.map.value=cn.map),cn.alphaMap&&(tn.alphaMap.value=cn.alphaMap),cn.alphaTest>0&&(tn.alphaTest.value=cn.alphaTest);let fn;cn.map?fn=cn.map:cn.alphaMap&&(fn=cn.alphaMap),fn!==void 0&&(fn.matrixAutoUpdate===!0&&fn.updateMatrix(),tn.uvTransform.value.copy(fn.matrix))}function Dt(tn,cn){tn.specular.value.copy(cn.specular),tn.shininess.value=Math.max(cn.shininess,1e-4)}function Nt(tn,cn){cn.gradientMap&&(tn.gradientMap.value=cn.gradientMap)}function Wt(tn,cn){tn.roughness.value=cn.roughness,tn.metalness.value=cn.metalness,cn.roughnessMap&&(tn.roughnessMap.value=cn.roughnessMap),cn.metalnessMap&&(tn.metalnessMap.value=cn.metalnessMap),e.get(cn).envMap&&(tn.envMapIntensity.value=cn.envMapIntensity)}function Ht(tn,cn,fn){tn.ior.value=cn.ior,cn.sheen>0&&(tn.sheenColor.value.copy(cn.sheenColor).multiplyScalar(cn.sheen),tn.sheenRoughness.value=cn.sheenRoughness,cn.sheenColorMap&&(tn.sheenColorMap.value=cn.sheenColorMap),cn.sheenRoughnessMap&&(tn.sheenRoughnessMap.value=cn.sheenRoughnessMap)),cn.clearcoat>0&&(tn.clearcoat.value=cn.clearcoat,tn.clearcoatRoughness.value=cn.clearcoatRoughness,cn.clearcoatMap&&(tn.clearcoatMap.value=cn.clearcoatMap),cn.clearcoatRoughnessMap&&(tn.clearcoatRoughnessMap.value=cn.clearcoatRoughnessMap),cn.clearcoatNormalMap&&(tn.clearcoatNormalScale.value.copy(cn.clearcoatNormalScale),tn.clearcoatNormalMap.value=cn.clearcoatNormalMap,cn.side===BackSide&&tn.clearcoatNormalScale.value.negate())),cn.iridescence>0&&(tn.iridescence.value=cn.iridescence,tn.iridescenceIOR.value=cn.iridescenceIOR,tn.iridescenceThicknessMinimum.value=cn.iridescenceThicknessRange[0],tn.iridescenceThicknessMaximum.value=cn.iridescenceThicknessRange[1],cn.iridescenceMap&&(tn.iridescenceMap.value=cn.iridescenceMap),cn.iridescenceThicknessMap&&(tn.iridescenceThicknessMap.value=cn.iridescenceThicknessMap)),cn.transmission>0&&(tn.transmission.value=cn.transmission,tn.transmissionSamplerMap.value=fn.texture,tn.transmissionSamplerSize.value.set(fn.width,fn.height),cn.transmissionMap&&(tn.transmissionMap.value=cn.transmissionMap),tn.thickness.value=cn.thickness,cn.thicknessMap&&(tn.thicknessMap.value=cn.thicknessMap),tn.attenuationDistance.value=cn.attenuationDistance,tn.attenuationColor.value.copy(cn.attenuationColor)),tn.specularIntensity.value=cn.specularIntensity,tn.specularColor.value.copy(cn.specularColor),cn.specularIntensityMap&&(tn.specularIntensityMap.value=cn.specularIntensityMap),cn.specularColorMap&&(tn.specularColorMap.value=cn.specularColorMap)}function Kt(tn,cn){cn.matcap&&(tn.matcap.value=cn.matcap)}function Ft(tn,cn){tn.referencePosition.value.copy(cn.referencePosition),tn.nearDistance.value=cn.nearDistance,tn.farDistance.value=cn.farDistance}return{refreshFogUniforms:$,refreshMaterialUniforms:ft}}function WebGLUniformsGroups(lt,e,$,ft){let vt={},s={},Tt=[];const At=$.isWebGL2?lt.getParameter(35375):0;function Rt(ln,dn){const mn=dn.program;ft.uniformBlockBinding(ln,mn)}function Dt(ln,dn){let mn=vt[ln.id];mn===void 0&&(Ft(ln),mn=Nt(ln),vt[ln.id]=mn,ln.addEventListener("dispose",cn));const xn=dn.program;ft.updateUBOMapping(ln,xn);const Mn=e.render.frame;s[ln.id]!==Mn&&(Ht(ln),s[ln.id]=Mn)}function Nt(ln){const dn=Wt();ln.__bindingPointIndex=dn;const mn=lt.createBuffer(),xn=ln.__size,Mn=ln.usage;return lt.bindBuffer(35345,mn),lt.bufferData(35345,xn,Mn),lt.bindBuffer(35345,null),lt.bindBufferBase(35345,dn,mn),mn}function Wt(){for(let ln=0;ln<At;ln++)if(Tt.indexOf(ln)===-1)return Tt.push(ln),ln;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Ht(ln){const dn=vt[ln.id],mn=ln.uniforms,xn=ln.__cache;lt.bindBuffer(35345,dn);for(let Mn=0,Tn=mn.length;Mn<Tn;Mn++){const vn=mn[Mn];if(Kt(vn,Mn,xn)===!0){const An=vn.__offset,Pn=Array.isArray(vn.value)?vn.value:[vn.value];let bn=0;for(let In=0;In<Pn.length;In++){const On=Pn[In],Nn=tn(On);typeof On=="number"?(vn.__data[0]=On,lt.bufferSubData(35345,An+bn,vn.__data)):On.isMatrix3?(vn.__data[0]=On.elements[0],vn.__data[1]=On.elements[1],vn.__data[2]=On.elements[2],vn.__data[3]=On.elements[0],vn.__data[4]=On.elements[3],vn.__data[5]=On.elements[4],vn.__data[6]=On.elements[5],vn.__data[7]=On.elements[0],vn.__data[8]=On.elements[6],vn.__data[9]=On.elements[7],vn.__data[10]=On.elements[8],vn.__data[11]=On.elements[0]):(On.toArray(vn.__data,bn),bn+=Nn.storage/Float32Array.BYTES_PER_ELEMENT)}lt.bufferSubData(35345,An,vn.__data)}}lt.bindBuffer(35345,null)}function Kt(ln,dn,mn){const xn=ln.value;if(mn[dn]===void 0){if(typeof xn=="number")mn[dn]=xn;else{const Mn=Array.isArray(xn)?xn:[xn],Tn=[];for(let vn=0;vn<Mn.length;vn++)Tn.push(Mn[vn].clone());mn[dn]=Tn}return!0}else if(typeof xn=="number"){if(mn[dn]!==xn)return mn[dn]=xn,!0}else{const Mn=Array.isArray(mn[dn])?mn[dn]:[mn[dn]],Tn=Array.isArray(xn)?xn:[xn];for(let vn=0;vn<Mn.length;vn++){const An=Mn[vn];if(An.equals(Tn[vn])===!1)return An.copy(Tn[vn]),!0}}return!1}function Ft(ln){const dn=ln.uniforms;let mn=0;const xn=16;let Mn=0;for(let Tn=0,vn=dn.length;Tn<vn;Tn++){const An=dn[Tn],Pn={boundary:0,storage:0},bn=Array.isArray(An.value)?An.value:[An.value];for(let In=0,On=bn.length;In<On;In++){const Nn=bn[In],Yn=tn(Nn);Pn.boundary+=Yn.boundary,Pn.storage+=Yn.storage}if(An.__data=new Float32Array(Pn.storage/Float32Array.BYTES_PER_ELEMENT),An.__offset=mn,Tn>0){Mn=mn%xn;const In=xn-Mn;Mn!==0&&In-Pn.boundary<0&&(mn+=xn-Mn,An.__offset=mn)}mn+=Pn.storage}return Mn=mn%xn,Mn>0&&(mn+=xn-Mn),ln.__size=mn,ln.__cache={},this}function tn(ln){const dn={boundary:0,storage:0};return typeof ln=="number"?(dn.boundary=4,dn.storage=4):ln.isVector2?(dn.boundary=8,dn.storage=8):ln.isVector3||ln.isColor?(dn.boundary=16,dn.storage=12):ln.isVector4?(dn.boundary=16,dn.storage=16):ln.isMatrix3?(dn.boundary=48,dn.storage=48):ln.isMatrix4?(dn.boundary=64,dn.storage=64):ln.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",ln),dn}function cn(ln){const dn=ln.target;dn.removeEventListener("dispose",cn);const mn=Tt.indexOf(dn.__bindingPointIndex);Tt.splice(mn,1),lt.deleteBuffer(vt[dn.id]),delete vt[dn.id],delete s[dn.id]}function fn(){for(const ln in vt)lt.deleteBuffer(vt[ln]);Tt=[],vt={},s={}}return{bind:Rt,update:Dt,dispose:fn}}function createCanvasElement(){const lt=createElementNS$1("canvas");return lt.style.display="block",lt}function WebGLRenderer(lt={}){this.isWebGLRenderer=!0;const e=lt.canvas!==void 0?lt.canvas:createCanvasElement(),$=lt.context!==void 0?lt.context:null,ft=lt.depth!==void 0?lt.depth:!0,vt=lt.stencil!==void 0?lt.stencil:!0,s=lt.antialias!==void 0?lt.antialias:!1,Tt=lt.premultipliedAlpha!==void 0?lt.premultipliedAlpha:!0,At=lt.preserveDrawingBuffer!==void 0?lt.preserveDrawingBuffer:!1,Rt=lt.powerPreference!==void 0?lt.powerPreference:"default",Dt=lt.failIfMajorPerformanceCaveat!==void 0?lt.failIfMajorPerformanceCaveat:!1;let Nt;$!==null?Nt=$.getContextAttributes().alpha:Nt=lt.alpha!==void 0?lt.alpha:!1;let Wt=null,Ht=null;const Kt=[],Ft=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.useLegacyLights=!0,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const tn=this;let cn=!1,fn=0,ln=0,dn=null,mn=-1,xn=null;const Mn=new Vector4,Tn=new Vector4;let vn=null,An=e.width,Pn=e.height,bn=1,In=null,On=null;const Nn=new Vector4(0,0,An,Pn),Yn=new Vector4(0,0,An,Pn);let Xn=!1;const sr=new Frustum;let Un=!1,Gn=!1,Wn=null;const $n=new Matrix4,zn=new Vector3,Zn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function tr(){return dn===null?bn:1}let Hn=$;function dr(Dn,pr){for(let Sr=0;Sr<Dn.length;Sr++){const ar=Dn[Sr],br=e.getContext(ar,pr);if(br!==null)return br}return null}try{const Dn={alpha:!0,depth:ft,stencil:vt,antialias:s,premultipliedAlpha:Tt,preserveDrawingBuffer:At,powerPreference:Rt,failIfMajorPerformanceCaveat:Dt};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${REVISION}`),e.addEventListener("webglcontextlost",gr,!1),e.addEventListener("webglcontextrestored",Ar,!1),e.addEventListener("webglcontextcreationerror",Rr,!1),Hn===null){const pr=["webgl2","webgl","experimental-webgl"];if(tn.isWebGL1Renderer===!0&&pr.shift(),Hn=dr(pr,Dn),Hn===null)throw dr(pr)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Hn.getShaderPrecisionFormat===void 0&&(Hn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Dn){throw console.error("THREE.WebGLRenderer: "+Dn.message),Dn}let nr,hr,Pr,Vr,kr,Zt,ur,Br,zr,Dr,Jr,xr,jr,qr,Tr,Bn,Ln,Jn,yr,Wr,Yr,Xr,Kr,Cr;function eo(){nr=new WebGLExtensions(Hn),hr=new WebGLCapabilities(Hn,nr,lt),nr.init(hr),Xr=new WebGLUtils(Hn,nr,hr),Pr=new WebGLState(Hn,nr,hr),Vr=new WebGLInfo,kr=new WebGLProperties,Zt=new WebGLTextures(Hn,nr,Pr,kr,hr,Xr,Vr),ur=new WebGLCubeMaps(tn),Br=new WebGLCubeUVMaps(tn),zr=new WebGLAttributes(Hn,hr),Kr=new WebGLBindingStates(Hn,nr,zr,hr),Dr=new WebGLGeometries(Hn,zr,Vr,Kr),Jr=new WebGLObjects(Hn,Dr,zr,Vr),yr=new WebGLMorphtargets(Hn,hr,Zt),Bn=new WebGLClipping(kr),xr=new WebGLPrograms(tn,ur,Br,nr,hr,Kr,Bn),jr=new WebGLMaterials(tn,kr),qr=new WebGLRenderLists,Tr=new WebGLRenderStates(nr,hr),Jn=new WebGLBackground(tn,ur,Br,Pr,Jr,Nt,Tt),Ln=new WebGLShadowMap(tn,Jr,hr),Cr=new WebGLUniformsGroups(Hn,Vr,hr,Pr),Wr=new WebGLBufferRenderer(Hn,nr,Vr,hr),Yr=new WebGLIndexedBufferRenderer(Hn,nr,Vr,hr),Vr.programs=xr.programs,tn.capabilities=hr,tn.extensions=nr,tn.properties=kr,tn.renderLists=qr,tn.shadowMap=Ln,tn.state=Pr,tn.info=Vr}eo();const jn=new WebXRManager(tn,Hn);this.xr=jn,this.getContext=function(){return Hn},this.getContextAttributes=function(){return Hn.getContextAttributes()},this.forceContextLoss=function(){const Dn=nr.get("WEBGL_lose_context");Dn&&Dn.loseContext()},this.forceContextRestore=function(){const Dn=nr.get("WEBGL_lose_context");Dn&&Dn.restoreContext()},this.getPixelRatio=function(){return bn},this.setPixelRatio=function(Dn){Dn!==void 0&&(bn=Dn,this.setSize(An,Pn,!1))},this.getSize=function(Dn){return Dn.set(An,Pn)},this.setSize=function(Dn,pr,Sr=!0){if(jn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}An=Dn,Pn=pr,e.width=Math.floor(Dn*bn),e.height=Math.floor(pr*bn),Sr===!0&&(e.style.width=Dn+"px",e.style.height=pr+"px"),this.setViewport(0,0,Dn,pr)},this.getDrawingBufferSize=function(Dn){return Dn.set(An*bn,Pn*bn).floor()},this.setDrawingBufferSize=function(Dn,pr,Sr){An=Dn,Pn=pr,bn=Sr,e.width=Math.floor(Dn*Sr),e.height=Math.floor(pr*Sr),this.setViewport(0,0,Dn,pr)},this.getCurrentViewport=function(Dn){return Dn.copy(Mn)},this.getViewport=function(Dn){return Dn.copy(Nn)},this.setViewport=function(Dn,pr,Sr,ar){Dn.isVector4?Nn.set(Dn.x,Dn.y,Dn.z,Dn.w):Nn.set(Dn,pr,Sr,ar),Pr.viewport(Mn.copy(Nn).multiplyScalar(bn).floor())},this.getScissor=function(Dn){return Dn.copy(Yn)},this.setScissor=function(Dn,pr,Sr,ar){Dn.isVector4?Yn.set(Dn.x,Dn.y,Dn.z,Dn.w):Yn.set(Dn,pr,Sr,ar),Pr.scissor(Tn.copy(Yn).multiplyScalar(bn).floor())},this.getScissorTest=function(){return Xn},this.setScissorTest=function(Dn){Pr.setScissorTest(Xn=Dn)},this.setOpaqueSort=function(Dn){In=Dn},this.setTransparentSort=function(Dn){On=Dn},this.getClearColor=function(Dn){return Dn.copy(Jn.getClearColor())},this.setClearColor=function(){Jn.setClearColor.apply(Jn,arguments)},this.getClearAlpha=function(){return Jn.getClearAlpha()},this.setClearAlpha=function(){Jn.setClearAlpha.apply(Jn,arguments)},this.clear=function(Dn=!0,pr=!0,Sr=!0){let ar=0;Dn&&(ar|=16384),pr&&(ar|=256),Sr&&(ar|=1024),Hn.clear(ar)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",gr,!1),e.removeEventListener("webglcontextrestored",Ar,!1),e.removeEventListener("webglcontextcreationerror",Rr,!1),qr.dispose(),Tr.dispose(),kr.dispose(),ur.dispose(),Br.dispose(),Jr.dispose(),Kr.dispose(),Cr.dispose(),xr.dispose(),jn.dispose(),jn.removeEventListener("sessionstart",Nr),jn.removeEventListener("sessionend",to),Wn&&(Wn.dispose(),Wn=null),oo.stop()};function gr(Dn){Dn.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),cn=!0}function Ar(){console.log("THREE.WebGLRenderer: Context Restored."),cn=!1;const Dn=Vr.autoReset,pr=Ln.enabled,Sr=Ln.autoUpdate,ar=Ln.needsUpdate,br=Ln.type;eo(),Vr.autoReset=Dn,Ln.enabled=pr,Ln.autoUpdate=Sr,Ln.needsUpdate=ar,Ln.type=br}function Rr(Dn){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Dn.statusMessage)}function Qr(Dn){const pr=Dn.target;pr.removeEventListener("dispose",Qr),po(pr)}function po(Dn){_o(Dn),kr.remove(Dn)}function _o(Dn){const pr=kr.get(Dn).programs;pr!==void 0&&(pr.forEach(function(Sr){xr.releaseProgram(Sr)}),Dn.isShaderMaterial&&xr.releaseShaderCache(Dn))}this.renderBufferDirect=function(Dn,pr,Sr,ar,br,yo){pr===null&&(pr=Zn);const wo=br.isMesh&&br.matrixWorld.determinant()<0,Io=ws(Dn,pr,Sr,ar,br);Pr.setMaterial(ar,wo);let zo=Sr.index,Qo=1;ar.wireframe===!0&&(zo=Dr.getWireframeAttribute(Sr),Qo=2);const Ho=Sr.drawRange,Xo=Sr.attributes.position;let go=Ho.start*Qo,Gs=(Ho.start+Ho.count)*Qo;yo!==null&&(go=Math.max(go,yo.start*Qo),Gs=Math.min(Gs,(yo.start+yo.count)*Qo)),zo!==null?(go=Math.max(go,0),Gs=Math.min(Gs,zo.count)):Xo!=null&&(go=Math.max(go,0),Gs=Math.min(Gs,Xo.count));const Ks=Gs-go;if(Ks<0||Ks===1/0)return;Kr.setup(br,ar,Io,Sr,zo);let Xl,gs=Wr;if(zo!==null&&(Xl=zr.get(zo),gs=Yr,gs.setIndex(Xl)),br.isMesh)ar.wireframe===!0?(Pr.setLineWidth(ar.wireframeLinewidth*tr()),gs.setMode(1)):gs.setMode(4);else if(br.isLine){let Zr=ar.linewidth;Zr===void 0&&(Zr=1),Pr.setLineWidth(Zr*tr()),br.isLineSegments?gs.setMode(1):br.isLineLoop?gs.setMode(2):gs.setMode(3)}else br.isPoints?gs.setMode(0):br.isSprite&&gs.setMode(4);if(br.isInstancedMesh)gs.renderInstances(go,Ks,br.count);else if(Sr.isInstancedBufferGeometry){const Zr=Sr._maxInstanceCount!==void 0?Sr._maxInstanceCount:1/0,Dl=Math.min(Sr.instanceCount,Zr);gs.renderInstances(go,Ks,Dl)}else gs.render(go,Ks)},this.compile=function(Dn,pr){function Sr(ar,br,yo){ar.transparent===!0&&ar.side===DoubleSide&&ar.forceSinglePass===!1?(ar.side=BackSide,ar.needsUpdate=!0,Uo(ar,br,yo),ar.side=FrontSide,ar.needsUpdate=!0,Uo(ar,br,yo),ar.side=DoubleSide):Uo(ar,br,yo)}Ht=Tr.get(Dn),Ht.init(),Ft.push(Ht),Dn.traverseVisible(function(ar){ar.isLight&&ar.layers.test(pr.layers)&&(Ht.pushLight(ar),ar.castShadow&&Ht.pushShadow(ar))}),Ht.setupLights(tn.useLegacyLights),Dn.traverse(function(ar){const br=ar.material;if(br)if(Array.isArray(br))for(let yo=0;yo<br.length;yo++){const wo=br[yo];Sr(wo,Dn,ar)}else Sr(br,Dn,ar)}),Ft.pop(),Ht=null};let qn=null;function mr(Dn){qn&&qn(Dn)}function Nr(){oo.stop()}function to(){oo.start()}const oo=new WebGLAnimation;oo.setAnimationLoop(mr),typeof self<"u"&&oo.setContext(self),this.setAnimationLoop=function(Dn){qn=Dn,jn.setAnimationLoop(Dn),Dn===null?oo.stop():oo.start()},jn.addEventListener("sessionstart",Nr),jn.addEventListener("sessionend",to),this.render=function(Dn,pr){if(pr!==void 0&&pr.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(cn===!0)return;Dn.matrixWorldAutoUpdate===!0&&Dn.updateMatrixWorld(),pr.parent===null&&pr.matrixWorldAutoUpdate===!0&&pr.updateMatrixWorld(),jn.enabled===!0&&jn.isPresenting===!0&&(jn.cameraAutoUpdate===!0&&jn.updateCamera(pr),pr=jn.getCamera()),Dn.isScene===!0&&Dn.onBeforeRender(tn,Dn,pr,dn),Ht=Tr.get(Dn,Ft.length),Ht.init(),Ft.push(Ht),$n.multiplyMatrices(pr.projectionMatrix,pr.matrixWorldInverse),sr.setFromProjectionMatrix($n),Gn=this.localClippingEnabled,Un=Bn.init(this.clippingPlanes,Gn),Wt=qr.get(Dn,Kt.length),Wt.init(),Kt.push(Wt),Vo(Dn,pr,0,tn.sortObjects),Wt.finish(),tn.sortObjects===!0&&Wt.sort(In,On),Un===!0&&Bn.beginShadows();const Sr=Ht.state.shadowsArray;if(Ln.render(Sr,Dn,pr),Un===!0&&Bn.endShadows(),this.info.autoReset===!0&&this.info.reset(),Jn.render(Wt,Dn),Ht.setupLights(tn.useLegacyLights),pr.isArrayCamera){const ar=pr.cameras;for(let br=0,yo=ar.length;br<yo;br++){const wo=ar[br];qo(Wt,Dn,wo,wo.viewport)}}else qo(Wt,Dn,pr);dn!==null&&(Zt.updateMultisampleRenderTarget(dn),Zt.updateRenderTargetMipmap(dn)),Dn.isScene===!0&&Dn.onAfterRender(tn,Dn,pr),Kr.resetDefaultState(),mn=-1,xn=null,Ft.pop(),Ft.length>0?Ht=Ft[Ft.length-1]:Ht=null,Kt.pop(),Kt.length>0?Wt=Kt[Kt.length-1]:Wt=null};function Vo(Dn,pr,Sr,ar){if(Dn.visible===!1)return;if(Dn.layers.test(pr.layers)){if(Dn.isGroup)Sr=Dn.renderOrder;else if(Dn.isLOD)Dn.autoUpdate===!0&&Dn.update(pr);else if(Dn.isLight)Ht.pushLight(Dn),Dn.castShadow&&Ht.pushShadow(Dn);else if(Dn.isSprite){if(!Dn.frustumCulled||sr.intersectsSprite(Dn)){ar&&zn.setFromMatrixPosition(Dn.matrixWorld).applyMatrix4($n);const wo=Jr.update(Dn),Io=Dn.material;Io.visible&&Wt.push(Dn,wo,Io,Sr,zn.z,null)}}else if((Dn.isMesh||Dn.isLine||Dn.isPoints)&&(Dn.isSkinnedMesh&&Dn.skeleton.frame!==Vr.render.frame&&(Dn.skeleton.update(),Dn.skeleton.frame=Vr.render.frame),!Dn.frustumCulled||sr.intersectsObject(Dn))){ar&&zn.setFromMatrixPosition(Dn.matrixWorld).applyMatrix4($n);const wo=Jr.update(Dn),Io=Dn.material;if(Array.isArray(Io)){const zo=wo.groups;for(let Qo=0,Ho=zo.length;Qo<Ho;Qo++){const Xo=zo[Qo],go=Io[Xo.materialIndex];go&&go.visible&&Wt.push(Dn,wo,go,Sr,zn.z,Xo)}}else Io.visible&&Wt.push(Dn,wo,Io,Sr,zn.z,null)}}const yo=Dn.children;for(let wo=0,Io=yo.length;wo<Io;wo++)Vo(yo[wo],pr,Sr,ar)}function qo(Dn,pr,Sr,ar){const br=Dn.opaque,yo=Dn.transmissive,wo=Dn.transparent;Ht.setupLightsView(Sr),Un===!0&&Bn.setGlobalState(tn.clippingPlanes,Sr),yo.length>0&&Yo(br,pr,Sr),ar&&Pr.viewport(Mn.copy(ar)),br.length>0&&Fo(br,pr,Sr),yo.length>0&&Fo(yo,pr,Sr),wo.length>0&&Fo(wo,pr,Sr),Pr.buffers.depth.setTest(!0),Pr.buffers.depth.setMask(!0),Pr.buffers.color.setMask(!0),Pr.setPolygonOffset(!1)}function Yo(Dn,pr,Sr){const ar=hr.isWebGL2;Wn===null&&(Wn=new WebGLRenderTarget(1024,1024,{generateMipmaps:!0,type:nr.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:ar&&s===!0?4:0}));const br=tn.getRenderTarget();tn.setRenderTarget(Wn),tn.clear();const yo=tn.toneMapping;tn.toneMapping=NoToneMapping,Fo(Dn,pr,Sr),tn.toneMapping=yo,Zt.updateMultisampleRenderTarget(Wn),Zt.updateRenderTargetMipmap(Wn),tn.setRenderTarget(br)}function Fo(Dn,pr,Sr){const ar=pr.isScene===!0?pr.overrideMaterial:null;for(let br=0,yo=Dn.length;br<yo;br++){const wo=Dn[br],Io=wo.object,zo=wo.geometry,Qo=ar===null?wo.material:ar,Ho=wo.group;Io.layers.test(Sr.layers)&&Zo(Io,pr,Sr,zo,Qo,Ho)}}function Zo(Dn,pr,Sr,ar,br,yo){Dn.onBeforeRender(tn,pr,Sr,ar,br,yo),Dn.modelViewMatrix.multiplyMatrices(Sr.matrixWorldInverse,Dn.matrixWorld),Dn.normalMatrix.getNormalMatrix(Dn.modelViewMatrix),br.onBeforeRender(tn,pr,Sr,ar,Dn,yo),br.transparent===!0&&br.side===DoubleSide&&br.forceSinglePass===!1?(br.side=BackSide,br.needsUpdate=!0,tn.renderBufferDirect(Sr,pr,ar,br,Dn,yo),br.side=FrontSide,br.needsUpdate=!0,tn.renderBufferDirect(Sr,pr,ar,br,Dn,yo),br.side=DoubleSide):tn.renderBufferDirect(Sr,pr,ar,br,Dn,yo),Dn.onAfterRender(tn,pr,Sr,ar,br,yo)}function Uo(Dn,pr,Sr){pr.isScene!==!0&&(pr=Zn);const ar=kr.get(Dn),br=Ht.state.lights,yo=Ht.state.shadowsArray,wo=br.state.version,Io=xr.getParameters(Dn,br.state,yo,pr,Sr),zo=xr.getProgramCacheKey(Io);let Qo=ar.programs;ar.environment=Dn.isMeshStandardMaterial?pr.environment:null,ar.fog=pr.fog,ar.envMap=(Dn.isMeshStandardMaterial?Br:ur).get(Dn.envMap||ar.environment),Qo===void 0&&(Dn.addEventListener("dispose",Qr),Qo=new Map,ar.programs=Qo);let Ho=Qo.get(zo);if(Ho!==void 0){if(ar.currentProgram===Ho&&ar.lightsStateVersion===wo)return No(Dn,Io),Ho}else Io.uniforms=xr.getUniforms(Dn),Dn.onBuild(Sr,Io,tn),Dn.onBeforeCompile(Io,tn),Ho=xr.acquireProgram(Io,zo),Qo.set(zo,Ho),ar.uniforms=Io.uniforms;const Xo=ar.uniforms;(!Dn.isShaderMaterial&&!Dn.isRawShaderMaterial||Dn.clipping===!0)&&(Xo.clippingPlanes=Bn.uniform),No(Dn,Io),ar.needsLights=rs(Dn),ar.lightsStateVersion=wo,ar.needsLights&&(Xo.ambientLightColor.value=br.state.ambient,Xo.lightProbe.value=br.state.probe,Xo.directionalLights.value=br.state.directional,Xo.directionalLightShadows.value=br.state.directionalShadow,Xo.spotLights.value=br.state.spot,Xo.spotLightShadows.value=br.state.spotShadow,Xo.rectAreaLights.value=br.state.rectArea,Xo.ltc_1.value=br.state.rectAreaLTC1,Xo.ltc_2.value=br.state.rectAreaLTC2,Xo.pointLights.value=br.state.point,Xo.pointLightShadows.value=br.state.pointShadow,Xo.hemisphereLights.value=br.state.hemi,Xo.directionalShadowMap.value=br.state.directionalShadowMap,Xo.directionalShadowMatrix.value=br.state.directionalShadowMatrix,Xo.spotShadowMap.value=br.state.spotShadowMap,Xo.spotLightMatrix.value=br.state.spotLightMatrix,Xo.spotLightMap.value=br.state.spotLightMap,Xo.pointShadowMap.value=br.state.pointShadowMap,Xo.pointShadowMatrix.value=br.state.pointShadowMatrix);const go=Ho.getUniforms(),Gs=WebGLUniforms.seqWithValue(go.seq,Xo);return ar.currentProgram=Ho,ar.uniformsList=Gs,Ho}function No(Dn,pr){const Sr=kr.get(Dn);Sr.outputEncoding=pr.outputEncoding,Sr.instancing=pr.instancing,Sr.skinning=pr.skinning,Sr.morphTargets=pr.morphTargets,Sr.morphNormals=pr.morphNormals,Sr.morphColors=pr.morphColors,Sr.morphTargetsCount=pr.morphTargetsCount,Sr.numClippingPlanes=pr.numClippingPlanes,Sr.numIntersection=pr.numClipIntersection,Sr.vertexAlphas=pr.vertexAlphas,Sr.vertexTangents=pr.vertexTangents,Sr.toneMapping=pr.toneMapping}function ws(Dn,pr,Sr,ar,br){pr.isScene!==!0&&(pr=Zn),Zt.resetTextureUnits();const yo=pr.fog,wo=ar.isMeshStandardMaterial?pr.environment:null,Io=dn===null?tn.outputEncoding:dn.isXRRenderTarget===!0?dn.texture.encoding:LinearEncoding,zo=(ar.isMeshStandardMaterial?Br:ur).get(ar.envMap||wo),Qo=ar.vertexColors===!0&&!!Sr.attributes.color&&Sr.attributes.color.itemSize===4,Ho=!!ar.normalMap&&!!Sr.attributes.tangent,Xo=!!Sr.morphAttributes.position,go=!!Sr.morphAttributes.normal,Gs=!!Sr.morphAttributes.color,Ks=ar.toneMapped?tn.toneMapping:NoToneMapping,Xl=Sr.morphAttributes.position||Sr.morphAttributes.normal||Sr.morphAttributes.color,gs=Xl!==void 0?Xl.length:0,Zr=kr.get(ar),Dl=Ht.state.lights;if(Un===!0&&(Gn===!0||Dn!==xn)){const ps=Dn===xn&&ar.id===mn;Bn.setState(ar,Dn,ps)}let _s=!1;ar.version===Zr.__version?(Zr.needsLights&&Zr.lightsStateVersion!==Dl.state.version||Zr.outputEncoding!==Io||br.isInstancedMesh&&Zr.instancing===!1||!br.isInstancedMesh&&Zr.instancing===!0||br.isSkinnedMesh&&Zr.skinning===!1||!br.isSkinnedMesh&&Zr.skinning===!0||Zr.envMap!==zo||ar.fog===!0&&Zr.fog!==yo||Zr.numClippingPlanes!==void 0&&(Zr.numClippingPlanes!==Bn.numPlanes||Zr.numIntersection!==Bn.numIntersection)||Zr.vertexAlphas!==Qo||Zr.vertexTangents!==Ho||Zr.morphTargets!==Xo||Zr.morphNormals!==go||Zr.morphColors!==Gs||Zr.toneMapping!==Ks||hr.isWebGL2===!0&&Zr.morphTargetsCount!==gs)&&(_s=!0):(_s=!0,Zr.__version=ar.version);let Us=Zr.currentProgram;_s===!0&&(Us=Uo(ar,pr,br));let h0=!1,Ol=!1,Ml=!1;const us=Us.getUniforms(),os=Zr.uniforms;if(Pr.useProgram(Us.program)&&(h0=!0,Ol=!0,Ml=!0),ar.id!==mn&&(mn=ar.id,Ol=!0),h0||xn!==Dn){if(us.setValue(Hn,"projectionMatrix",Dn.projectionMatrix),hr.logarithmicDepthBuffer&&us.setValue(Hn,"logDepthBufFC",2/(Math.log(Dn.far+1)/Math.LN2)),xn!==Dn&&(xn=Dn,Ol=!0,Ml=!0),ar.isShaderMaterial||ar.isMeshPhongMaterial||ar.isMeshToonMaterial||ar.isMeshStandardMaterial||ar.envMap){const ps=us.map.cameraPosition;ps!==void 0&&ps.setValue(Hn,zn.setFromMatrixPosition(Dn.matrixWorld))}(ar.isMeshPhongMaterial||ar.isMeshToonMaterial||ar.isMeshLambertMaterial||ar.isMeshBasicMaterial||ar.isMeshStandardMaterial||ar.isShaderMaterial)&&us.setValue(Hn,"isOrthographic",Dn.isOrthographicCamera===!0),(ar.isMeshPhongMaterial||ar.isMeshToonMaterial||ar.isMeshLambertMaterial||ar.isMeshBasicMaterial||ar.isMeshStandardMaterial||ar.isShaderMaterial||ar.isShadowMaterial||br.isSkinnedMesh)&&us.setValue(Hn,"viewMatrix",Dn.matrixWorldInverse)}if(br.isSkinnedMesh){us.setOptional(Hn,br,"bindMatrix"),us.setOptional(Hn,br,"bindMatrixInverse");const ps=br.skeleton;ps&&(hr.floatVertexTextures?(ps.boneTexture===null&&ps.computeBoneTexture(),us.setValue(Hn,"boneTexture",ps.boneTexture,Zt),us.setValue(Hn,"boneTextureSize",ps.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ss=Sr.morphAttributes;if((ss.position!==void 0||ss.normal!==void 0||ss.color!==void 0&&hr.isWebGL2===!0)&&yr.update(br,Sr,Us),(Ol||Zr.receiveShadow!==br.receiveShadow)&&(Zr.receiveShadow=br.receiveShadow,us.setValue(Hn,"receiveShadow",br.receiveShadow)),ar.isMeshGouraudMaterial&&ar.envMap!==null&&(os.envMap.value=zo,os.flipEnvMap.value=zo.isCubeTexture&&zo.isRenderTargetTexture===!1?-1:1),Ol&&(us.setValue(Hn,"toneMappingExposure",tn.toneMappingExposure),Zr.needsLights&&Ls(os,Ml),yo&&ar.fog===!0&&jr.refreshFogUniforms(os,yo),jr.refreshMaterialUniforms(os,ar,bn,Pn,Wn),WebGLUniforms.upload(Hn,Zr.uniformsList,os,Zt)),ar.isShaderMaterial&&ar.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Hn,Zr.uniformsList,os,Zt),ar.uniformsNeedUpdate=!1),ar.isSpriteMaterial&&us.setValue(Hn,"center",br.center),us.setValue(Hn,"modelViewMatrix",br.modelViewMatrix),us.setValue(Hn,"normalMatrix",br.normalMatrix),us.setValue(Hn,"modelMatrix",br.matrixWorld),ar.isShaderMaterial||ar.isRawShaderMaterial){const ps=ar.uniformsGroups;for(let Ms=0,Hr=ps.length;Ms<Hr;Ms++)if(hr.isWebGL2){const Zs=ps[Ms];Cr.update(Zs,Us),Cr.bind(Zs,Us)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Us}function Ls(Dn,pr){Dn.ambientLightColor.needsUpdate=pr,Dn.lightProbe.needsUpdate=pr,Dn.directionalLights.needsUpdate=pr,Dn.directionalLightShadows.needsUpdate=pr,Dn.pointLights.needsUpdate=pr,Dn.pointLightShadows.needsUpdate=pr,Dn.spotLights.needsUpdate=pr,Dn.spotLightShadows.needsUpdate=pr,Dn.rectAreaLights.needsUpdate=pr,Dn.hemisphereLights.needsUpdate=pr}function rs(Dn){return Dn.isMeshLambertMaterial||Dn.isMeshToonMaterial||Dn.isMeshPhongMaterial||Dn.isMeshStandardMaterial||Dn.isShadowMaterial||Dn.isShaderMaterial&&Dn.lights===!0}this.getActiveCubeFace=function(){return fn},this.getActiveMipmapLevel=function(){return ln},this.getRenderTarget=function(){return dn},this.setRenderTargetTextures=function(Dn,pr,Sr){kr.get(Dn.texture).__webglTexture=pr,kr.get(Dn.depthTexture).__webglTexture=Sr;const ar=kr.get(Dn);ar.__hasExternalTextures=!0,ar.__hasExternalTextures&&(ar.__autoAllocateDepthBuffer=Sr===void 0,ar.__autoAllocateDepthBuffer||nr.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ar.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Dn,pr){const Sr=kr.get(Dn);Sr.__webglFramebuffer=pr,Sr.__useDefaultFramebuffer=pr===void 0},this.setRenderTarget=function(Dn,pr=0,Sr=0){dn=Dn,fn=pr,ln=Sr;let ar=!0,br=null,yo=!1,wo=!1;if(Dn){const zo=kr.get(Dn);zo.__useDefaultFramebuffer!==void 0?(Pr.bindFramebuffer(36160,null),ar=!1):zo.__webglFramebuffer===void 0?Zt.setupRenderTarget(Dn):zo.__hasExternalTextures&&Zt.rebindTextures(Dn,kr.get(Dn.texture).__webglTexture,kr.get(Dn.depthTexture).__webglTexture);const Qo=Dn.texture;(Qo.isData3DTexture||Qo.isDataArrayTexture||Qo.isCompressedArrayTexture)&&(wo=!0);const Ho=kr.get(Dn).__webglFramebuffer;Dn.isWebGLCubeRenderTarget?(br=Ho[pr],yo=!0):hr.isWebGL2&&Dn.samples>0&&Zt.useMultisampledRTT(Dn)===!1?br=kr.get(Dn).__webglMultisampledFramebuffer:br=Ho,Mn.copy(Dn.viewport),Tn.copy(Dn.scissor),vn=Dn.scissorTest}else Mn.copy(Nn).multiplyScalar(bn).floor(),Tn.copy(Yn).multiplyScalar(bn).floor(),vn=Xn;if(Pr.bindFramebuffer(36160,br)&&hr.drawBuffers&&ar&&Pr.drawBuffers(Dn,br),Pr.viewport(Mn),Pr.scissor(Tn),Pr.setScissorTest(vn),yo){const zo=kr.get(Dn.texture);Hn.framebufferTexture2D(36160,36064,34069+pr,zo.__webglTexture,Sr)}else if(wo){const zo=kr.get(Dn.texture),Qo=pr||0;Hn.framebufferTextureLayer(36160,36064,zo.__webglTexture,Sr||0,Qo)}mn=-1},this.readRenderTargetPixels=function(Dn,pr,Sr,ar,br,yo,wo){if(!(Dn&&Dn.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Io=kr.get(Dn).__webglFramebuffer;if(Dn.isWebGLCubeRenderTarget&&wo!==void 0&&(Io=Io[wo]),Io){Pr.bindFramebuffer(36160,Io);try{const zo=Dn.texture,Qo=zo.format,Ho=zo.type;if(Qo!==RGBAFormat&&Xr.convert(Qo)!==Hn.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Xo=Ho===HalfFloatType&&(nr.has("EXT_color_buffer_half_float")||hr.isWebGL2&&nr.has("EXT_color_buffer_float"));if(Ho!==UnsignedByteType&&Xr.convert(Ho)!==Hn.getParameter(35738)&&!(Ho===FloatType&&(hr.isWebGL2||nr.has("OES_texture_float")||nr.has("WEBGL_color_buffer_float")))&&!Xo){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pr>=0&&pr<=Dn.width-ar&&Sr>=0&&Sr<=Dn.height-br&&Hn.readPixels(pr,Sr,ar,br,Xr.convert(Qo),Xr.convert(Ho),yo)}finally{const zo=dn!==null?kr.get(dn).__webglFramebuffer:null;Pr.bindFramebuffer(36160,zo)}}},this.copyFramebufferToTexture=function(Dn,pr,Sr=0){const ar=Math.pow(2,-Sr),br=Math.floor(pr.image.width*ar),yo=Math.floor(pr.image.height*ar);Zt.setTexture2D(pr,0),Hn.copyTexSubImage2D(3553,Sr,0,0,Dn.x,Dn.y,br,yo),Pr.unbindTexture()},this.copyTextureToTexture=function(Dn,pr,Sr,ar=0){const br=pr.image.width,yo=pr.image.height,wo=Xr.convert(Sr.format),Io=Xr.convert(Sr.type);Zt.setTexture2D(Sr,0),Hn.pixelStorei(37440,Sr.flipY),Hn.pixelStorei(37441,Sr.premultiplyAlpha),Hn.pixelStorei(3317,Sr.unpackAlignment),pr.isDataTexture?Hn.texSubImage2D(3553,ar,Dn.x,Dn.y,br,yo,wo,Io,pr.image.data):pr.isCompressedTexture?Hn.compressedTexSubImage2D(3553,ar,Dn.x,Dn.y,pr.mipmaps[0].width,pr.mipmaps[0].height,wo,pr.mipmaps[0].data):Hn.texSubImage2D(3553,ar,Dn.x,Dn.y,wo,Io,pr.image),ar===0&&Sr.generateMipmaps&&Hn.generateMipmap(3553),Pr.unbindTexture()},this.copyTextureToTexture3D=function(Dn,pr,Sr,ar,br=0){if(tn.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const yo=Dn.max.x-Dn.min.x+1,wo=Dn.max.y-Dn.min.y+1,Io=Dn.max.z-Dn.min.z+1,zo=Xr.convert(ar.format),Qo=Xr.convert(ar.type);let Ho;if(ar.isData3DTexture)Zt.setTexture3D(ar,0),Ho=32879;else if(ar.isDataArrayTexture)Zt.setTexture2DArray(ar,0),Ho=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Hn.pixelStorei(37440,ar.flipY),Hn.pixelStorei(37441,ar.premultiplyAlpha),Hn.pixelStorei(3317,ar.unpackAlignment);const Xo=Hn.getParameter(3314),go=Hn.getParameter(32878),Gs=Hn.getParameter(3316),Ks=Hn.getParameter(3315),Xl=Hn.getParameter(32877),gs=Sr.isCompressedTexture?Sr.mipmaps[0]:Sr.image;Hn.pixelStorei(3314,gs.width),Hn.pixelStorei(32878,gs.height),Hn.pixelStorei(3316,Dn.min.x),Hn.pixelStorei(3315,Dn.min.y),Hn.pixelStorei(32877,Dn.min.z),Sr.isDataTexture||Sr.isData3DTexture?Hn.texSubImage3D(Ho,br,pr.x,pr.y,pr.z,yo,wo,Io,zo,Qo,gs.data):Sr.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Hn.compressedTexSubImage3D(Ho,br,pr.x,pr.y,pr.z,yo,wo,Io,zo,gs.data)):Hn.texSubImage3D(Ho,br,pr.x,pr.y,pr.z,yo,wo,Io,zo,Qo,gs),Hn.pixelStorei(3314,Xo),Hn.pixelStorei(32878,go),Hn.pixelStorei(3316,Gs),Hn.pixelStorei(3315,Ks),Hn.pixelStorei(32877,Xl),br===0&&ar.generateMipmaps&&Hn.generateMipmap(Ho),Pr.unbindTexture()},this.initTexture=function(Dn){Dn.isCubeTexture?Zt.setTextureCube(Dn,0):Dn.isData3DTexture?Zt.setTexture3D(Dn,0):Dn.isDataArrayTexture||Dn.isCompressedArrayTexture?Zt.setTexture2DArray(Dn,0):Zt.setTexture2D(Dn,0),Pr.unbindTexture()},this.resetState=function(){fn=0,ln=0,dn=null,Pr.reset(),Kr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(WebGLRenderer.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(lt){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!lt}}});class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(e,$=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(e),this.density=$}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor(e,$=1,ft=1e3){this.isFog=!0,this.name="",this.color=new Color(e),this.near=$,this.far=ft}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,$){return super.copy(e,$),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const $=super.toJSON(e);return this.fog!==null&&($.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&($.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&($.object.backgroundIntensity=this.backgroundIntensity),$}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class InterleavedBuffer{constructor(e,$){this.isInterleavedBuffer=!0,this.array=e,this.stride=$,this.count=e!==void 0?e.length/$:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,$,ft){e*=this.stride,ft*=$.stride;for(let vt=0,s=this.stride;vt<s;vt++)this.array[e+vt]=$.array[ft+vt];return this}set(e,$=0){return this.array.set(e,$),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const $=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),ft=new this.constructor($,this.stride);return ft.setUsage(this.usage),ft}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(e,$,ft,vt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=$,this.offset=ft,this.normalized=vt}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let $=0,ft=this.data.count;$<ft;$++)_vector$6.fromBufferAttribute(this,$),_vector$6.applyMatrix4(e),this.setXYZ($,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(e){for(let $=0,ft=this.count;$<ft;$++)_vector$6.fromBufferAttribute(this,$),_vector$6.applyNormalMatrix(e),this.setXYZ($,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(e){for(let $=0,ft=this.count;$<ft;$++)_vector$6.fromBufferAttribute(this,$),_vector$6.transformDirection(e),this.setXYZ($,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(e,$){return this.normalized&&($=normalize($,this.array)),this.data.array[e*this.data.stride+this.offset]=$,this}setY(e,$){return this.normalized&&($=normalize($,this.array)),this.data.array[e*this.data.stride+this.offset+1]=$,this}setZ(e,$){return this.normalized&&($=normalize($,this.array)),this.data.array[e*this.data.stride+this.offset+2]=$,this}setW(e,$){return this.normalized&&($=normalize($,this.array)),this.data.array[e*this.data.stride+this.offset+3]=$,this}getX(e){let $=this.data.array[e*this.data.stride+this.offset];return this.normalized&&($=denormalize($,this.array)),$}getY(e){let $=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&($=denormalize($,this.array)),$}getZ(e){let $=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&($=denormalize($,this.array)),$}getW(e){let $=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&($=denormalize($,this.array)),$}setXY(e,$,ft){return e=e*this.data.stride+this.offset,this.normalized&&($=normalize($,this.array),ft=normalize(ft,this.array)),this.data.array[e+0]=$,this.data.array[e+1]=ft,this}setXYZ(e,$,ft,vt){return e=e*this.data.stride+this.offset,this.normalized&&($=normalize($,this.array),ft=normalize(ft,this.array),vt=normalize(vt,this.array)),this.data.array[e+0]=$,this.data.array[e+1]=ft,this.data.array[e+2]=vt,this}setXYZW(e,$,ft,vt,s){return e=e*this.data.stride+this.offset,this.normalized&&($=normalize($,this.array),ft=normalize(ft,this.array),vt=normalize(vt,this.array),s=normalize(s,this.array)),this.data.array[e+0]=$,this.data.array[e+1]=ft,this.data.array[e+2]=vt,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const $=[];for(let ft=0;ft<this.count;ft++){const vt=ft*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)$.push(this.data.array[vt+s])}return new BufferAttribute(new this.array.constructor($),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new InterleavedBufferAttribute(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const $=[];for(let ft=0;ft<this.count;ft++){const vt=ft*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)$.push(this.data.array[vt+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:$,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material$1{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const $=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),ft=new InterleavedBuffer($,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(ft,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(ft,2,3,!1))}this.geometry=_geometry,this.material=e!==void 0?e:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(e,$){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const ft=this.material.rotation;let vt,s;ft!==0&&(s=Math.cos(ft),vt=Math.sin(ft));const Tt=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,Tt,_worldScale,vt,s),transformVertex(_vB.set(.5,-.5,0),_mvPosition,Tt,_worldScale,vt,s),transformVertex(_vC.set(.5,.5,0),_mvPosition,Tt,_worldScale,vt,s),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let At=e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(At===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,Tt,_worldScale,vt,s),_uvB.set(0,1),At=e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),At===null))return;const Rt=e.ray.origin.distanceTo(_intersectPoint);Rt<e.near||Rt>e.far||$.push({distance:Rt,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(e,$){return super.copy(e,$),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function transformVertex(lt,e,$,ft,vt,s){_alignedPosition.subVectors(lt,$).addScalar(.5).multiply(ft),vt!==void 0?(_rotatedPosition.x=s*_alignedPosition.x-vt*_alignedPosition.y,_rotatedPosition.y=vt*_alignedPosition.x+s*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),lt.copy(e),lt.x+=_rotatedPosition.x,lt.y+=_rotatedPosition.y,lt.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const $=e.levels;for(let ft=0,vt=$.length;ft<vt;ft++){const s=$[ft];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,$=0,ft=0){$=Math.abs($);const vt=this.levels;let s;for(s=0;s<vt.length&&!($<vt[s].distance);s++);return vt.splice(s,0,{distance:$,hysteresis:ft,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const $=this.levels;if($.length>0){let ft,vt;for(ft=1,vt=$.length;ft<vt;ft++){let s=$[ft].distance;if($[ft].object.visible&&(s-=s*$[ft].hysteresis),e<s)break}return $[ft-1].object}return null}raycast(e,$){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const vt=e.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(vt).raycast(e,$)}}update(e){const $=this.levels;if($.length>1){_v1$2.setFromMatrixPosition(e.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const ft=_v1$2.distanceTo(_v2$1)/e.zoom;$[0].object.visible=!0;let vt,s;for(vt=1,s=$.length;vt<s;vt++){let Tt=$[vt].distance;if($[vt].object.visible&&(Tt-=Tt*$[vt].hysteresis),ft>=Tt)$[vt-1].object.visible=!1,$[vt].object.visible=!0;else break}for(this._currentLevel=vt-1;vt<s;vt++)$[vt].object.visible=!1}}toJSON(e){const $=super.toJSON(e);this.autoUpdate===!1&&($.object.autoUpdate=!1),$.object.levels=[];const ft=this.levels;for(let vt=0,s=ft.length;vt<s;vt++){const Tt=ft[vt];$.object.levels.push({object:Tt.object.uuid,distance:Tt.distance,hysteresis:Tt.hysteresis})}return $}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(e,$){super(e,$),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(e,$){return super.copy(e,$),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,$){this.skeleton=e,$===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),$=this.matrixWorld),this.bindMatrix.copy($),this.bindMatrixInverse.copy($).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vector4,$=this.geometry.attributes.skinWeight;for(let ft=0,vt=$.count;ft<vt;ft++){e.fromBufferAttribute($,ft);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),$.setXYZW(ft,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,$){const ft=this.skeleton,vt=this.geometry;_skinIndex.fromBufferAttribute(vt.attributes.skinIndex,e),_skinWeight.fromBufferAttribute(vt.attributes.skinWeight,e),_basePosition.copy($).applyMatrix4(this.bindMatrix),$.set(0,0,0);for(let s=0;s<4;s++){const Tt=_skinWeight.getComponent(s);if(Tt!==0){const At=_skinIndex.getComponent(s);_matrix.multiplyMatrices(ft.bones[At].matrixWorld,ft.boneInverses[At]),$.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),Tt)}}return $.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(e=null,$=1,ft=1,vt,s,Tt,At,Rt,Dt=NearestFilter,Nt=NearestFilter,Wt,Ht){super(null,Tt,At,Rt,Dt,Nt,vt,s,Wt,Ht),this.isDataTexture=!0,this.image={data:e,width:$,height:ft},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(e=[],$=[]){this.uuid=generateUUID$1(),this.bones=e.slice(0),this.boneInverses=$,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,$=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),$.length===0)this.calculateInverses();else if(e.length!==$.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let ft=0,vt=this.bones.length;ft<vt;ft++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,$=this.bones.length;e<$;e++){const ft=new Matrix4;this.bones[e]&&ft.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(ft)}}pose(){for(let e=0,$=this.bones.length;e<$;e++){const ft=this.bones[e];ft&&ft.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,$=this.bones.length;e<$;e++){const ft=this.bones[e];ft&&(ft.parent&&ft.parent.isBone?(ft.matrix.copy(ft.parent.matrixWorld).invert(),ft.matrix.multiply(ft.matrixWorld)):ft.matrix.copy(ft.matrixWorld),ft.matrix.decompose(ft.position,ft.quaternion,ft.scale))}}update(){const e=this.bones,$=this.boneInverses,ft=this.boneMatrices,vt=this.boneTexture;for(let s=0,Tt=e.length;s<Tt;s++){const At=e[s]?e[s].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(At,$[s]),_offsetMatrix.toArray(ft,s*16)}vt!==null&&(vt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=ceilPowerOfTwo(e),e=Math.max(e,4);const $=new Float32Array(e*e*4);$.set(this.boneMatrices);const ft=new DataTexture($,e,e,RGBAFormat,FloatType);return ft.needsUpdate=!0,this.boneMatrices=$,this.boneTexture=ft,this.boneTextureSize=e,this}getBoneByName(e){for(let $=0,ft=this.bones.length;$<ft;$++){const vt=this.bones[$];if(vt.name===e)return vt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,$){this.uuid=e.uuid;for(let ft=0,vt=e.bones.length;ft<vt;ft++){const s=e.bones[ft];let Tt=$[s];Tt===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),Tt=new Bone),this.bones.push(Tt),this.boneInverses.push(new Matrix4().fromArray(e.boneInverses[ft]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const $=this.bones,ft=this.boneInverses;for(let vt=0,s=$.length;vt<s;vt++){const Tt=$[vt];e.bones.push(Tt.uuid);const At=ft[vt];e.boneInverses.push(At.toArray())}return e}}class InstancedBufferAttribute extends BufferAttribute{constructor(e,$,ft,vt=1){super(e,$,ft),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=vt}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _instanceLocalMatrix$1=new Matrix4,_instanceWorldMatrix$1=new Matrix4,_instanceIntersects$1=[],_identity=new Matrix4,_mesh$1=new Mesh;class InstancedMesh extends Mesh{constructor(e,$,ft){super(e,$),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ft*16),16),this.instanceColor=null,this.count=ft,this.frustumCulled=!1;for(let vt=0;vt<ft;vt++)this.setMatrixAt(vt,_identity)}copy(e,$){return super.copy(e,$),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,$){$.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,$){$.fromArray(this.instanceMatrix.array,e*16)}raycast(e,$){const ft=this.matrixWorld,vt=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0)for(let s=0;s<vt;s++){this.getMatrixAt(s,_instanceLocalMatrix$1),_instanceWorldMatrix$1.multiplyMatrices(ft,_instanceLocalMatrix$1),_mesh$1.matrixWorld=_instanceWorldMatrix$1,_mesh$1.raycast(e,_instanceIntersects$1);for(let Tt=0,At=_instanceIntersects$1.length;Tt<At;Tt++){const Rt=_instanceIntersects$1[Tt];Rt.instanceId=s,Rt.object=this,$.push(Rt)}_instanceIntersects$1.length=0}}setColorAt(e,$){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),$.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,$){$.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material$1{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(e=new BufferGeometry,$=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=$,this.updateMorphTargets()}copy(e,$){return super.copy(e,$),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const $=e.attributes.position,ft=[0];for(let vt=1,s=$.count;vt<s;vt++)_start$1.fromBufferAttribute($,vt-1),_end$1.fromBufferAttribute($,vt),ft[vt]=ft[vt-1],ft[vt]+=_start$1.distanceTo(_end$1);e.setAttribute("lineDistance",new Float32BufferAttribute(ft,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,$){const ft=this.geometry,vt=this.matrixWorld,s=e.params.Line.threshold,Tt=ft.drawRange;if(ft.boundingSphere===null&&ft.computeBoundingSphere(),_sphere$1.copy(ft.boundingSphere),_sphere$1.applyMatrix4(vt),_sphere$1.radius+=s,e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(vt).invert(),_ray$1.copy(e.ray).applyMatrix4(_inverseMatrix$1);const At=s/((this.scale.x+this.scale.y+this.scale.z)/3),Rt=At*At,Dt=new Vector3,Nt=new Vector3,Wt=new Vector3,Ht=new Vector3,Kt=this.isLineSegments?2:1,Ft=ft.index,cn=ft.attributes.position;if(Ft!==null){const fn=Math.max(0,Tt.start),ln=Math.min(Ft.count,Tt.start+Tt.count);for(let dn=fn,mn=ln-1;dn<mn;dn+=Kt){const xn=Ft.getX(dn),Mn=Ft.getX(dn+1);if(Dt.fromBufferAttribute(cn,xn),Nt.fromBufferAttribute(cn,Mn),_ray$1.distanceSqToSegment(Dt,Nt,Ht,Wt)>Rt)continue;Ht.applyMatrix4(this.matrixWorld);const vn=e.ray.origin.distanceTo(Ht);vn<e.near||vn>e.far||$.push({distance:vn,point:Wt.clone().applyMatrix4(this.matrixWorld),index:dn,face:null,faceIndex:null,object:this})}}else{const fn=Math.max(0,Tt.start),ln=Math.min(cn.count,Tt.start+Tt.count);for(let dn=fn,mn=ln-1;dn<mn;dn+=Kt){if(Dt.fromBufferAttribute(cn,dn),Nt.fromBufferAttribute(cn,dn+1),_ray$1.distanceSqToSegment(Dt,Nt,Ht,Wt)>Rt)continue;Ht.applyMatrix4(this.matrixWorld);const Mn=e.ray.origin.distanceTo(Ht);Mn<e.near||Mn>e.far||$.push({distance:Mn,point:Wt.clone().applyMatrix4(this.matrixWorld),index:dn,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const $=this.geometry.morphAttributes,ft=Object.keys($);if(ft.length>0){const vt=$[ft[0]];if(vt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,Tt=vt.length;s<Tt;s++){const At=vt[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[At]=s}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(e,$){super(e,$),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const $=e.attributes.position,ft=[];for(let vt=0,s=$.count;vt<s;vt+=2)_start.fromBufferAttribute($,vt),_end.fromBufferAttribute($,vt+1),ft[vt]=vt===0?0:ft[vt-1],ft[vt+1]=ft[vt]+_start.distanceTo(_end);e.setAttribute("lineDistance",new Float32BufferAttribute(ft,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(e,$){super(e,$),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material$1{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(e=new BufferGeometry,$=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=$,this.updateMorphTargets()}copy(e,$){return super.copy(e,$),this.material=e.material,this.geometry=e.geometry,this}raycast(e,$){const ft=this.geometry,vt=this.matrixWorld,s=e.params.Points.threshold,Tt=ft.drawRange;if(ft.boundingSphere===null&&ft.computeBoundingSphere(),_sphere.copy(ft.boundingSphere),_sphere.applyMatrix4(vt),_sphere.radius+=s,e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(vt).invert(),_ray.copy(e.ray).applyMatrix4(_inverseMatrix);const At=s/((this.scale.x+this.scale.y+this.scale.z)/3),Rt=At*At,Dt=ft.index,Wt=ft.attributes.position;if(Dt!==null){const Ht=Math.max(0,Tt.start),Kt=Math.min(Dt.count,Tt.start+Tt.count);for(let Ft=Ht,tn=Kt;Ft<tn;Ft++){const cn=Dt.getX(Ft);_position$2.fromBufferAttribute(Wt,cn),testPoint(_position$2,cn,Rt,vt,e,$,this)}}else{const Ht=Math.max(0,Tt.start),Kt=Math.min(Wt.count,Tt.start+Tt.count);for(let Ft=Ht,tn=Kt;Ft<tn;Ft++)_position$2.fromBufferAttribute(Wt,Ft),testPoint(_position$2,Ft,Rt,vt,e,$,this)}}updateMorphTargets(){const $=this.geometry.morphAttributes,ft=Object.keys($);if(ft.length>0){const vt=$[ft[0]];if(vt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,Tt=vt.length;s<Tt;s++){const At=vt[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[At]=s}}}}}function testPoint(lt,e,$,ft,vt,s,Tt){const At=_ray.distanceSqToPoint(lt);if(At<$){const Rt=new Vector3;_ray.closestPointToPoint(lt,Rt),Rt.applyMatrix4(ft);const Dt=vt.ray.origin.distanceTo(Rt);if(Dt<vt.near||Dt>vt.far)return;s.push({distance:Dt,distanceToRay:Math.sqrt(At),point:Rt,index:e,face:null,object:Tt})}}class VideoTexture extends Texture{constructor(e,$,ft,vt,s,Tt,At,Rt,Dt){super(e,$,ft,vt,s,Tt,At,Rt,Dt),this.isVideoTexture=!0,this.minFilter=Tt!==void 0?Tt:LinearFilter,this.magFilter=s!==void 0?s:LinearFilter,this.generateMipmaps=!1;const Nt=this;function Wt(){Nt.needsUpdate=!0,e.requestVideoFrameCallback(Wt)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(Wt)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(e,$,ft){super({width:e,height:$}),this.isFramebufferTexture=!0,this.format=ft,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(e,$,ft,vt,s,Tt,At,Rt,Dt,Nt,Wt,Ht){super(null,Tt,At,Rt,Dt,Nt,vt,s,Wt,Ht),this.isCompressedTexture=!0,this.image={width:$,height:ft},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(e,$,ft,vt,s,Tt){super(e,$,ft,s,Tt),this.isCompressedArrayTexture=!0,this.image.depth=vt,this.wrapR=ClampToEdgeWrapping}}class CanvasTexture extends Texture{constructor(e,$,ft,vt,s,Tt,At,Rt,Dt){super(e,$,ft,vt,s,Tt,At,Rt,Dt),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,$){const ft=this.getUtoTmapping(e);return this.getPoint(ft,$)}getPoints(e=5){const $=[];for(let ft=0;ft<=e;ft++)$.push(this.getPoint(ft/e));return $}getSpacedPoints(e=5){const $=[];for(let ft=0;ft<=e;ft++)$.push(this.getPointAt(ft/e));return $}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const $=[];let ft,vt=this.getPoint(0),s=0;$.push(0);for(let Tt=1;Tt<=e;Tt++)ft=this.getPoint(Tt/e),s+=ft.distanceTo(vt),$.push(s),vt=ft;return this.cacheArcLengths=$,$}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,$){const ft=this.getLengths();let vt=0;const s=ft.length;let Tt;$?Tt=$:Tt=e*ft[s-1];let At=0,Rt=s-1,Dt;for(;At<=Rt;)if(vt=Math.floor(At+(Rt-At)/2),Dt=ft[vt]-Tt,Dt<0)At=vt+1;else if(Dt>0)Rt=vt-1;else{Rt=vt;break}if(vt=Rt,ft[vt]===Tt)return vt/(s-1);const Nt=ft[vt],Ht=ft[vt+1]-Nt,Kt=(Tt-Nt)/Ht;return(vt+Kt)/(s-1)}getTangent(e,$){let vt=e-1e-4,s=e+1e-4;vt<0&&(vt=0),s>1&&(s=1);const Tt=this.getPoint(vt),At=this.getPoint(s),Rt=$||(Tt.isVector2?new Vector2:new Vector3);return Rt.copy(At).sub(Tt).normalize(),Rt}getTangentAt(e,$){const ft=this.getUtoTmapping(e);return this.getTangent(ft,$)}computeFrenetFrames(e,$){const ft=new Vector3,vt=[],s=[],Tt=[],At=new Vector3,Rt=new Matrix4;for(let Kt=0;Kt<=e;Kt++){const Ft=Kt/e;vt[Kt]=this.getTangentAt(Ft,new Vector3)}s[0]=new Vector3,Tt[0]=new Vector3;let Dt=Number.MAX_VALUE;const Nt=Math.abs(vt[0].x),Wt=Math.abs(vt[0].y),Ht=Math.abs(vt[0].z);Nt<=Dt&&(Dt=Nt,ft.set(1,0,0)),Wt<=Dt&&(Dt=Wt,ft.set(0,1,0)),Ht<=Dt&&ft.set(0,0,1),At.crossVectors(vt[0],ft).normalize(),s[0].crossVectors(vt[0],At),Tt[0].crossVectors(vt[0],s[0]);for(let Kt=1;Kt<=e;Kt++){if(s[Kt]=s[Kt-1].clone(),Tt[Kt]=Tt[Kt-1].clone(),At.crossVectors(vt[Kt-1],vt[Kt]),At.length()>Number.EPSILON){At.normalize();const Ft=Math.acos(clamp$1(vt[Kt-1].dot(vt[Kt]),-1,1));s[Kt].applyMatrix4(Rt.makeRotationAxis(At,Ft))}Tt[Kt].crossVectors(vt[Kt],s[Kt])}if($===!0){let Kt=Math.acos(clamp$1(s[0].dot(s[e]),-1,1));Kt/=e,vt[0].dot(At.crossVectors(s[0],s[e]))>0&&(Kt=-Kt);for(let Ft=1;Ft<=e;Ft++)s[Ft].applyMatrix4(Rt.makeRotationAxis(vt[Ft],Kt*Ft)),Tt[Ft].crossVectors(vt[Ft],s[Ft])}return{tangents:vt,normals:s,binormals:Tt}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(e=0,$=0,ft=1,vt=1,s=0,Tt=Math.PI*2,At=!1,Rt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=$,this.xRadius=ft,this.yRadius=vt,this.aStartAngle=s,this.aEndAngle=Tt,this.aClockwise=At,this.aRotation=Rt}getPoint(e,$){const ft=$||new Vector2,vt=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const Tt=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=vt;for(;s>vt;)s-=vt;s<Number.EPSILON&&(Tt?s=0:s=vt),this.aClockwise===!0&&!Tt&&(s===vt?s=-vt:s=s-vt);const At=this.aStartAngle+e*s;let Rt=this.aX+this.xRadius*Math.cos(At),Dt=this.aY+this.yRadius*Math.sin(At);if(this.aRotation!==0){const Nt=Math.cos(this.aRotation),Wt=Math.sin(this.aRotation),Ht=Rt-this.aX,Kt=Dt-this.aY;Rt=Ht*Nt-Kt*Wt+this.aX,Dt=Ht*Wt+Kt*Nt+this.aY}return ft.set(Rt,Dt)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(e,$,ft,vt,s,Tt){super(e,$,ft,ft,vt,s,Tt),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let lt=0,e=0,$=0,ft=0;function vt(s,Tt,At,Rt){lt=s,e=At,$=-3*s+3*Tt-2*At-Rt,ft=2*s-2*Tt+At+Rt}return{initCatmullRom:function(s,Tt,At,Rt,Dt){vt(Tt,At,Dt*(At-s),Dt*(Rt-Tt))},initNonuniformCatmullRom:function(s,Tt,At,Rt,Dt,Nt,Wt){let Ht=(Tt-s)/Dt-(At-s)/(Dt+Nt)+(At-Tt)/Nt,Kt=(At-Tt)/Nt-(Rt-Tt)/(Nt+Wt)+(Rt-At)/Wt;Ht*=Nt,Kt*=Nt,vt(Tt,At,Ht,Kt)},calc:function(s){const Tt=s*s,At=Tt*s;return lt+e*s+$*Tt+ft*At}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(e=[],$=!1,ft="centripetal",vt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=$,this.curveType=ft,this.tension=vt}getPoint(e,$=new Vector3){const ft=$,vt=this.points,s=vt.length,Tt=(s-(this.closed?0:1))*e;let At=Math.floor(Tt),Rt=Tt-At;this.closed?At+=At>0?0:(Math.floor(Math.abs(At)/s)+1)*s:Rt===0&&At===s-1&&(At=s-2,Rt=1);let Dt,Nt;this.closed||At>0?Dt=vt[(At-1)%s]:(tmp.subVectors(vt[0],vt[1]).add(vt[0]),Dt=tmp);const Wt=vt[At%s],Ht=vt[(At+1)%s];if(this.closed||At+2<s?Nt=vt[(At+2)%s]:(tmp.subVectors(vt[s-1],vt[s-2]).add(vt[s-1]),Nt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const Kt=this.curveType==="chordal"?.5:.25;let Ft=Math.pow(Dt.distanceToSquared(Wt),Kt),tn=Math.pow(Wt.distanceToSquared(Ht),Kt),cn=Math.pow(Ht.distanceToSquared(Nt),Kt);tn<1e-4&&(tn=1),Ft<1e-4&&(Ft=tn),cn<1e-4&&(cn=tn),px.initNonuniformCatmullRom(Dt.x,Wt.x,Ht.x,Nt.x,Ft,tn,cn),py.initNonuniformCatmullRom(Dt.y,Wt.y,Ht.y,Nt.y,Ft,tn,cn),pz.initNonuniformCatmullRom(Dt.z,Wt.z,Ht.z,Nt.z,Ft,tn,cn)}else this.curveType==="catmullrom"&&(px.initCatmullRom(Dt.x,Wt.x,Ht.x,Nt.x,this.tension),py.initCatmullRom(Dt.y,Wt.y,Ht.y,Nt.y,this.tension),pz.initCatmullRom(Dt.z,Wt.z,Ht.z,Nt.z,this.tension));return ft.set(px.calc(Rt),py.calc(Rt),pz.calc(Rt)),ft}copy(e){super.copy(e),this.points=[];for(let $=0,ft=e.points.length;$<ft;$++){const vt=e.points[$];this.points.push(vt.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let $=0,ft=this.points.length;$<ft;$++){const vt=this.points[$];e.points.push(vt.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let $=0,ft=e.points.length;$<ft;$++){const vt=e.points[$];this.points.push(new Vector3().fromArray(vt))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CatmullRom(lt,e,$,ft,vt){const s=(ft-e)*.5,Tt=(vt-$)*.5,At=lt*lt,Rt=lt*At;return(2*$-2*ft+s+Tt)*Rt+(-3*$+3*ft-2*s-Tt)*At+s*lt+$}function QuadraticBezierP0(lt,e){const $=1-lt;return $*$*e}function QuadraticBezierP1(lt,e){return 2*(1-lt)*lt*e}function QuadraticBezierP2(lt,e){return lt*lt*e}function QuadraticBezier(lt,e,$,ft){return QuadraticBezierP0(lt,e)+QuadraticBezierP1(lt,$)+QuadraticBezierP2(lt,ft)}function CubicBezierP0(lt,e){const $=1-lt;return $*$*$*e}function CubicBezierP1(lt,e){const $=1-lt;return 3*$*$*lt*e}function CubicBezierP2(lt,e){return 3*(1-lt)*lt*lt*e}function CubicBezierP3(lt,e){return lt*lt*lt*e}function CubicBezier(lt,e,$,ft,vt){return CubicBezierP0(lt,e)+CubicBezierP1(lt,$)+CubicBezierP2(lt,ft)+CubicBezierP3(lt,vt)}class CubicBezierCurve extends Curve{constructor(e=new Vector2,$=new Vector2,ft=new Vector2,vt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=$,this.v2=ft,this.v3=vt}getPoint(e,$=new Vector2){const ft=$,vt=this.v0,s=this.v1,Tt=this.v2,At=this.v3;return ft.set(CubicBezier(e,vt.x,s.x,Tt.x,At.x),CubicBezier(e,vt.y,s.y,Tt.y,At.y)),ft}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CubicBezierCurve3 extends Curve{constructor(e=new Vector3,$=new Vector3,ft=new Vector3,vt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=$,this.v2=ft,this.v3=vt}getPoint(e,$=new Vector3){const ft=$,vt=this.v0,s=this.v1,Tt=this.v2,At=this.v3;return ft.set(CubicBezier(e,vt.x,s.x,Tt.x,At.x),CubicBezier(e,vt.y,s.y,Tt.y,At.y),CubicBezier(e,vt.z,s.z,Tt.z,At.z)),ft}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LineCurve extends Curve{constructor(e=new Vector2,$=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=$}getPoint(e,$=new Vector2){const ft=$;return e===1?ft.copy(this.v2):(ft.copy(this.v2).sub(this.v1),ft.multiplyScalar(e).add(this.v1)),ft}getPointAt(e,$){return this.getPoint(e,$)}getTangent(e,$=new Vector2){return $.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,$){return this.getTangent(e,$)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LineCurve3 extends Curve{constructor(e=new Vector3,$=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=$}getPoint(e,$=new Vector3){const ft=$;return e===1?ft.copy(this.v2):(ft.copy(this.v2).sub(this.v1),ft.multiplyScalar(e).add(this.v1)),ft}getPointAt(e,$){return this.getPoint(e,$)}getTangent(e,$=new Vector3){return $.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,$){return this.getTangent(e,$)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve extends Curve{constructor(e=new Vector2,$=new Vector2,ft=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=$,this.v2=ft}getPoint(e,$=new Vector2){const ft=$,vt=this.v0,s=this.v1,Tt=this.v2;return ft.set(QuadraticBezier(e,vt.x,s.x,Tt.x),QuadraticBezier(e,vt.y,s.y,Tt.y)),ft}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(e=new Vector3,$=new Vector3,ft=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=$,this.v2=ft}getPoint(e,$=new Vector3){const ft=$,vt=this.v0,s=this.v1,Tt=this.v2;return ft.set(QuadraticBezier(e,vt.x,s.x,Tt.x),QuadraticBezier(e,vt.y,s.y,Tt.y),QuadraticBezier(e,vt.z,s.z,Tt.z)),ft}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SplineCurve extends Curve{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,$=new Vector2){const ft=$,vt=this.points,s=(vt.length-1)*e,Tt=Math.floor(s),At=s-Tt,Rt=vt[Tt===0?Tt:Tt-1],Dt=vt[Tt],Nt=vt[Tt>vt.length-2?vt.length-1:Tt+1],Wt=vt[Tt>vt.length-3?vt.length-1:Tt+2];return ft.set(CatmullRom(At,Rt.x,Dt.x,Nt.x,Wt.x),CatmullRom(At,Rt.y,Dt.y,Nt.y,Wt.y)),ft}copy(e){super.copy(e),this.points=[];for(let $=0,ft=e.points.length;$<ft;$++){const vt=e.points[$];this.points.push(vt.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let $=0,ft=this.points.length;$<ft;$++){const vt=this.points[$];e.points.push(vt.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let $=0,ft=e.points.length;$<ft;$++){const vt=e.points[$];this.points.push(new Vector2().fromArray(vt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),$=this.curves[this.curves.length-1].getPoint(1);e.equals($)||this.curves.push(new LineCurve($,e))}getPoint(e,$){const ft=e*this.getLength(),vt=this.getCurveLengths();let s=0;for(;s<vt.length;){if(vt[s]>=ft){const Tt=vt[s]-ft,At=this.curves[s],Rt=At.getLength(),Dt=Rt===0?0:1-Tt/Rt;return At.getPointAt(Dt,$)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let $=0;for(let ft=0,vt=this.curves.length;ft<vt;ft++)$+=this.curves[ft].getLength(),e.push($);return this.cacheLengths=e,e}getSpacedPoints(e=40){const $=[];for(let ft=0;ft<=e;ft++)$.push(this.getPoint(ft/e));return this.autoClose&&$.push($[0]),$}getPoints(e=12){const $=[];let ft;for(let vt=0,s=this.curves;vt<s.length;vt++){const Tt=s[vt],At=Tt.isEllipseCurve?e*2:Tt.isLineCurve||Tt.isLineCurve3?1:Tt.isSplineCurve?e*Tt.points.length:e,Rt=Tt.getPoints(At);for(let Dt=0;Dt<Rt.length;Dt++){const Nt=Rt[Dt];ft&&ft.equals(Nt)||($.push(Nt),ft=Nt)}}return this.autoClose&&$.length>1&&!$[$.length-1].equals($[0])&&$.push($[0]),$}copy(e){super.copy(e),this.curves=[];for(let $=0,ft=e.curves.length;$<ft;$++){const vt=e.curves[$];this.curves.push(vt.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let $=0,ft=this.curves.length;$<ft;$++){const vt=this.curves[$];e.curves.push(vt.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let $=0,ft=e.curves.length;$<ft;$++){const vt=e.curves[$];this.curves.push(new Curves[vt.type]().fromJSON(vt))}return this}}class Path extends CurvePath{constructor(e){super(),this.type="Path",this.currentPoint=new Vector2,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let $=1,ft=e.length;$<ft;$++)this.lineTo(e[$].x,e[$].y);return this}moveTo(e,$){return this.currentPoint.set(e,$),this}lineTo(e,$){const ft=new LineCurve(this.currentPoint.clone(),new Vector2(e,$));return this.curves.push(ft),this.currentPoint.set(e,$),this}quadraticCurveTo(e,$,ft,vt){const s=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(e,$),new Vector2(ft,vt));return this.curves.push(s),this.currentPoint.set(ft,vt),this}bezierCurveTo(e,$,ft,vt,s,Tt){const At=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(e,$),new Vector2(ft,vt),new Vector2(s,Tt));return this.curves.push(At),this.currentPoint.set(s,Tt),this}splineThru(e){const $=[this.currentPoint.clone()].concat(e),ft=new SplineCurve($);return this.curves.push(ft),this.currentPoint.copy(e[e.length-1]),this}arc(e,$,ft,vt,s,Tt){const At=this.currentPoint.x,Rt=this.currentPoint.y;return this.absarc(e+At,$+Rt,ft,vt,s,Tt),this}absarc(e,$,ft,vt,s,Tt){return this.absellipse(e,$,ft,ft,vt,s,Tt),this}ellipse(e,$,ft,vt,s,Tt,At,Rt){const Dt=this.currentPoint.x,Nt=this.currentPoint.y;return this.absellipse(e+Dt,$+Nt,ft,vt,s,Tt,At,Rt),this}absellipse(e,$,ft,vt,s,Tt,At,Rt){const Dt=new EllipseCurve(e,$,ft,vt,s,Tt,At,Rt);if(this.curves.length>0){const Wt=Dt.getPoint(0);Wt.equals(this.currentPoint)||this.lineTo(Wt.x,Wt.y)}this.curves.push(Dt);const Nt=Dt.getPoint(1);return this.currentPoint.copy(Nt),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(e=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],$=12,ft=0,vt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:$,phiStart:ft,phiLength:vt},$=Math.floor($),vt=clamp$1(vt,0,Math.PI*2);const s=[],Tt=[],At=[],Rt=[],Dt=[],Nt=1/$,Wt=new Vector3,Ht=new Vector2,Kt=new Vector3,Ft=new Vector3,tn=new Vector3;let cn=0,fn=0;for(let ln=0;ln<=e.length-1;ln++)switch(ln){case 0:cn=e[ln+1].x-e[ln].x,fn=e[ln+1].y-e[ln].y,Kt.x=fn*1,Kt.y=-cn,Kt.z=fn*0,tn.copy(Kt),Kt.normalize(),Rt.push(Kt.x,Kt.y,Kt.z);break;case e.length-1:Rt.push(tn.x,tn.y,tn.z);break;default:cn=e[ln+1].x-e[ln].x,fn=e[ln+1].y-e[ln].y,Kt.x=fn*1,Kt.y=-cn,Kt.z=fn*0,Ft.copy(Kt),Kt.x+=tn.x,Kt.y+=tn.y,Kt.z+=tn.z,Kt.normalize(),Rt.push(Kt.x,Kt.y,Kt.z),tn.copy(Ft)}for(let ln=0;ln<=$;ln++){const dn=ft+ln*Nt*vt,mn=Math.sin(dn),xn=Math.cos(dn);for(let Mn=0;Mn<=e.length-1;Mn++){Wt.x=e[Mn].x*mn,Wt.y=e[Mn].y,Wt.z=e[Mn].x*xn,Tt.push(Wt.x,Wt.y,Wt.z),Ht.x=ln/$,Ht.y=Mn/(e.length-1),At.push(Ht.x,Ht.y);const Tn=Rt[3*Mn+0]*mn,vn=Rt[3*Mn+1],An=Rt[3*Mn+0]*xn;Dt.push(Tn,vn,An)}}for(let ln=0;ln<$;ln++)for(let dn=0;dn<e.length-1;dn++){const mn=dn+ln*e.length,xn=mn,Mn=mn+e.length,Tn=mn+e.length+1,vn=mn+1;s.push(xn,Mn,vn),s.push(Tn,vn,Mn)}this.setIndex(s),this.setAttribute("position",new Float32BufferAttribute(Tt,3)),this.setAttribute("uv",new Float32BufferAttribute(At,2)),this.setAttribute("normal",new Float32BufferAttribute(Dt,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LatheGeometry(e.points,e.segments,e.phiStart,e.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(e=1,$=1,ft=4,vt=8){const s=new Path;s.absarc(0,-$/2,e,Math.PI*1.5,0),s.absarc(0,$/2,e,0,Math.PI*.5),super(s.getPoints(ft),vt),this.type="CapsuleGeometry",this.parameters={radius:e,height:$,capSegments:ft,radialSegments:vt}}static fromJSON(e){return new CapsuleGeometry(e.radius,e.length,e.capSegments,e.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(e=1,$=32,ft=0,vt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:$,thetaStart:ft,thetaLength:vt},$=Math.max(3,$);const s=[],Tt=[],At=[],Rt=[],Dt=new Vector3,Nt=new Vector2;Tt.push(0,0,0),At.push(0,0,1),Rt.push(.5,.5);for(let Wt=0,Ht=3;Wt<=$;Wt++,Ht+=3){const Kt=ft+Wt/$*vt;Dt.x=e*Math.cos(Kt),Dt.y=e*Math.sin(Kt),Tt.push(Dt.x,Dt.y,Dt.z),At.push(0,0,1),Nt.x=(Tt[Ht]/e+1)/2,Nt.y=(Tt[Ht+1]/e+1)/2,Rt.push(Nt.x,Nt.y)}for(let Wt=1;Wt<=$;Wt++)s.push(Wt,Wt+1,0);this.setIndex(s),this.setAttribute("position",new Float32BufferAttribute(Tt,3)),this.setAttribute("normal",new Float32BufferAttribute(At,3)),this.setAttribute("uv",new Float32BufferAttribute(Rt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CircleGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(e=1,$=1,ft=1,vt=32,s=1,Tt=!1,At=0,Rt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:$,height:ft,radialSegments:vt,heightSegments:s,openEnded:Tt,thetaStart:At,thetaLength:Rt};const Dt=this;vt=Math.floor(vt),s=Math.floor(s);const Nt=[],Wt=[],Ht=[],Kt=[];let Ft=0;const tn=[],cn=ft/2;let fn=0;ln(),Tt===!1&&(e>0&&dn(!0),$>0&&dn(!1)),this.setIndex(Nt),this.setAttribute("position",new Float32BufferAttribute(Wt,3)),this.setAttribute("normal",new Float32BufferAttribute(Ht,3)),this.setAttribute("uv",new Float32BufferAttribute(Kt,2));function ln(){const mn=new Vector3,xn=new Vector3;let Mn=0;const Tn=($-e)/ft;for(let vn=0;vn<=s;vn++){const An=[],Pn=vn/s,bn=Pn*($-e)+e;for(let In=0;In<=vt;In++){const On=In/vt,Nn=On*Rt+At,Yn=Math.sin(Nn),Xn=Math.cos(Nn);xn.x=bn*Yn,xn.y=-Pn*ft+cn,xn.z=bn*Xn,Wt.push(xn.x,xn.y,xn.z),mn.set(Yn,Tn,Xn).normalize(),Ht.push(mn.x,mn.y,mn.z),Kt.push(On,1-Pn),An.push(Ft++)}tn.push(An)}for(let vn=0;vn<vt;vn++)for(let An=0;An<s;An++){const Pn=tn[An][vn],bn=tn[An+1][vn],In=tn[An+1][vn+1],On=tn[An][vn+1];Nt.push(Pn,bn,On),Nt.push(bn,In,On),Mn+=6}Dt.addGroup(fn,Mn,0),fn+=Mn}function dn(mn){const xn=Ft,Mn=new Vector2,Tn=new Vector3;let vn=0;const An=mn===!0?e:$,Pn=mn===!0?1:-1;for(let In=1;In<=vt;In++)Wt.push(0,cn*Pn,0),Ht.push(0,Pn,0),Kt.push(.5,.5),Ft++;const bn=Ft;for(let In=0;In<=vt;In++){const Nn=In/vt*Rt+At,Yn=Math.cos(Nn),Xn=Math.sin(Nn);Tn.x=An*Xn,Tn.y=cn*Pn,Tn.z=An*Yn,Wt.push(Tn.x,Tn.y,Tn.z),Ht.push(0,Pn,0),Mn.x=Yn*.5+.5,Mn.y=Xn*.5*Pn+.5,Kt.push(Mn.x,Mn.y),Ft++}for(let In=0;In<vt;In++){const On=xn+In,Nn=bn+In;mn===!0?Nt.push(Nn,Nn+1,On):Nt.push(Nn+1,Nn,On),vn+=3}Dt.addGroup(fn,vn,mn===!0?1:2),fn+=vn}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(e=1,$=1,ft=32,vt=1,s=!1,Tt=0,At=Math.PI*2){super(0,e,$,ft,vt,s,Tt,At),this.type="ConeGeometry",this.parameters={radius:e,height:$,radialSegments:ft,heightSegments:vt,openEnded:s,thetaStart:Tt,thetaLength:At}}static fromJSON(e){return new ConeGeometry(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(e=[],$=[],ft=1,vt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:$,radius:ft,detail:vt};const s=[],Tt=[];At(vt),Dt(ft),Nt(),this.setAttribute("position",new Float32BufferAttribute(s,3)),this.setAttribute("normal",new Float32BufferAttribute(s.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2)),vt===0?this.computeVertexNormals():this.normalizeNormals();function At(ln){const dn=new Vector3,mn=new Vector3,xn=new Vector3;for(let Mn=0;Mn<$.length;Mn+=3)Kt($[Mn+0],dn),Kt($[Mn+1],mn),Kt($[Mn+2],xn),Rt(dn,mn,xn,ln)}function Rt(ln,dn,mn,xn){const Mn=xn+1,Tn=[];for(let vn=0;vn<=Mn;vn++){Tn[vn]=[];const An=ln.clone().lerp(mn,vn/Mn),Pn=dn.clone().lerp(mn,vn/Mn),bn=Mn-vn;for(let In=0;In<=bn;In++)In===0&&vn===Mn?Tn[vn][In]=An:Tn[vn][In]=An.clone().lerp(Pn,In/bn)}for(let vn=0;vn<Mn;vn++)for(let An=0;An<2*(Mn-vn)-1;An++){const Pn=Math.floor(An/2);An%2===0?(Ht(Tn[vn][Pn+1]),Ht(Tn[vn+1][Pn]),Ht(Tn[vn][Pn])):(Ht(Tn[vn][Pn+1]),Ht(Tn[vn+1][Pn+1]),Ht(Tn[vn+1][Pn]))}}function Dt(ln){const dn=new Vector3;for(let mn=0;mn<s.length;mn+=3)dn.x=s[mn+0],dn.y=s[mn+1],dn.z=s[mn+2],dn.normalize().multiplyScalar(ln),s[mn+0]=dn.x,s[mn+1]=dn.y,s[mn+2]=dn.z}function Nt(){const ln=new Vector3;for(let dn=0;dn<s.length;dn+=3){ln.x=s[dn+0],ln.y=s[dn+1],ln.z=s[dn+2];const mn=cn(ln)/2/Math.PI+.5,xn=fn(ln)/Math.PI+.5;Tt.push(mn,1-xn)}Ft(),Wt()}function Wt(){for(let ln=0;ln<Tt.length;ln+=6){const dn=Tt[ln+0],mn=Tt[ln+2],xn=Tt[ln+4],Mn=Math.max(dn,mn,xn),Tn=Math.min(dn,mn,xn);Mn>.9&&Tn<.1&&(dn<.2&&(Tt[ln+0]+=1),mn<.2&&(Tt[ln+2]+=1),xn<.2&&(Tt[ln+4]+=1))}}function Ht(ln){s.push(ln.x,ln.y,ln.z)}function Kt(ln,dn){const mn=ln*3;dn.x=e[mn+0],dn.y=e[mn+1],dn.z=e[mn+2]}function Ft(){const ln=new Vector3,dn=new Vector3,mn=new Vector3,xn=new Vector3,Mn=new Vector2,Tn=new Vector2,vn=new Vector2;for(let An=0,Pn=0;An<s.length;An+=9,Pn+=6){ln.set(s[An+0],s[An+1],s[An+2]),dn.set(s[An+3],s[An+4],s[An+5]),mn.set(s[An+6],s[An+7],s[An+8]),Mn.set(Tt[Pn+0],Tt[Pn+1]),Tn.set(Tt[Pn+2],Tt[Pn+3]),vn.set(Tt[Pn+4],Tt[Pn+5]),xn.copy(ln).add(dn).add(mn).divideScalar(3);const bn=cn(xn);tn(Mn,Pn+0,ln,bn),tn(Tn,Pn+2,dn,bn),tn(vn,Pn+4,mn,bn)}}function tn(ln,dn,mn,xn){xn<0&&ln.x===1&&(Tt[dn]=ln.x-1),mn.x===0&&mn.z===0&&(Tt[dn]=xn/2/Math.PI+.5)}function cn(ln){return Math.atan2(ln.z,-ln.x)}function fn(ln){return Math.atan2(-ln.y,Math.sqrt(ln.x*ln.x+ln.z*ln.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PolyhedronGeometry(e.vertices,e.indices,e.radius,e.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(e=1,$=0){const ft=(1+Math.sqrt(5))/2,vt=1/ft,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-vt,-ft,0,-vt,ft,0,vt,-ft,0,vt,ft,-vt,-ft,0,-vt,ft,0,vt,-ft,0,vt,ft,0,-ft,0,-vt,ft,0,-vt,-ft,0,vt,ft,0,vt],Tt=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,Tt,e,$),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:$}}static fromJSON(e){return new DodecahedronGeometry(e.radius,e.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(e=null,$=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:$},e!==null){const vt=Math.pow(10,4),s=Math.cos(DEG2RAD*$),Tt=e.getIndex(),At=e.getAttribute("position"),Rt=Tt?Tt.count:At.count,Dt=[0,0,0],Nt=["a","b","c"],Wt=new Array(3),Ht={},Kt=[];for(let Ft=0;Ft<Rt;Ft+=3){Tt?(Dt[0]=Tt.getX(Ft),Dt[1]=Tt.getX(Ft+1),Dt[2]=Tt.getX(Ft+2)):(Dt[0]=Ft,Dt[1]=Ft+1,Dt[2]=Ft+2);const{a:tn,b:cn,c:fn}=_triangle;if(tn.fromBufferAttribute(At,Dt[0]),cn.fromBufferAttribute(At,Dt[1]),fn.fromBufferAttribute(At,Dt[2]),_triangle.getNormal(_normal),Wt[0]=`${Math.round(tn.x*vt)},${Math.round(tn.y*vt)},${Math.round(tn.z*vt)}`,Wt[1]=`${Math.round(cn.x*vt)},${Math.round(cn.y*vt)},${Math.round(cn.z*vt)}`,Wt[2]=`${Math.round(fn.x*vt)},${Math.round(fn.y*vt)},${Math.round(fn.z*vt)}`,!(Wt[0]===Wt[1]||Wt[1]===Wt[2]||Wt[2]===Wt[0]))for(let ln=0;ln<3;ln++){const dn=(ln+1)%3,mn=Wt[ln],xn=Wt[dn],Mn=_triangle[Nt[ln]],Tn=_triangle[Nt[dn]],vn=`${mn}_${xn}`,An=`${xn}_${mn}`;An in Ht&&Ht[An]?(_normal.dot(Ht[An].normal)<=s&&(Kt.push(Mn.x,Mn.y,Mn.z),Kt.push(Tn.x,Tn.y,Tn.z)),Ht[An]=null):vn in Ht||(Ht[vn]={index0:Dt[ln],index1:Dt[dn],normal:_normal.clone()})}}for(const Ft in Ht)if(Ht[Ft]){const{index0:tn,index1:cn}=Ht[Ft];_v0.fromBufferAttribute(At,tn),_v1$1.fromBufferAttribute(At,cn),Kt.push(_v0.x,_v0.y,_v0.z),Kt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(Kt,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Shape extends Path{constructor(e){super(e),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(e){const $=[];for(let ft=0,vt=this.holes.length;ft<vt;ft++)$[ft]=this.holes[ft].getPoints(e);return $}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let $=0,ft=e.holes.length;$<ft;$++){const vt=e.holes[$];this.holes.push(vt.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let $=0,ft=this.holes.length;$<ft;$++){const vt=this.holes[$];e.holes.push(vt.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let $=0,ft=e.holes.length;$<ft;$++){const vt=e.holes[$];this.holes.push(new Path().fromJSON(vt))}return this}}const Earcut={triangulate:function(lt,e,$=2){const ft=e&&e.length,vt=ft?e[0]*$:lt.length;let s=linkedList(lt,0,vt,$,!0);const Tt=[];if(!s||s.next===s.prev)return Tt;let At,Rt,Dt,Nt,Wt,Ht,Kt;if(ft&&(s=eliminateHoles(lt,e,s,$)),lt.length>80*$){At=Dt=lt[0],Rt=Nt=lt[1];for(let Ft=$;Ft<vt;Ft+=$)Wt=lt[Ft],Ht=lt[Ft+1],Wt<At&&(At=Wt),Ht<Rt&&(Rt=Ht),Wt>Dt&&(Dt=Wt),Ht>Nt&&(Nt=Ht);Kt=Math.max(Dt-At,Nt-Rt),Kt=Kt!==0?32767/Kt:0}return earcutLinked(s,Tt,$,At,Rt,Kt,0),Tt}};function linkedList(lt,e,$,ft,vt){let s,Tt;if(vt===signedArea(lt,e,$,ft)>0)for(s=e;s<$;s+=ft)Tt=insertNode(s,lt[s],lt[s+1],Tt);else for(s=$-ft;s>=e;s-=ft)Tt=insertNode(s,lt[s],lt[s+1],Tt);return Tt&&equals(Tt,Tt.next)&&(removeNode(Tt),Tt=Tt.next),Tt}function filterPoints(lt,e){if(!lt)return lt;e||(e=lt);let $=lt,ft;do if(ft=!1,!$.steiner&&(equals($,$.next)||area($.prev,$,$.next)===0)){if(removeNode($),$=e=$.prev,$===$.next)break;ft=!0}else $=$.next;while(ft||$!==e);return e}function earcutLinked(lt,e,$,ft,vt,s,Tt){if(!lt)return;!Tt&&s&&indexCurve(lt,ft,vt,s);let At=lt,Rt,Dt;for(;lt.prev!==lt.next;){if(Rt=lt.prev,Dt=lt.next,s?isEarHashed(lt,ft,vt,s):isEar(lt)){e.push(Rt.i/$|0),e.push(lt.i/$|0),e.push(Dt.i/$|0),removeNode(lt),lt=Dt.next,At=Dt.next;continue}if(lt=Dt,lt===At){Tt?Tt===1?(lt=cureLocalIntersections(filterPoints(lt),e,$),earcutLinked(lt,e,$,ft,vt,s,2)):Tt===2&&splitEarcut(lt,e,$,ft,vt,s):earcutLinked(filterPoints(lt),e,$,ft,vt,s,1);break}}}function isEar(lt){const e=lt.prev,$=lt,ft=lt.next;if(area(e,$,ft)>=0)return!1;const vt=e.x,s=$.x,Tt=ft.x,At=e.y,Rt=$.y,Dt=ft.y,Nt=vt<s?vt<Tt?vt:Tt:s<Tt?s:Tt,Wt=At<Rt?At<Dt?At:Dt:Rt<Dt?Rt:Dt,Ht=vt>s?vt>Tt?vt:Tt:s>Tt?s:Tt,Kt=At>Rt?At>Dt?At:Dt:Rt>Dt?Rt:Dt;let Ft=ft.next;for(;Ft!==e;){if(Ft.x>=Nt&&Ft.x<=Ht&&Ft.y>=Wt&&Ft.y<=Kt&&pointInTriangle(vt,At,s,Rt,Tt,Dt,Ft.x,Ft.y)&&area(Ft.prev,Ft,Ft.next)>=0)return!1;Ft=Ft.next}return!0}function isEarHashed(lt,e,$,ft){const vt=lt.prev,s=lt,Tt=lt.next;if(area(vt,s,Tt)>=0)return!1;const At=vt.x,Rt=s.x,Dt=Tt.x,Nt=vt.y,Wt=s.y,Ht=Tt.y,Kt=At<Rt?At<Dt?At:Dt:Rt<Dt?Rt:Dt,Ft=Nt<Wt?Nt<Ht?Nt:Ht:Wt<Ht?Wt:Ht,tn=At>Rt?At>Dt?At:Dt:Rt>Dt?Rt:Dt,cn=Nt>Wt?Nt>Ht?Nt:Ht:Wt>Ht?Wt:Ht,fn=zOrder(Kt,Ft,e,$,ft),ln=zOrder(tn,cn,e,$,ft);let dn=lt.prevZ,mn=lt.nextZ;for(;dn&&dn.z>=fn&&mn&&mn.z<=ln;){if(dn.x>=Kt&&dn.x<=tn&&dn.y>=Ft&&dn.y<=cn&&dn!==vt&&dn!==Tt&&pointInTriangle(At,Nt,Rt,Wt,Dt,Ht,dn.x,dn.y)&&area(dn.prev,dn,dn.next)>=0||(dn=dn.prevZ,mn.x>=Kt&&mn.x<=tn&&mn.y>=Ft&&mn.y<=cn&&mn!==vt&&mn!==Tt&&pointInTriangle(At,Nt,Rt,Wt,Dt,Ht,mn.x,mn.y)&&area(mn.prev,mn,mn.next)>=0))return!1;mn=mn.nextZ}for(;dn&&dn.z>=fn;){if(dn.x>=Kt&&dn.x<=tn&&dn.y>=Ft&&dn.y<=cn&&dn!==vt&&dn!==Tt&&pointInTriangle(At,Nt,Rt,Wt,Dt,Ht,dn.x,dn.y)&&area(dn.prev,dn,dn.next)>=0)return!1;dn=dn.prevZ}for(;mn&&mn.z<=ln;){if(mn.x>=Kt&&mn.x<=tn&&mn.y>=Ft&&mn.y<=cn&&mn!==vt&&mn!==Tt&&pointInTriangle(At,Nt,Rt,Wt,Dt,Ht,mn.x,mn.y)&&area(mn.prev,mn,mn.next)>=0)return!1;mn=mn.nextZ}return!0}function cureLocalIntersections(lt,e,$){let ft=lt;do{const vt=ft.prev,s=ft.next.next;!equals(vt,s)&&intersects(vt,ft,ft.next,s)&&locallyInside(vt,s)&&locallyInside(s,vt)&&(e.push(vt.i/$|0),e.push(ft.i/$|0),e.push(s.i/$|0),removeNode(ft),removeNode(ft.next),ft=lt=s),ft=ft.next}while(ft!==lt);return filterPoints(ft)}function splitEarcut(lt,e,$,ft,vt,s){let Tt=lt;do{let At=Tt.next.next;for(;At!==Tt.prev;){if(Tt.i!==At.i&&isValidDiagonal(Tt,At)){let Rt=splitPolygon(Tt,At);Tt=filterPoints(Tt,Tt.next),Rt=filterPoints(Rt,Rt.next),earcutLinked(Tt,e,$,ft,vt,s,0),earcutLinked(Rt,e,$,ft,vt,s,0);return}At=At.next}Tt=Tt.next}while(Tt!==lt)}function eliminateHoles(lt,e,$,ft){const vt=[];let s,Tt,At,Rt,Dt;for(s=0,Tt=e.length;s<Tt;s++)At=e[s]*ft,Rt=s<Tt-1?e[s+1]*ft:lt.length,Dt=linkedList(lt,At,Rt,ft,!1),Dt===Dt.next&&(Dt.steiner=!0),vt.push(getLeftmost(Dt));for(vt.sort(compareX),s=0;s<vt.length;s++)$=eliminateHole(vt[s],$);return $}function compareX(lt,e){return lt.x-e.x}function eliminateHole(lt,e){const $=findHoleBridge(lt,e);if(!$)return e;const ft=splitPolygon($,lt);return filterPoints(ft,ft.next),filterPoints($,$.next)}function findHoleBridge(lt,e){let $=e,ft=-1/0,vt;const s=lt.x,Tt=lt.y;do{if(Tt<=$.y&&Tt>=$.next.y&&$.next.y!==$.y){const Ht=$.x+(Tt-$.y)*($.next.x-$.x)/($.next.y-$.y);if(Ht<=s&&Ht>ft&&(ft=Ht,vt=$.x<$.next.x?$:$.next,Ht===s))return vt}$=$.next}while($!==e);if(!vt)return null;const At=vt,Rt=vt.x,Dt=vt.y;let Nt=1/0,Wt;$=vt;do s>=$.x&&$.x>=Rt&&s!==$.x&&pointInTriangle(Tt<Dt?s:ft,Tt,Rt,Dt,Tt<Dt?ft:s,Tt,$.x,$.y)&&(Wt=Math.abs(Tt-$.y)/(s-$.x),locallyInside($,lt)&&(Wt<Nt||Wt===Nt&&($.x>vt.x||$.x===vt.x&&sectorContainsSector(vt,$)))&&(vt=$,Nt=Wt)),$=$.next;while($!==At);return vt}function sectorContainsSector(lt,e){return area(lt.prev,lt,e.prev)<0&&area(e.next,lt,lt.next)<0}function indexCurve(lt,e,$,ft){let vt=lt;do vt.z===0&&(vt.z=zOrder(vt.x,vt.y,e,$,ft)),vt.prevZ=vt.prev,vt.nextZ=vt.next,vt=vt.next;while(vt!==lt);vt.prevZ.nextZ=null,vt.prevZ=null,sortLinked(vt)}function sortLinked(lt){let e,$,ft,vt,s,Tt,At,Rt,Dt=1;do{for($=lt,lt=null,s=null,Tt=0;$;){for(Tt++,ft=$,At=0,e=0;e<Dt&&(At++,ft=ft.nextZ,!!ft);e++);for(Rt=Dt;At>0||Rt>0&&ft;)At!==0&&(Rt===0||!ft||$.z<=ft.z)?(vt=$,$=$.nextZ,At--):(vt=ft,ft=ft.nextZ,Rt--),s?s.nextZ=vt:lt=vt,vt.prevZ=s,s=vt;$=ft}s.nextZ=null,Dt*=2}while(Tt>1);return lt}function zOrder(lt,e,$,ft,vt){return lt=(lt-$)*vt|0,e=(e-ft)*vt|0,lt=(lt|lt<<8)&16711935,lt=(lt|lt<<4)&252645135,lt=(lt|lt<<2)&858993459,lt=(lt|lt<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,lt|e<<1}function getLeftmost(lt){let e=lt,$=lt;do(e.x<$.x||e.x===$.x&&e.y<$.y)&&($=e),e=e.next;while(e!==lt);return $}function pointInTriangle(lt,e,$,ft,vt,s,Tt,At){return(vt-Tt)*(e-At)>=(lt-Tt)*(s-At)&&(lt-Tt)*(ft-At)>=($-Tt)*(e-At)&&($-Tt)*(s-At)>=(vt-Tt)*(ft-At)}function isValidDiagonal(lt,e){return lt.next.i!==e.i&&lt.prev.i!==e.i&&!intersectsPolygon(lt,e)&&(locallyInside(lt,e)&&locallyInside(e,lt)&&middleInside(lt,e)&&(area(lt.prev,lt,e.prev)||area(lt,e.prev,e))||equals(lt,e)&&area(lt.prev,lt,lt.next)>0&&area(e.prev,e,e.next)>0)}function area(lt,e,$){return(e.y-lt.y)*($.x-e.x)-(e.x-lt.x)*($.y-e.y)}function equals(lt,e){return lt.x===e.x&&lt.y===e.y}function intersects(lt,e,$,ft){const vt=sign(area(lt,e,$)),s=sign(area(lt,e,ft)),Tt=sign(area($,ft,lt)),At=sign(area($,ft,e));return!!(vt!==s&&Tt!==At||vt===0&&onSegment(lt,$,e)||s===0&&onSegment(lt,ft,e)||Tt===0&&onSegment($,lt,ft)||At===0&&onSegment($,e,ft))}function onSegment(lt,e,$){return e.x<=Math.max(lt.x,$.x)&&e.x>=Math.min(lt.x,$.x)&&e.y<=Math.max(lt.y,$.y)&&e.y>=Math.min(lt.y,$.y)}function sign(lt){return lt>0?1:lt<0?-1:0}function intersectsPolygon(lt,e){let $=lt;do{if($.i!==lt.i&&$.next.i!==lt.i&&$.i!==e.i&&$.next.i!==e.i&&intersects($,$.next,lt,e))return!0;$=$.next}while($!==lt);return!1}function locallyInside(lt,e){return area(lt.prev,lt,lt.next)<0?area(lt,e,lt.next)>=0&&area(lt,lt.prev,e)>=0:area(lt,e,lt.prev)<0||area(lt,lt.next,e)<0}function middleInside(lt,e){let $=lt,ft=!1;const vt=(lt.x+e.x)/2,s=(lt.y+e.y)/2;do $.y>s!=$.next.y>s&&$.next.y!==$.y&&vt<($.next.x-$.x)*(s-$.y)/($.next.y-$.y)+$.x&&(ft=!ft),$=$.next;while($!==lt);return ft}function splitPolygon(lt,e){const $=new Node$1(lt.i,lt.x,lt.y),ft=new Node$1(e.i,e.x,e.y),vt=lt.next,s=e.prev;return lt.next=e,e.prev=lt,$.next=vt,vt.prev=$,ft.next=$,$.prev=ft,s.next=ft,ft.prev=s,ft}function insertNode(lt,e,$,ft){const vt=new Node$1(lt,e,$);return ft?(vt.next=ft.next,vt.prev=ft,ft.next.prev=vt,ft.next=vt):(vt.prev=vt,vt.next=vt),vt}function removeNode(lt){lt.next.prev=lt.prev,lt.prev.next=lt.next,lt.prevZ&&(lt.prevZ.nextZ=lt.nextZ),lt.nextZ&&(lt.nextZ.prevZ=lt.prevZ)}function Node$1(lt,e,$){this.i=lt,this.x=e,this.y=$,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(lt,e,$,ft){let vt=0;for(let s=e,Tt=$-ft;s<$;s+=ft)vt+=(lt[Tt]-lt[s])*(lt[s+1]+lt[Tt+1]),Tt=s;return vt}class ShapeUtils{static area(e){const $=e.length;let ft=0;for(let vt=$-1,s=0;s<$;vt=s++)ft+=e[vt].x*e[s].y-e[s].x*e[vt].y;return ft*.5}static isClockWise(e){return ShapeUtils.area(e)<0}static triangulateShape(e,$){const ft=[],vt=[],s=[];removeDupEndPts(e),addContour(ft,e);let Tt=e.length;$.forEach(removeDupEndPts);for(let Rt=0;Rt<$.length;Rt++)vt.push(Tt),Tt+=$[Rt].length,addContour(ft,$[Rt]);const At=Earcut.triangulate(ft,vt);for(let Rt=0;Rt<At.length;Rt+=3)s.push(At.slice(Rt,Rt+3));return s}}function removeDupEndPts(lt){const e=lt.length;e>2&&lt[e-1].equals(lt[0])&&lt.pop()}function addContour(lt,e){for(let $=0;$<e.length;$++)lt.push(e[$].x),lt.push(e[$].y)}class ExtrudeGeometry extends BufferGeometry{constructor(e=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),$={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:$},e=Array.isArray(e)?e:[e];const ft=this,vt=[],s=[];for(let At=0,Rt=e.length;At<Rt;At++){const Dt=e[At];Tt(Dt)}this.setAttribute("position",new Float32BufferAttribute(vt,3)),this.setAttribute("uv",new Float32BufferAttribute(s,2)),this.computeVertexNormals();function Tt(At){const Rt=[],Dt=$.curveSegments!==void 0?$.curveSegments:12,Nt=$.steps!==void 0?$.steps:1,Wt=$.depth!==void 0?$.depth:1;let Ht=$.bevelEnabled!==void 0?$.bevelEnabled:!0,Kt=$.bevelThickness!==void 0?$.bevelThickness:.2,Ft=$.bevelSize!==void 0?$.bevelSize:Kt-.1,tn=$.bevelOffset!==void 0?$.bevelOffset:0,cn=$.bevelSegments!==void 0?$.bevelSegments:3;const fn=$.extrudePath,ln=$.UVGenerator!==void 0?$.UVGenerator:WorldUVGenerator;let dn,mn=!1,xn,Mn,Tn,vn;fn&&(dn=fn.getSpacedPoints(Nt),mn=!0,Ht=!1,xn=fn.computeFrenetFrames(Nt,!1),Mn=new Vector3,Tn=new Vector3,vn=new Vector3),Ht||(cn=0,Kt=0,Ft=0,tn=0);const An=At.extractPoints(Dt);let Pn=An.shape;const bn=An.holes;if(!ShapeUtils.isClockWise(Pn)){Pn=Pn.reverse();for(let Zt=0,ur=bn.length;Zt<ur;Zt++){const Br=bn[Zt];ShapeUtils.isClockWise(Br)&&(bn[Zt]=Br.reverse())}}const On=ShapeUtils.triangulateShape(Pn,bn),Nn=Pn;for(let Zt=0,ur=bn.length;Zt<ur;Zt++){const Br=bn[Zt];Pn=Pn.concat(Br)}function Yn(Zt,ur,Br){return ur||console.error("THREE.ExtrudeGeometry: vec does not exist"),Zt.clone().addScaledVector(ur,Br)}const Xn=Pn.length,sr=On.length;function Un(Zt,ur,Br){let zr,Dr,Jr;const xr=Zt.x-ur.x,jr=Zt.y-ur.y,qr=Br.x-Zt.x,Tr=Br.y-Zt.y,Bn=xr*xr+jr*jr,Ln=xr*Tr-jr*qr;if(Math.abs(Ln)>Number.EPSILON){const Jn=Math.sqrt(Bn),yr=Math.sqrt(qr*qr+Tr*Tr),Wr=ur.x-jr/Jn,Yr=ur.y+xr/Jn,Xr=Br.x-Tr/yr,Kr=Br.y+qr/yr,Cr=((Xr-Wr)*Tr-(Kr-Yr)*qr)/(xr*Tr-jr*qr);zr=Wr+xr*Cr-Zt.x,Dr=Yr+jr*Cr-Zt.y;const eo=zr*zr+Dr*Dr;if(eo<=2)return new Vector2(zr,Dr);Jr=Math.sqrt(eo/2)}else{let Jn=!1;xr>Number.EPSILON?qr>Number.EPSILON&&(Jn=!0):xr<-Number.EPSILON?qr<-Number.EPSILON&&(Jn=!0):Math.sign(jr)===Math.sign(Tr)&&(Jn=!0),Jn?(zr=-jr,Dr=xr,Jr=Math.sqrt(Bn)):(zr=xr,Dr=jr,Jr=Math.sqrt(Bn/2))}return new Vector2(zr/Jr,Dr/Jr)}const Gn=[];for(let Zt=0,ur=Nn.length,Br=ur-1,zr=Zt+1;Zt<ur;Zt++,Br++,zr++)Br===ur&&(Br=0),zr===ur&&(zr=0),Gn[Zt]=Un(Nn[Zt],Nn[Br],Nn[zr]);const Wn=[];let $n,zn=Gn.concat();for(let Zt=0,ur=bn.length;Zt<ur;Zt++){const Br=bn[Zt];$n=[];for(let zr=0,Dr=Br.length,Jr=Dr-1,xr=zr+1;zr<Dr;zr++,Jr++,xr++)Jr===Dr&&(Jr=0),xr===Dr&&(xr=0),$n[zr]=Un(Br[zr],Br[Jr],Br[xr]);Wn.push($n),zn=zn.concat($n)}for(let Zt=0;Zt<cn;Zt++){const ur=Zt/cn,Br=Kt*Math.cos(ur*Math.PI/2),zr=Ft*Math.sin(ur*Math.PI/2)+tn;for(let Dr=0,Jr=Nn.length;Dr<Jr;Dr++){const xr=Yn(Nn[Dr],Gn[Dr],zr);nr(xr.x,xr.y,-Br)}for(let Dr=0,Jr=bn.length;Dr<Jr;Dr++){const xr=bn[Dr];$n=Wn[Dr];for(let jr=0,qr=xr.length;jr<qr;jr++){const Tr=Yn(xr[jr],$n[jr],zr);nr(Tr.x,Tr.y,-Br)}}}const Zn=Ft+tn;for(let Zt=0;Zt<Xn;Zt++){const ur=Ht?Yn(Pn[Zt],zn[Zt],Zn):Pn[Zt];mn?(Tn.copy(xn.normals[0]).multiplyScalar(ur.x),Mn.copy(xn.binormals[0]).multiplyScalar(ur.y),vn.copy(dn[0]).add(Tn).add(Mn),nr(vn.x,vn.y,vn.z)):nr(ur.x,ur.y,0)}for(let Zt=1;Zt<=Nt;Zt++)for(let ur=0;ur<Xn;ur++){const Br=Ht?Yn(Pn[ur],zn[ur],Zn):Pn[ur];mn?(Tn.copy(xn.normals[Zt]).multiplyScalar(Br.x),Mn.copy(xn.binormals[Zt]).multiplyScalar(Br.y),vn.copy(dn[Zt]).add(Tn).add(Mn),nr(vn.x,vn.y,vn.z)):nr(Br.x,Br.y,Wt/Nt*Zt)}for(let Zt=cn-1;Zt>=0;Zt--){const ur=Zt/cn,Br=Kt*Math.cos(ur*Math.PI/2),zr=Ft*Math.sin(ur*Math.PI/2)+tn;for(let Dr=0,Jr=Nn.length;Dr<Jr;Dr++){const xr=Yn(Nn[Dr],Gn[Dr],zr);nr(xr.x,xr.y,Wt+Br)}for(let Dr=0,Jr=bn.length;Dr<Jr;Dr++){const xr=bn[Dr];$n=Wn[Dr];for(let jr=0,qr=xr.length;jr<qr;jr++){const Tr=Yn(xr[jr],$n[jr],zr);mn?nr(Tr.x,Tr.y+dn[Nt-1].y,dn[Nt-1].x+Br):nr(Tr.x,Tr.y,Wt+Br)}}}tr(),Hn();function tr(){const Zt=vt.length/3;if(Ht){let ur=0,Br=Xn*ur;for(let zr=0;zr<sr;zr++){const Dr=On[zr];hr(Dr[2]+Br,Dr[1]+Br,Dr[0]+Br)}ur=Nt+cn*2,Br=Xn*ur;for(let zr=0;zr<sr;zr++){const Dr=On[zr];hr(Dr[0]+Br,Dr[1]+Br,Dr[2]+Br)}}else{for(let ur=0;ur<sr;ur++){const Br=On[ur];hr(Br[2],Br[1],Br[0])}for(let ur=0;ur<sr;ur++){const Br=On[ur];hr(Br[0]+Xn*Nt,Br[1]+Xn*Nt,Br[2]+Xn*Nt)}}ft.addGroup(Zt,vt.length/3-Zt,0)}function Hn(){const Zt=vt.length/3;let ur=0;dr(Nn,ur),ur+=Nn.length;for(let Br=0,zr=bn.length;Br<zr;Br++){const Dr=bn[Br];dr(Dr,ur),ur+=Dr.length}ft.addGroup(Zt,vt.length/3-Zt,1)}function dr(Zt,ur){let Br=Zt.length;for(;--Br>=0;){const zr=Br;let Dr=Br-1;Dr<0&&(Dr=Zt.length-1);for(let Jr=0,xr=Nt+cn*2;Jr<xr;Jr++){const jr=Xn*Jr,qr=Xn*(Jr+1),Tr=ur+zr+jr,Bn=ur+Dr+jr,Ln=ur+Dr+qr,Jn=ur+zr+qr;Pr(Tr,Bn,Ln,Jn)}}}function nr(Zt,ur,Br){Rt.push(Zt),Rt.push(ur),Rt.push(Br)}function hr(Zt,ur,Br){Vr(Zt),Vr(ur),Vr(Br);const zr=vt.length/3,Dr=ln.generateTopUV(ft,vt,zr-3,zr-2,zr-1);kr(Dr[0]),kr(Dr[1]),kr(Dr[2])}function Pr(Zt,ur,Br,zr){Vr(Zt),Vr(ur),Vr(zr),Vr(ur),Vr(Br),Vr(zr);const Dr=vt.length/3,Jr=ln.generateSideWallUV(ft,vt,Dr-6,Dr-3,Dr-2,Dr-1);kr(Jr[0]),kr(Jr[1]),kr(Jr[3]),kr(Jr[1]),kr(Jr[2]),kr(Jr[3])}function Vr(Zt){vt.push(Rt[Zt*3+0]),vt.push(Rt[Zt*3+1]),vt.push(Rt[Zt*3+2])}function kr(Zt){s.push(Zt.x),s.push(Zt.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),$=this.parameters.shapes,ft=this.parameters.options;return toJSON$1($,ft,e)}static fromJSON(e,$){const ft=[];for(let s=0,Tt=e.shapes.length;s<Tt;s++){const At=$[e.shapes[s]];ft.push(At)}const vt=e.options.extrudePath;return vt!==void 0&&(e.options.extrudePath=new Curves[vt.type]().fromJSON(vt)),new ExtrudeGeometry(ft,e.options)}}const WorldUVGenerator={generateTopUV:function(lt,e,$,ft,vt){const s=e[$*3],Tt=e[$*3+1],At=e[ft*3],Rt=e[ft*3+1],Dt=e[vt*3],Nt=e[vt*3+1];return[new Vector2(s,Tt),new Vector2(At,Rt),new Vector2(Dt,Nt)]},generateSideWallUV:function(lt,e,$,ft,vt,s){const Tt=e[$*3],At=e[$*3+1],Rt=e[$*3+2],Dt=e[ft*3],Nt=e[ft*3+1],Wt=e[ft*3+2],Ht=e[vt*3],Kt=e[vt*3+1],Ft=e[vt*3+2],tn=e[s*3],cn=e[s*3+1],fn=e[s*3+2];return Math.abs(At-Nt)<Math.abs(Tt-Dt)?[new Vector2(Tt,1-Rt),new Vector2(Dt,1-Wt),new Vector2(Ht,1-Ft),new Vector2(tn,1-fn)]:[new Vector2(At,1-Rt),new Vector2(Nt,1-Wt),new Vector2(Kt,1-Ft),new Vector2(cn,1-fn)]}};function toJSON$1(lt,e,$){if($.shapes=[],Array.isArray(lt))for(let ft=0,vt=lt.length;ft<vt;ft++){const s=lt[ft];$.shapes.push(s.uuid)}else $.shapes.push(lt.uuid);return $.options=Object.assign({},e),e.extrudePath!==void 0&&($.options.extrudePath=e.extrudePath.toJSON()),$}class IcosahedronGeometry extends PolyhedronGeometry{constructor(e=1,$=0){const ft=(1+Math.sqrt(5))/2,vt=[-1,ft,0,1,ft,0,-1,-ft,0,1,-ft,0,0,-1,ft,0,1,ft,0,-1,-ft,0,1,-ft,ft,0,-1,ft,0,1,-ft,0,-1,-ft,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(vt,s,e,$),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:$}}static fromJSON(e){return new IcosahedronGeometry(e.radius,e.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(e=1,$=0){const ft=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],vt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(ft,vt,e,$),this.type="OctahedronGeometry",this.parameters={radius:e,detail:$}}static fromJSON(e){return new OctahedronGeometry(e.radius,e.detail)}}class RingGeometry extends BufferGeometry{constructor(e=.5,$=1,ft=32,vt=1,s=0,Tt=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:$,thetaSegments:ft,phiSegments:vt,thetaStart:s,thetaLength:Tt},ft=Math.max(3,ft),vt=Math.max(1,vt);const At=[],Rt=[],Dt=[],Nt=[];let Wt=e;const Ht=($-e)/vt,Kt=new Vector3,Ft=new Vector2;for(let tn=0;tn<=vt;tn++){for(let cn=0;cn<=ft;cn++){const fn=s+cn/ft*Tt;Kt.x=Wt*Math.cos(fn),Kt.y=Wt*Math.sin(fn),Rt.push(Kt.x,Kt.y,Kt.z),Dt.push(0,0,1),Ft.x=(Kt.x/$+1)/2,Ft.y=(Kt.y/$+1)/2,Nt.push(Ft.x,Ft.y)}Wt+=Ht}for(let tn=0;tn<vt;tn++){const cn=tn*(ft+1);for(let fn=0;fn<ft;fn++){const ln=fn+cn,dn=ln,mn=ln+ft+1,xn=ln+ft+2,Mn=ln+1;At.push(dn,mn,Mn),At.push(mn,xn,Mn)}}this.setIndex(At),this.setAttribute("position",new Float32BufferAttribute(Rt,3)),this.setAttribute("normal",new Float32BufferAttribute(Dt,3)),this.setAttribute("uv",new Float32BufferAttribute(Nt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RingGeometry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(e=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),$=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:$};const ft=[],vt=[],s=[],Tt=[];let At=0,Rt=0;if(Array.isArray(e)===!1)Dt(e);else for(let Nt=0;Nt<e.length;Nt++)Dt(e[Nt]),this.addGroup(At,Rt,Nt),At+=Rt,Rt=0;this.setIndex(ft),this.setAttribute("position",new Float32BufferAttribute(vt,3)),this.setAttribute("normal",new Float32BufferAttribute(s,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2));function Dt(Nt){const Wt=vt.length/3,Ht=Nt.extractPoints($);let Kt=Ht.shape;const Ft=Ht.holes;ShapeUtils.isClockWise(Kt)===!1&&(Kt=Kt.reverse());for(let cn=0,fn=Ft.length;cn<fn;cn++){const ln=Ft[cn];ShapeUtils.isClockWise(ln)===!0&&(Ft[cn]=ln.reverse())}const tn=ShapeUtils.triangulateShape(Kt,Ft);for(let cn=0,fn=Ft.length;cn<fn;cn++){const ln=Ft[cn];Kt=Kt.concat(ln)}for(let cn=0,fn=Kt.length;cn<fn;cn++){const ln=Kt[cn];vt.push(ln.x,ln.y,0),s.push(0,0,1),Tt.push(ln.x,ln.y)}for(let cn=0,fn=tn.length;cn<fn;cn++){const ln=tn[cn],dn=ln[0]+Wt,mn=ln[1]+Wt,xn=ln[2]+Wt;ft.push(dn,mn,xn),Rt+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),$=this.parameters.shapes;return toJSON($,e)}static fromJSON(e,$){const ft=[];for(let vt=0,s=e.shapes.length;vt<s;vt++){const Tt=$[e.shapes[vt]];ft.push(Tt)}return new ShapeGeometry(ft,e.curveSegments)}}function toJSON(lt,e){if(e.shapes=[],Array.isArray(lt))for(let $=0,ft=lt.length;$<ft;$++){const vt=lt[$];e.shapes.push(vt.uuid)}else e.shapes.push(lt.uuid);return e}class SphereGeometry extends BufferGeometry{constructor(e=1,$=32,ft=16,vt=0,s=Math.PI*2,Tt=0,At=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:$,heightSegments:ft,phiStart:vt,phiLength:s,thetaStart:Tt,thetaLength:At},$=Math.max(3,Math.floor($)),ft=Math.max(2,Math.floor(ft));const Rt=Math.min(Tt+At,Math.PI);let Dt=0;const Nt=[],Wt=new Vector3,Ht=new Vector3,Kt=[],Ft=[],tn=[],cn=[];for(let fn=0;fn<=ft;fn++){const ln=[],dn=fn/ft;let mn=0;fn==0&&Tt==0?mn=.5/$:fn==ft&&Rt==Math.PI&&(mn=-.5/$);for(let xn=0;xn<=$;xn++){const Mn=xn/$;Wt.x=-e*Math.cos(vt+Mn*s)*Math.sin(Tt+dn*At),Wt.y=e*Math.cos(Tt+dn*At),Wt.z=e*Math.sin(vt+Mn*s)*Math.sin(Tt+dn*At),Ft.push(Wt.x,Wt.y,Wt.z),Ht.copy(Wt).normalize(),tn.push(Ht.x,Ht.y,Ht.z),cn.push(Mn+mn,1-dn),ln.push(Dt++)}Nt.push(ln)}for(let fn=0;fn<ft;fn++)for(let ln=0;ln<$;ln++){const dn=Nt[fn][ln+1],mn=Nt[fn][ln],xn=Nt[fn+1][ln],Mn=Nt[fn+1][ln+1];(fn!==0||Tt>0)&&Kt.push(dn,mn,Mn),(fn!==ft-1||Rt<Math.PI)&&Kt.push(mn,xn,Mn)}this.setIndex(Kt),this.setAttribute("position",new Float32BufferAttribute(Ft,3)),this.setAttribute("normal",new Float32BufferAttribute(tn,3)),this.setAttribute("uv",new Float32BufferAttribute(cn,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(e=1,$=0){const ft=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],vt=[2,1,0,0,3,2,1,3,0,2,3,1];super(ft,vt,e,$),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:$}}static fromJSON(e){return new TetrahedronGeometry(e.radius,e.detail)}}class TorusGeometry extends BufferGeometry{constructor(e=1,$=.4,ft=12,vt=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:$,radialSegments:ft,tubularSegments:vt,arc:s},ft=Math.floor(ft),vt=Math.floor(vt);const Tt=[],At=[],Rt=[],Dt=[],Nt=new Vector3,Wt=new Vector3,Ht=new Vector3;for(let Kt=0;Kt<=ft;Kt++)for(let Ft=0;Ft<=vt;Ft++){const tn=Ft/vt*s,cn=Kt/ft*Math.PI*2;Wt.x=(e+$*Math.cos(cn))*Math.cos(tn),Wt.y=(e+$*Math.cos(cn))*Math.sin(tn),Wt.z=$*Math.sin(cn),At.push(Wt.x,Wt.y,Wt.z),Nt.x=e*Math.cos(tn),Nt.y=e*Math.sin(tn),Ht.subVectors(Wt,Nt).normalize(),Rt.push(Ht.x,Ht.y,Ht.z),Dt.push(Ft/vt),Dt.push(Kt/ft)}for(let Kt=1;Kt<=ft;Kt++)for(let Ft=1;Ft<=vt;Ft++){const tn=(vt+1)*Kt+Ft-1,cn=(vt+1)*(Kt-1)+Ft-1,fn=(vt+1)*(Kt-1)+Ft,ln=(vt+1)*Kt+Ft;Tt.push(tn,cn,ln),Tt.push(cn,fn,ln)}this.setIndex(Tt),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(Rt,3)),this.setAttribute("uv",new Float32BufferAttribute(Dt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(e=1,$=.4,ft=64,vt=8,s=2,Tt=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:$,tubularSegments:ft,radialSegments:vt,p:s,q:Tt},ft=Math.floor(ft),vt=Math.floor(vt);const At=[],Rt=[],Dt=[],Nt=[],Wt=new Vector3,Ht=new Vector3,Kt=new Vector3,Ft=new Vector3,tn=new Vector3,cn=new Vector3,fn=new Vector3;for(let dn=0;dn<=ft;++dn){const mn=dn/ft*s*Math.PI*2;ln(mn,s,Tt,e,Kt),ln(mn+.01,s,Tt,e,Ft),cn.subVectors(Ft,Kt),fn.addVectors(Ft,Kt),tn.crossVectors(cn,fn),fn.crossVectors(tn,cn),tn.normalize(),fn.normalize();for(let xn=0;xn<=vt;++xn){const Mn=xn/vt*Math.PI*2,Tn=-$*Math.cos(Mn),vn=$*Math.sin(Mn);Wt.x=Kt.x+(Tn*fn.x+vn*tn.x),Wt.y=Kt.y+(Tn*fn.y+vn*tn.y),Wt.z=Kt.z+(Tn*fn.z+vn*tn.z),Rt.push(Wt.x,Wt.y,Wt.z),Ht.subVectors(Wt,Kt).normalize(),Dt.push(Ht.x,Ht.y,Ht.z),Nt.push(dn/ft),Nt.push(xn/vt)}}for(let dn=1;dn<=ft;dn++)for(let mn=1;mn<=vt;mn++){const xn=(vt+1)*(dn-1)+(mn-1),Mn=(vt+1)*dn+(mn-1),Tn=(vt+1)*dn+mn,vn=(vt+1)*(dn-1)+mn;At.push(xn,Mn,vn),At.push(Mn,Tn,vn)}this.setIndex(At),this.setAttribute("position",new Float32BufferAttribute(Rt,3)),this.setAttribute("normal",new Float32BufferAttribute(Dt,3)),this.setAttribute("uv",new Float32BufferAttribute(Nt,2));function ln(dn,mn,xn,Mn,Tn){const vn=Math.cos(dn),An=Math.sin(dn),Pn=xn/mn*dn,bn=Math.cos(Pn);Tn.x=Mn*(2+bn)*.5*vn,Tn.y=Mn*(2+bn)*An*.5,Tn.z=Mn*Math.sin(Pn)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusKnotGeometry(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class TubeGeometry extends BufferGeometry{constructor(e=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),$=64,ft=1,vt=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:$,radius:ft,radialSegments:vt,closed:s};const Tt=e.computeFrenetFrames($,s);this.tangents=Tt.tangents,this.normals=Tt.normals,this.binormals=Tt.binormals;const At=new Vector3,Rt=new Vector3,Dt=new Vector2;let Nt=new Vector3;const Wt=[],Ht=[],Kt=[],Ft=[];tn(),this.setIndex(Ft),this.setAttribute("position",new Float32BufferAttribute(Wt,3)),this.setAttribute("normal",new Float32BufferAttribute(Ht,3)),this.setAttribute("uv",new Float32BufferAttribute(Kt,2));function tn(){for(let dn=0;dn<$;dn++)cn(dn);cn(s===!1?$:0),ln(),fn()}function cn(dn){Nt=e.getPointAt(dn/$,Nt);const mn=Tt.normals[dn],xn=Tt.binormals[dn];for(let Mn=0;Mn<=vt;Mn++){const Tn=Mn/vt*Math.PI*2,vn=Math.sin(Tn),An=-Math.cos(Tn);Rt.x=An*mn.x+vn*xn.x,Rt.y=An*mn.y+vn*xn.y,Rt.z=An*mn.z+vn*xn.z,Rt.normalize(),Ht.push(Rt.x,Rt.y,Rt.z),At.x=Nt.x+ft*Rt.x,At.y=Nt.y+ft*Rt.y,At.z=Nt.z+ft*Rt.z,Wt.push(At.x,At.y,At.z)}}function fn(){for(let dn=1;dn<=$;dn++)for(let mn=1;mn<=vt;mn++){const xn=(vt+1)*(dn-1)+(mn-1),Mn=(vt+1)*dn+(mn-1),Tn=(vt+1)*dn+mn,vn=(vt+1)*(dn-1)+mn;Ft.push(xn,Mn,vn),Ft.push(Mn,Tn,vn)}}function ln(){for(let dn=0;dn<=$;dn++)for(let mn=0;mn<=vt;mn++)Dt.x=dn/$,Dt.y=mn/vt,Kt.push(Dt.x,Dt.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new TubeGeometry(new Curves[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class WireframeGeometry extends BufferGeometry{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const $=[],ft=new Set,vt=new Vector3,s=new Vector3;if(e.index!==null){const Tt=e.attributes.position,At=e.index;let Rt=e.groups;Rt.length===0&&(Rt=[{start:0,count:At.count,materialIndex:0}]);for(let Dt=0,Nt=Rt.length;Dt<Nt;++Dt){const Wt=Rt[Dt],Ht=Wt.start,Kt=Wt.count;for(let Ft=Ht,tn=Ht+Kt;Ft<tn;Ft+=3)for(let cn=0;cn<3;cn++){const fn=At.getX(Ft+cn),ln=At.getX(Ft+(cn+1)%3);vt.fromBufferAttribute(Tt,fn),s.fromBufferAttribute(Tt,ln),isUniqueEdge(vt,s,ft)===!0&&($.push(vt.x,vt.y,vt.z),$.push(s.x,s.y,s.z))}}}else{const Tt=e.attributes.position;for(let At=0,Rt=Tt.count/3;At<Rt;At++)for(let Dt=0;Dt<3;Dt++){const Nt=3*At+Dt,Wt=3*At+(Dt+1)%3;vt.fromBufferAttribute(Tt,Nt),s.fromBufferAttribute(Tt,Wt),isUniqueEdge(vt,s,ft)===!0&&($.push(vt.x,vt.y,vt.z),$.push(s.x,s.y,s.z))}}this.setAttribute("position",new Float32BufferAttribute($,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function isUniqueEdge(lt,e,$){const ft=`${lt.x},${lt.y},${lt.z}-${e.x},${e.y},${e.z}`,vt=`${e.x},${e.y},${e.z}-${lt.x},${lt.y},${lt.z}`;return $.has(ft)===!0||$.has(vt)===!0?!1:($.add(ft),$.add(vt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material$1{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material$1{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$1(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function($){this.ior=(1+.4*$)/(1-.4*$)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class MeshPhongMaterial extends Material$1{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshToonMaterial extends Material$1{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class MeshNormalMaterial extends Material$1{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class MeshLambertMaterial extends Material$1{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshMatcapMaterial extends Material$1{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function arraySlice(lt,e,$){return isTypedArray(lt)?new lt.constructor(lt.subarray(e,$!==void 0?$:lt.length)):lt.slice(e,$)}function convertArray(lt,e,$){return!lt||!$&&lt.constructor===e?lt:typeof e.BYTES_PER_ELEMENT=="number"?new e(lt):Array.prototype.slice.call(lt)}function isTypedArray(lt){return ArrayBuffer.isView(lt)&&!(lt instanceof DataView)}function getKeyframeOrder(lt){function e(vt,s){return lt[vt]-lt[s]}const $=lt.length,ft=new Array($);for(let vt=0;vt!==$;++vt)ft[vt]=vt;return ft.sort(e),ft}function sortedArray(lt,e,$){const ft=lt.length,vt=new lt.constructor(ft);for(let s=0,Tt=0;Tt!==ft;++s){const At=$[s]*e;for(let Rt=0;Rt!==e;++Rt)vt[Tt++]=lt[At+Rt]}return vt}function flattenJSON(lt,e,$,ft){let vt=1,s=lt[0];for(;s!==void 0&&s[ft]===void 0;)s=lt[vt++];if(s===void 0)return;let Tt=s[ft];if(Tt!==void 0)if(Array.isArray(Tt))do Tt=s[ft],Tt!==void 0&&(e.push(s.time),$.push.apply($,Tt)),s=lt[vt++];while(s!==void 0);else if(Tt.toArray!==void 0)do Tt=s[ft],Tt!==void 0&&(e.push(s.time),Tt.toArray($,$.length)),s=lt[vt++];while(s!==void 0);else do Tt=s[ft],Tt!==void 0&&(e.push(s.time),$.push(Tt)),s=lt[vt++];while(s!==void 0)}function subclip(lt,e,$,ft,vt=30){const s=lt.clone();s.name=e;const Tt=[];for(let Rt=0;Rt<s.tracks.length;++Rt){const Dt=s.tracks[Rt],Nt=Dt.getValueSize(),Wt=[],Ht=[];for(let Kt=0;Kt<Dt.times.length;++Kt){const Ft=Dt.times[Kt]*vt;if(!(Ft<$||Ft>=ft)){Wt.push(Dt.times[Kt]);for(let tn=0;tn<Nt;++tn)Ht.push(Dt.values[Kt*Nt+tn])}}Wt.length!==0&&(Dt.times=convertArray(Wt,Dt.times.constructor),Dt.values=convertArray(Ht,Dt.values.constructor),Tt.push(Dt))}s.tracks=Tt;let At=1/0;for(let Rt=0;Rt<s.tracks.length;++Rt)At>s.tracks[Rt].times[0]&&(At=s.tracks[Rt].times[0]);for(let Rt=0;Rt<s.tracks.length;++Rt)s.tracks[Rt].shift(-1*At);return s.resetDuration(),s}function makeClipAdditive(lt,e=0,$=lt,ft=30){ft<=0&&(ft=30);const vt=$.tracks.length,s=e/ft;for(let Tt=0;Tt<vt;++Tt){const At=$.tracks[Tt],Rt=At.ValueTypeName;if(Rt==="bool"||Rt==="string")continue;const Dt=lt.tracks.find(function(fn){return fn.name===At.name&&fn.ValueTypeName===Rt});if(Dt===void 0)continue;let Nt=0;const Wt=At.getValueSize();At.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Nt=Wt/3);let Ht=0;const Kt=Dt.getValueSize();Dt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Ht=Kt/3);const Ft=At.times.length-1;let tn;if(s<=At.times[0]){const fn=Nt,ln=Wt-Nt;tn=arraySlice(At.values,fn,ln)}else if(s>=At.times[Ft]){const fn=Ft*Wt+Nt,ln=fn+Wt-Nt;tn=arraySlice(At.values,fn,ln)}else{const fn=At.createInterpolant(),ln=Nt,dn=Wt-Nt;fn.evaluate(s),tn=arraySlice(fn.resultBuffer,ln,dn)}Rt==="quaternion"&&new Quaternion().fromArray(tn).normalize().conjugate().toArray(tn);const cn=Dt.times.length;for(let fn=0;fn<cn;++fn){const ln=fn*Kt+Ht;if(Rt==="quaternion")Quaternion.multiplyQuaternionsFlat(Dt.values,ln,tn,0,Dt.values,ln);else{const dn=Kt-Ht*2;for(let mn=0;mn<dn;++mn)Dt.values[ln+mn]-=tn[mn]}}}return lt.blendMode=AdditiveAnimationBlendMode,lt}const AnimationUtils={arraySlice,convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(e,$,ft,vt){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=vt!==void 0?vt:new $.constructor(ft),this.sampleValues=$,this.valueSize=ft,this.settings=null,this.DefaultSettings_={}}evaluate(e){const $=this.parameterPositions;let ft=this._cachedIndex,vt=$[ft],s=$[ft-1];e:{t:{let Tt;n:{r:if(!(e<vt)){for(let At=ft+2;;){if(vt===void 0){if(e<s)break r;return ft=$.length,this._cachedIndex=ft,this.copySampleValue_(ft-1)}if(ft===At)break;if(s=vt,vt=$[++ft],e<vt)break t}Tt=$.length;break n}if(!(e>=s)){const At=$[1];e<At&&(ft=2,s=At);for(let Rt=ft-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(ft===Rt)break;if(vt=s,s=$[--ft-1],e>=s)break t}Tt=ft,ft=0;break n}break e}for(;ft<Tt;){const At=ft+Tt>>>1;e<$[At]?Tt=At:ft=At+1}if(vt=$[ft],s=$[ft-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(vt===void 0)return ft=$.length,this._cachedIndex=ft,this.copySampleValue_(ft-1)}this._cachedIndex=ft,this.intervalChanged_(ft,s,vt)}return this.interpolate_(ft,s,e,vt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const $=this.resultBuffer,ft=this.sampleValues,vt=this.valueSize,s=e*vt;for(let Tt=0;Tt!==vt;++Tt)$[Tt]=ft[s+Tt];return $}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(e,$,ft,vt){super(e,$,ft,vt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(e,$,ft){const vt=this.parameterPositions;let s=e-2,Tt=e+1,At=vt[s],Rt=vt[Tt];if(At===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:s=e,At=2*$-ft;break;case WrapAroundEnding:s=vt.length-2,At=$+vt[s]-vt[s+1];break;default:s=e,At=ft}if(Rt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:Tt=e,Rt=2*ft-$;break;case WrapAroundEnding:Tt=1,Rt=ft+vt[1]-vt[0];break;default:Tt=e-1,Rt=$}const Dt=(ft-$)*.5,Nt=this.valueSize;this._weightPrev=Dt/($-At),this._weightNext=Dt/(Rt-ft),this._offsetPrev=s*Nt,this._offsetNext=Tt*Nt}interpolate_(e,$,ft,vt){const s=this.resultBuffer,Tt=this.sampleValues,At=this.valueSize,Rt=e*At,Dt=Rt-At,Nt=this._offsetPrev,Wt=this._offsetNext,Ht=this._weightPrev,Kt=this._weightNext,Ft=(ft-$)/(vt-$),tn=Ft*Ft,cn=tn*Ft,fn=-Ht*cn+2*Ht*tn-Ht*Ft,ln=(1+Ht)*cn+(-1.5-2*Ht)*tn+(-.5+Ht)*Ft+1,dn=(-1-Kt)*cn+(1.5+Kt)*tn+.5*Ft,mn=Kt*cn-Kt*tn;for(let xn=0;xn!==At;++xn)s[xn]=fn*Tt[Nt+xn]+ln*Tt[Dt+xn]+dn*Tt[Rt+xn]+mn*Tt[Wt+xn];return s}}class LinearInterpolant extends Interpolant{constructor(e,$,ft,vt){super(e,$,ft,vt)}interpolate_(e,$,ft,vt){const s=this.resultBuffer,Tt=this.sampleValues,At=this.valueSize,Rt=e*At,Dt=Rt-At,Nt=(ft-$)/(vt-$),Wt=1-Nt;for(let Ht=0;Ht!==At;++Ht)s[Ht]=Tt[Dt+Ht]*Wt+Tt[Rt+Ht]*Nt;return s}}class DiscreteInterpolant extends Interpolant{constructor(e,$,ft,vt){super(e,$,ft,vt)}interpolate_(e){return this.copySampleValue_(e-1)}}class KeyframeTrack{constructor(e,$,ft,vt){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if($===void 0||$.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=convertArray($,this.TimeBufferType),this.values=convertArray(ft,this.ValueBufferType),this.setInterpolation(vt||this.DefaultInterpolation)}static toJSON(e){const $=e.constructor;let ft;if($.toJSON!==this.toJSON)ft=$.toJSON(e);else{ft={name:e.name,times:convertArray(e.times,Array),values:convertArray(e.values,Array)};const vt=e.getInterpolation();vt!==e.DefaultInterpolation&&(ft.interpolation=vt)}return ft.type=e.ValueTypeName,ft}InterpolantFactoryMethodDiscrete(e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let $;switch(e){case InterpolateDiscrete:$=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:$=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:$=this.InterpolantFactoryMethodSmooth;break}if($===void 0){const ft="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(ft);return console.warn("THREE.KeyframeTrack:",ft),this}return this.createInterpolant=$,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const $=this.times;for(let ft=0,vt=$.length;ft!==vt;++ft)$[ft]+=e}return this}scale(e){if(e!==1){const $=this.times;for(let ft=0,vt=$.length;ft!==vt;++ft)$[ft]*=e}return this}trim(e,$){const ft=this.times,vt=ft.length;let s=0,Tt=vt-1;for(;s!==vt&&ft[s]<e;)++s;for(;Tt!==-1&&ft[Tt]>$;)--Tt;if(++Tt,s!==0||Tt!==vt){s>=Tt&&(Tt=Math.max(Tt,1),s=Tt-1);const At=this.getValueSize();this.times=arraySlice(ft,s,Tt),this.values=arraySlice(this.values,s*At,Tt*At)}return this}validate(){let e=!0;const $=this.getValueSize();$-Math.floor($)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const ft=this.times,vt=this.values,s=ft.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let Tt=null;for(let At=0;At!==s;At++){const Rt=ft[At];if(typeof Rt=="number"&&isNaN(Rt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,At,Rt),e=!1;break}if(Tt!==null&&Tt>Rt){console.error("THREE.KeyframeTrack: Out of order keys.",this,At,Rt,Tt),e=!1;break}Tt=Rt}if(vt!==void 0&&isTypedArray(vt))for(let At=0,Rt=vt.length;At!==Rt;++At){const Dt=vt[At];if(isNaN(Dt)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,At,Dt),e=!1;break}}return e}optimize(){const e=arraySlice(this.times),$=arraySlice(this.values),ft=this.getValueSize(),vt=this.getInterpolation()===InterpolateSmooth,s=e.length-1;let Tt=1;for(let At=1;At<s;++At){let Rt=!1;const Dt=e[At],Nt=e[At+1];if(Dt!==Nt&&(At!==1||Dt!==e[0]))if(vt)Rt=!0;else{const Wt=At*ft,Ht=Wt-ft,Kt=Wt+ft;for(let Ft=0;Ft!==ft;++Ft){const tn=$[Wt+Ft];if(tn!==$[Ht+Ft]||tn!==$[Kt+Ft]){Rt=!0;break}}}if(Rt){if(At!==Tt){e[Tt]=e[At];const Wt=At*ft,Ht=Tt*ft;for(let Kt=0;Kt!==ft;++Kt)$[Ht+Kt]=$[Wt+Kt]}++Tt}}if(s>0){e[Tt]=e[s];for(let At=s*ft,Rt=Tt*ft,Dt=0;Dt!==ft;++Dt)$[Rt+Dt]=$[At+Dt];++Tt}return Tt!==e.length?(this.times=arraySlice(e,0,Tt),this.values=arraySlice($,0,Tt*ft)):(this.times=e,this.values=$),this}clone(){const e=arraySlice(this.times,0),$=arraySlice(this.values,0),ft=this.constructor,vt=new ft(this.name,e,$);return vt.createInterpolant=this.createInterpolant,vt}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(e,$,ft,vt){super(e,$,ft,vt)}interpolate_(e,$,ft,vt){const s=this.resultBuffer,Tt=this.sampleValues,At=this.valueSize,Rt=(ft-$)/(vt-$);let Dt=e*At;for(let Nt=Dt+At;Dt!==Nt;Dt+=4)Quaternion.slerpFlat(s,0,Tt,Dt-At,Tt,Dt,Rt);return s}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(e,$=-1,ft,vt=NormalAnimationBlendMode){this.name=e,this.tracks=ft,this.duration=$,this.blendMode=vt,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(e){const $=[],ft=e.tracks,vt=1/(e.fps||1);for(let Tt=0,At=ft.length;Tt!==At;++Tt)$.push(parseKeyframeTrack(ft[Tt]).scale(vt));const s=new this(e.name,e.duration,$,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const $=[],ft=e.tracks,vt={name:e.name,duration:e.duration,tracks:$,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,Tt=ft.length;s!==Tt;++s)$.push(KeyframeTrack.toJSON(ft[s]));return vt}static CreateFromMorphTargetSequence(e,$,ft,vt){const s=$.length,Tt=[];for(let At=0;At<s;At++){let Rt=[],Dt=[];Rt.push((At+s-1)%s,At,(At+1)%s),Dt.push(0,1,0);const Nt=getKeyframeOrder(Rt);Rt=sortedArray(Rt,1,Nt),Dt=sortedArray(Dt,1,Nt),!vt&&Rt[0]===0&&(Rt.push(s),Dt.push(Dt[0])),Tt.push(new NumberKeyframeTrack(".morphTargetInfluences["+$[At].name+"]",Rt,Dt).scale(1/ft))}return new this(e,-1,Tt)}static findByName(e,$){let ft=e;if(!Array.isArray(e)){const vt=e;ft=vt.geometry&&vt.geometry.animations||vt.animations}for(let vt=0;vt<ft.length;vt++)if(ft[vt].name===$)return ft[vt];return null}static CreateClipsFromMorphTargetSequences(e,$,ft){const vt={},s=/^([\w-]*?)([\d]+)$/;for(let At=0,Rt=e.length;At<Rt;At++){const Dt=e[At],Nt=Dt.name.match(s);if(Nt&&Nt.length>1){const Wt=Nt[1];let Ht=vt[Wt];Ht||(vt[Wt]=Ht=[]),Ht.push(Dt)}}const Tt=[];for(const At in vt)Tt.push(this.CreateFromMorphTargetSequence(At,vt[At],$,ft));return Tt}static parseAnimation(e,$){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const ft=function(Wt,Ht,Kt,Ft,tn){if(Kt.length!==0){const cn=[],fn=[];flattenJSON(Kt,cn,fn,Ft),cn.length!==0&&tn.push(new Wt(Ht,cn,fn))}},vt=[],s=e.name||"default",Tt=e.fps||30,At=e.blendMode;let Rt=e.length||-1;const Dt=e.hierarchy||[];for(let Wt=0;Wt<Dt.length;Wt++){const Ht=Dt[Wt].keys;if(!(!Ht||Ht.length===0))if(Ht[0].morphTargets){const Kt={};let Ft;for(Ft=0;Ft<Ht.length;Ft++)if(Ht[Ft].morphTargets)for(let tn=0;tn<Ht[Ft].morphTargets.length;tn++)Kt[Ht[Ft].morphTargets[tn]]=-1;for(const tn in Kt){const cn=[],fn=[];for(let ln=0;ln!==Ht[Ft].morphTargets.length;++ln){const dn=Ht[Ft];cn.push(dn.time),fn.push(dn.morphTarget===tn?1:0)}vt.push(new NumberKeyframeTrack(".morphTargetInfluence["+tn+"]",cn,fn))}Rt=Kt.length*Tt}else{const Kt=".bones["+$[Wt].name+"]";ft(VectorKeyframeTrack,Kt+".position",Ht,"pos",vt),ft(QuaternionKeyframeTrack,Kt+".quaternion",Ht,"rot",vt),ft(VectorKeyframeTrack,Kt+".scale",Ht,"scl",vt)}}return vt.length===0?null:new this(s,Rt,vt,At)}resetDuration(){const e=this.tracks;let $=0;for(let ft=0,vt=e.length;ft!==vt;++ft){const s=this.tracks[ft];$=Math.max($,s.times[s.times.length-1])}return this.duration=$,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let $=0;$<this.tracks.length;$++)e=e&&this.tracks[$].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let $=0;$<this.tracks.length;$++)e.push(this.tracks[$].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(lt){switch(lt.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+lt)}function parseKeyframeTrack(lt){if(lt.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=getTrackTypeForValueTypeName(lt.type);if(lt.times===void 0){const $=[],ft=[];flattenJSON(lt.keys,$,ft,"value"),lt.times=$,lt.values=ft}return e.parse!==void 0?e.parse(lt):new e(lt.name,lt.times,lt.values,lt.interpolation)}const Cache={enabled:!1,files:{},add:function(lt,e){this.enabled!==!1&&(this.files[lt]=e)},get:function(lt){if(this.enabled!==!1)return this.files[lt]},remove:function(lt){delete this.files[lt]},clear:function(){this.files={}}};class LoadingManager{constructor(e,$,ft){const vt=this;let s=!1,Tt=0,At=0,Rt;const Dt=[];this.onStart=void 0,this.onLoad=e,this.onProgress=$,this.onError=ft,this.itemStart=function(Nt){At++,s===!1&&vt.onStart!==void 0&&vt.onStart(Nt,Tt,At),s=!0},this.itemEnd=function(Nt){Tt++,vt.onProgress!==void 0&&vt.onProgress(Nt,Tt,At),Tt===At&&(s=!1,vt.onLoad!==void 0&&vt.onLoad())},this.itemError=function(Nt){vt.onError!==void 0&&vt.onError(Nt)},this.resolveURL=function(Nt){return Rt?Rt(Nt):Nt},this.setURLModifier=function(Nt){return Rt=Nt,this},this.addHandler=function(Nt,Wt){return Dt.push(Nt,Wt),this},this.removeHandler=function(Nt){const Wt=Dt.indexOf(Nt);return Wt!==-1&&Dt.splice(Wt,2),this},this.getHandler=function(Nt){for(let Wt=0,Ht=Dt.length;Wt<Ht;Wt+=2){const Kt=Dt[Wt],Ft=Dt[Wt+1];if(Kt.global&&(Kt.lastIndex=0),Kt.test(Nt))return Ft}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(e){this.manager=e!==void 0?e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,$){const ft=this;return new Promise(function(vt,s){ft.load(e,vt,$,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const loading={};class HttpError extends Error{constructor(e,$){super(e),this.response=$}}class FileLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Cache.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{$&&$(s),this.manager.itemEnd(e)},0),s;if(loading[e]!==void 0){loading[e].push({onLoad:$,onProgress:ft,onError:vt});return}loading[e]=[],loading[e].push({onLoad:$,onProgress:ft,onError:vt});const Tt=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),At=this.mimeType,Rt=this.responseType;fetch(Tt).then(Dt=>{if(Dt.status===200||Dt.status===0){if(Dt.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||Dt.body===void 0||Dt.body.getReader===void 0)return Dt;const Nt=loading[e],Wt=Dt.body.getReader(),Ht=Dt.headers.get("Content-Length")||Dt.headers.get("X-File-Size"),Kt=Ht?parseInt(Ht):0,Ft=Kt!==0;let tn=0;const cn=new ReadableStream({start(fn){ln();function ln(){Wt.read().then(({done:dn,value:mn})=>{if(dn)fn.close();else{tn+=mn.byteLength;const xn=new ProgressEvent("progress",{lengthComputable:Ft,loaded:tn,total:Kt});for(let Mn=0,Tn=Nt.length;Mn<Tn;Mn++){const vn=Nt[Mn];vn.onProgress&&vn.onProgress(xn)}fn.enqueue(mn),ln()}})}}});return new Response(cn)}else throw new HttpError(`fetch for "${Dt.url}" responded with ${Dt.status}: ${Dt.statusText}`,Dt)}).then(Dt=>{switch(Rt){case"arraybuffer":return Dt.arrayBuffer();case"blob":return Dt.blob();case"document":return Dt.text().then(Nt=>new DOMParser().parseFromString(Nt,At));case"json":return Dt.json();default:if(At===void 0)return Dt.text();{const Wt=/charset="?([^;"\s]*)"?/i.exec(At),Ht=Wt&&Wt[1]?Wt[1].toLowerCase():void 0,Kt=new TextDecoder(Ht);return Dt.arrayBuffer().then(Ft=>Kt.decode(Ft))}}}).then(Dt=>{Cache.add(e,Dt);const Nt=loading[e];delete loading[e];for(let Wt=0,Ht=Nt.length;Wt<Ht;Wt++){const Kt=Nt[Wt];Kt.onLoad&&Kt.onLoad(Dt)}}).catch(Dt=>{const Nt=loading[e];if(Nt===void 0)throw this.manager.itemError(e),Dt;delete loading[e];for(let Wt=0,Ht=Nt.length;Wt<Ht;Wt++){const Kt=Nt[Wt];Kt.onError&&Kt.onError(Dt)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class AnimationLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){const s=this,Tt=new FileLoader(this.manager);Tt.setPath(this.path),Tt.setRequestHeader(this.requestHeader),Tt.setWithCredentials(this.withCredentials),Tt.load(e,function(At){try{$(s.parse(JSON.parse(At)))}catch(Rt){vt?vt(Rt):console.error(Rt),s.manager.itemError(e)}},ft,vt)}parse(e){const $=[];for(let ft=0;ft<e.length;ft++){const vt=AnimationClip.parse(e[ft]);$.push(vt)}return $}}class CompressedTextureLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){const s=this,Tt=[],At=new CompressedTexture,Rt=new FileLoader(this.manager);Rt.setPath(this.path),Rt.setResponseType("arraybuffer"),Rt.setRequestHeader(this.requestHeader),Rt.setWithCredentials(s.withCredentials);let Dt=0;function Nt(Wt){Rt.load(e[Wt],function(Ht){const Kt=s.parse(Ht,!0);Tt[Wt]={width:Kt.width,height:Kt.height,format:Kt.format,mipmaps:Kt.mipmaps},Dt+=1,Dt===6&&(Kt.mipmapCount===1&&(At.minFilter=LinearFilter),At.image=Tt,At.format=Kt.format,At.needsUpdate=!0,$&&$(At))},ft,vt)}if(Array.isArray(e))for(let Wt=0,Ht=e.length;Wt<Ht;++Wt)Nt(Wt);else Rt.load(e,function(Wt){const Ht=s.parse(Wt,!0);if(Ht.isCubemap){const Kt=Ht.mipmaps.length/Ht.mipmapCount;for(let Ft=0;Ft<Kt;Ft++){Tt[Ft]={mipmaps:[]};for(let tn=0;tn<Ht.mipmapCount;tn++)Tt[Ft].mipmaps.push(Ht.mipmaps[Ft*Ht.mipmapCount+tn]),Tt[Ft].format=Ht.format,Tt[Ft].width=Ht.width,Tt[Ft].height=Ht.height}At.image=Tt}else At.image.width=Ht.width,At.image.height=Ht.height,At.mipmaps=Ht.mipmaps;Ht.mipmapCount===1&&(At.minFilter=LinearFilter),At.format=Ht.format,At.needsUpdate=!0,$&&$(At)},ft,vt);return At}}class ImageLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,Tt=Cache.get(e);if(Tt!==void 0)return s.manager.itemStart(e),setTimeout(function(){$&&$(Tt),s.manager.itemEnd(e)},0),Tt;const At=createElementNS$1("img");function Rt(){Nt(),Cache.add(e,this),$&&$(this),s.manager.itemEnd(e)}function Dt(Wt){Nt(),vt&&vt(Wt),s.manager.itemError(e),s.manager.itemEnd(e)}function Nt(){At.removeEventListener("load",Rt,!1),At.removeEventListener("error",Dt,!1)}return At.addEventListener("load",Rt,!1),At.addEventListener("error",Dt,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(At.crossOrigin=this.crossOrigin),s.manager.itemStart(e),At.src=e,At}}class CubeTextureLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){const s=new CubeTexture,Tt=new ImageLoader(this.manager);Tt.setCrossOrigin(this.crossOrigin),Tt.setPath(this.path);let At=0;function Rt(Dt){Tt.load(e[Dt],function(Nt){s.images[Dt]=Nt,At++,At===6&&(s.needsUpdate=!0,$&&$(s))},void 0,vt)}for(let Dt=0;Dt<e.length;++Dt)Rt(Dt);return s}}class DataTextureLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){const s=this,Tt=new DataTexture,At=new FileLoader(this.manager);return At.setResponseType("arraybuffer"),At.setRequestHeader(this.requestHeader),At.setPath(this.path),At.setWithCredentials(s.withCredentials),At.load(e,function(Rt){const Dt=s.parse(Rt);Dt&&(Dt.image!==void 0?Tt.image=Dt.image:Dt.data!==void 0&&(Tt.image.width=Dt.width,Tt.image.height=Dt.height,Tt.image.data=Dt.data),Tt.wrapS=Dt.wrapS!==void 0?Dt.wrapS:ClampToEdgeWrapping,Tt.wrapT=Dt.wrapT!==void 0?Dt.wrapT:ClampToEdgeWrapping,Tt.magFilter=Dt.magFilter!==void 0?Dt.magFilter:LinearFilter,Tt.minFilter=Dt.minFilter!==void 0?Dt.minFilter:LinearFilter,Tt.anisotropy=Dt.anisotropy!==void 0?Dt.anisotropy:1,Dt.encoding!==void 0&&(Tt.encoding=Dt.encoding),Dt.flipY!==void 0&&(Tt.flipY=Dt.flipY),Dt.format!==void 0&&(Tt.format=Dt.format),Dt.type!==void 0&&(Tt.type=Dt.type),Dt.mipmaps!==void 0&&(Tt.mipmaps=Dt.mipmaps,Tt.minFilter=LinearMipmapLinearFilter),Dt.mipmapCount===1&&(Tt.minFilter=LinearFilter),Dt.generateMipmaps!==void 0&&(Tt.generateMipmaps=Dt.generateMipmaps),Tt.needsUpdate=!0,$&&$(Tt,Dt))},ft,vt),Tt}}class TextureLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){const s=new Texture,Tt=new ImageLoader(this.manager);return Tt.setCrossOrigin(this.crossOrigin),Tt.setPath(this.path),Tt.load(e,function(At){s.image=At,s.needsUpdate=!0,$!==void 0&&$(s)},ft,vt),s}}class Light extends Object3D{constructor(e,$=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(e),this.intensity=$}dispose(){}copy(e,$){return super.copy(e,$),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const $=super.toJSON(e);return $.object.color=this.color.getHex(),$.object.intensity=this.intensity,this.groundColor!==void 0&&($.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&($.object.distance=this.distance),this.angle!==void 0&&($.object.angle=this.angle),this.decay!==void 0&&($.object.decay=this.decay),this.penumbra!==void 0&&($.object.penumbra=this.penumbra),this.shadow!==void 0&&($.object.shadow=this.shadow.toJSON()),$}}class HemisphereLight extends Light{constructor(e,$,ft){super(e,ft),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color($)}copy(e,$){return super.copy(e,$),this.groundColor.copy(e.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const $=this.camera,ft=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(e.matrixWorld),$.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(e.target.matrixWorld),$.lookAt(_lookTarget$1),$.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices($.projectionMatrix,$.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),ft.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),ft.multiply(_projScreenMatrix$1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const $=this.camera,ft=RAD2DEG*2*e.angle*this.focus,vt=this.mapSize.width/this.mapSize.height,s=e.distance||$.far;(ft!==$.fov||vt!==$.aspect||s!==$.far)&&($.fov=ft,$.aspect=vt,$.far=s,$.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class SpotLight extends Light{constructor(e,$,ft=0,vt=Math.PI/3,s=0,Tt=2){super(e,$),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=ft,this.angle=vt,this.penumbra=s,this.decay=Tt,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,$){return super.copy(e,$),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(e,$=0){const ft=this.camera,vt=this.matrix,s=e.distance||ft.far;s!==ft.far&&(ft.far=s,ft.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(e.matrixWorld),ft.position.copy(_lightPositionWorld),_lookTarget.copy(ft.position),_lookTarget.add(this._cubeDirections[$]),ft.up.copy(this._cubeUps[$]),ft.lookAt(_lookTarget),ft.updateMatrixWorld(),vt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(ft.projectionMatrix,ft.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(e,$,ft=0,vt=2){super(e,$),this.isPointLight=!0,this.type="PointLight",this.distance=ft,this.decay=vt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,$){return super.copy(e,$),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera$1(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(e,$){super(e,$),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AmbientLight extends Light{constructor(e,$){super(e,$),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(e,$,ft=10,vt=10){super(e,$),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=ft,this.height=vt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const $=super.toJSON(e);return $.object.width=this.width,$.object.height=this.height,$}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Vector3)}set(e){for(let $=0;$<9;$++)this.coefficients[$].copy(e[$]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,$){const ft=e.x,vt=e.y,s=e.z,Tt=this.coefficients;return $.copy(Tt[0]).multiplyScalar(.282095),$.addScaledVector(Tt[1],.488603*vt),$.addScaledVector(Tt[2],.488603*s),$.addScaledVector(Tt[3],.488603*ft),$.addScaledVector(Tt[4],1.092548*(ft*vt)),$.addScaledVector(Tt[5],1.092548*(vt*s)),$.addScaledVector(Tt[6],.315392*(3*s*s-1)),$.addScaledVector(Tt[7],1.092548*(ft*s)),$.addScaledVector(Tt[8],.546274*(ft*ft-vt*vt)),$}getIrradianceAt(e,$){const ft=e.x,vt=e.y,s=e.z,Tt=this.coefficients;return $.copy(Tt[0]).multiplyScalar(.886227),$.addScaledVector(Tt[1],2*.511664*vt),$.addScaledVector(Tt[2],2*.511664*s),$.addScaledVector(Tt[3],2*.511664*ft),$.addScaledVector(Tt[4],2*.429043*ft*vt),$.addScaledVector(Tt[5],2*.429043*vt*s),$.addScaledVector(Tt[6],.743125*s*s-.247708),$.addScaledVector(Tt[7],2*.429043*ft*s),$.addScaledVector(Tt[8],.429043*(ft*ft-vt*vt)),$}add(e){for(let $=0;$<9;$++)this.coefficients[$].add(e.coefficients[$]);return this}addScaledSH(e,$){for(let ft=0;ft<9;ft++)this.coefficients[ft].addScaledVector(e.coefficients[ft],$);return this}scale(e){for(let $=0;$<9;$++)this.coefficients[$].multiplyScalar(e);return this}lerp(e,$){for(let ft=0;ft<9;ft++)this.coefficients[ft].lerp(e.coefficients[ft],$);return this}equals(e){for(let $=0;$<9;$++)if(!this.coefficients[$].equals(e.coefficients[$]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,$=0){const ft=this.coefficients;for(let vt=0;vt<9;vt++)ft[vt].fromArray(e,$+vt*3);return this}toArray(e=[],$=0){const ft=this.coefficients;for(let vt=0;vt<9;vt++)ft[vt].toArray(e,$+vt*3);return e}static getBasisAt(e,$){const ft=e.x,vt=e.y,s=e.z;$[0]=.282095,$[1]=.488603*vt,$[2]=.488603*s,$[3]=.488603*ft,$[4]=1.092548*ft*vt,$[5]=1.092548*vt*s,$[6]=.315392*(3*s*s-1),$[7]=1.092548*ft*s,$[8]=.546274*(ft*ft-vt*vt)}}class LightProbe extends Light{constructor(e=new SphericalHarmonics3,$=1){super(void 0,$),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const $=super.toJSON(e);return $.object.sh=this.sh.toArray(),$}}class MaterialLoader extends Loader{constructor(e){super(e),this.textures={}}load(e,$,ft,vt){const s=this,Tt=new FileLoader(s.manager);Tt.setPath(s.path),Tt.setRequestHeader(s.requestHeader),Tt.setWithCredentials(s.withCredentials),Tt.load(e,function(At){try{$(s.parse(JSON.parse(At)))}catch(Rt){vt?vt(Rt):console.error(Rt),s.manager.itemError(e)}},ft,vt)}parse(e){const $=this.textures;function ft(s){return $[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),$[s]}const vt=MaterialLoader.createMaterialFromType(e.type);if(e.uuid!==void 0&&(vt.uuid=e.uuid),e.name!==void 0&&(vt.name=e.name),e.color!==void 0&&vt.color!==void 0&&vt.color.setHex(e.color),e.roughness!==void 0&&(vt.roughness=e.roughness),e.metalness!==void 0&&(vt.metalness=e.metalness),e.sheen!==void 0&&(vt.sheen=e.sheen),e.sheenColor!==void 0&&(vt.sheenColor=new Color().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(vt.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&vt.emissive!==void 0&&vt.emissive.setHex(e.emissive),e.specular!==void 0&&vt.specular!==void 0&&vt.specular.setHex(e.specular),e.specularIntensity!==void 0&&(vt.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&vt.specularColor!==void 0&&vt.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(vt.shininess=e.shininess),e.clearcoat!==void 0&&(vt.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(vt.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(vt.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(vt.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(vt.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(vt.transmission=e.transmission),e.thickness!==void 0&&(vt.thickness=e.thickness),e.attenuationDistance!==void 0&&(vt.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&vt.attenuationColor!==void 0&&vt.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(vt.fog=e.fog),e.flatShading!==void 0&&(vt.flatShading=e.flatShading),e.blending!==void 0&&(vt.blending=e.blending),e.combine!==void 0&&(vt.combine=e.combine),e.side!==void 0&&(vt.side=e.side),e.shadowSide!==void 0&&(vt.shadowSide=e.shadowSide),e.opacity!==void 0&&(vt.opacity=e.opacity),e.transparent!==void 0&&(vt.transparent=e.transparent),e.alphaTest!==void 0&&(vt.alphaTest=e.alphaTest),e.depthTest!==void 0&&(vt.depthTest=e.depthTest),e.depthWrite!==void 0&&(vt.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(vt.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(vt.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(vt.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(vt.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(vt.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(vt.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(vt.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(vt.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(vt.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(vt.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(vt.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(vt.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(vt.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(vt.rotation=e.rotation),e.linewidth!==1&&(vt.linewidth=e.linewidth),e.dashSize!==void 0&&(vt.dashSize=e.dashSize),e.gapSize!==void 0&&(vt.gapSize=e.gapSize),e.scale!==void 0&&(vt.scale=e.scale),e.polygonOffset!==void 0&&(vt.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(vt.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(vt.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(vt.dithering=e.dithering),e.alphaToCoverage!==void 0&&(vt.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(vt.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(vt.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(vt.visible=e.visible),e.toneMapped!==void 0&&(vt.toneMapped=e.toneMapped),e.userData!==void 0&&(vt.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?vt.vertexColors=e.vertexColors>0:vt.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const Tt=e.uniforms[s];switch(vt.uniforms[s]={},Tt.type){case"t":vt.uniforms[s].value=ft(Tt.value);break;case"c":vt.uniforms[s].value=new Color().setHex(Tt.value);break;case"v2":vt.uniforms[s].value=new Vector2().fromArray(Tt.value);break;case"v3":vt.uniforms[s].value=new Vector3().fromArray(Tt.value);break;case"v4":vt.uniforms[s].value=new Vector4().fromArray(Tt.value);break;case"m3":vt.uniforms[s].value=new Matrix3().fromArray(Tt.value);break;case"m4":vt.uniforms[s].value=new Matrix4().fromArray(Tt.value);break;default:vt.uniforms[s].value=Tt.value}}if(e.defines!==void 0&&(vt.defines=e.defines),e.vertexShader!==void 0&&(vt.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(vt.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(vt.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)vt.extensions[s]=e.extensions[s];if(e.size!==void 0&&(vt.size=e.size),e.sizeAttenuation!==void 0&&(vt.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(vt.map=ft(e.map)),e.matcap!==void 0&&(vt.matcap=ft(e.matcap)),e.alphaMap!==void 0&&(vt.alphaMap=ft(e.alphaMap)),e.bumpMap!==void 0&&(vt.bumpMap=ft(e.bumpMap)),e.bumpScale!==void 0&&(vt.bumpScale=e.bumpScale),e.normalMap!==void 0&&(vt.normalMap=ft(e.normalMap)),e.normalMapType!==void 0&&(vt.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),vt.normalScale=new Vector2().fromArray(s)}return e.displacementMap!==void 0&&(vt.displacementMap=ft(e.displacementMap)),e.displacementScale!==void 0&&(vt.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(vt.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(vt.roughnessMap=ft(e.roughnessMap)),e.metalnessMap!==void 0&&(vt.metalnessMap=ft(e.metalnessMap)),e.emissiveMap!==void 0&&(vt.emissiveMap=ft(e.emissiveMap)),e.emissiveIntensity!==void 0&&(vt.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(vt.specularMap=ft(e.specularMap)),e.specularIntensityMap!==void 0&&(vt.specularIntensityMap=ft(e.specularIntensityMap)),e.specularColorMap!==void 0&&(vt.specularColorMap=ft(e.specularColorMap)),e.envMap!==void 0&&(vt.envMap=ft(e.envMap)),e.envMapIntensity!==void 0&&(vt.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(vt.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(vt.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(vt.lightMap=ft(e.lightMap)),e.lightMapIntensity!==void 0&&(vt.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(vt.aoMap=ft(e.aoMap)),e.aoMapIntensity!==void 0&&(vt.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(vt.gradientMap=ft(e.gradientMap)),e.clearcoatMap!==void 0&&(vt.clearcoatMap=ft(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(vt.clearcoatRoughnessMap=ft(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(vt.clearcoatNormalMap=ft(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(vt.clearcoatNormalScale=new Vector2().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(vt.iridescenceMap=ft(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(vt.iridescenceThicknessMap=ft(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(vt.transmissionMap=ft(e.transmissionMap)),e.thicknessMap!==void 0&&(vt.thicknessMap=ft(e.thicknessMap)),e.sheenColorMap!==void 0&&(vt.sheenColorMap=ft(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(vt.sheenRoughnessMap=ft(e.sheenRoughnessMap)),vt}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const $={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material:Material$1};return new $[e]}}class LoaderUtils{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let $="";for(let ft=0,vt=e.length;ft<vt;ft++)$+=String.fromCharCode(e[ft]);try{return decodeURIComponent(escape($))}catch{return $}}static extractUrlBase(e){const $=e.lastIndexOf("/");return $===-1?"./":e.slice(0,$+1)}static resolveURL(e,$){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test($)&&/^\//.test(e)&&($=$.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:$+e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class BufferGeometryLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){const s=this,Tt=new FileLoader(s.manager);Tt.setPath(s.path),Tt.setRequestHeader(s.requestHeader),Tt.setWithCredentials(s.withCredentials),Tt.load(e,function(At){try{$(s.parse(JSON.parse(At)))}catch(Rt){vt?vt(Rt):console.error(Rt),s.manager.itemError(e)}},ft,vt)}parse(e){const $={},ft={};function vt(Kt,Ft){if($[Ft]!==void 0)return $[Ft];const cn=Kt.interleavedBuffers[Ft],fn=s(Kt,cn.buffer),ln=getTypedArray(cn.type,fn),dn=new InterleavedBuffer(ln,cn.stride);return dn.uuid=cn.uuid,$[Ft]=dn,dn}function s(Kt,Ft){if(ft[Ft]!==void 0)return ft[Ft];const cn=Kt.arrayBuffers[Ft],fn=new Uint32Array(cn).buffer;return ft[Ft]=fn,fn}const Tt=e.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,At=e.data.index;if(At!==void 0){const Kt=getTypedArray(At.type,At.array);Tt.setIndex(new BufferAttribute(Kt,1))}const Rt=e.data.attributes;for(const Kt in Rt){const Ft=Rt[Kt];let tn;if(Ft.isInterleavedBufferAttribute){const cn=vt(e.data,Ft.data);tn=new InterleavedBufferAttribute(cn,Ft.itemSize,Ft.offset,Ft.normalized)}else{const cn=getTypedArray(Ft.type,Ft.array),fn=Ft.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;tn=new fn(cn,Ft.itemSize,Ft.normalized)}Ft.name!==void 0&&(tn.name=Ft.name),Ft.usage!==void 0&&tn.setUsage(Ft.usage),Ft.updateRange!==void 0&&(tn.updateRange.offset=Ft.updateRange.offset,tn.updateRange.count=Ft.updateRange.count),Tt.setAttribute(Kt,tn)}const Dt=e.data.morphAttributes;if(Dt)for(const Kt in Dt){const Ft=Dt[Kt],tn=[];for(let cn=0,fn=Ft.length;cn<fn;cn++){const ln=Ft[cn];let dn;if(ln.isInterleavedBufferAttribute){const mn=vt(e.data,ln.data);dn=new InterleavedBufferAttribute(mn,ln.itemSize,ln.offset,ln.normalized)}else{const mn=getTypedArray(ln.type,ln.array);dn=new BufferAttribute(mn,ln.itemSize,ln.normalized)}ln.name!==void 0&&(dn.name=ln.name),tn.push(dn)}Tt.morphAttributes[Kt]=tn}e.data.morphTargetsRelative&&(Tt.morphTargetsRelative=!0);const Wt=e.data.groups||e.data.drawcalls||e.data.offsets;if(Wt!==void 0)for(let Kt=0,Ft=Wt.length;Kt!==Ft;++Kt){const tn=Wt[Kt];Tt.addGroup(tn.start,tn.count,tn.materialIndex)}const Ht=e.data.boundingSphere;if(Ht!==void 0){const Kt=new Vector3;Ht.center!==void 0&&Kt.fromArray(Ht.center),Tt.boundingSphere=new Sphere(Kt,Ht.radius)}return e.name&&(Tt.name=e.name),e.userData&&(Tt.userData=e.userData),Tt}}class ObjectLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){const s=this,Tt=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||Tt;const At=new FileLoader(this.manager);At.setPath(this.path),At.setRequestHeader(this.requestHeader),At.setWithCredentials(this.withCredentials),At.load(e,function(Rt){let Dt=null;try{Dt=JSON.parse(Rt)}catch(Wt){vt!==void 0&&vt(Wt),console.error("THREE:ObjectLoader: Can't parse "+e+".",Wt.message);return}const Nt=Dt.metadata;if(Nt===void 0||Nt.type===void 0||Nt.type.toLowerCase()==="geometry"){vt!==void 0&&vt(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(Dt,$)},ft,vt)}async loadAsync(e,$){const ft=this,vt=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||vt;const s=new FileLoader(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const Tt=await s.loadAsync(e,$),At=JSON.parse(Tt),Rt=At.metadata;if(Rt===void 0||Rt.type===void 0||Rt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await ft.parseAsync(At)}parse(e,$){const ft=this.parseAnimations(e.animations),vt=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,vt),Tt=this.parseImages(e.images,function(){$!==void 0&&$(Dt)}),At=this.parseTextures(e.textures,Tt),Rt=this.parseMaterials(e.materials,At),Dt=this.parseObject(e.object,s,Rt,At,ft),Nt=this.parseSkeletons(e.skeletons,Dt);if(this.bindSkeletons(Dt,Nt),$!==void 0){let Wt=!1;for(const Ht in Tt)if(Tt[Ht].data instanceof HTMLImageElement){Wt=!0;break}Wt===!1&&$(Dt)}return Dt}async parseAsync(e){const $=this.parseAnimations(e.animations),ft=this.parseShapes(e.shapes),vt=this.parseGeometries(e.geometries,ft),s=await this.parseImagesAsync(e.images),Tt=this.parseTextures(e.textures,s),At=this.parseMaterials(e.materials,Tt),Rt=this.parseObject(e.object,vt,At,Tt,$),Dt=this.parseSkeletons(e.skeletons,Rt);return this.bindSkeletons(Rt,Dt),Rt}parseShapes(e){const $={};if(e!==void 0)for(let ft=0,vt=e.length;ft<vt;ft++){const s=new Shape().fromJSON(e[ft]);$[s.uuid]=s}return $}parseSkeletons(e,$){const ft={},vt={};if($.traverse(function(s){s.isBone&&(vt[s.uuid]=s)}),e!==void 0)for(let s=0,Tt=e.length;s<Tt;s++){const At=new Skeleton().fromJSON(e[s],vt);ft[At.uuid]=At}return ft}parseGeometries(e,$){const ft={};if(e!==void 0){const vt=new BufferGeometryLoader;for(let s=0,Tt=e.length;s<Tt;s++){let At;const Rt=e[s];switch(Rt.type){case"BufferGeometry":case"InstancedBufferGeometry":At=vt.parse(Rt);break;default:Rt.type in Geometries?At=Geometries[Rt.type].fromJSON(Rt,$):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${Rt.type}"`)}At.uuid=Rt.uuid,Rt.name!==void 0&&(At.name=Rt.name),Rt.userData!==void 0&&(At.userData=Rt.userData),ft[Rt.uuid]=At}}return ft}parseMaterials(e,$){const ft={},vt={};if(e!==void 0){const s=new MaterialLoader;s.setTextures($);for(let Tt=0,At=e.length;Tt<At;Tt++){const Rt=e[Tt];ft[Rt.uuid]===void 0&&(ft[Rt.uuid]=s.parse(Rt)),vt[Rt.uuid]=ft[Rt.uuid]}}return vt}parseAnimations(e){const $={};if(e!==void 0)for(let ft=0;ft<e.length;ft++){const vt=e[ft],s=AnimationClip.parse(vt);$[s.uuid]=s}return $}parseImages(e,$){const ft=this,vt={};let s;function Tt(Rt){return ft.manager.itemStart(Rt),s.load(Rt,function(){ft.manager.itemEnd(Rt)},void 0,function(){ft.manager.itemError(Rt),ft.manager.itemEnd(Rt)})}function At(Rt){if(typeof Rt=="string"){const Dt=Rt,Nt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Dt)?Dt:ft.resourcePath+Dt;return Tt(Nt)}else return Rt.data?{data:getTypedArray(Rt.type,Rt.data),width:Rt.width,height:Rt.height}:null}if(e!==void 0&&e.length>0){const Rt=new LoadingManager($);s=new ImageLoader(Rt),s.setCrossOrigin(this.crossOrigin);for(let Dt=0,Nt=e.length;Dt<Nt;Dt++){const Wt=e[Dt],Ht=Wt.url;if(Array.isArray(Ht)){const Kt=[];for(let Ft=0,tn=Ht.length;Ft<tn;Ft++){const cn=Ht[Ft],fn=At(cn);fn!==null&&(fn instanceof HTMLImageElement?Kt.push(fn):Kt.push(new DataTexture(fn.data,fn.width,fn.height)))}vt[Wt.uuid]=new Source(Kt)}else{const Kt=At(Wt.url);vt[Wt.uuid]=new Source(Kt)}}}return vt}async parseImagesAsync(e){const $=this,ft={};let vt;async function s(Tt){if(typeof Tt=="string"){const At=Tt,Rt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(At)?At:$.resourcePath+At;return await vt.loadAsync(Rt)}else return Tt.data?{data:getTypedArray(Tt.type,Tt.data),width:Tt.width,height:Tt.height}:null}if(e!==void 0&&e.length>0){vt=new ImageLoader(this.manager),vt.setCrossOrigin(this.crossOrigin);for(let Tt=0,At=e.length;Tt<At;Tt++){const Rt=e[Tt],Dt=Rt.url;if(Array.isArray(Dt)){const Nt=[];for(let Wt=0,Ht=Dt.length;Wt<Ht;Wt++){const Kt=Dt[Wt],Ft=await s(Kt);Ft!==null&&(Ft instanceof HTMLImageElement?Nt.push(Ft):Nt.push(new DataTexture(Ft.data,Ft.width,Ft.height)))}ft[Rt.uuid]=new Source(Nt)}else{const Nt=await s(Rt.url);ft[Rt.uuid]=new Source(Nt)}}}return ft}parseTextures(e,$){function ft(s,Tt){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),Tt[s])}const vt={};if(e!==void 0)for(let s=0,Tt=e.length;s<Tt;s++){const At=e[s];At.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',At.uuid),$[At.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",At.image);const Rt=$[At.image],Dt=Rt.data;let Nt;Array.isArray(Dt)?(Nt=new CubeTexture,Dt.length===6&&(Nt.needsUpdate=!0)):(Dt&&Dt.data?Nt=new DataTexture:Nt=new Texture,Dt&&(Nt.needsUpdate=!0)),Nt.source=Rt,Nt.uuid=At.uuid,At.name!==void 0&&(Nt.name=At.name),At.mapping!==void 0&&(Nt.mapping=ft(At.mapping,TEXTURE_MAPPING)),At.offset!==void 0&&Nt.offset.fromArray(At.offset),At.repeat!==void 0&&Nt.repeat.fromArray(At.repeat),At.center!==void 0&&Nt.center.fromArray(At.center),At.rotation!==void 0&&(Nt.rotation=At.rotation),At.wrap!==void 0&&(Nt.wrapS=ft(At.wrap[0],TEXTURE_WRAPPING),Nt.wrapT=ft(At.wrap[1],TEXTURE_WRAPPING)),At.format!==void 0&&(Nt.format=At.format),At.internalFormat!==void 0&&(Nt.internalFormat=At.internalFormat),At.type!==void 0&&(Nt.type=At.type),At.encoding!==void 0&&(Nt.encoding=At.encoding),At.minFilter!==void 0&&(Nt.minFilter=ft(At.minFilter,TEXTURE_FILTER)),At.magFilter!==void 0&&(Nt.magFilter=ft(At.magFilter,TEXTURE_FILTER)),At.anisotropy!==void 0&&(Nt.anisotropy=At.anisotropy),At.flipY!==void 0&&(Nt.flipY=At.flipY),At.generateMipmaps!==void 0&&(Nt.generateMipmaps=At.generateMipmaps),At.premultiplyAlpha!==void 0&&(Nt.premultiplyAlpha=At.premultiplyAlpha),At.unpackAlignment!==void 0&&(Nt.unpackAlignment=At.unpackAlignment),At.userData!==void 0&&(Nt.userData=At.userData),vt[At.uuid]=Nt}return vt}parseObject(e,$,ft,vt,s){let Tt;function At(Ht){return $[Ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",Ht),$[Ht]}function Rt(Ht){if(Ht!==void 0){if(Array.isArray(Ht)){const Kt=[];for(let Ft=0,tn=Ht.length;Ft<tn;Ft++){const cn=Ht[Ft];ft[cn]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",cn),Kt.push(ft[cn])}return Kt}return ft[Ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ht),ft[Ht]}}function Dt(Ht){return vt[Ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",Ht),vt[Ht]}let Nt,Wt;switch(e.type){case"Scene":Tt=new Scene,e.background!==void 0&&(Number.isInteger(e.background)?Tt.background=new Color(e.background):Tt.background=Dt(e.background)),e.environment!==void 0&&(Tt.environment=Dt(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?Tt.fog=new Fog(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(Tt.fog=new FogExp2(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(Tt.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(Tt.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":Tt=new PerspectiveCamera(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(Tt.focus=e.focus),e.zoom!==void 0&&(Tt.zoom=e.zoom),e.filmGauge!==void 0&&(Tt.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(Tt.filmOffset=e.filmOffset),e.view!==void 0&&(Tt.view=Object.assign({},e.view));break;case"OrthographicCamera":Tt=new OrthographicCamera$1(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(Tt.zoom=e.zoom),e.view!==void 0&&(Tt.view=Object.assign({},e.view));break;case"AmbientLight":Tt=new AmbientLight(e.color,e.intensity);break;case"DirectionalLight":Tt=new DirectionalLight(e.color,e.intensity);break;case"PointLight":Tt=new PointLight(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":Tt=new RectAreaLight(e.color,e.intensity,e.width,e.height);break;case"SpotLight":Tt=new SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":Tt=new HemisphereLight(e.color,e.groundColor,e.intensity);break;case"LightProbe":Tt=new LightProbe().fromJSON(e);break;case"SkinnedMesh":Nt=At(e.geometry),Wt=Rt(e.material),Tt=new SkinnedMesh(Nt,Wt),e.bindMode!==void 0&&(Tt.bindMode=e.bindMode),e.bindMatrix!==void 0&&Tt.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(Tt.skeleton=e.skeleton);break;case"Mesh":Nt=At(e.geometry),Wt=Rt(e.material),Tt=new Mesh(Nt,Wt);break;case"InstancedMesh":Nt=At(e.geometry),Wt=Rt(e.material);const Ht=e.count,Kt=e.instanceMatrix,Ft=e.instanceColor;Tt=new InstancedMesh(Nt,Wt,Ht),Tt.instanceMatrix=new InstancedBufferAttribute(new Float32Array(Kt.array),16),Ft!==void 0&&(Tt.instanceColor=new InstancedBufferAttribute(new Float32Array(Ft.array),Ft.itemSize));break;case"LOD":Tt=new LOD;break;case"Line":Tt=new Line(At(e.geometry),Rt(e.material));break;case"LineLoop":Tt=new LineLoop(At(e.geometry),Rt(e.material));break;case"LineSegments":Tt=new LineSegments(At(e.geometry),Rt(e.material));break;case"PointCloud":case"Points":Tt=new Points(At(e.geometry),Rt(e.material));break;case"Sprite":Tt=new Sprite(Rt(e.material));break;case"Group":Tt=new Group;break;case"Bone":Tt=new Bone;break;default:Tt=new Object3D}if(Tt.uuid=e.uuid,e.name!==void 0&&(Tt.name=e.name),e.matrix!==void 0?(Tt.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(Tt.matrixAutoUpdate=e.matrixAutoUpdate),Tt.matrixAutoUpdate&&Tt.matrix.decompose(Tt.position,Tt.quaternion,Tt.scale)):(e.position!==void 0&&Tt.position.fromArray(e.position),e.rotation!==void 0&&Tt.rotation.fromArray(e.rotation),e.quaternion!==void 0&&Tt.quaternion.fromArray(e.quaternion),e.scale!==void 0&&Tt.scale.fromArray(e.scale)),e.castShadow!==void 0&&(Tt.castShadow=e.castShadow),e.receiveShadow!==void 0&&(Tt.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(Tt.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(Tt.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(Tt.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&Tt.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(Tt.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(Tt.visible=e.visible),e.frustumCulled!==void 0&&(Tt.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(Tt.renderOrder=e.renderOrder),e.userData!==void 0&&(Tt.userData=e.userData),e.layers!==void 0&&(Tt.layers.mask=e.layers),e.children!==void 0){const Ht=e.children;for(let Kt=0;Kt<Ht.length;Kt++)Tt.add(this.parseObject(Ht[Kt],$,ft,vt,s))}if(e.animations!==void 0){const Ht=e.animations;for(let Kt=0;Kt<Ht.length;Kt++){const Ft=Ht[Kt];Tt.animations.push(s[Ft])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(Tt.autoUpdate=e.autoUpdate);const Ht=e.levels;for(let Kt=0;Kt<Ht.length;Kt++){const Ft=Ht[Kt],tn=Tt.getObjectByProperty("uuid",Ft.object);tn!==void 0&&Tt.addLevel(tn,Ft.distance,Ft.hysteresis)}}return Tt}bindSkeletons(e,$){Object.keys($).length!==0&&e.traverse(function(ft){if(ft.isSkinnedMesh===!0&&ft.skeleton!==void 0){const vt=$[ft.skeleton];vt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",ft.skeleton):ft.bind(vt,ft.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,$,ft,vt){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,Tt=Cache.get(e);if(Tt!==void 0)return s.manager.itemStart(e),setTimeout(function(){$&&$(Tt),s.manager.itemEnd(e)},0),Tt;const At={};At.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",At.headers=this.requestHeader,fetch(e,At).then(function(Rt){return Rt.blob()}).then(function(Rt){return createImageBitmap(Rt,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(Rt){Cache.add(e,Rt),$&&$(Rt),s.manager.itemEnd(e)}).catch(function(Rt){vt&&vt(Rt),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(e){_context=e}}class AudioLoader extends Loader{constructor(e){super(e)}load(e,$,ft,vt){const s=this,Tt=new FileLoader(this.manager);Tt.setResponseType("arraybuffer"),Tt.setPath(this.path),Tt.setRequestHeader(this.requestHeader),Tt.setWithCredentials(this.withCredentials),Tt.load(e,function(At){try{const Rt=At.slice(0);AudioContext.getContext().decodeAudioData(Rt,function(Nt){$(Nt)})}catch(Rt){vt?vt(Rt):console.error(Rt),s.manager.itemError(e)}},ft,vt)}}class HemisphereLightProbe extends LightProbe{constructor(e,$,ft=1){super(void 0,ft),this.isHemisphereLightProbe=!0;const vt=new Color().set(e),s=new Color().set($),Tt=new Vector3(vt.r,vt.g,vt.b),At=new Vector3(s.r,s.g,s.b),Rt=Math.sqrt(Math.PI),Dt=Rt*Math.sqrt(.75);this.sh.coefficients[0].copy(Tt).add(At).multiplyScalar(Rt),this.sh.coefficients[1].copy(Tt).sub(At).multiplyScalar(Dt)}}class AmbientLightProbe extends LightProbe{constructor(e,$=1){super(void 0,$),this.isAmbientLightProbe=!0;const ft=new Color().set(e);this.sh.coefficients[0].set(ft.r,ft.g,ft.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const $=this._cache;if($.focus!==e.focus||$.fov!==e.fov||$.aspect!==e.aspect*this.aspect||$.near!==e.near||$.far!==e.far||$.zoom!==e.zoom||$.eyeSep!==this.eyeSep){$.focus=e.focus,$.fov=e.fov,$.aspect=e.aspect*this.aspect,$.near=e.near,$.far=e.far,$.zoom=e.zoom,$.eyeSep=this.eyeSep,_projectionMatrix.copy(e.projectionMatrix);const vt=$.eyeSep/2,s=vt*$.near/$.focus,Tt=$.near*Math.tan(DEG2RAD*$.fov*.5)/$.zoom;let At,Rt;_eyeLeft.elements[12]=-vt,_eyeRight.elements[12]=vt,At=-Tt*$.aspect+s,Rt=Tt*$.aspect+s,_projectionMatrix.elements[0]=2*$.near/(Rt-At),_projectionMatrix.elements[8]=(Rt+At)/(Rt-At),this.cameraL.projectionMatrix.copy(_projectionMatrix),At=-Tt*$.aspect-s,Rt=Tt*$.aspect-s,_projectionMatrix.elements[0]=2*$.near/(Rt-At),_projectionMatrix.elements[8]=(Rt+At)/(Rt-At),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const $=now$2();e=($-this.oldTime)/1e3,this.oldTime=$,this.elapsedTime+=e}return e}}function now$2(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const $=this.context.listener,ft=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),$.positionX){const vt=this.context.currentTime+this.timeDelta;$.positionX.linearRampToValueAtTime(_position$1.x,vt),$.positionY.linearRampToValueAtTime(_position$1.y,vt),$.positionZ.linearRampToValueAtTime(_position$1.z,vt),$.forwardX.linearRampToValueAtTime(_orientation$1.x,vt),$.forwardY.linearRampToValueAtTime(_orientation$1.y,vt),$.forwardZ.linearRampToValueAtTime(_orientation$1.z,vt),$.upX.linearRampToValueAtTime(ft.x,vt),$.upY.linearRampToValueAtTime(ft.y,vt),$.upZ.linearRampToValueAtTime(ft.z,vt)}else $.setPosition(_position$1.x,_position$1.y,_position$1.z),$.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,ft.x,ft.y,ft.z)}}let Audio$1=class extends Object3D{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const $=this.context.createBufferSource();return $.buffer=this.buffer,$.loop=this.loop,$.loopStart=this.loopStart,$.loopEnd=this.loopEnd,$.onended=this.onEnded.bind(this),$.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=$,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,$=this.filters.length;e<$;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,$=this.filters.length;e<$;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio$1{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,$,ft){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=$,this.panner.coneOuterGain=ft,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const $=this.panner;if($.positionX){const ft=this.context.currentTime+this.listener.timeDelta;$.positionX.linearRampToValueAtTime(_position.x,ft),$.positionY.linearRampToValueAtTime(_position.y,ft),$.positionZ.linearRampToValueAtTime(_position.z,ft),$.orientationX.linearRampToValueAtTime(_orientation.x,ft),$.orientationY.linearRampToValueAtTime(_orientation.y,ft),$.orientationZ.linearRampToValueAtTime(_orientation.z,ft)}else $.setPosition(_position.x,_position.y,_position.z),$.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(e,$=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=$,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const $=this.getFrequencyData();for(let ft=0;ft<$.length;ft++)e+=$[ft];return e/$.length}}class PropertyMixer{constructor(e,$,ft){this.binding=e,this.valueSize=ft;let vt,s,Tt;switch($){case"quaternion":vt=this._slerp,s=this._slerpAdditive,Tt=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(ft*6),this._workIndex=5;break;case"string":case"bool":vt=this._select,s=this._select,Tt=this._setAdditiveIdentityOther,this.buffer=new Array(ft*5);break;default:vt=this._lerp,s=this._lerpAdditive,Tt=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(ft*5)}this._mixBufferRegion=vt,this._mixBufferRegionAdditive=s,this._setIdentity=Tt,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,$){const ft=this.buffer,vt=this.valueSize,s=e*vt+vt;let Tt=this.cumulativeWeight;if(Tt===0){for(let At=0;At!==vt;++At)ft[s+At]=ft[At];Tt=$}else{Tt+=$;const At=$/Tt;this._mixBufferRegion(ft,s,0,At,vt)}this.cumulativeWeight=Tt}accumulateAdditive(e){const $=this.buffer,ft=this.valueSize,vt=ft*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive($,vt,0,e,ft),this.cumulativeWeightAdditive+=e}apply(e){const $=this.valueSize,ft=this.buffer,vt=e*$+$,s=this.cumulativeWeight,Tt=this.cumulativeWeightAdditive,At=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const Rt=$*this._origIndex;this._mixBufferRegion(ft,vt,Rt,1-s,$)}Tt>0&&this._mixBufferRegionAdditive(ft,vt,this._addIndex*$,1,$);for(let Rt=$,Dt=$+$;Rt!==Dt;++Rt)if(ft[Rt]!==ft[Rt+$]){At.setValue(ft,vt);break}}saveOriginalState(){const e=this.binding,$=this.buffer,ft=this.valueSize,vt=ft*this._origIndex;e.getValue($,vt);for(let s=ft,Tt=vt;s!==Tt;++s)$[s]=$[vt+s%ft];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,$=e+this.valueSize;for(let ft=e;ft<$;ft++)this.buffer[ft]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,$=this._addIndex*this.valueSize;for(let ft=0;ft<this.valueSize;ft++)this.buffer[$+ft]=this.buffer[e+ft]}_select(e,$,ft,vt,s){if(vt>=.5)for(let Tt=0;Tt!==s;++Tt)e[$+Tt]=e[ft+Tt]}_slerp(e,$,ft,vt){Quaternion.slerpFlat(e,$,e,$,e,ft,vt)}_slerpAdditive(e,$,ft,vt,s){const Tt=this._workIndex*s;Quaternion.multiplyQuaternionsFlat(e,Tt,e,$,e,ft),Quaternion.slerpFlat(e,$,e,$,e,Tt,vt)}_lerp(e,$,ft,vt,s){const Tt=1-vt;for(let At=0;At!==s;++At){const Rt=$+At;e[Rt]=e[Rt]*Tt+e[ft+At]*vt}}_lerpAdditive(e,$,ft,vt,s){for(let Tt=0;Tt!==s;++Tt){const At=$+Tt;e[At]=e[At]+e[ft+Tt]*vt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(e,$,ft){const vt=ft||PropertyBinding.parseTrackName($);this._targetGroup=e,this._bindings=e.subscribe_($,vt)}getValue(e,$){this.bind();const ft=this._targetGroup.nCachedObjects_,vt=this._bindings[ft];vt!==void 0&&vt.getValue(e,$)}setValue(e,$){const ft=this._bindings;for(let vt=this._targetGroup.nCachedObjects_,s=ft.length;vt!==s;++vt)ft[vt].setValue(e,$)}bind(){const e=this._bindings;for(let $=this._targetGroup.nCachedObjects_,ft=e.length;$!==ft;++$)e[$].bind()}unbind(){const e=this._bindings;for(let $=this._targetGroup.nCachedObjects_,ft=e.length;$!==ft;++$)e[$].unbind()}}class PropertyBinding{constructor(e,$,ft){this.path=$,this.parsedPath=ft||PropertyBinding.parseTrackName($),this.node=PropertyBinding.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,$,ft){return e&&e.isAnimationObjectGroup?new PropertyBinding.Composite(e,$,ft):new PropertyBinding(e,$,ft)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(e){const $=_trackRe.exec(e);if($===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const ft={nodeName:$[2],objectName:$[3],objectIndex:$[4],propertyName:$[5],propertyIndex:$[6]},vt=ft.nodeName&&ft.nodeName.lastIndexOf(".");if(vt!==void 0&&vt!==-1){const s=ft.nodeName.substring(vt+1);_supportedObjectNames.indexOf(s)!==-1&&(ft.nodeName=ft.nodeName.substring(0,vt),ft.objectName=s)}if(ft.propertyName===null||ft.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return ft}static findNode(e,$){if($===void 0||$===""||$==="."||$===-1||$===e.name||$===e.uuid)return e;if(e.skeleton){const ft=e.skeleton.getBoneByName($);if(ft!==void 0)return ft}if(e.children){const ft=function(s){for(let Tt=0;Tt<s.length;Tt++){const At=s[Tt];if(At.name===$||At.uuid===$)return At;const Rt=ft(At.children);if(Rt)return Rt}return null},vt=ft(e.children);if(vt)return vt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,$){e[$]=this.targetObject[this.propertyName]}_getValue_array(e,$){const ft=this.resolvedProperty;for(let vt=0,s=ft.length;vt!==s;++vt)e[$++]=ft[vt]}_getValue_arrayElement(e,$){e[$]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,$){this.resolvedProperty.toArray(e,$)}_setValue_direct(e,$){this.targetObject[this.propertyName]=e[$]}_setValue_direct_setNeedsUpdate(e,$){this.targetObject[this.propertyName]=e[$],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,$){this.targetObject[this.propertyName]=e[$],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,$){const ft=this.resolvedProperty;for(let vt=0,s=ft.length;vt!==s;++vt)ft[vt]=e[$++]}_setValue_array_setNeedsUpdate(e,$){const ft=this.resolvedProperty;for(let vt=0,s=ft.length;vt!==s;++vt)ft[vt]=e[$++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,$){const ft=this.resolvedProperty;for(let vt=0,s=ft.length;vt!==s;++vt)ft[vt]=e[$++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,$){this.resolvedProperty[this.propertyIndex]=e[$]}_setValue_arrayElement_setNeedsUpdate(e,$){this.resolvedProperty[this.propertyIndex]=e[$],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,$){this.resolvedProperty[this.propertyIndex]=e[$],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,$){this.resolvedProperty.fromArray(e,$)}_setValue_fromArray_setNeedsUpdate(e,$){this.resolvedProperty.fromArray(e,$),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,$){this.resolvedProperty.fromArray(e,$),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,$){this.bind(),this.getValue(e,$)}_setValue_unbound(e,$){this.bind(),this.setValue(e,$)}bind(){let e=this.node;const $=this.parsedPath,ft=$.objectName,vt=$.propertyName;let s=$.propertyIndex;if(e||(e=PropertyBinding.findNode(this.rootNode,$.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(ft){let Dt=$.objectIndex;switch(ft){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let Nt=0;Nt<e.length;Nt++)if(e[Nt].name===Dt){Dt=Nt;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[ft]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[ft]}if(Dt!==void 0){if(e[Dt]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[Dt]}}const Tt=e[vt];if(Tt===void 0){const Dt=$.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+Dt+"."+vt+" but it wasn't found.",e);return}let At=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?At=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(At=this.Versioning.MatrixWorldNeedsUpdate);let Rt=this.BindingType.Direct;if(s!==void 0){if(vt==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}Rt=this.BindingType.ArrayElement,this.resolvedProperty=Tt,this.propertyIndex=s}else Tt.fromArray!==void 0&&Tt.toArray!==void 0?(Rt=this.BindingType.HasFromToArray,this.resolvedProperty=Tt):Array.isArray(Tt)?(Rt=this.BindingType.EntireArray,this.resolvedProperty=Tt):this.propertyName=vt;this.getValue=this.GetterByBindingType[Rt],this.setValue=this.SetterByBindingTypeAndVersioning[Rt][At]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let ft=0,vt=arguments.length;ft!==vt;++ft)e[arguments[ft].uuid]=ft;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const $=this;this.stats={objects:{get total(){return $._objects.length},get inUse(){return this.total-$.nCachedObjects_}},get bindingsPerObject(){return $._bindings.length}}}add(){const e=this._objects,$=this._indicesByUUID,ft=this._paths,vt=this._parsedPaths,s=this._bindings,Tt=s.length;let At,Rt=e.length,Dt=this.nCachedObjects_;for(let Nt=0,Wt=arguments.length;Nt!==Wt;++Nt){const Ht=arguments[Nt],Kt=Ht.uuid;let Ft=$[Kt];if(Ft===void 0){Ft=Rt++,$[Kt]=Ft,e.push(Ht);for(let tn=0,cn=Tt;tn!==cn;++tn)s[tn].push(new PropertyBinding(Ht,ft[tn],vt[tn]))}else if(Ft<Dt){At=e[Ft];const tn=--Dt,cn=e[tn];$[cn.uuid]=Ft,e[Ft]=cn,$[Kt]=tn,e[tn]=Ht;for(let fn=0,ln=Tt;fn!==ln;++fn){const dn=s[fn],mn=dn[tn];let xn=dn[Ft];dn[Ft]=mn,xn===void 0&&(xn=new PropertyBinding(Ht,ft[fn],vt[fn])),dn[tn]=xn}}else e[Ft]!==At&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=Dt}remove(){const e=this._objects,$=this._indicesByUUID,ft=this._bindings,vt=ft.length;let s=this.nCachedObjects_;for(let Tt=0,At=arguments.length;Tt!==At;++Tt){const Rt=arguments[Tt],Dt=Rt.uuid,Nt=$[Dt];if(Nt!==void 0&&Nt>=s){const Wt=s++,Ht=e[Wt];$[Ht.uuid]=Nt,e[Nt]=Ht,$[Dt]=Wt,e[Wt]=Rt;for(let Kt=0,Ft=vt;Kt!==Ft;++Kt){const tn=ft[Kt],cn=tn[Wt],fn=tn[Nt];tn[Nt]=cn,tn[Wt]=fn}}}this.nCachedObjects_=s}uncache(){const e=this._objects,$=this._indicesByUUID,ft=this._bindings,vt=ft.length;let s=this.nCachedObjects_,Tt=e.length;for(let At=0,Rt=arguments.length;At!==Rt;++At){const Dt=arguments[At],Nt=Dt.uuid,Wt=$[Nt];if(Wt!==void 0)if(delete $[Nt],Wt<s){const Ht=--s,Kt=e[Ht],Ft=--Tt,tn=e[Ft];$[Kt.uuid]=Wt,e[Wt]=Kt,$[tn.uuid]=Ht,e[Ht]=tn,e.pop();for(let cn=0,fn=vt;cn!==fn;++cn){const ln=ft[cn],dn=ln[Ht],mn=ln[Ft];ln[Wt]=dn,ln[Ht]=mn,ln.pop()}}else{const Ht=--Tt,Kt=e[Ht];Ht>0&&($[Kt.uuid]=Wt),e[Wt]=Kt,e.pop();for(let Ft=0,tn=vt;Ft!==tn;++Ft){const cn=ft[Ft];cn[Wt]=cn[Ht],cn.pop()}}}this.nCachedObjects_=s}subscribe_(e,$){const ft=this._bindingsIndicesByPath;let vt=ft[e];const s=this._bindings;if(vt!==void 0)return s[vt];const Tt=this._paths,At=this._parsedPaths,Rt=this._objects,Dt=Rt.length,Nt=this.nCachedObjects_,Wt=new Array(Dt);vt=s.length,ft[e]=vt,Tt.push(e),At.push($),s.push(Wt);for(let Ht=Nt,Kt=Rt.length;Ht!==Kt;++Ht){const Ft=Rt[Ht];Wt[Ht]=new PropertyBinding(Ft,e,$)}return Wt}unsubscribe_(e){const $=this._bindingsIndicesByPath,ft=$[e];if(ft!==void 0){const vt=this._paths,s=this._parsedPaths,Tt=this._bindings,At=Tt.length-1,Rt=Tt[At],Dt=e[At];$[Dt]=ft,Tt[ft]=Rt,Tt.pop(),s[ft]=s[At],s.pop(),vt[ft]=vt[At],vt.pop()}}}class AnimationAction{constructor(e,$,ft=null,vt=$.blendMode){this._mixer=e,this._clip=$,this._localRoot=ft,this.blendMode=vt;const s=$.tracks,Tt=s.length,At=new Array(Tt),Rt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let Dt=0;Dt!==Tt;++Dt){const Nt=s[Dt].createInterpolant(null);At[Dt]=Nt,Nt.settings=Rt}this._interpolantSettings=Rt,this._interpolants=At,this._propertyBindings=new Array(Tt),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,$){return this.loop=e,this.repetitions=$,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,$,ft){if(e.fadeOut($),this.fadeIn($),ft){const vt=this._clip.duration,s=e._clip.duration,Tt=s/vt,At=vt/s;e.warp(1,Tt,$),this.warp(At,1,$)}return this}crossFadeTo(e,$,ft){return e.crossFadeFrom(this,$,ft)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,$,ft){const vt=this._mixer,s=vt.time,Tt=this.timeScale;let At=this._timeScaleInterpolant;At===null&&(At=vt._lendControlInterpolant(),this._timeScaleInterpolant=At);const Rt=At.parameterPositions,Dt=At.sampleValues;return Rt[0]=s,Rt[1]=s+ft,Dt[0]=e/Tt,Dt[1]=$/Tt,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,$,ft,vt){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const Rt=(e-s)*ft;Rt<0||ft===0?$=0:(this._startTime=null,$=ft*Rt)}$*=this._updateTimeScale(e);const Tt=this._updateTime($),At=this._updateWeight(e);if(At>0){const Rt=this._interpolants,Dt=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let Nt=0,Wt=Rt.length;Nt!==Wt;++Nt)Rt[Nt].evaluate(Tt),Dt[Nt].accumulateAdditive(At);break;case NormalAnimationBlendMode:default:for(let Nt=0,Wt=Rt.length;Nt!==Wt;++Nt)Rt[Nt].evaluate(Tt),Dt[Nt].accumulate(vt,At)}}}_updateWeight(e){let $=0;if(this.enabled){$=this.weight;const ft=this._weightInterpolant;if(ft!==null){const vt=ft.evaluate(e)[0];$*=vt,e>ft.parameterPositions[1]&&(this.stopFading(),vt===0&&(this.enabled=!1))}}return this._effectiveWeight=$,$}_updateTimeScale(e){let $=0;if(!this.paused){$=this.timeScale;const ft=this._timeScaleInterpolant;if(ft!==null){const vt=ft.evaluate(e)[0];$*=vt,e>ft.parameterPositions[1]&&(this.stopWarping(),$===0?this.paused=!0:this.timeScale=$)}}return this._effectiveTimeScale=$,$}_updateTime(e){const $=this._clip.duration,ft=this.loop;let vt=this.time+e,s=this._loopCount;const Tt=ft===LoopPingPong;if(e===0)return s===-1?vt:Tt&&(s&1)===1?$-vt:vt;if(ft===LoopOnce){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(vt>=$)vt=$;else if(vt<0)vt=0;else{this.time=vt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=vt,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,Tt)):this._setEndings(this.repetitions===0,!0,Tt)),vt>=$||vt<0){const At=Math.floor(vt/$);vt-=$*At,s+=Math.abs(At);const Rt=this.repetitions-s;if(Rt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,vt=e>0?$:0,this.time=vt,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(Rt===1){const Dt=e<0;this._setEndings(Dt,!Dt,Tt)}else this._setEndings(!1,!1,Tt);this._loopCount=s,this.time=vt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:At})}}else this.time=vt;if(Tt&&(s&1)===1)return $-vt}return vt}_setEndings(e,$,ft){const vt=this._interpolantSettings;ft?(vt.endingStart=ZeroSlopeEnding,vt.endingEnd=ZeroSlopeEnding):(e?vt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:vt.endingStart=WrapAroundEnding,$?vt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:vt.endingEnd=WrapAroundEnding)}_scheduleFading(e,$,ft){const vt=this._mixer,s=vt.time;let Tt=this._weightInterpolant;Tt===null&&(Tt=vt._lendControlInterpolant(),this._weightInterpolant=Tt);const At=Tt.parameterPositions,Rt=Tt.sampleValues;return At[0]=s,Rt[0]=$,At[1]=s+e,Rt[1]=ft,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,$){const ft=e._localRoot||this._root,vt=e._clip.tracks,s=vt.length,Tt=e._propertyBindings,At=e._interpolants,Rt=ft.uuid,Dt=this._bindingsByRootAndName;let Nt=Dt[Rt];Nt===void 0&&(Nt={},Dt[Rt]=Nt);for(let Wt=0;Wt!==s;++Wt){const Ht=vt[Wt],Kt=Ht.name;let Ft=Nt[Kt];if(Ft!==void 0)++Ft.referenceCount,Tt[Wt]=Ft;else{if(Ft=Tt[Wt],Ft!==void 0){Ft._cacheIndex===null&&(++Ft.referenceCount,this._addInactiveBinding(Ft,Rt,Kt));continue}const tn=$&&$._propertyBindings[Wt].binding.parsedPath;Ft=new PropertyMixer(PropertyBinding.create(ft,Kt,tn),Ht.ValueTypeName,Ht.getValueSize()),++Ft.referenceCount,this._addInactiveBinding(Ft,Rt,Kt),Tt[Wt]=Ft}At[Wt].resultBuffer=Ft.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const ft=(e._localRoot||this._root).uuid,vt=e._clip.uuid,s=this._actionsByClip[vt];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,vt,ft)}const $=e._propertyBindings;for(let ft=0,vt=$.length;ft!==vt;++ft){const s=$[ft];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const $=e._propertyBindings;for(let ft=0,vt=$.length;ft!==vt;++ft){const s=$[ft];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const $=e._cacheIndex;return $!==null&&$<this._nActiveActions}_addInactiveAction(e,$,ft){const vt=this._actions,s=this._actionsByClip;let Tt=s[$];if(Tt===void 0)Tt={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[$]=Tt;else{const At=Tt.knownActions;e._byClipCacheIndex=At.length,At.push(e)}e._cacheIndex=vt.length,vt.push(e),Tt.actionByRoot[ft]=e}_removeInactiveAction(e){const $=this._actions,ft=$[$.length-1],vt=e._cacheIndex;ft._cacheIndex=vt,$[vt]=ft,$.pop(),e._cacheIndex=null;const s=e._clip.uuid,Tt=this._actionsByClip,At=Tt[s],Rt=At.knownActions,Dt=Rt[Rt.length-1],Nt=e._byClipCacheIndex;Dt._byClipCacheIndex=Nt,Rt[Nt]=Dt,Rt.pop(),e._byClipCacheIndex=null;const Wt=At.actionByRoot,Ht=(e._localRoot||this._root).uuid;delete Wt[Ht],Rt.length===0&&delete Tt[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const $=e._propertyBindings;for(let ft=0,vt=$.length;ft!==vt;++ft){const s=$[ft];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const $=this._actions,ft=e._cacheIndex,vt=this._nActiveActions++,s=$[vt];e._cacheIndex=vt,$[vt]=e,s._cacheIndex=ft,$[ft]=s}_takeBackAction(e){const $=this._actions,ft=e._cacheIndex,vt=--this._nActiveActions,s=$[vt];e._cacheIndex=vt,$[vt]=e,s._cacheIndex=ft,$[ft]=s}_addInactiveBinding(e,$,ft){const vt=this._bindingsByRootAndName,s=this._bindings;let Tt=vt[$];Tt===void 0&&(Tt={},vt[$]=Tt),Tt[ft]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const $=this._bindings,ft=e.binding,vt=ft.rootNode.uuid,s=ft.path,Tt=this._bindingsByRootAndName,At=Tt[vt],Rt=$[$.length-1],Dt=e._cacheIndex;Rt._cacheIndex=Dt,$[Dt]=Rt,$.pop(),delete At[s],Object.keys(At).length===0&&delete Tt[vt]}_lendBinding(e){const $=this._bindings,ft=e._cacheIndex,vt=this._nActiveBindings++,s=$[vt];e._cacheIndex=vt,$[vt]=e,s._cacheIndex=ft,$[ft]=s}_takeBackBinding(e){const $=this._bindings,ft=e._cacheIndex,vt=--this._nActiveBindings,s=$[vt];e._cacheIndex=vt,$[vt]=e,s._cacheIndex=ft,$[ft]=s}_lendControlInterpolant(){const e=this._controlInterpolants,$=this._nActiveControlInterpolants++;let ft=e[$];return ft===void 0&&(ft=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),ft.__cacheIndex=$,e[$]=ft),ft}_takeBackControlInterpolant(e){const $=this._controlInterpolants,ft=e.__cacheIndex,vt=--this._nActiveControlInterpolants,s=$[vt];e.__cacheIndex=vt,$[vt]=e,s.__cacheIndex=ft,$[ft]=s}clipAction(e,$,ft){const vt=$||this._root,s=vt.uuid;let Tt=typeof e=="string"?AnimationClip.findByName(vt,e):e;const At=Tt!==null?Tt.uuid:e,Rt=this._actionsByClip[At];let Dt=null;if(ft===void 0&&(Tt!==null?ft=Tt.blendMode:ft=NormalAnimationBlendMode),Rt!==void 0){const Wt=Rt.actionByRoot[s];if(Wt!==void 0&&Wt.blendMode===ft)return Wt;Dt=Rt.knownActions[0],Tt===null&&(Tt=Dt._clip)}if(Tt===null)return null;const Nt=new AnimationAction(this,Tt,$,ft);return this._bindAction(Nt,Dt),this._addInactiveAction(Nt,At,s),Nt}existingAction(e,$){const ft=$||this._root,vt=ft.uuid,s=typeof e=="string"?AnimationClip.findByName(ft,e):e,Tt=s?s.uuid:e,At=this._actionsByClip[Tt];return At!==void 0&&At.actionByRoot[vt]||null}stopAllAction(){const e=this._actions,$=this._nActiveActions;for(let ft=$-1;ft>=0;--ft)e[ft].stop();return this}update(e){e*=this.timeScale;const $=this._actions,ft=this._nActiveActions,vt=this.time+=e,s=Math.sign(e),Tt=this._accuIndex^=1;for(let Dt=0;Dt!==ft;++Dt)$[Dt]._update(vt,e,s,Tt);const At=this._bindings,Rt=this._nActiveBindings;for(let Dt=0;Dt!==Rt;++Dt)At[Dt].apply(Tt);return this}setTime(e){this.time=0;for(let $=0;$<this._actions.length;$++)this._actions[$].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const $=this._actions,ft=e.uuid,vt=this._actionsByClip,s=vt[ft];if(s!==void 0){const Tt=s.knownActions;for(let At=0,Rt=Tt.length;At!==Rt;++At){const Dt=Tt[At];this._deactivateAction(Dt);const Nt=Dt._cacheIndex,Wt=$[$.length-1];Dt._cacheIndex=null,Dt._byClipCacheIndex=null,Wt._cacheIndex=Nt,$[Nt]=Wt,$.pop(),this._removeInactiveBindingsForAction(Dt)}delete vt[ft]}}uncacheRoot(e){const $=e.uuid,ft=this._actionsByClip;for(const Tt in ft){const At=ft[Tt].actionByRoot,Rt=At[$];Rt!==void 0&&(this._deactivateAction(Rt),this._removeInactiveAction(Rt))}const vt=this._bindingsByRootAndName,s=vt[$];if(s!==void 0)for(const Tt in s){const At=s[Tt];At.restoreOriginalState(),this._removeInactiveBinding(At)}}uncacheAction(e,$){const ft=this.existingAction(e,$);ft!==null&&(this._deactivateAction(ft),this._removeInactiveAction(ft))}}class Uniform{constructor(e){this.value=e}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const $=this.uniforms.indexOf(e);return $!==-1&&this.uniforms.splice($,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const $=e.uniforms;this.uniforms.length=0;for(let ft=0,vt=$.length;ft<vt;ft++)this.uniforms.push($[ft].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(e,$,ft=1){super(e,$),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=ft}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const $=super.clone(e);return $.meshPerAttribute=this.meshPerAttribute,$}toJSON(e){const $=super.toJSON(e);return $.isInstancedInterleavedBuffer=!0,$.meshPerAttribute=this.meshPerAttribute,$}}class GLBufferAttribute{constructor(e,$,ft,vt,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=$,this.itemSize=ft,this.elementSize=vt,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,$){return this.type=e,this.elementSize=$,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Raycaster{constructor(e,$,ft=0,vt=1/0){this.ray=new Ray(e,$),this.near=ft,this.far=vt,this.camera=null,this.layers=new Layers$1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,$){this.ray.set(e,$)}setFromCamera(e,$){$.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition($.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject($).sub(this.ray.origin).normalize(),this.camera=$):$.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,($.near+$.far)/($.near-$.far)).unproject($),this.ray.direction.set(0,0,-1).transformDirection($.matrixWorld),this.camera=$):console.error("THREE.Raycaster: Unsupported camera type: "+$.type)}intersectObject(e,$=!0,ft=[]){return intersectObject(e,this,ft,$),ft.sort(ascSort),ft}intersectObjects(e,$=!0,ft=[]){for(let vt=0,s=e.length;vt<s;vt++)intersectObject(e[vt],this,ft,$);return ft.sort(ascSort),ft}}function ascSort(lt,e){return lt.distance-e.distance}function intersectObject(lt,e,$,ft){if(lt.layers.test(e.layers)&&lt.raycast(e,$),ft===!0){const vt=lt.children;for(let s=0,Tt=vt.length;s<Tt;s++)intersectObject(vt[s],e,$,!0)}}class Spherical{constructor(e=1,$=0,ft=0){return this.radius=e,this.phi=$,this.theta=ft,this}set(e,$,ft){return this.radius=e,this.phi=$,this.theta=ft,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,$,ft){return this.radius=Math.sqrt(e*e+$*$+ft*ft),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,ft),this.phi=Math.acos(clamp$1($/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(e=1,$=0,ft=0){return this.radius=e,this.theta=$,this.y=ft,this}set(e,$,ft){return this.radius=e,this.theta=$,this.y=ft,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,$,ft){return this.radius=Math.sqrt(e*e+ft*ft),this.theta=Math.atan2(e,ft),this.y=$,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(e=new Vector2(1/0,1/0),$=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=$}set(e,$){return this.min.copy(e),this.max.copy($),this}setFromPoints(e){this.makeEmpty();for(let $=0,ft=e.length;$<ft;$++)this.expandByPoint(e[$]);return this}setFromCenterAndSize(e,$){const ft=_vector$4.copy($).multiplyScalar(.5);return this.min.copy(e).sub(ft),this.max.copy(e).add(ft),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,$){return $.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,$){return $.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(e=new Vector3,$=new Vector3){this.start=e,this.end=$}set(e,$){return this.start.copy(e),this.end.copy($),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,$){return this.delta($).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,$){_startP.subVectors(e,this.start),_startEnd.subVectors(this.end,this.start);const ft=_startEnd.dot(_startEnd);let s=_startEnd.dot(_startP)/ft;return $&&(s=clamp$1(s,0,1)),s}closestPointToPoint(e,$,ft){const vt=this.closestPointToPointParameter(e,$);return this.delta(ft).multiplyScalar(vt).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(e,$){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=$,this.type="SpotLightHelper";const ft=new BufferGeometry,vt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let Tt=0,At=1,Rt=32;Tt<Rt;Tt++,At++){const Dt=Tt/Rt*Math.PI*2,Nt=At/Rt*Math.PI*2;vt.push(Math.cos(Dt),Math.sin(Dt),1,Math.cos(Nt),Math.sin(Nt),1)}ft.setAttribute("position",new Float32BufferAttribute(vt,3));const s=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(ft,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,$=e*Math.tan(this.light.angle);this.cone.scale.set($,$,e),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(e){const $=getBoneList(e),ft=new BufferGeometry,vt=[],s=[],Tt=new Color(0,0,1),At=new Color(0,1,0);for(let Dt=0;Dt<$.length;Dt++){const Nt=$[Dt];Nt.parent&&Nt.parent.isBone&&(vt.push(0,0,0),vt.push(0,0,0),s.push(Tt.r,Tt.g,Tt.b),s.push(At.r,At.g,At.b))}ft.setAttribute("position",new Float32BufferAttribute(vt,3)),ft.setAttribute("color",new Float32BufferAttribute(s,3));const Rt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(ft,Rt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=$,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const $=this.bones,ft=this.geometry,vt=ft.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let s=0,Tt=0;s<$.length;s++){const At=$[s];At.parent&&At.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,At.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),vt.setXYZ(Tt,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,At.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),vt.setXYZ(Tt+1,_vector$2.x,_vector$2.y,_vector$2.z),Tt+=2)}ft.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(lt){const e=[];lt.isBone===!0&&e.push(lt);for(let $=0;$<lt.children.length;$++)e.push.apply(e,getBoneList(lt.children[$]));return e}class PointLightHelper extends Mesh{constructor(e,$,ft){const vt=new SphereGeometry($,4,2),s=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(vt,s),this.light=e,this.color=ft,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(e,$,ft){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=ft,this.type="HemisphereLightHelper";const vt=new OctahedronGeometry($);vt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=vt.getAttribute("position"),Tt=new Float32Array(s.count*3);vt.setAttribute("color",new BufferAttribute(Tt,3)),this.add(new Mesh(vt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const $=e.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let ft=0,vt=$.count;ft<vt;ft++){const s=ft<vt/2?_color1:_color2;$.setXYZ(ft,s.r,s.g,s.b)}$.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(e=10,$=10,ft=4473924,vt=8947848){ft=new Color(ft),vt=new Color(vt);const s=$/2,Tt=e/$,At=e/2,Rt=[],Dt=[];for(let Ht=0,Kt=0,Ft=-At;Ht<=$;Ht++,Ft+=Tt){Rt.push(-At,0,Ft,At,0,Ft),Rt.push(Ft,0,-At,Ft,0,At);const tn=Ht===s?ft:vt;tn.toArray(Dt,Kt),Kt+=3,tn.toArray(Dt,Kt),Kt+=3,tn.toArray(Dt,Kt),Kt+=3,tn.toArray(Dt,Kt),Kt+=3}const Nt=new BufferGeometry;Nt.setAttribute("position",new Float32BufferAttribute(Rt,3)),Nt.setAttribute("color",new Float32BufferAttribute(Dt,3));const Wt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Nt,Wt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(e=10,$=16,ft=8,vt=64,s=4473924,Tt=8947848){s=new Color(s),Tt=new Color(Tt);const At=[],Rt=[];if($>1)for(let Wt=0;Wt<$;Wt++){const Ht=Wt/$*(Math.PI*2),Kt=Math.sin(Ht)*e,Ft=Math.cos(Ht)*e;At.push(0,0,0),At.push(Kt,0,Ft);const tn=Wt&1?s:Tt;Rt.push(tn.r,tn.g,tn.b),Rt.push(tn.r,tn.g,tn.b)}for(let Wt=0;Wt<ft;Wt++){const Ht=Wt&1?s:Tt,Kt=e-e/ft*Wt;for(let Ft=0;Ft<vt;Ft++){let tn=Ft/vt*(Math.PI*2),cn=Math.sin(tn)*Kt,fn=Math.cos(tn)*Kt;At.push(cn,0,fn),Rt.push(Ht.r,Ht.g,Ht.b),tn=(Ft+1)/vt*(Math.PI*2),cn=Math.sin(tn)*Kt,fn=Math.cos(tn)*Kt,At.push(cn,0,fn),Rt.push(Ht.r,Ht.g,Ht.b)}}const Dt=new BufferGeometry;Dt.setAttribute("position",new Float32BufferAttribute(At,3)),Dt.setAttribute("color",new Float32BufferAttribute(Rt,3));const Nt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Dt,Nt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(e,$,ft){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=ft,this.type="DirectionalLightHelper",$===void 0&&($=1);let vt=new BufferGeometry;vt.setAttribute("position",new Float32BufferAttribute([-$,$,0,$,$,0,$,-$,0,-$,-$,0,-$,$,0],3));const s=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(vt,s),this.add(this.lightPlane),vt=new BufferGeometry,vt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(vt,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(e){const $=new BufferGeometry,ft=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),vt=[],s=[],Tt={};At("n1","n2"),At("n2","n4"),At("n4","n3"),At("n3","n1"),At("f1","f2"),At("f2","f4"),At("f4","f3"),At("f3","f1"),At("n1","f1"),At("n2","f2"),At("n3","f3"),At("n4","f4"),At("p","n1"),At("p","n2"),At("p","n3"),At("p","n4"),At("u1","u2"),At("u2","u3"),At("u3","u1"),At("c","t"),At("p","c"),At("cn1","cn2"),At("cn3","cn4"),At("cf1","cf2"),At("cf3","cf4");function At(Ft,tn){Rt(Ft),Rt(tn)}function Rt(Ft){vt.push(0,0,0),s.push(0,0,0),Tt[Ft]===void 0&&(Tt[Ft]=[]),Tt[Ft].push(vt.length/3-1)}$.setAttribute("position",new Float32BufferAttribute(vt,3)),$.setAttribute("color",new Float32BufferAttribute(s,3)),super($,ft),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=Tt,this.update();const Dt=new Color(16755200),Nt=new Color(16711680),Wt=new Color(43775),Ht=new Color(16777215),Kt=new Color(3355443);this.setColors(Dt,Nt,Wt,Ht,Kt)}setColors(e,$,ft,vt,s){const At=this.geometry.getAttribute("color");At.setXYZ(0,e.r,e.g,e.b),At.setXYZ(1,e.r,e.g,e.b),At.setXYZ(2,e.r,e.g,e.b),At.setXYZ(3,e.r,e.g,e.b),At.setXYZ(4,e.r,e.g,e.b),At.setXYZ(5,e.r,e.g,e.b),At.setXYZ(6,e.r,e.g,e.b),At.setXYZ(7,e.r,e.g,e.b),At.setXYZ(8,e.r,e.g,e.b),At.setXYZ(9,e.r,e.g,e.b),At.setXYZ(10,e.r,e.g,e.b),At.setXYZ(11,e.r,e.g,e.b),At.setXYZ(12,e.r,e.g,e.b),At.setXYZ(13,e.r,e.g,e.b),At.setXYZ(14,e.r,e.g,e.b),At.setXYZ(15,e.r,e.g,e.b),At.setXYZ(16,e.r,e.g,e.b),At.setXYZ(17,e.r,e.g,e.b),At.setXYZ(18,e.r,e.g,e.b),At.setXYZ(19,e.r,e.g,e.b),At.setXYZ(20,e.r,e.g,e.b),At.setXYZ(21,e.r,e.g,e.b),At.setXYZ(22,e.r,e.g,e.b),At.setXYZ(23,e.r,e.g,e.b),At.setXYZ(24,$.r,$.g,$.b),At.setXYZ(25,$.r,$.g,$.b),At.setXYZ(26,$.r,$.g,$.b),At.setXYZ(27,$.r,$.g,$.b),At.setXYZ(28,$.r,$.g,$.b),At.setXYZ(29,$.r,$.g,$.b),At.setXYZ(30,$.r,$.g,$.b),At.setXYZ(31,$.r,$.g,$.b),At.setXYZ(32,ft.r,ft.g,ft.b),At.setXYZ(33,ft.r,ft.g,ft.b),At.setXYZ(34,ft.r,ft.g,ft.b),At.setXYZ(35,ft.r,ft.g,ft.b),At.setXYZ(36,ft.r,ft.g,ft.b),At.setXYZ(37,ft.r,ft.g,ft.b),At.setXYZ(38,vt.r,vt.g,vt.b),At.setXYZ(39,vt.r,vt.g,vt.b),At.setXYZ(40,s.r,s.g,s.b),At.setXYZ(41,s.r,s.g,s.b),At.setXYZ(42,s.r,s.g,s.b),At.setXYZ(43,s.r,s.g,s.b),At.setXYZ(44,s.r,s.g,s.b),At.setXYZ(45,s.r,s.g,s.b),At.setXYZ(46,s.r,s.g,s.b),At.setXYZ(47,s.r,s.g,s.b),At.setXYZ(48,s.r,s.g,s.b),At.setXYZ(49,s.r,s.g,s.b),At.needsUpdate=!0}update(){const e=this.geometry,$=this.pointMap,ft=1,vt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",$,e,_camera,0,0,-1),setPoint("t",$,e,_camera,0,0,1),setPoint("n1",$,e,_camera,-ft,-vt,-1),setPoint("n2",$,e,_camera,ft,-vt,-1),setPoint("n3",$,e,_camera,-ft,vt,-1),setPoint("n4",$,e,_camera,ft,vt,-1),setPoint("f1",$,e,_camera,-ft,-vt,1),setPoint("f2",$,e,_camera,ft,-vt,1),setPoint("f3",$,e,_camera,-ft,vt,1),setPoint("f4",$,e,_camera,ft,vt,1),setPoint("u1",$,e,_camera,ft*.7,vt*1.1,-1),setPoint("u2",$,e,_camera,-ft*.7,vt*1.1,-1),setPoint("u3",$,e,_camera,0,vt*2,-1),setPoint("cf1",$,e,_camera,-ft,0,1),setPoint("cf2",$,e,_camera,ft,0,1),setPoint("cf3",$,e,_camera,0,-vt,1),setPoint("cf4",$,e,_camera,0,vt,1),setPoint("cn1",$,e,_camera,-ft,0,-1),setPoint("cn2",$,e,_camera,ft,0,-1),setPoint("cn3",$,e,_camera,0,-vt,-1),setPoint("cn4",$,e,_camera,0,vt,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(lt,e,$,ft,vt,s,Tt){_vector.set(vt,s,Tt).unproject(ft);const At=e[lt];if(At!==void 0){const Rt=$.getAttribute("position");for(let Dt=0,Nt=At.length;Dt<Nt;Dt++)Rt.setXYZ(At[Dt],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(e,$=16776960){const ft=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),vt=new Float32Array(8*3),s=new BufferGeometry;s.setIndex(new BufferAttribute(ft,1)),s.setAttribute("position",new BufferAttribute(vt,3)),super(s,new LineBasicMaterial({color:$,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const $=_box.min,ft=_box.max,vt=this.geometry.attributes.position,s=vt.array;s[0]=ft.x,s[1]=ft.y,s[2]=ft.z,s[3]=$.x,s[4]=ft.y,s[5]=ft.z,s[6]=$.x,s[7]=$.y,s[8]=ft.z,s[9]=ft.x,s[10]=$.y,s[11]=ft.z,s[12]=ft.x,s[13]=ft.y,s[14]=$.z,s[15]=$.x,s[16]=ft.y,s[17]=$.z,s[18]=$.x,s[19]=$.y,s[20]=$.z,s[21]=ft.x,s[22]=$.y,s[23]=$.z,vt.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,$){return super.copy(e,$),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(e,$=16776960){const ft=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),vt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new BufferGeometry;s.setIndex(new BufferAttribute(ft,1)),s.setAttribute("position",new Float32BufferAttribute(vt,3)),super(s,new LineBasicMaterial({color:$,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const $=this.box;$.isEmpty()||($.getCenter(this.position),$.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(e,$=1,ft=16776960){const vt=ft,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],Tt=new BufferGeometry;Tt.setAttribute("position",new Float32BufferAttribute(s,3)),Tt.computeBoundingSphere(),super(Tt,new LineBasicMaterial({color:vt,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=$;const At=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],Rt=new BufferGeometry;Rt.setAttribute("position",new Float32BufferAttribute(At,3)),Rt.computeBoundingSphere(),this.add(new Mesh(Rt,new MeshBasicMaterial({color:vt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(e=new Vector3(0,0,1),$=new Vector3(0,0,0),ft=1,vt=16776960,s=ft*.2,Tt=s*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy($),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:vt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:vt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(ft,s,Tt)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(e.z,0,-e.x).normalize();const $=Math.acos(e.y);this.quaternion.setFromAxisAngle(_axis,$)}}setLength(e,$=e*.2,ft=$*.2){this.line.scale.set(1,Math.max(1e-4,e-$),1),this.line.updateMatrix(),this.cone.scale.set(ft,$,ft),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(e=1){const $=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],ft=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],vt=new BufferGeometry;vt.setAttribute("position",new Float32BufferAttribute($,3)),vt.setAttribute("color",new Float32BufferAttribute(ft,3));const s=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(vt,s),this.type="AxesHelper"}setColors(e,$,ft){const vt=new Color,s=this.geometry.attributes.color.array;return vt.set(e),vt.toArray(s,0),vt.toArray(s,3),vt.set($),vt.toArray(s,6),vt.toArray(s,9),vt.set(ft),vt.toArray(s,12),vt.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(e,$){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,$),this}lineTo(e,$){return this.currentPath.lineTo(e,$),this}quadraticCurveTo(e,$,ft,vt){return this.currentPath.quadraticCurveTo(e,$,ft,vt),this}bezierCurveTo(e,$,ft,vt,s,Tt){return this.currentPath.bezierCurveTo(e,$,ft,vt,s,Tt),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function $(fn){const ln=[];for(let dn=0,mn=fn.length;dn<mn;dn++){const xn=fn[dn],Mn=new Shape;Mn.curves=xn.curves,ln.push(Mn)}return ln}function ft(fn,ln){const dn=ln.length;let mn=!1;for(let xn=dn-1,Mn=0;Mn<dn;xn=Mn++){let Tn=ln[xn],vn=ln[Mn],An=vn.x-Tn.x,Pn=vn.y-Tn.y;if(Math.abs(Pn)>Number.EPSILON){if(Pn<0&&(Tn=ln[Mn],An=-An,vn=ln[xn],Pn=-Pn),fn.y<Tn.y||fn.y>vn.y)continue;if(fn.y===Tn.y){if(fn.x===Tn.x)return!0}else{const bn=Pn*(fn.x-Tn.x)-An*(fn.y-Tn.y);if(bn===0)return!0;if(bn<0)continue;mn=!mn}}else{if(fn.y!==Tn.y)continue;if(vn.x<=fn.x&&fn.x<=Tn.x||Tn.x<=fn.x&&fn.x<=vn.x)return!0}}return mn}const vt=ShapeUtils.isClockWise,s=this.subPaths;if(s.length===0)return[];let Tt,At,Rt;const Dt=[];if(s.length===1)return At=s[0],Rt=new Shape,Rt.curves=At.curves,Dt.push(Rt),Dt;let Nt=!vt(s[0].getPoints());Nt=e?!Nt:Nt;const Wt=[],Ht=[];let Kt=[],Ft=0,tn;Ht[Ft]=void 0,Kt[Ft]=[];for(let fn=0,ln=s.length;fn<ln;fn++)At=s[fn],tn=At.getPoints(),Tt=vt(tn),Tt=e?!Tt:Tt,Tt?(!Nt&&Ht[Ft]&&Ft++,Ht[Ft]={s:new Shape,p:tn},Ht[Ft].s.curves=At.curves,Nt&&Ft++,Kt[Ft]=[]):Kt[Ft].push({h:At,p:tn[0]});if(!Ht[0])return $(s);if(Ht.length>1){let fn=!1,ln=0;for(let dn=0,mn=Ht.length;dn<mn;dn++)Wt[dn]=[];for(let dn=0,mn=Ht.length;dn<mn;dn++){const xn=Kt[dn];for(let Mn=0;Mn<xn.length;Mn++){const Tn=xn[Mn];let vn=!0;for(let An=0;An<Ht.length;An++)ft(Tn.p,Ht[An].p)&&(dn!==An&&ln++,vn?(vn=!1,Wt[An].push(Tn)):fn=!0);vn&&Wt[dn].push(Tn)}}ln>0&&fn===!1&&(Kt=Wt)}let cn;for(let fn=0,ln=Ht.length;fn<ln;fn++){Rt=Ht[fn].s,Dt.push(Rt),cn=Kt[fn];for(let dn=0,mn=cn.length;dn<mn;dn++)Rt.holes.push(cn[dn].h)}return Dt}}const _tables=_generateTables();function _generateTables(){const lt=new ArrayBuffer(4),e=new Float32Array(lt),$=new Uint32Array(lt),ft=new Uint32Array(512),vt=new Uint32Array(512);for(let Rt=0;Rt<256;++Rt){const Dt=Rt-127;Dt<-27?(ft[Rt]=0,ft[Rt|256]=32768,vt[Rt]=24,vt[Rt|256]=24):Dt<-14?(ft[Rt]=1024>>-Dt-14,ft[Rt|256]=1024>>-Dt-14|32768,vt[Rt]=-Dt-1,vt[Rt|256]=-Dt-1):Dt<=15?(ft[Rt]=Dt+15<<10,ft[Rt|256]=Dt+15<<10|32768,vt[Rt]=13,vt[Rt|256]=13):Dt<128?(ft[Rt]=31744,ft[Rt|256]=64512,vt[Rt]=24,vt[Rt|256]=24):(ft[Rt]=31744,ft[Rt|256]=64512,vt[Rt]=13,vt[Rt|256]=13)}const s=new Uint32Array(2048),Tt=new Uint32Array(64),At=new Uint32Array(64);for(let Rt=1;Rt<1024;++Rt){let Dt=Rt<<13,Nt=0;for(;!(Dt&8388608);)Dt<<=1,Nt-=8388608;Dt&=-8388609,Nt+=947912704,s[Rt]=Dt|Nt}for(let Rt=1024;Rt<2048;++Rt)s[Rt]=939524096+(Rt-1024<<13);for(let Rt=1;Rt<31;++Rt)Tt[Rt]=Rt<<23;Tt[31]=1199570944,Tt[32]=2147483648;for(let Rt=33;Rt<63;++Rt)Tt[Rt]=2147483648+(Rt-32<<23);Tt[63]=3347054592;for(let Rt=1;Rt<64;++Rt)Rt!==32&&(At[Rt]=1024);return{floatView:e,uint32View:$,baseTable:ft,shiftTable:vt,mantissaTable:s,exponentTable:Tt,offsetTable:At}}function toHalfFloat(lt){Math.abs(lt)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),lt=clamp$1(lt,-65504,65504),_tables.floatView[0]=lt;const e=_tables.uint32View[0],$=e>>23&511;return _tables.baseTable[$]+((e&8388607)>>_tables.shiftTable[$])}function fromHalfFloat(lt){const e=lt>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[e]+(lt&1023)]+_tables.exponentTable[e],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat};class BoxBufferGeometry extends BoxGeometry{constructor(e,$,ft,vt,s,Tt){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,$,ft,vt,s,Tt)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor(e,$,ft,vt){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,$,ft,vt)}}class CircleBufferGeometry extends CircleGeometry{constructor(e,$,ft,vt){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,$,ft,vt)}}class ConeBufferGeometry extends ConeGeometry{constructor(e,$,ft,vt,s,Tt,At){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,$,ft,vt,s,Tt,At)}}class CylinderBufferGeometry extends CylinderGeometry{constructor(e,$,ft,vt,s,Tt,At,Rt){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,$,ft,vt,s,Tt,At,Rt)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor(e,$){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,$)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor(e,$){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,$)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor(e,$){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,$)}}class LatheBufferGeometry extends LatheGeometry{constructor(e,$,ft,vt){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,$,ft,vt)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor(e,$){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,$)}}class PlaneBufferGeometry extends PlaneGeometry{constructor(e,$,ft,vt){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,$,ft,vt)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor(e,$,ft,vt){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,$,ft,vt)}}class RingBufferGeometry extends RingGeometry{constructor(e,$,ft,vt,s,Tt){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,$,ft,vt,s,Tt)}}class ShapeBufferGeometry extends ShapeGeometry{constructor(e,$){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,$)}}class SphereBufferGeometry extends SphereGeometry{constructor(e,$,ft,vt,s,Tt,At){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,$,ft,vt,s,Tt,At)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor(e,$){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,$)}}class TorusBufferGeometry extends TorusGeometry{constructor(e,$,ft,vt,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,$,ft,vt,s)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor(e,$,ft,vt,s,Tt){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,$,ft,vt,s,Tt)}}class TubeBufferGeometry extends TubeGeometry{constructor(e,$,ft,vt,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,$,ft,vt,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const r$1=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio:Audio$1,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers:Layers$1,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material:Material$1,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera:OrthographicCamera$1,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane:Plane$1,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constantsExports={},constants={get exports(){return constantsExports},set exports(lt){constantsExports=lt}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;(function(lt){lt.exports=reactReconcilerConstants_production_min})(constants);function createStore$2(lt){let e;const $=new Set,ft=(Dt,Nt)=>{const Wt=typeof Dt=="function"?Dt(e):Dt;if(Wt!==e){const Ht=e;e=Nt?Wt:Object.assign({},e,Wt),$.forEach(Kt=>Kt(e,Ht))}},vt=()=>e,s=(Dt,Nt=vt,Wt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let Ht=Nt(e);function Kt(){const Ft=Nt(e);if(!Wt(Ht,Ft)){const tn=Ht;Dt(Ht=Ft,tn)}}return $.add(Kt),()=>$.delete(Kt)},Rt={setState:ft,getState:vt,subscribe:(Dt,Nt,Wt)=>Nt||Wt?s(Dt,Nt,Wt):($.add(Dt),()=>$.delete(Dt)),destroy:()=>$.clear()};return e=lt(ft,vt,Rt),Rt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(lt){const e=typeof lt=="function"?createStore$2(lt):lt,$=(ft=e.getState,vt=Object.is)=>{const[,s]=reactExports.useReducer(cn=>cn+1,0),Tt=e.getState(),At=reactExports.useRef(Tt),Rt=reactExports.useRef(ft),Dt=reactExports.useRef(vt),Nt=reactExports.useRef(!1),Wt=reactExports.useRef();Wt.current===void 0&&(Wt.current=ft(Tt));let Ht,Kt=!1;(At.current!==Tt||Rt.current!==ft||Dt.current!==vt||Nt.current)&&(Ht=ft(Tt),Kt=!vt(Wt.current,Ht)),useIsomorphicLayoutEffect$1(()=>{Kt&&(Wt.current=Ht),At.current=Tt,Rt.current=ft,Dt.current=vt,Nt.current=!1});const Ft=reactExports.useRef(Tt);useIsomorphicLayoutEffect$1(()=>{const cn=()=>{try{const ln=e.getState(),dn=Rt.current(ln);Dt.current(Wt.current,dn)||(At.current=ln,Wt.current=dn,s())}catch{Nt.current=!0,s()}},fn=e.subscribe(cn);return e.getState()!==Ft.current&&cn(),fn},[]);const tn=Kt?Ht:Wt.current;return reactExports.useDebugValue(tn),tn};return Object.assign($,e),$[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const ft=[$,e];return{next(){const vt=ft.length<=0;return{value:ft.shift(),done:vt}}}},$}var reactReconcilerExports={},reactReconciler={get exports(){return reactReconcilerExports},set exports(lt){reactReconcilerExports=lt}},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(lt){schedulerExports=lt}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(lt){function e(Un,Gn){var Wn=Un.length;Un.push(Gn);e:for(;0<Wn;){var $n=Wn-1>>>1,zn=Un[$n];if(0<vt(zn,Gn))Un[$n]=Gn,Un[Wn]=zn,Wn=$n;else break e}}function $(Un){return Un.length===0?null:Un[0]}function ft(Un){if(Un.length===0)return null;var Gn=Un[0],Wn=Un.pop();if(Wn!==Gn){Un[0]=Wn;e:for(var $n=0,zn=Un.length,Zn=zn>>>1;$n<Zn;){var tr=2*($n+1)-1,Hn=Un[tr],dr=tr+1,nr=Un[dr];if(0>vt(Hn,Wn))dr<zn&&0>vt(nr,Hn)?(Un[$n]=nr,Un[dr]=Wn,$n=dr):(Un[$n]=Hn,Un[tr]=Wn,$n=tr);else if(dr<zn&&0>vt(nr,Wn))Un[$n]=nr,Un[dr]=Wn,$n=dr;else break e}}return Gn}function vt(Un,Gn){var Wn=Un.sortIndex-Gn.sortIndex;return Wn!==0?Wn:Un.id-Gn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;lt.unstable_now=function(){return s.now()}}else{var Tt=Date,At=Tt.now();lt.unstable_now=function(){return Tt.now()-At}}var Rt=[],Dt=[],Nt=1,Wt=null,Ht=3,Kt=!1,Ft=!1,tn=!1,cn=typeof setTimeout=="function"?setTimeout:null,fn=typeof clearTimeout=="function"?clearTimeout:null,ln=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function dn(Un){for(var Gn=$(Dt);Gn!==null;){if(Gn.callback===null)ft(Dt);else if(Gn.startTime<=Un)ft(Dt),Gn.sortIndex=Gn.expirationTime,e(Rt,Gn);else break;Gn=$(Dt)}}function mn(Un){if(tn=!1,dn(Un),!Ft)if($(Rt)!==null)Ft=!0,Xn(xn);else{var Gn=$(Dt);Gn!==null&&sr(mn,Gn.startTime-Un)}}function xn(Un,Gn){Ft=!1,tn&&(tn=!1,fn(vn),vn=-1),Kt=!0;var Wn=Ht;try{for(dn(Gn),Wt=$(Rt);Wt!==null&&(!(Wt.expirationTime>Gn)||Un&&!bn());){var $n=Wt.callback;if(typeof $n=="function"){Wt.callback=null,Ht=Wt.priorityLevel;var zn=$n(Wt.expirationTime<=Gn);Gn=lt.unstable_now(),typeof zn=="function"?Wt.callback=zn:Wt===$(Rt)&&ft(Rt),dn(Gn)}else ft(Rt);Wt=$(Rt)}if(Wt!==null)var Zn=!0;else{var tr=$(Dt);tr!==null&&sr(mn,tr.startTime-Gn),Zn=!1}return Zn}finally{Wt=null,Ht=Wn,Kt=!1}}var Mn=!1,Tn=null,vn=-1,An=5,Pn=-1;function bn(){return!(lt.unstable_now()-Pn<An)}function In(){if(Tn!==null){var Un=lt.unstable_now();Pn=Un;var Gn=!0;try{Gn=Tn(!0,Un)}finally{Gn?On():(Mn=!1,Tn=null)}}else Mn=!1}var On;if(typeof ln=="function")On=function(){ln(In)};else if(typeof MessageChannel<"u"){var Nn=new MessageChannel,Yn=Nn.port2;Nn.port1.onmessage=In,On=function(){Yn.postMessage(null)}}else On=function(){cn(In,0)};function Xn(Un){Tn=Un,Mn||(Mn=!0,On())}function sr(Un,Gn){vn=cn(function(){Un(lt.unstable_now())},Gn)}lt.unstable_IdlePriority=5,lt.unstable_ImmediatePriority=1,lt.unstable_LowPriority=4,lt.unstable_NormalPriority=3,lt.unstable_Profiling=null,lt.unstable_UserBlockingPriority=2,lt.unstable_cancelCallback=function(Un){Un.callback=null},lt.unstable_continueExecution=function(){Ft||Kt||(Ft=!0,Xn(xn))},lt.unstable_forceFrameRate=function(Un){0>Un||125<Un?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):An=0<Un?Math.floor(1e3/Un):5},lt.unstable_getCurrentPriorityLevel=function(){return Ht},lt.unstable_getFirstCallbackNode=function(){return $(Rt)},lt.unstable_next=function(Un){switch(Ht){case 1:case 2:case 3:var Gn=3;break;default:Gn=Ht}var Wn=Ht;Ht=Gn;try{return Un()}finally{Ht=Wn}},lt.unstable_pauseExecution=function(){},lt.unstable_requestPaint=function(){},lt.unstable_runWithPriority=function(Un,Gn){switch(Un){case 1:case 2:case 3:case 4:case 5:break;default:Un=3}var Wn=Ht;Ht=Un;try{return Gn()}finally{Ht=Wn}},lt.unstable_scheduleCallback=function(Un,Gn,Wn){var $n=lt.unstable_now();switch(typeof Wn=="object"&&Wn!==null?(Wn=Wn.delay,Wn=typeof Wn=="number"&&0<Wn?$n+Wn:$n):Wn=$n,Un){case 1:var zn=-1;break;case 2:zn=250;break;case 5:zn=1073741823;break;case 4:zn=1e4;break;default:zn=5e3}return zn=Wn+zn,Un={id:Nt++,callback:Gn,priorityLevel:Un,startTime:Wn,expirationTime:zn,sortIndex:-1},Wn>$n?(Un.sortIndex=Wn,e(Dt,Un),$(Rt)===null&&Un===$(Dt)&&(tn?(fn(vn),vn=-1):tn=!0,sr(mn,Wn-$n))):(Un.sortIndex=zn,e(Rt,Un),Ft||Kt||(Ft=!0,Xn(xn))),Un},lt.unstable_shouldYield=bn,lt.unstable_wrapCallback=function(Un){var Gn=Ht;return function(){var Wn=Ht;Ht=Gn;try{return Un.apply(this,arguments)}finally{Ht=Wn}}}})(scheduler_production_min);(function(lt){lt.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(e){var $={},ft=reactExports,vt=schedulerExports,s=Object.assign;function Tt(Bt){for(var zt="https://reactjs.org/docs/error-decoder.html?invariant="+Bt,an=1;an<arguments.length;an++)zt+="&args[]="+encodeURIComponent(arguments[an]);return"Minified React error #"+Bt+"; visit "+zt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var At=ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rt=Symbol.for("react.element"),Dt=Symbol.for("react.portal"),Nt=Symbol.for("react.fragment"),Wt=Symbol.for("react.strict_mode"),Ht=Symbol.for("react.profiler"),Kt=Symbol.for("react.provider"),Ft=Symbol.for("react.context"),tn=Symbol.for("react.forward_ref"),cn=Symbol.for("react.suspense"),fn=Symbol.for("react.suspense_list"),ln=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),mn=Symbol.for("react.offscreen"),xn=Symbol.iterator;function Mn(Bt){return Bt===null||typeof Bt!="object"?null:(Bt=xn&&Bt[xn]||Bt["@@iterator"],typeof Bt=="function"?Bt:null)}function Tn(Bt){if(Bt==null)return null;if(typeof Bt=="function")return Bt.displayName||Bt.name||null;if(typeof Bt=="string")return Bt;switch(Bt){case Nt:return"Fragment";case Dt:return"Portal";case Ht:return"Profiler";case Wt:return"StrictMode";case cn:return"Suspense";case fn:return"SuspenseList"}if(typeof Bt=="object")switch(Bt.$$typeof){case Ft:return(Bt.displayName||"Context")+".Consumer";case Kt:return(Bt._context.displayName||"Context")+".Provider";case tn:var zt=Bt.render;return Bt=Bt.displayName,Bt||(Bt=zt.displayName||zt.name||"",Bt=Bt!==""?"ForwardRef("+Bt+")":"ForwardRef"),Bt;case ln:return zt=Bt.displayName||null,zt!==null?zt:Tn(Bt.type)||"Memo";case dn:zt=Bt._payload,Bt=Bt._init;try{return Tn(Bt(zt))}catch{}}return null}function vn(Bt){var zt=Bt.type;switch(Bt.tag){case 24:return"Cache";case 9:return(zt.displayName||"Context")+".Consumer";case 10:return(zt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Bt=zt.render,Bt=Bt.displayName||Bt.name||"",zt.displayName||(Bt!==""?"ForwardRef("+Bt+")":"ForwardRef");case 7:return"Fragment";case 5:return zt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tn(zt);case 8:return zt===Wt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof zt=="function")return zt.displayName||zt.name||null;if(typeof zt=="string")return zt}return null}function An(Bt){var zt=Bt,an=Bt;if(Bt.alternate)for(;zt.return;)zt=zt.return;else{Bt=zt;do zt=Bt,zt.flags&4098&&(an=zt.return),Bt=zt.return;while(Bt)}return zt.tag===3?an:null}function Pn(Bt){if(An(Bt)!==Bt)throw Error(Tt(188))}function bn(Bt){var zt=Bt.alternate;if(!zt){if(zt=An(Bt),zt===null)throw Error(Tt(188));return zt!==Bt?null:Bt}for(var an=Bt,hn=zt;;){var yn=an.return;if(yn===null)break;var Cn=yn.alternate;if(Cn===null){if(hn=yn.return,hn!==null){an=hn;continue}break}if(yn.child===Cn.child){for(Cn=yn.child;Cn;){if(Cn===an)return Pn(yn),Bt;if(Cn===hn)return Pn(yn),zt;Cn=Cn.sibling}throw Error(Tt(188))}if(an.return!==hn.return)an=yn,hn=Cn;else{for(var Vn=!1,ir=yn.child;ir;){if(ir===an){Vn=!0,an=yn,hn=Cn;break}if(ir===hn){Vn=!0,hn=yn,an=Cn;break}ir=ir.sibling}if(!Vn){for(ir=Cn.child;ir;){if(ir===an){Vn=!0,an=Cn,hn=yn;break}if(ir===hn){Vn=!0,hn=Cn,an=yn;break}ir=ir.sibling}if(!Vn)throw Error(Tt(189))}}if(an.alternate!==hn)throw Error(Tt(190))}if(an.tag!==3)throw Error(Tt(188));return an.stateNode.current===an?Bt:zt}function In(Bt){return Bt=bn(Bt),Bt!==null?On(Bt):null}function On(Bt){if(Bt.tag===5||Bt.tag===6)return Bt;for(Bt=Bt.child;Bt!==null;){var zt=On(Bt);if(zt!==null)return zt;Bt=Bt.sibling}return null}function Nn(Bt){if(Bt.tag===5||Bt.tag===6)return Bt;for(Bt=Bt.child;Bt!==null;){if(Bt.tag!==4){var zt=Nn(Bt);if(zt!==null)return zt}Bt=Bt.sibling}return null}var Yn=Array.isArray,Xn=e.getPublicInstance,sr=e.getRootHostContext,Un=e.getChildHostContext,Gn=e.prepareForCommit,Wn=e.resetAfterCommit,$n=e.createInstance,zn=e.appendInitialChild,Zn=e.finalizeInitialChildren,tr=e.prepareUpdate,Hn=e.shouldSetTextContent,dr=e.createTextInstance,nr=e.scheduleTimeout,hr=e.cancelTimeout,Pr=e.noTimeout,Vr=e.isPrimaryRenderer,kr=e.supportsMutation,Zt=e.supportsPersistence,ur=e.supportsHydration,Br=e.getInstanceFromNode,zr=e.preparePortalMount,Dr=e.getCurrentEventPriority,Jr=e.detachDeletedInstance,xr=e.supportsMicrotasks,jr=e.scheduleMicrotask,qr=e.supportsTestSelectors,Tr=e.findFiberRoot,Bn=e.getBoundingRect,Ln=e.getTextContent,Jn=e.isHiddenSubtree,yr=e.matchAccessibilityRole,Wr=e.setFocusIfFocusable,Yr=e.setupIntersectionObserver,Xr=e.appendChild,Kr=e.appendChildToContainer,Cr=e.commitTextUpdate,eo=e.commitMount,jn=e.commitUpdate,gr=e.insertBefore,Ar=e.insertInContainerBefore,Rr=e.removeChild,Qr=e.removeChildFromContainer,po=e.resetTextContent,_o=e.hideInstance,qn=e.hideTextInstance,mr=e.unhideInstance,Nr=e.unhideTextInstance,to=e.clearContainer,oo=e.cloneInstance,Vo=e.createContainerChildSet,qo=e.appendChildToContainerChildSet,Yo=e.finalizeContainerChildren,Fo=e.replaceContainerChildren,Zo=e.cloneHiddenInstance,Uo=e.cloneHiddenTextInstance,No=e.canHydrateInstance,ws=e.canHydrateTextInstance,Ls=e.canHydrateSuspenseInstance,rs=e.isSuspenseInstancePending,Dn=e.isSuspenseInstanceFallback,pr=e.registerSuspenseInstanceRetry,Sr=e.getNextHydratableSibling,ar=e.getFirstHydratableChild,br=e.getFirstHydratableChildWithinContainer,yo=e.getFirstHydratableChildWithinSuspenseInstance,wo=e.hydrateInstance,Io=e.hydrateTextInstance,zo=e.hydrateSuspenseInstance,Qo=e.getNextHydratableInstanceAfterSuspenseInstance,Ho=e.commitHydratedContainer,Xo=e.commitHydratedSuspenseInstance,go=e.clearSuspenseBoundary,Gs=e.clearSuspenseBoundaryFromContainer,Ks=e.shouldDeleteUnhydratedTailInstances,Xl=e.didNotMatchHydratedContainerTextInstance,gs=e.didNotMatchHydratedTextInstance,Zr;function Dl(Bt){if(Zr===void 0)try{throw Error()}catch(an){var zt=an.stack.trim().match(/\n( *(at )?)/);Zr=zt&&zt[1]||""}return`
`+Zr+Bt}var _s=!1;function Us(Bt,zt){if(!Bt||_s)return"";_s=!0;var an=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(zt)if(zt=function(){throw Error()},Object.defineProperty(zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zt,[])}catch(_i){var hn=_i}Reflect.construct(Bt,[],zt)}else{try{zt.call()}catch(_i){hn=_i}Bt.call(zt.prototype)}else{try{throw Error()}catch(_i){hn=_i}Bt()}}catch(_i){if(_i&&hn&&typeof _i.stack=="string"){for(var yn=_i.stack.split(`
`),Cn=hn.stack.split(`
`),Vn=yn.length-1,ir=Cn.length-1;1<=Vn&&0<=ir&&yn[Vn]!==Cn[ir];)ir--;for(;1<=Vn&&0<=ir;Vn--,ir--)if(yn[Vn]!==Cn[ir]){if(Vn!==1||ir!==1)do if(Vn--,ir--,0>ir||yn[Vn]!==Cn[ir]){var Fr=`
`+yn[Vn].replace(" at new "," at ");return Bt.displayName&&Fr.includes("<anonymous>")&&(Fr=Fr.replace("<anonymous>",Bt.displayName)),Fr}while(1<=Vn&&0<=ir);break}}}finally{_s=!1,Error.prepareStackTrace=an}return(Bt=Bt?Bt.displayName||Bt.name:"")?Dl(Bt):""}var h0=Object.prototype.hasOwnProperty,Ol=[],Ml=-1;function us(Bt){return{current:Bt}}function os(Bt){0>Ml||(Bt.current=Ol[Ml],Ol[Ml]=null,Ml--)}function ss(Bt,zt){Ml++,Ol[Ml]=Bt.current,Bt.current=zt}var ps={},Ms=us(ps),Hr=us(!1),Zs=ps;function bu(Bt,zt){var an=Bt.type.contextTypes;if(!an)return ps;var hn=Bt.stateNode;if(hn&&hn.__reactInternalMemoizedUnmaskedChildContext===zt)return hn.__reactInternalMemoizedMaskedChildContext;var yn={},Cn;for(Cn in an)yn[Cn]=zt[Cn];return hn&&(Bt=Bt.stateNode,Bt.__reactInternalMemoizedUnmaskedChildContext=zt,Bt.__reactInternalMemoizedMaskedChildContext=yn),yn}function Cs(Bt){return Bt=Bt.childContextTypes,Bt!=null}function p0(){os(Hr),os(Ms)}function mp(Bt,zt,an){if(Ms.current!==ps)throw Error(Tt(168));ss(Ms,zt),ss(Hr,an)}function gp(Bt,zt,an){var hn=Bt.stateNode;if(zt=zt.childContextTypes,typeof hn.getChildContext!="function")return an;hn=hn.getChildContext();for(var yn in hn)if(!(yn in zt))throw Error(Tt(108,vn(Bt)||"Unknown",yn));return s({},an,hn)}function Iu(Bt){return Bt=(Bt=Bt.stateNode)&&Bt.__reactInternalMemoizedMergedChildContext||ps,Zs=Ms.current,ss(Ms,Bt),ss(Hr,Hr.current),!0}function O1(Bt,zt,an){var hn=Bt.stateNode;if(!hn)throw Error(Tt(169));an?(Bt=gp(Bt,zt,Zs),hn.__reactInternalMemoizedMergedChildContext=Bt,os(Hr),os(Ms),ss(Ms,Bt)):os(Hr),ss(Hr,an)}var Qs=Math.clz32?Math.clz32:t1,ro=Math.log,Rs=Math.LN2;function t1(Bt){return Bt>>>=0,Bt===0?32:31-(ro(Bt)/Rs|0)|0}var _u=64,Qu=4194304;function Du(Bt){switch(Bt&-Bt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Bt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Bt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Bt}}function D0(Bt,zt){var an=Bt.pendingLanes;if(an===0)return 0;var hn=0,yn=Bt.suspendedLanes,Cn=Bt.pingedLanes,Vn=an&268435455;if(Vn!==0){var ir=Vn&~yn;ir!==0?hn=Du(ir):(Cn&=Vn,Cn!==0&&(hn=Du(Cn)))}else Vn=an&~yn,Vn!==0?hn=Du(Vn):Cn!==0&&(hn=Du(Cn));if(hn===0)return 0;if(zt!==0&&zt!==hn&&!(zt&yn)&&(yn=hn&-hn,Cn=zt&-zt,yn>=Cn||yn===16&&(Cn&4194240)!==0))return zt;if(hn&4&&(hn|=an&16),zt=Bt.entangledLanes,zt!==0)for(Bt=Bt.entanglements,zt&=hn;0<zt;)an=31-Qs(zt),yn=1<<an,hn|=Bt[an],zt&=~yn;return hn}function F1(Bt,zt){switch(Bt){case 1:case 2:case 4:return zt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return zt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vp(Bt,zt){for(var an=Bt.suspendedLanes,hn=Bt.pingedLanes,yn=Bt.expirationTimes,Cn=Bt.pendingLanes;0<Cn;){var Vn=31-Qs(Cn),ir=1<<Vn,Fr=yn[Vn];Fr===-1?(!(ir&an)||ir&hn)&&(yn[Vn]=F1(ir,zt)):Fr<=zt&&(Bt.expiredLanes|=ir),Cn&=~ir}}function Ws(Bt){return Bt=Bt.pendingLanes&-1073741825,Bt!==0?Bt:Bt&1073741824?1073741824:0}function Fl(Bt){for(var zt=[],an=0;31>an;an++)zt.push(Bt);return zt}function yu(Bt,zt,an){Bt.pendingLanes|=zt,zt!==536870912&&(Bt.suspendedLanes=0,Bt.pingedLanes=0),Bt=Bt.eventTimes,zt=31-Qs(zt),Bt[zt]=an}function m0(Bt,zt){var an=Bt.pendingLanes&~zt;Bt.pendingLanes=zt,Bt.suspendedLanes=0,Bt.pingedLanes=0,Bt.expiredLanes&=zt,Bt.mutableReadLanes&=zt,Bt.entangledLanes&=zt,zt=Bt.entanglements;var hn=Bt.eventTimes;for(Bt=Bt.expirationTimes;0<an;){var yn=31-Qs(an),Cn=1<<yn;zt[yn]=0,hn[yn]=-1,Bt[yn]=-1,an&=~Cn}}function Ou(Bt,zt){var an=Bt.entangledLanes|=zt;for(Bt=Bt.entanglements;an;){var hn=31-Qs(an),yn=1<<hn;yn&zt|Bt[hn]&zt&&(Bt[hn]|=zt),an&=~yn}}var Lo=0;function n1(Bt){return Bt&=-Bt,1<Bt?4<Bt?Bt&268435455?16:536870912:4:1}var Ju=vt.unstable_scheduleCallback,_p=vt.unstable_cancelCallback,r1=vt.unstable_shouldYield,i1=vt.unstable_requestPaint,ys=vt.unstable_now,Fu=vt.unstable_ImmediatePriority,N1=vt.unstable_UserBlockingPriority,Co=vt.unstable_NormalPriority,o1=vt.unstable_IdlePriority,g0=null,Kl=null;function s1(Bt){if(Kl&&typeof Kl.onCommitFiberRoot=="function")try{Kl.onCommitFiberRoot(g0,Bt,void 0,(Bt.current.flags&128)===128)}catch{}}function yp(Bt,zt){return Bt===zt&&(Bt!==0||1/Bt===1/zt)||Bt!==Bt&&zt!==zt}var Zl=typeof Object.is=="function"?Object.is:yp,El=null,Nu=!1,Ql=!1;function a1(Bt){El===null?El=[Bt]:El.push(Bt)}function l1(Bt){Nu=!0,a1(Bt)}function Nl(){if(!Ql&&El!==null){Ql=!0;var Bt=0,zt=Lo;try{var an=El;for(Lo=1;Bt<an.length;Bt++){var hn=an[Bt];do hn=hn(!0);while(hn!==null)}El=null,Nu=!1}catch(yn){throw El!==null&&(El=El.slice(Bt+1)),Ju(Fu,Nl),yn}finally{Lo=zt,Ql=!1}}return null}var O0=At.ReactCurrentBatchConfig;function F0(Bt,zt){if(Zl(Bt,zt))return!0;if(typeof Bt!="object"||Bt===null||typeof zt!="object"||zt===null)return!1;var an=Object.keys(Bt),hn=Object.keys(zt);if(an.length!==hn.length)return!1;for(hn=0;hn<an.length;hn++){var yn=an[hn];if(!h0.call(zt,yn)||!Zl(Bt[yn],zt[yn]))return!1}return!0}function N0(Bt){switch(Bt.tag){case 5:return Dl(Bt.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return Bt=Us(Bt.type,!1),Bt;case 11:return Bt=Us(Bt.type.render,!1),Bt;case 1:return Bt=Us(Bt.type,!0),Bt;default:return""}}function Js(Bt,zt){if(Bt&&Bt.defaultProps){zt=s({},zt),Bt=Bt.defaultProps;for(var an in Bt)zt[an]===void 0&&(zt[an]=Bt[an]);return zt}return zt}var zs=us(null),xp=null,xu=null,v0=null;function Sp(){v0=xu=xp=null}function B1(Bt,zt,an){Vr?(ss(zs,zt._currentValue),zt._currentValue=an):(ss(zs,zt._currentValue2),zt._currentValue2=an)}function Bu(Bt){var zt=zs.current;os(zs),Vr?Bt._currentValue=zt:Bt._currentValue2=zt}function bs(Bt,zt,an){for(;Bt!==null;){var hn=Bt.alternate;if((Bt.childLanes&zt)!==zt?(Bt.childLanes|=zt,hn!==null&&(hn.childLanes|=zt)):hn!==null&&(hn.childLanes&zt)!==zt&&(hn.childLanes|=zt),Bt===an)break;Bt=Bt.return}}function $s(Bt,zt){xp=Bt,v0=xu=null,Bt=Bt.dependencies,Bt!==null&&Bt.firstContext!==null&&(Bt.lanes&zt&&(tu=!0),Bt.firstContext=null)}function ds(Bt){var zt=Vr?Bt._currentValue:Bt._currentValue2;if(v0!==Bt)if(Bt={context:Bt,memoizedValue:zt,next:null},xu===null){if(xp===null)throw Error(Tt(308));xu=Bt,xp.dependencies={lanes:0,firstContext:Bt}}else xu=xu.next=Bt;return zt}var Fs=null,Su=!1;function E2(Bt){Bt.updateQueue={baseState:Bt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mm(Bt,zt){Bt=Bt.updateQueue,zt.updateQueue===Bt&&(zt.updateQueue={baseState:Bt.baseState,firstBaseUpdate:Bt.firstBaseUpdate,lastBaseUpdate:Bt.lastBaseUpdate,shared:Bt.shared,effects:Bt.effects})}function e0(Bt,zt){return{eventTime:Bt,lane:zt,tag:0,payload:null,callback:null,next:null}}function _0(Bt,zt){var an=Bt.updateQueue;an!==null&&(an=an.shared,Is!==null&&Bt.mode&1&&!(Ko&2)?(Bt=an.interleaved,Bt===null?(zt.next=zt,Fs===null?Fs=[an]:Fs.push(an)):(zt.next=Bt.next,Bt.next=zt),an.interleaved=zt):(Bt=an.pending,Bt===null?zt.next=zt:(zt.next=Bt.next,Bt.next=zt),an.pending=zt))}function U1(Bt,zt,an){if(zt=zt.updateQueue,zt!==null&&(zt=zt.shared,(an&4194240)!==0)){var hn=zt.lanes;hn&=Bt.pendingLanes,an|=hn,zt.lanes=an,Ou(Bt,an)}}function Em(Bt,zt){var an=Bt.updateQueue,hn=Bt.alternate;if(hn!==null&&(hn=hn.updateQueue,an===hn)){var yn=null,Cn=null;if(an=an.firstBaseUpdate,an!==null){do{var Vn={eventTime:an.eventTime,lane:an.lane,tag:an.tag,payload:an.payload,callback:an.callback,next:null};Cn===null?yn=Cn=Vn:Cn=Cn.next=Vn,an=an.next}while(an!==null);Cn===null?yn=Cn=zt:Cn=Cn.next=zt}else yn=Cn=zt;an={baseState:hn.baseState,firstBaseUpdate:yn,lastBaseUpdate:Cn,shared:hn.shared,effects:hn.effects},Bt.updateQueue=an;return}Bt=an.lastBaseUpdate,Bt===null?an.firstBaseUpdate=zt:Bt.next=zt,an.lastBaseUpdate=zt}function z1(Bt,zt,an,hn){var yn=Bt.updateQueue;Su=!1;var Cn=yn.firstBaseUpdate,Vn=yn.lastBaseUpdate,ir=yn.shared.pending;if(ir!==null){yn.shared.pending=null;var Fr=ir,_i=Fr.next;Fr.next=null,Vn===null?Cn=_i:Vn.next=_i,Vn=Fr;var vo=Bt.alternate;vo!==null&&(vo=vo.updateQueue,ir=vo.lastBaseUpdate,ir!==Vn&&(ir===null?vo.firstBaseUpdate=_i:ir.next=_i,vo.lastBaseUpdate=Fr))}if(Cn!==null){var so=yn.baseState;Vn=0,vo=_i=Fr=null,ir=Cn;do{var ko=ir.lane,hs=ir.eventTime;if((hn&ko)===ko){vo!==null&&(vo=vo.next={eventTime:hs,lane:0,tag:ir.tag,payload:ir.payload,callback:ir.callback,next:null});e:{var To=Bt,lo=ir;switch(ko=zt,hs=an,lo.tag){case 1:if(To=lo.payload,typeof To=="function"){so=To.call(hs,so,ko);break e}so=To;break e;case 3:To.flags=To.flags&-65537|128;case 0:if(To=lo.payload,ko=typeof To=="function"?To.call(hs,so,ko):To,ko==null)break e;so=s({},so,ko);break e;case 2:Su=!0}}ir.callback!==null&&ir.lane!==0&&(Bt.flags|=64,ko=yn.effects,ko===null?yn.effects=[ir]:ko.push(ir))}else hs={eventTime:hs,lane:ko,tag:ir.tag,payload:ir.payload,callback:ir.callback,next:null},vo===null?(_i=vo=hs,Fr=so):vo=vo.next=hs,Vn|=ko;if(ir=ir.next,ir===null){if(ir=yn.shared.pending,ir===null)break;ko=ir,ir=ko.next,ko.next=null,yn.lastBaseUpdate=ko,yn.shared.pending=null}}while(1);if(vo===null&&(Fr=so),yn.baseState=Fr,yn.firstBaseUpdate=_i,yn.lastBaseUpdate=vo,zt=yn.shared.interleaved,zt!==null){yn=zt;do Vn|=yn.lane,yn=yn.next;while(yn!==zt)}else Cn===null&&(yn.shared.lanes=0);Fp|=Vn,Bt.lanes=Vn,Bt.memoizedState=so}}function Tm(Bt,zt,an){if(Bt=zt.effects,zt.effects=null,Bt!==null)for(zt=0;zt<Bt.length;zt++){var hn=Bt[zt],yn=hn.callback;if(yn!==null){if(hn.callback=null,hn=an,typeof yn!="function")throw Error(Tt(191,yn));yn.call(hn)}}}var Am=new ft.Component().refs;function T2(Bt,zt,an,hn){zt=Bt.memoizedState,an=an(hn,zt),an=an==null?zt:s({},zt,an),Bt.memoizedState=an,Bt.lanes===0&&(Bt.updateQueue.baseState=an)}var $1={isMounted:function(Bt){return(Bt=Bt._reactInternals)?An(Bt)===Bt:!1},enqueueSetState:function(Bt,zt,an){Bt=Bt._reactInternals;var hn=Al(),yn=E0(Bt),Cn=e0(hn,yn);Cn.payload=zt,an!=null&&(Cn.callback=an),_0(Bt,Cn),zt=du(Bt,yn,hn),zt!==null&&U1(zt,Bt,yn)},enqueueReplaceState:function(Bt,zt,an){Bt=Bt._reactInternals;var hn=Al(),yn=E0(Bt),Cn=e0(hn,yn);Cn.tag=1,Cn.payload=zt,an!=null&&(Cn.callback=an),_0(Bt,Cn),zt=du(Bt,yn,hn),zt!==null&&U1(zt,Bt,yn)},enqueueForceUpdate:function(Bt,zt){Bt=Bt._reactInternals;var an=Al(),hn=E0(Bt),yn=e0(an,hn);yn.tag=2,zt!=null&&(yn.callback=zt),_0(Bt,yn),zt=du(Bt,hn,an),zt!==null&&U1(zt,Bt,hn)}};function Cm(Bt,zt,an,hn,yn,Cn,Vn){return Bt=Bt.stateNode,typeof Bt.shouldComponentUpdate=="function"?Bt.shouldComponentUpdate(hn,Cn,Vn):zt.prototype&&zt.prototype.isPureReactComponent?!F0(an,hn)||!F0(yn,Cn):!0}function Pm(Bt,zt,an){var hn=!1,yn=ps,Cn=zt.contextType;return typeof Cn=="object"&&Cn!==null?Cn=ds(Cn):(yn=Cs(zt)?Zs:Ms.current,hn=zt.contextTypes,Cn=(hn=hn!=null)?bu(Bt,yn):ps),zt=new zt(an,Cn),Bt.memoizedState=zt.state!==null&&zt.state!==void 0?zt.state:null,zt.updater=$1,Bt.stateNode=zt,zt._reactInternals=Bt,hn&&(Bt=Bt.stateNode,Bt.__reactInternalMemoizedUnmaskedChildContext=yn,Bt.__reactInternalMemoizedMaskedChildContext=Cn),zt}function km(Bt,zt,an,hn){Bt=zt.state,typeof zt.componentWillReceiveProps=="function"&&zt.componentWillReceiveProps(an,hn),typeof zt.UNSAFE_componentWillReceiveProps=="function"&&zt.UNSAFE_componentWillReceiveProps(an,hn),zt.state!==Bt&&$1.enqueueReplaceState(zt,zt.state,null)}function A2(Bt,zt,an,hn){var yn=Bt.stateNode;yn.props=an,yn.state=Bt.memoizedState,yn.refs=Am,E2(Bt);var Cn=zt.contextType;typeof Cn=="object"&&Cn!==null?yn.context=ds(Cn):(Cn=Cs(zt)?Zs:Ms.current,yn.context=bu(Bt,Cn)),yn.state=Bt.memoizedState,Cn=zt.getDerivedStateFromProps,typeof Cn=="function"&&(T2(Bt,zt,Cn,an),yn.state=Bt.memoizedState),typeof zt.getDerivedStateFromProps=="function"||typeof yn.getSnapshotBeforeUpdate=="function"||typeof yn.UNSAFE_componentWillMount!="function"&&typeof yn.componentWillMount!="function"||(zt=yn.state,typeof yn.componentWillMount=="function"&&yn.componentWillMount(),typeof yn.UNSAFE_componentWillMount=="function"&&yn.UNSAFE_componentWillMount(),zt!==yn.state&&$1.enqueueReplaceState(yn,yn.state,null),z1(Bt,an,yn,hn),yn.state=Bt.memoizedState),typeof yn.componentDidMount=="function"&&(Bt.flags|=4194308)}var wp=[],Mp=0,V1=null,G1=0,su=[],au=0,B0=null,t0=1,n0="";function U0(Bt,zt){wp[Mp++]=G1,wp[Mp++]=V1,V1=Bt,G1=zt}function Lm(Bt,zt,an){su[au++]=t0,su[au++]=n0,su[au++]=B0,B0=Bt;var hn=t0;Bt=n0;var yn=32-Qs(hn)-1;hn&=~(1<<yn),an+=1;var Cn=32-Qs(zt)+yn;if(30<Cn){var Vn=yn-yn%5;Cn=(hn&(1<<Vn)-1).toString(32),hn>>=Vn,yn-=Vn,t0=1<<32-Qs(zt)+yn|an<<yn|hn,n0=Cn+Bt}else t0=1<<Cn|an<<yn|hn,n0=Bt}function C2(Bt){Bt.return!==null&&(U0(Bt,1),Lm(Bt,1,0))}function P2(Bt){for(;Bt===V1;)V1=wp[--Mp],wp[Mp]=null,G1=wp[--Mp],wp[Mp]=null;for(;Bt===B0;)B0=su[--au],su[au]=null,n0=su[--au],su[au]=null,t0=su[--au],su[au]=null}var Jl=null,eu=null,xs=!1,u1=!1,wu=null;function Rm(Bt,zt){var an=pu(5,null,null,0);an.elementType="DELETED",an.stateNode=zt,an.return=Bt,zt=Bt.deletions,zt===null?(Bt.deletions=[an],Bt.flags|=16):zt.push(an)}function bm(Bt,zt){switch(Bt.tag){case 5:return zt=No(zt,Bt.type,Bt.pendingProps),zt!==null?(Bt.stateNode=zt,Jl=Bt,eu=ar(zt),!0):!1;case 6:return zt=ws(zt,Bt.pendingProps),zt!==null?(Bt.stateNode=zt,Jl=Bt,eu=null,!0):!1;case 13:if(zt=Ls(zt),zt!==null){var an=B0!==null?{id:t0,overflow:n0}:null;return Bt.memoizedState={dehydrated:zt,treeContext:an,retryLane:1073741824},an=pu(18,null,null,0),an.stateNode=zt,an.return=Bt,Bt.child=an,Jl=Bt,eu=null,!0}return!1;default:return!1}}function k2(Bt){return(Bt.mode&1)!==0&&(Bt.flags&128)===0}function L2(Bt){if(xs){var zt=eu;if(zt){var an=zt;if(!bm(Bt,zt)){if(k2(Bt))throw Error(Tt(418));zt=Sr(an);var hn=Jl;zt&&bm(Bt,zt)?Rm(hn,an):(Bt.flags=Bt.flags&-4097|2,xs=!1,Jl=Bt)}}else{if(k2(Bt))throw Error(Tt(418));Bt.flags=Bt.flags&-4097|2,xs=!1,Jl=Bt}}}function Im(Bt){for(Bt=Bt.return;Bt!==null&&Bt.tag!==5&&Bt.tag!==3&&Bt.tag!==13;)Bt=Bt.return;Jl=Bt}function c1(Bt){if(!ur||Bt!==Jl)return!1;if(!xs)return Im(Bt),xs=!0,!1;if(Bt.tag!==3&&(Bt.tag!==5||Ks(Bt.type)&&!Hn(Bt.type,Bt.memoizedProps))){var zt=eu;if(zt){if(k2(Bt)){for(Bt=eu;Bt;)Bt=Sr(Bt);throw Error(Tt(418))}for(;zt;)Rm(Bt,zt),zt=Sr(zt)}}if(Im(Bt),Bt.tag===13){if(!ur)throw Error(Tt(316));if(Bt=Bt.memoizedState,Bt=Bt!==null?Bt.dehydrated:null,!Bt)throw Error(Tt(317));eu=Qo(Bt)}else eu=Jl?Sr(Bt.stateNode):null;return!0}function z0(){ur&&(eu=Jl=null,u1=xs=!1)}function W1(Bt){wu===null?wu=[Bt]:wu.push(Bt)}function Ep(Bt,zt,an){if(Bt=an.ref,Bt!==null&&typeof Bt!="function"&&typeof Bt!="object"){if(an._owner){if(an=an._owner,an){if(an.tag!==1)throw Error(Tt(309));var hn=an.stateNode}if(!hn)throw Error(Tt(147,Bt));var yn=hn,Cn=""+Bt;return zt!==null&&zt.ref!==null&&typeof zt.ref=="function"&&zt.ref._stringRef===Cn?zt.ref:(zt=function(Vn){var ir=yn.refs;ir===Am&&(ir=yn.refs={}),Vn===null?delete ir[Cn]:ir[Cn]=Vn},zt._stringRef=Cn,zt)}if(typeof Bt!="string")throw Error(Tt(284));if(!an._owner)throw Error(Tt(290,Bt))}return Bt}function f1(Bt,zt){throw Bt=Object.prototype.toString.call(zt),Error(Tt(31,Bt==="[object Object]"?"object with keys {"+Object.keys(zt).join(", ")+"}":Bt))}function R2(Bt){var zt=Bt._init;return zt(Bt._payload)}function b2(Bt){function zt(wr,fr){if(Bt){var Ir=wr.deletions;Ir===null?(wr.deletions=[fr],wr.flags|=16):Ir.push(fr)}}function an(wr,fr){if(!Bt)return null;for(;fr!==null;)zt(wr,fr),fr=fr.sibling;return null}function hn(wr,fr){for(wr=new Map;fr!==null;)fr.key!==null?wr.set(fr.key,fr):wr.set(fr.index,fr),fr=fr.sibling;return wr}function yn(wr,fr){return wr=mu(wr,fr),wr.index=0,wr.sibling=null,wr}function Cn(wr,fr,Ir){return wr.index=Ir,Bt?(Ir=wr.alternate,Ir!==null?(Ir=Ir.index,Ir<fr?(wr.flags|=2,fr):Ir):(wr.flags|=2,fr)):(wr.flags|=1048576,fr)}function Vn(wr){return Bt&&wr.alternate===null&&(wr.flags|=2),wr}function ir(wr,fr,Ir,fo){return fr===null||fr.tag!==6?(fr=Os(Ir,wr.mode,fo),fr.return=wr,fr):(fr=yn(fr,Ir),fr.return=wr,fr)}function Fr(wr,fr,Ir,fo){var Ao=Ir.type;return Ao===Nt?vo(wr,fr,Ir.props.children,fo,Ir.key):fr!==null&&(fr.elementType===Ao||typeof Ao=="object"&&Ao!==null&&Ao.$$typeof===dn&&R2(Ao)===fr.type)?(fo=yn(fr,Ir.props),fo.ref=Ep(wr,fr,Ir),fo.return=wr,fo):(fo=p2(Ir.type,Ir.key,Ir.props,null,wr.mode,fo),fo.ref=Ep(wr,fr,Ir),fo.return=wr,fo)}function _i(wr,fr,Ir,fo){return fr===null||fr.tag!==4||fr.stateNode.containerInfo!==Ir.containerInfo||fr.stateNode.implementation!==Ir.implementation?(fr=Au(Ir,wr.mode,fo),fr.return=wr,fr):(fr=yn(fr,Ir.children||[]),fr.return=wr,fr)}function vo(wr,fr,Ir,fo,Ao){return fr===null||fr.tag!==7?(fr=_l(Ir,wr.mode,fo,Ao),fr.return=wr,fr):(fr=yn(fr,Ir),fr.return=wr,fr)}function so(wr,fr,Ir){if(typeof fr=="string"&&fr!==""||typeof fr=="number")return fr=Os(""+fr,wr.mode,Ir),fr.return=wr,fr;if(typeof fr=="object"&&fr!==null){switch(fr.$$typeof){case Rt:return Ir=p2(fr.type,fr.key,fr.props,null,wr.mode,Ir),Ir.ref=Ep(wr,null,fr),Ir.return=wr,Ir;case Dt:return fr=Au(fr,wr.mode,Ir),fr.return=wr,fr;case dn:var fo=fr._init;return so(wr,fo(fr._payload),Ir)}if(Yn(fr)||Mn(fr))return fr=_l(fr,wr.mode,Ir,null),fr.return=wr,fr;f1(wr,fr)}return null}function ko(wr,fr,Ir,fo){var Ao=fr!==null?fr.key:null;if(typeof Ir=="string"&&Ir!==""||typeof Ir=="number")return Ao!==null?null:ir(wr,fr,""+Ir,fo);if(typeof Ir=="object"&&Ir!==null){switch(Ir.$$typeof){case Rt:return Ir.key===Ao?Fr(wr,fr,Ir,fo):null;case Dt:return Ir.key===Ao?_i(wr,fr,Ir,fo):null;case dn:return Ao=Ir._init,ko(wr,fr,Ao(Ir._payload),fo)}if(Yn(Ir)||Mn(Ir))return Ao!==null?null:vo(wr,fr,Ir,fo,null);f1(wr,Ir)}return null}function hs(wr,fr,Ir,fo,Ao){if(typeof fo=="string"&&fo!==""||typeof fo=="number")return wr=wr.get(Ir)||null,ir(fr,wr,""+fo,Ao);if(typeof fo=="object"&&fo!==null){switch(fo.$$typeof){case Rt:return wr=wr.get(fo.key===null?Ir:fo.key)||null,Fr(fr,wr,fo,Ao);case Dt:return wr=wr.get(fo.key===null?Ir:fo.key)||null,_i(fr,wr,fo,Ao);case dn:var jo=fo._init;return hs(wr,fr,Ir,jo(fo._payload),Ao)}if(Yn(fo)||Mn(fo))return wr=wr.get(Ir)||null,vo(fr,wr,fo,Ao,null);f1(fr,fo)}return null}function To(wr,fr,Ir,fo){for(var Ao=null,jo=null,Go=fr,io=fr=0,Vs=null;Go!==null&&io<Ir.length;io++){Go.index>io?(Vs=Go,Go=null):Vs=Go.sibling;var ls=ko(wr,Go,Ir[io],fo);if(ls===null){Go===null&&(Go=Vs);break}Bt&&Go&&ls.alternate===null&&zt(wr,Go),fr=Cn(ls,fr,io),jo===null?Ao=ls:jo.sibling=ls,jo=ls,Go=Vs}if(io===Ir.length)return an(wr,Go),xs&&U0(wr,io),Ao;if(Go===null){for(;io<Ir.length;io++)Go=so(wr,Ir[io],fo),Go!==null&&(fr=Cn(Go,fr,io),jo===null?Ao=Go:jo.sibling=Go,jo=Go);return xs&&U0(wr,io),Ao}for(Go=hn(wr,Go);io<Ir.length;io++)Vs=hs(Go,wr,io,Ir[io],fo),Vs!==null&&(Bt&&Vs.alternate!==null&&Go.delete(Vs.key===null?io:Vs.key),fr=Cn(Vs,fr,io),jo===null?Ao=Vs:jo.sibling=Vs,jo=Vs);return Bt&&Go.forEach(function(Oo){return zt(wr,Oo)}),xs&&U0(wr,io),Ao}function lo(wr,fr,Ir,fo){var Ao=Mn(Ir);if(typeof Ao!="function")throw Error(Tt(150));if(Ir=Ao.call(Ir),Ir==null)throw Error(Tt(151));for(var jo=Ao=null,Go=fr,io=fr=0,Vs=null,ls=Ir.next();Go!==null&&!ls.done;io++,ls=Ir.next()){Go.index>io?(Vs=Go,Go=null):Vs=Go.sibling;var Oo=ko(wr,Go,ls.value,fo);if(Oo===null){Go===null&&(Go=Vs);break}Bt&&Go&&Oo.alternate===null&&zt(wr,Go),fr=Cn(Oo,fr,io),jo===null?Ao=Oo:jo.sibling=Oo,jo=Oo,Go=Vs}if(ls.done)return an(wr,Go),xs&&U0(wr,io),Ao;if(Go===null){for(;!ls.done;io++,ls=Ir.next())ls=so(wr,ls.value,fo),ls!==null&&(fr=Cn(ls,fr,io),jo===null?Ao=ls:jo.sibling=ls,jo=ls);return xs&&U0(wr,io),Ao}for(Go=hn(wr,Go);!ls.done;io++,ls=Ir.next())ls=hs(Go,wr,io,ls.value,fo),ls!==null&&(Bt&&ls.alternate!==null&&Go.delete(ls.key===null?io:ls.key),fr=Cn(ls,fr,io),jo===null?Ao=ls:jo.sibling=ls,jo=ls);return Bt&&Go.forEach(function(r_){return zt(wr,r_)}),xs&&U0(wr,io),Ao}function iu(wr,fr,Ir,fo){if(typeof Ir=="object"&&Ir!==null&&Ir.type===Nt&&Ir.key===null&&(Ir=Ir.props.children),typeof Ir=="object"&&Ir!==null){switch(Ir.$$typeof){case Rt:e:{for(var Ao=Ir.key,jo=fr;jo!==null;){if(jo.key===Ao){if(Ao=Ir.type,Ao===Nt){if(jo.tag===7){an(wr,jo.sibling),fr=yn(jo,Ir.props.children),fr.return=wr,wr=fr;break e}}else if(jo.elementType===Ao||typeof Ao=="object"&&Ao!==null&&Ao.$$typeof===dn&&R2(Ao)===jo.type){an(wr,jo.sibling),fr=yn(jo,Ir.props),fr.ref=Ep(wr,jo,Ir),fr.return=wr,wr=fr;break e}an(wr,jo);break}else zt(wr,jo);jo=jo.sibling}Ir.type===Nt?(fr=_l(Ir.props.children,wr.mode,fo,Ir.key),fr.return=wr,wr=fr):(fo=p2(Ir.type,Ir.key,Ir.props,null,wr.mode,fo),fo.ref=Ep(wr,fr,Ir),fo.return=wr,wr=fo)}return Vn(wr);case Dt:e:{for(jo=Ir.key;fr!==null;){if(fr.key===jo)if(fr.tag===4&&fr.stateNode.containerInfo===Ir.containerInfo&&fr.stateNode.implementation===Ir.implementation){an(wr,fr.sibling),fr=yn(fr,Ir.children||[]),fr.return=wr,wr=fr;break e}else{an(wr,fr);break}else zt(wr,fr);fr=fr.sibling}fr=Au(Ir,wr.mode,fo),fr.return=wr,wr=fr}return Vn(wr);case dn:return jo=Ir._init,iu(wr,fr,jo(Ir._payload),fo)}if(Yn(Ir))return To(wr,fr,Ir,fo);if(Mn(Ir))return lo(wr,fr,Ir,fo);f1(wr,Ir)}return typeof Ir=="string"&&Ir!==""||typeof Ir=="number"?(Ir=""+Ir,fr!==null&&fr.tag===6?(an(wr,fr.sibling),fr=yn(fr,Ir),fr.return=wr,wr=fr):(an(wr,fr),fr=Os(Ir,wr.mode,fo),fr.return=wr,wr=fr),Vn(wr)):an(wr,fr)}return iu}var Tp=b2(!0),Dm=b2(!1),d1={},lu=us(d1),Ts=us(d1),Ap=us(d1);function Uu(Bt){if(Bt===d1)throw Error(Tt(174));return Bt}function uu(Bt,zt){ss(Ap,zt),ss(Ts,Bt),ss(lu,d1),Bt=sr(zt),os(lu),ss(lu,Bt)}function $0(){os(lu),os(Ts),os(Ap)}function I2(Bt){var zt=Uu(Ap.current),an=Uu(lu.current);zt=Un(an,Bt.type,zt),an!==zt&&(ss(Ts,Bt),ss(lu,zt))}function H1(Bt){Ts.current===Bt&&(os(lu),os(Ts))}var Ss=us(0);function zu(Bt){for(var zt=Bt;zt!==null;){if(zt.tag===13){var an=zt.memoizedState;if(an!==null&&(an=an.dehydrated,an===null||rs(an)||Dn(an)))return zt}else if(zt.tag===19&&zt.memoizedProps.revealOrder!==void 0){if(zt.flags&128)return zt}else if(zt.child!==null){zt.child.return=zt,zt=zt.child;continue}if(zt===Bt)break;for(;zt.sibling===null;){if(zt.return===null||zt.return===Bt)return null;zt=zt.return}zt.sibling.return=zt.return,zt=zt.sibling}return null}var as=[];function cu(){for(var Bt=0;Bt<as.length;Bt++){var zt=as[Bt];Vr?zt._workInProgressVersionPrimary=null:zt._workInProgressVersionSecondary=null}as.length=0}var Cp=At.ReactCurrentDispatcher,Hs=At.ReactCurrentBatchConfig,Pp=0,As=null,na=null,Ns=null,Bl=!1,es=!1,kp=0,Om=0;function ga(){throw Error(Tt(321))}function D2(Bt,zt){if(zt===null)return!1;for(var an=0;an<zt.length&&an<Bt.length;an++)if(!Zl(Bt[an],zt[an]))return!1;return!0}function j1(Bt,zt,an,hn,yn,Cn){if(Pp=Cn,As=zt,zt.memoizedState=null,zt.updateQueue=null,zt.lanes=0,Cp.current=Bt===null||Bt.memoizedState===null?Fv:Nv,Bt=an(hn,yn),es){Cn=0;do{if(es=!1,kp=0,25<=Cn)throw Error(Tt(301));Cn+=1,Ns=na=null,zt.updateQueue=null,Cp.current=V2,Bt=an(hn,yn)}while(es)}if(Cp.current=Rp,zt=na!==null&&na.next!==null,Pp=0,Ns=na=As=null,Bl=!1,zt)throw Error(Tt(300));return Bt}function O2(){var Bt=kp!==0;return kp=0,Bt}function r0(){var Bt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ns===null?As.memoizedState=Ns=Bt:Ns=Ns.next=Bt,Ns}function $u(){if(na===null){var Bt=As.alternate;Bt=Bt!==null?Bt.memoizedState:null}else Bt=na.next;var zt=Ns===null?As.memoizedState:Ns.next;if(zt!==null)Ns=zt,na=Bt;else{if(Bt===null)throw Error(Tt(310));na=Bt,Bt={memoizedState:na.memoizedState,baseState:na.baseState,baseQueue:na.baseQueue,queue:na.queue,next:null},Ns===null?As.memoizedState=Ns=Bt:Ns=Ns.next=Bt}return Ns}function V0(Bt,zt){return typeof zt=="function"?zt(Bt):zt}function h1(Bt){var zt=$u(),an=zt.queue;if(an===null)throw Error(Tt(311));an.lastRenderedReducer=Bt;var hn=na,yn=hn.baseQueue,Cn=an.pending;if(Cn!==null){if(yn!==null){var Vn=yn.next;yn.next=Cn.next,Cn.next=Vn}hn.baseQueue=yn=Cn,an.pending=null}if(yn!==null){Cn=yn.next,hn=hn.baseState;var ir=Vn=null,Fr=null,_i=Cn;do{var vo=_i.lane;if((Pp&vo)===vo)Fr!==null&&(Fr=Fr.next={lane:0,action:_i.action,hasEagerState:_i.hasEagerState,eagerState:_i.eagerState,next:null}),hn=_i.hasEagerState?_i.eagerState:Bt(hn,_i.action);else{var so={lane:vo,action:_i.action,hasEagerState:_i.hasEagerState,eagerState:_i.eagerState,next:null};Fr===null?(ir=Fr=so,Vn=hn):Fr=Fr.next=so,As.lanes|=vo,Fp|=vo}_i=_i.next}while(_i!==null&&_i!==Cn);Fr===null?Vn=hn:Fr.next=ir,Zl(hn,zt.memoizedState)||(tu=!0),zt.memoizedState=hn,zt.baseState=Vn,zt.baseQueue=Fr,an.lastRenderedState=hn}if(Bt=an.interleaved,Bt!==null){yn=Bt;do Cn=yn.lane,As.lanes|=Cn,Fp|=Cn,yn=yn.next;while(yn!==Bt)}else yn===null&&(an.lanes=0);return[zt.memoizedState,an.dispatch]}function Tl(Bt){var zt=$u(),an=zt.queue;if(an===null)throw Error(Tt(311));an.lastRenderedReducer=Bt;var hn=an.dispatch,yn=an.pending,Cn=zt.memoizedState;if(yn!==null){an.pending=null;var Vn=yn=yn.next;do Cn=Bt(Cn,Vn.action),Vn=Vn.next;while(Vn!==yn);Zl(Cn,zt.memoizedState)||(tu=!0),zt.memoizedState=Cn,zt.baseQueue===null&&(zt.baseState=Cn),an.lastRenderedState=Cn}return[Cn,hn]}function Vu(){}function js(Bt,zt){var an=As,hn=$u(),yn=zt(),Cn=!Zl(hn.memoizedState,yn);if(Cn&&(hn.memoizedState=yn,tu=!0),hn=hn.queue,W0(y0.bind(null,an,hn,Bt),[Bt]),hn.getSnapshot!==zt||Cn||Ns!==null&&Ns.memoizedState.tag&1){if(an.flags|=2048,G0(9,N2.bind(null,an,hn,yn,zt),void 0,null),Is===null)throw Error(Tt(349));Pp&30||F2(an,zt,yn)}return yn}function F2(Bt,zt,an){Bt.flags|=16384,Bt={getSnapshot:zt,value:an},zt=As.updateQueue,zt===null?(zt={lastEffect:null,stores:null},As.updateQueue=zt,zt.stores=[Bt]):(an=zt.stores,an===null?zt.stores=[Bt]:an.push(Bt))}function N2(Bt,zt,an,hn){zt.value=an,zt.getSnapshot=hn,Gu(zt)&&du(Bt,1,-1)}function y0(Bt,zt,an){return an(function(){Gu(zt)&&du(Bt,1,-1)})}function Gu(Bt){var zt=Bt.getSnapshot;Bt=Bt.value;try{var an=zt();return!Zl(Bt,an)}catch{return!0}}function i0(Bt){var zt=r0();return typeof Bt=="function"&&(Bt=Bt()),zt.memoizedState=zt.baseState=Bt,Bt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:Bt},zt.queue=Bt,Bt=Bt.dispatch=H0.bind(null,As,Bt),[zt.memoizedState,Bt]}function G0(Bt,zt,an,hn){return Bt={tag:Bt,create:zt,destroy:an,deps:hn,next:null},zt=As.updateQueue,zt===null?(zt={lastEffect:null,stores:null},As.updateQueue=zt,zt.lastEffect=Bt.next=Bt):(an=zt.lastEffect,an===null?zt.lastEffect=Bt.next=Bt:(hn=an.next,an.next=Bt,Bt.next=hn,zt.lastEffect=Bt)),Bt}function Y1(){return $u().memoizedState}function X1(Bt,zt,an,hn){var yn=r0();As.flags|=Bt,yn.memoizedState=G0(1|zt,an,void 0,hn===void 0?null:hn)}function q1(Bt,zt,an,hn){var yn=$u();hn=hn===void 0?null:hn;var Cn=void 0;if(na!==null){var Vn=na.memoizedState;if(Cn=Vn.destroy,hn!==null&&D2(hn,Vn.deps)){yn.memoizedState=G0(zt,an,Cn,hn);return}}As.flags|=Bt,yn.memoizedState=G0(1|zt,an,Cn,hn)}function B2(Bt,zt){return X1(8390656,8,Bt,zt)}function W0(Bt,zt){return q1(2048,8,Bt,zt)}function K1(Bt,zt){return q1(4,2,Bt,zt)}function U2(Bt,zt){return q1(4,4,Bt,zt)}function fu(Bt,zt){if(typeof zt=="function")return Bt=Bt(),zt(Bt),function(){zt(null)};if(zt!=null)return Bt=Bt(),zt.current=Bt,function(){zt.current=null}}function z2(Bt,zt,an){return an=an!=null?an.concat([Bt]):null,q1(4,4,fu.bind(null,zt,Bt),an)}function x0(){}function Lp(Bt,zt){var an=$u();zt=zt===void 0?null:zt;var hn=an.memoizedState;return hn!==null&&zt!==null&&D2(zt,hn[1])?hn[0]:(an.memoizedState=[Bt,zt],Bt)}function $2(Bt,zt){var an=$u();zt=zt===void 0?null:zt;var hn=an.memoizedState;return hn!==null&&zt!==null&&D2(zt,hn[1])?hn[0]:(Bt=Bt(),an.memoizedState=[Bt,zt],Bt)}function Ov(Bt,zt){var an=Lo;Lo=an!==0&&4>an?an:4,Bt(!0);var hn=Hs.transition;Hs.transition={};try{Bt(!1),zt()}finally{Lo=an,Hs.transition=hn}}function Ps(){return $u().memoizedState}function o0(Bt,zt,an){var hn=E0(Bt);an={lane:hn,action:an,hasEagerState:!1,eagerState:null,next:null},S0(Bt)?j0(zt,an):(Mu(Bt,zt,an),an=Al(),Bt=du(Bt,hn,an),Bt!==null&&Y0(Bt,zt,hn))}function H0(Bt,zt,an){var hn=E0(Bt),yn={lane:hn,action:an,hasEagerState:!1,eagerState:null,next:null};if(S0(Bt))j0(zt,yn);else{Mu(Bt,zt,yn);var Cn=Bt.alternate;if(Bt.lanes===0&&(Cn===null||Cn.lanes===0)&&(Cn=zt.lastRenderedReducer,Cn!==null))try{var Vn=zt.lastRenderedState,ir=Cn(Vn,an);if(yn.hasEagerState=!0,yn.eagerState=ir,Zl(ir,Vn))return}catch{}finally{}an=Al(),Bt=du(Bt,hn,an),Bt!==null&&Y0(Bt,zt,hn)}}function S0(Bt){var zt=Bt.alternate;return Bt===As||zt!==null&&zt===As}function j0(Bt,zt){es=Bl=!0;var an=Bt.pending;an===null?zt.next=zt:(zt.next=an.next,an.next=zt),Bt.pending=zt}function Mu(Bt,zt,an){Is!==null&&Bt.mode&1&&!(Ko&2)?(Bt=zt.interleaved,Bt===null?(an.next=an,Fs===null?Fs=[zt]:Fs.push(zt)):(an.next=Bt.next,Bt.next=an),zt.interleaved=an):(Bt=zt.pending,Bt===null?an.next=an:(an.next=Bt.next,Bt.next=an),zt.pending=an)}function Y0(Bt,zt,an){if(an&4194240){var hn=zt.lanes;hn&=Bt.pendingLanes,an|=hn,zt.lanes=an,Ou(Bt,an)}}var Rp={readContext:ds,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useInsertionEffect:ga,useLayoutEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useMutableSource:ga,useSyncExternalStore:ga,useId:ga,unstable_isNewReconciler:!1},Fv={readContext:ds,useCallback:function(Bt,zt){return r0().memoizedState=[Bt,zt===void 0?null:zt],Bt},useContext:ds,useEffect:B2,useImperativeHandle:function(Bt,zt,an){return an=an!=null?an.concat([Bt]):null,X1(4194308,4,fu.bind(null,zt,Bt),an)},useLayoutEffect:function(Bt,zt){return X1(4194308,4,Bt,zt)},useInsertionEffect:function(Bt,zt){return X1(4,2,Bt,zt)},useMemo:function(Bt,zt){var an=r0();return zt=zt===void 0?null:zt,Bt=Bt(),an.memoizedState=[Bt,zt],Bt},useReducer:function(Bt,zt,an){var hn=r0();return zt=an!==void 0?an(zt):zt,hn.memoizedState=hn.baseState=zt,Bt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:zt},hn.queue=Bt,Bt=Bt.dispatch=o0.bind(null,As,Bt),[hn.memoizedState,Bt]},useRef:function(Bt){var zt=r0();return Bt={current:Bt},zt.memoizedState=Bt},useState:i0,useDebugValue:x0,useDeferredValue:function(Bt){var zt=i0(Bt),an=zt[0],hn=zt[1];return B2(function(){var yn=Hs.transition;Hs.transition={};try{hn(Bt)}finally{Hs.transition=yn}},[Bt]),an},useTransition:function(){var Bt=i0(!1),zt=Bt[0];return Bt=Ov.bind(null,Bt[1]),r0().memoizedState=Bt,[zt,Bt]},useMutableSource:function(){},useSyncExternalStore:function(Bt,zt,an){var hn=As,yn=r0();if(xs){if(an===void 0)throw Error(Tt(407));an=an()}else{if(an=zt(),Is===null)throw Error(Tt(349));Pp&30||F2(hn,zt,an)}yn.memoizedState=an;var Cn={value:an,getSnapshot:zt};return yn.queue=Cn,B2(y0.bind(null,hn,Cn,Bt),[Bt]),hn.flags|=2048,G0(9,N2.bind(null,hn,Cn,an,zt),void 0,null),an},useId:function(){var Bt=r0(),zt=Is.identifierPrefix;if(xs){var an=n0,hn=t0;an=(hn&~(1<<32-Qs(hn)-1)).toString(32)+an,zt=":"+zt+"R"+an,an=kp++,0<an&&(zt+="H"+an.toString(32)),zt+=":"}else an=Om++,zt=":"+zt+"r"+an.toString(32)+":";return Bt.memoizedState=zt},unstable_isNewReconciler:!1},Nv={readContext:ds,useCallback:Lp,useContext:ds,useEffect:W0,useImperativeHandle:z2,useInsertionEffect:K1,useLayoutEffect:U2,useMemo:$2,useReducer:h1,useRef:Y1,useState:function(){return h1(V0)},useDebugValue:x0,useDeferredValue:function(Bt){var zt=h1(V0),an=zt[0],hn=zt[1];return W0(function(){var yn=Hs.transition;Hs.transition={};try{hn(Bt)}finally{Hs.transition=yn}},[Bt]),an},useTransition:function(){var Bt=h1(V0)[0],zt=$u().memoizedState;return[Bt,zt]},useMutableSource:Vu,useSyncExternalStore:js,useId:Ps,unstable_isNewReconciler:!1},V2={readContext:ds,useCallback:Lp,useContext:ds,useEffect:W0,useImperativeHandle:z2,useInsertionEffect:K1,useLayoutEffect:U2,useMemo:$2,useReducer:Tl,useRef:Y1,useState:function(){return Tl(V0)},useDebugValue:x0,useDeferredValue:function(Bt){var zt=Tl(V0),an=zt[0],hn=zt[1];return W0(function(){var yn=Hs.transition;Hs.transition={};try{hn(Bt)}finally{Hs.transition=yn}},[Bt]),an},useTransition:function(){var Bt=Tl(V0)[0],zt=$u().memoizedState;return[Bt,zt]},useMutableSource:Vu,useSyncExternalStore:js,useId:Ps,unstable_isNewReconciler:!1};function p1(Bt,zt){try{var an="",hn=zt;do an+=N0(hn),hn=hn.return;while(hn);var yn=an}catch(Cn){yn=`
Error generating stack: `+Cn.message+`
`+Cn.stack}return{value:Bt,source:zt,stack:yn}}function G2(Bt,zt){try{console.error(zt.value)}catch(an){setTimeout(function(){throw an})}}var Fm=typeof WeakMap=="function"?WeakMap:Map;function m1(Bt,zt,an){an=e0(-1,an),an.tag=3,an.payload={element:null};var hn=zt.value;return an.callback=function(){u2||(u2=!0,lm=hn),G2(Bt,zt)},an}function Nm(Bt,zt,an){an=e0(-1,an),an.tag=3;var hn=Bt.type.getDerivedStateFromError;if(typeof hn=="function"){var yn=zt.value;an.payload=function(){return hn(yn)},an.callback=function(){G2(Bt,zt)}}var Cn=Bt.stateNode;return Cn!==null&&typeof Cn.componentDidCatch=="function"&&(an.callback=function(){G2(Bt,zt),typeof hn!="function"&&(w0===null?w0=new Set([this]):w0.add(this));var Vn=zt.stack;this.componentDidCatch(zt.value,{componentStack:Vn!==null?Vn:""})}),an}function W2(Bt,zt,an){var hn=Bt.pingCache;if(hn===null){hn=Bt.pingCache=new Fm;var yn=new Set;hn.set(zt,yn)}else yn=hn.get(zt),yn===void 0&&(yn=new Set,hn.set(zt,yn));yn.has(an)||(yn.add(an),Bt=Kv.bind(null,Bt,zt,an),zt.then(Bt,Bt))}function g1(Bt){do{var zt;if((zt=Bt.tag===13)&&(zt=Bt.memoizedState,zt=zt!==null?zt.dehydrated!==null:!0),zt)return Bt;Bt=Bt.return}while(Bt!==null);return null}function bp(Bt,zt,an,hn,yn){return Bt.mode&1?(Bt.flags|=65536,Bt.lanes=yn,Bt):(Bt===zt?Bt.flags|=65536:(Bt.flags|=128,an.flags|=131072,an.flags&=-52805,an.tag===1&&(an.alternate===null?an.tag=17:(zt=e0(-1,1),zt.tag=2,_0(an,zt))),an.lanes|=1),Bt)}function Eu(Bt){Bt.flags|=4}function Bm(Bt,zt){if(Bt!==null&&Bt.child===zt.child)return!0;if(zt.flags&16)return!1;for(Bt=zt.child;Bt!==null;){if(Bt.flags&12854||Bt.subtreeFlags&12854)return!1;Bt=Bt.sibling}return!0}var X0,v1,Ip,Z1;if(kr)X0=function(Bt,zt){for(var an=zt.child;an!==null;){if(an.tag===5||an.tag===6)zn(Bt,an.stateNode);else if(an.tag!==4&&an.child!==null){an.child.return=an,an=an.child;continue}if(an===zt)break;for(;an.sibling===null;){if(an.return===null||an.return===zt)return;an=an.return}an.sibling.return=an.return,an=an.sibling}},v1=function(){},Ip=function(Bt,zt,an,hn,yn){if(Bt=Bt.memoizedProps,Bt!==hn){var Cn=zt.stateNode,Vn=Uu(lu.current);an=tr(Cn,an,Bt,hn,yn,Vn),(zt.updateQueue=an)&&Eu(zt)}},Z1=function(Bt,zt,an,hn){an!==hn&&Eu(zt)};else if(Zt){X0=function(Bt,zt,an,hn){for(var yn=zt.child;yn!==null;){if(yn.tag===5){var Cn=yn.stateNode;an&&hn&&(Cn=Zo(Cn,yn.type,yn.memoizedProps,yn)),zn(Bt,Cn)}else if(yn.tag===6)Cn=yn.stateNode,an&&hn&&(Cn=Uo(Cn,yn.memoizedProps,yn)),zn(Bt,Cn);else if(yn.tag!==4){if(yn.tag===22&&yn.memoizedState!==null)Cn=yn.child,Cn!==null&&(Cn.return=yn),X0(Bt,yn,!0,!0);else if(yn.child!==null){yn.child.return=yn,yn=yn.child;continue}}if(yn===zt)break;for(;yn.sibling===null;){if(yn.return===null||yn.return===zt)return;yn=yn.return}yn.sibling.return=yn.return,yn=yn.sibling}};var Um=function(Bt,zt,an,hn){for(var yn=zt.child;yn!==null;){if(yn.tag===5){var Cn=yn.stateNode;an&&hn&&(Cn=Zo(Cn,yn.type,yn.memoizedProps,yn)),qo(Bt,Cn)}else if(yn.tag===6)Cn=yn.stateNode,an&&hn&&(Cn=Uo(Cn,yn.memoizedProps,yn)),qo(Bt,Cn);else if(yn.tag!==4){if(yn.tag===22&&yn.memoizedState!==null)Cn=yn.child,Cn!==null&&(Cn.return=yn),Um(Bt,yn,!0,!0);else if(yn.child!==null){yn.child.return=yn,yn=yn.child;continue}}if(yn===zt)break;for(;yn.sibling===null;){if(yn.return===null||yn.return===zt)return;yn=yn.return}yn.sibling.return=yn.return,yn=yn.sibling}};v1=function(Bt,zt){var an=zt.stateNode;if(!Bm(Bt,zt)){Bt=an.containerInfo;var hn=Vo(Bt);Um(hn,zt,!1,!1),an.pendingChildren=hn,Eu(zt),Yo(Bt,hn)}},Ip=function(Bt,zt,an,hn,yn){var Cn=Bt.stateNode,Vn=Bt.memoizedProps;if((Bt=Bm(Bt,zt))&&Vn===hn)zt.stateNode=Cn;else{var ir=zt.stateNode,Fr=Uu(lu.current),_i=null;Vn!==hn&&(_i=tr(ir,an,Vn,hn,yn,Fr)),Bt&&_i===null?zt.stateNode=Cn:(Cn=oo(Cn,_i,an,Vn,hn,zt,Bt,ir),Zn(Cn,an,hn,yn,Fr)&&Eu(zt),zt.stateNode=Cn,Bt?Eu(zt):X0(Cn,zt,!1,!1))}},Z1=function(Bt,zt,an,hn){an!==hn?(Bt=Uu(Ap.current),an=Uu(lu.current),zt.stateNode=dr(hn,Bt,an,zt),Eu(zt)):zt.stateNode=Bt.stateNode}}else v1=function(){},Ip=function(){},Z1=function(){};function _1(Bt,zt){if(!xs)switch(Bt.tailMode){case"hidden":zt=Bt.tail;for(var an=null;zt!==null;)zt.alternate!==null&&(an=zt),zt=zt.sibling;an===null?Bt.tail=null:an.sibling=null;break;case"collapsed":an=Bt.tail;for(var hn=null;an!==null;)an.alternate!==null&&(hn=an),an=an.sibling;hn===null?zt||Bt.tail===null?Bt.tail=null:Bt.tail.sibling=null:hn.sibling=null}}function xa(Bt){var zt=Bt.alternate!==null&&Bt.alternate.child===Bt.child,an=0,hn=0;if(zt)for(var yn=Bt.child;yn!==null;)an|=yn.lanes|yn.childLanes,hn|=yn.subtreeFlags&14680064,hn|=yn.flags&14680064,yn.return=Bt,yn=yn.sibling;else for(yn=Bt.child;yn!==null;)an|=yn.lanes|yn.childLanes,hn|=yn.subtreeFlags,hn|=yn.flags,yn.return=Bt,yn=yn.sibling;return Bt.subtreeFlags|=hn,Bt.childLanes=an,zt}function Bv(Bt,zt,an){var hn=zt.pendingProps;switch(P2(zt),zt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xa(zt),null;case 1:return Cs(zt.type)&&p0(),xa(zt),null;case 3:return hn=zt.stateNode,$0(),os(Hr),os(Ms),cu(),hn.pendingContext&&(hn.context=hn.pendingContext,hn.pendingContext=null),(Bt===null||Bt.child===null)&&(c1(zt)?Eu(zt):Bt===null||Bt.memoizedState.isDehydrated&&!(zt.flags&256)||(zt.flags|=1024,wu!==null&&(cm(wu),wu=null))),v1(Bt,zt),xa(zt),null;case 5:H1(zt),an=Uu(Ap.current);var yn=zt.type;if(Bt!==null&&zt.stateNode!=null)Ip(Bt,zt,yn,hn,an),Bt.ref!==zt.ref&&(zt.flags|=512,zt.flags|=2097152);else{if(!hn){if(zt.stateNode===null)throw Error(Tt(166));return xa(zt),null}if(Bt=Uu(lu.current),c1(zt)){if(!ur)throw Error(Tt(175));Bt=wo(zt.stateNode,zt.type,zt.memoizedProps,an,Bt,zt,!u1),zt.updateQueue=Bt,Bt!==null&&Eu(zt)}else{var Cn=$n(yn,hn,an,Bt,zt);X0(Cn,zt,!1,!1),zt.stateNode=Cn,Zn(Cn,yn,hn,an,Bt)&&Eu(zt)}zt.ref!==null&&(zt.flags|=512,zt.flags|=2097152)}return xa(zt),null;case 6:if(Bt&&zt.stateNode!=null)Z1(Bt,zt,Bt.memoizedProps,hn);else{if(typeof hn!="string"&&zt.stateNode===null)throw Error(Tt(166));if(Bt=Uu(Ap.current),an=Uu(lu.current),c1(zt)){if(!ur)throw Error(Tt(176));if(Bt=zt.stateNode,hn=zt.memoizedProps,(an=Io(Bt,hn,zt,!u1))&&(yn=Jl,yn!==null))switch(Cn=(yn.mode&1)!==0,yn.tag){case 3:Xl(yn.stateNode.containerInfo,Bt,hn,Cn);break;case 5:gs(yn.type,yn.memoizedProps,yn.stateNode,Bt,hn,Cn)}an&&Eu(zt)}else zt.stateNode=dr(hn,Bt,an,zt)}return xa(zt),null;case 13:if(os(Ss),hn=zt.memoizedState,xs&&eu!==null&&zt.mode&1&&!(zt.flags&128)){for(Bt=eu;Bt;)Bt=Sr(Bt);return z0(),zt.flags|=98560,zt}if(hn!==null&&hn.dehydrated!==null){if(hn=c1(zt),Bt===null){if(!hn)throw Error(Tt(318));if(!ur)throw Error(Tt(344));if(Bt=zt.memoizedState,Bt=Bt!==null?Bt.dehydrated:null,!Bt)throw Error(Tt(317));zo(Bt,zt)}else z0(),!(zt.flags&128)&&(zt.memoizedState=null),zt.flags|=4;return xa(zt),null}return wu!==null&&(cm(wu),wu=null),zt.flags&128?(zt.lanes=an,zt):(hn=hn!==null,an=!1,Bt===null?c1(zt):an=Bt.memoizedState!==null,hn&&!an&&(zt.child.flags|=8192,zt.mode&1&&(Bt===null||Ss.current&1?Bs===0&&(Bs=3):dm())),zt.updateQueue!==null&&(zt.flags|=4),xa(zt),null);case 4:return $0(),v1(Bt,zt),Bt===null&&zr(zt.stateNode.containerInfo),xa(zt),null;case 10:return Bu(zt.type._context),xa(zt),null;case 17:return Cs(zt.type)&&p0(),xa(zt),null;case 19:if(os(Ss),yn=zt.memoizedState,yn===null)return xa(zt),null;if(hn=(zt.flags&128)!==0,Cn=yn.rendering,Cn===null)if(hn)_1(yn,!1);else{if(Bs!==0||Bt!==null&&Bt.flags&128)for(Bt=zt.child;Bt!==null;){if(Cn=zu(Bt),Cn!==null){for(zt.flags|=128,_1(yn,!1),Bt=Cn.updateQueue,Bt!==null&&(zt.updateQueue=Bt,zt.flags|=4),zt.subtreeFlags=0,Bt=an,hn=zt.child;hn!==null;)an=hn,yn=Bt,an.flags&=14680066,Cn=an.alternate,Cn===null?(an.childLanes=0,an.lanes=yn,an.child=null,an.subtreeFlags=0,an.memoizedProps=null,an.memoizedState=null,an.updateQueue=null,an.dependencies=null,an.stateNode=null):(an.childLanes=Cn.childLanes,an.lanes=Cn.lanes,an.child=Cn.child,an.subtreeFlags=0,an.deletions=null,an.memoizedProps=Cn.memoizedProps,an.memoizedState=Cn.memoizedState,an.updateQueue=Cn.updateQueue,an.type=Cn.type,yn=Cn.dependencies,an.dependencies=yn===null?null:{lanes:yn.lanes,firstContext:yn.firstContext}),hn=hn.sibling;return ss(Ss,Ss.current&1|2),zt.child}Bt=Bt.sibling}yn.tail!==null&&ys()>am&&(zt.flags|=128,hn=!0,_1(yn,!1),zt.lanes=4194304)}else{if(!hn)if(Bt=zu(Cn),Bt!==null){if(zt.flags|=128,hn=!0,Bt=Bt.updateQueue,Bt!==null&&(zt.updateQueue=Bt,zt.flags|=4),_1(yn,!0),yn.tail===null&&yn.tailMode==="hidden"&&!Cn.alternate&&!xs)return xa(zt),null}else 2*ys()-yn.renderingStartTime>am&&an!==1073741824&&(zt.flags|=128,hn=!0,_1(yn,!1),zt.lanes=4194304);yn.isBackwards?(Cn.sibling=zt.child,zt.child=Cn):(Bt=yn.last,Bt!==null?Bt.sibling=Cn:zt.child=Cn,yn.last=Cn)}return yn.tail!==null?(zt=yn.tail,yn.rendering=zt,yn.tail=zt.sibling,yn.renderingStartTime=ys(),zt.sibling=null,Bt=Ss.current,ss(Ss,hn?Bt&1|2:Bt&1),zt):(xa(zt),null);case 22:case 23:return fm(),hn=zt.memoizedState!==null,Bt!==null&&Bt.memoizedState!==null!==hn&&(zt.flags|=8192),hn&&zt.mode&1?ru&1073741824&&(xa(zt),kr&&zt.subtreeFlags&6&&(zt.flags|=8192)):xa(zt),null;case 24:return null;case 25:return null}throw Error(Tt(156,zt.tag))}var Uv=At.ReactCurrentOwner,tu=!1;function ba(Bt,zt,an,hn){zt.child=Bt===null?Dm(zt,null,an,hn):Tp(zt,Bt.child,an,hn)}function zm(Bt,zt,an,hn,yn){an=an.render;var Cn=zt.ref;return $s(zt,yn),hn=j1(Bt,zt,an,hn,Cn,yn),an=O2(),Bt!==null&&!tu?(zt.updateQueue=Bt.updateQueue,zt.flags&=-2053,Bt.lanes&=~yn,s0(Bt,zt,yn)):(xs&&an&&C2(zt),zt.flags|=1,ba(Bt,zt,hn,yn),zt.child)}function $m(Bt,zt,an,hn,yn){if(Bt===null){var Cn=an.type;return typeof Cn=="function"&&!hm(Cn)&&Cn.defaultProps===void 0&&an.compare===null&&an.defaultProps===void 0?(zt.tag=15,zt.type=Cn,Vm(Bt,zt,Cn,hn,yn)):(Bt=p2(an.type,null,hn,zt,zt.mode,yn),Bt.ref=zt.ref,Bt.return=zt,zt.child=Bt)}if(Cn=Bt.child,!(Bt.lanes&yn)){var Vn=Cn.memoizedProps;if(an=an.compare,an=an!==null?an:F0,an(Vn,hn)&&Bt.ref===zt.ref)return s0(Bt,zt,yn)}return zt.flags|=1,Bt=mu(Cn,hn),Bt.ref=zt.ref,Bt.return=zt,zt.child=Bt}function Vm(Bt,zt,an,hn,yn){if(Bt!==null&&F0(Bt.memoizedProps,hn)&&Bt.ref===zt.ref)if(tu=!1,(Bt.lanes&yn)!==0)Bt.flags&131072&&(tu=!0);else return zt.lanes=Bt.lanes,s0(Bt,zt,yn);return j2(Bt,zt,an,hn,yn)}function Gm(Bt,zt,an){var hn=zt.pendingProps,yn=hn.children,Cn=Bt!==null?Bt.memoizedState:null;if(hn.mode==="hidden")if(!(zt.mode&1))zt.memoizedState={baseLanes:0,cachePool:null},ss(Op,ru),ru|=an;else if(an&1073741824)zt.memoizedState={baseLanes:0,cachePool:null},hn=Cn!==null?Cn.baseLanes:an,ss(Op,ru),ru|=hn;else return Bt=Cn!==null?Cn.baseLanes|an:an,zt.lanes=zt.childLanes=1073741824,zt.memoizedState={baseLanes:Bt,cachePool:null},zt.updateQueue=null,ss(Op,ru),ru|=Bt,null;else Cn!==null?(hn=Cn.baseLanes|an,zt.memoizedState=null):hn=an,ss(Op,ru),ru|=hn;return ba(Bt,zt,yn,an),zt.child}function H2(Bt,zt){var an=zt.ref;(Bt===null&&an!==null||Bt!==null&&Bt.ref!==an)&&(zt.flags|=512,zt.flags|=2097152)}function j2(Bt,zt,an,hn,yn){var Cn=Cs(an)?Zs:Ms.current;return Cn=bu(zt,Cn),$s(zt,yn),an=j1(Bt,zt,an,hn,Cn,yn),hn=O2(),Bt!==null&&!tu?(zt.updateQueue=Bt.updateQueue,zt.flags&=-2053,Bt.lanes&=~yn,s0(Bt,zt,yn)):(xs&&hn&&C2(zt),zt.flags|=1,ba(Bt,zt,an,yn),zt.child)}function Wm(Bt,zt,an,hn,yn){if(Cs(an)){var Cn=!0;Iu(zt)}else Cn=!1;if($s(zt,yn),zt.stateNode===null)Bt!==null&&(Bt.alternate=null,zt.alternate=null,zt.flags|=2),Pm(zt,an,hn),A2(zt,an,hn,yn),hn=!0;else if(Bt===null){var Vn=zt.stateNode,ir=zt.memoizedProps;Vn.props=ir;var Fr=Vn.context,_i=an.contextType;typeof _i=="object"&&_i!==null?_i=ds(_i):(_i=Cs(an)?Zs:Ms.current,_i=bu(zt,_i));var vo=an.getDerivedStateFromProps,so=typeof vo=="function"||typeof Vn.getSnapshotBeforeUpdate=="function";so||typeof Vn.UNSAFE_componentWillReceiveProps!="function"&&typeof Vn.componentWillReceiveProps!="function"||(ir!==hn||Fr!==_i)&&km(zt,Vn,hn,_i),Su=!1;var ko=zt.memoizedState;Vn.state=ko,z1(zt,hn,Vn,yn),Fr=zt.memoizedState,ir!==hn||ko!==Fr||Hr.current||Su?(typeof vo=="function"&&(T2(zt,an,vo,hn),Fr=zt.memoizedState),(ir=Su||Cm(zt,an,ir,hn,ko,Fr,_i))?(so||typeof Vn.UNSAFE_componentWillMount!="function"&&typeof Vn.componentWillMount!="function"||(typeof Vn.componentWillMount=="function"&&Vn.componentWillMount(),typeof Vn.UNSAFE_componentWillMount=="function"&&Vn.UNSAFE_componentWillMount()),typeof Vn.componentDidMount=="function"&&(zt.flags|=4194308)):(typeof Vn.componentDidMount=="function"&&(zt.flags|=4194308),zt.memoizedProps=hn,zt.memoizedState=Fr),Vn.props=hn,Vn.state=Fr,Vn.context=_i,hn=ir):(typeof Vn.componentDidMount=="function"&&(zt.flags|=4194308),hn=!1)}else{Vn=zt.stateNode,Mm(Bt,zt),ir=zt.memoizedProps,_i=zt.type===zt.elementType?ir:Js(zt.type,ir),Vn.props=_i,so=zt.pendingProps,ko=Vn.context,Fr=an.contextType,typeof Fr=="object"&&Fr!==null?Fr=ds(Fr):(Fr=Cs(an)?Zs:Ms.current,Fr=bu(zt,Fr));var hs=an.getDerivedStateFromProps;(vo=typeof hs=="function"||typeof Vn.getSnapshotBeforeUpdate=="function")||typeof Vn.UNSAFE_componentWillReceiveProps!="function"&&typeof Vn.componentWillReceiveProps!="function"||(ir!==so||ko!==Fr)&&km(zt,Vn,hn,Fr),Su=!1,ko=zt.memoizedState,Vn.state=ko,z1(zt,hn,Vn,yn);var To=zt.memoizedState;ir!==so||ko!==To||Hr.current||Su?(typeof hs=="function"&&(T2(zt,an,hs,hn),To=zt.memoizedState),(_i=Su||Cm(zt,an,_i,hn,ko,To,Fr)||!1)?(vo||typeof Vn.UNSAFE_componentWillUpdate!="function"&&typeof Vn.componentWillUpdate!="function"||(typeof Vn.componentWillUpdate=="function"&&Vn.componentWillUpdate(hn,To,Fr),typeof Vn.UNSAFE_componentWillUpdate=="function"&&Vn.UNSAFE_componentWillUpdate(hn,To,Fr)),typeof Vn.componentDidUpdate=="function"&&(zt.flags|=4),typeof Vn.getSnapshotBeforeUpdate=="function"&&(zt.flags|=1024)):(typeof Vn.componentDidUpdate!="function"||ir===Bt.memoizedProps&&ko===Bt.memoizedState||(zt.flags|=4),typeof Vn.getSnapshotBeforeUpdate!="function"||ir===Bt.memoizedProps&&ko===Bt.memoizedState||(zt.flags|=1024),zt.memoizedProps=hn,zt.memoizedState=To),Vn.props=hn,Vn.state=To,Vn.context=Fr,hn=_i):(typeof Vn.componentDidUpdate!="function"||ir===Bt.memoizedProps&&ko===Bt.memoizedState||(zt.flags|=4),typeof Vn.getSnapshotBeforeUpdate!="function"||ir===Bt.memoizedProps&&ko===Bt.memoizedState||(zt.flags|=1024),hn=!1)}return Q1(Bt,zt,an,hn,Cn,yn)}function Q1(Bt,zt,an,hn,yn,Cn){H2(Bt,zt);var Vn=(zt.flags&128)!==0;if(!hn&&!Vn)return yn&&O1(zt,an,!1),s0(Bt,zt,Cn);hn=zt.stateNode,Uv.current=zt;var ir=Vn&&typeof an.getDerivedStateFromError!="function"?null:hn.render();return zt.flags|=1,Bt!==null&&Vn?(zt.child=Tp(zt,Bt.child,null,Cn),zt.child=Tp(zt,null,ir,Cn)):ba(Bt,zt,ir,Cn),zt.memoizedState=hn.state,yn&&O1(zt,an,!0),zt.child}function q0(Bt){var zt=Bt.stateNode;zt.pendingContext?mp(Bt,zt.pendingContext,zt.pendingContext!==zt.context):zt.context&&mp(Bt,zt.context,!1),uu(Bt,zt.containerInfo)}function K0(Bt,zt,an,hn,yn){return z0(),W1(yn),zt.flags|=256,ba(Bt,zt,an,hn),zt.child}var y1={dehydrated:null,treeContext:null,retryLane:0};function J1(Bt){return{baseLanes:Bt,cachePool:null}}function Hm(Bt,zt,an){var hn=zt.pendingProps,yn=Ss.current,Cn=!1,Vn=(zt.flags&128)!==0,ir;if((ir=Vn)||(ir=Bt!==null&&Bt.memoizedState===null?!1:(yn&2)!==0),ir?(Cn=!0,zt.flags&=-129):(Bt===null||Bt.memoizedState!==null)&&(yn|=1),ss(Ss,yn&1),Bt===null)return L2(zt),Bt=zt.memoizedState,Bt!==null&&(Bt=Bt.dehydrated,Bt!==null)?(zt.mode&1?Dn(Bt)?zt.lanes=8:zt.lanes=1073741824:zt.lanes=1,null):(yn=hn.children,Bt=hn.fallback,Cn?(hn=zt.mode,Cn=zt.child,yn={mode:"hidden",children:yn},!(hn&1)&&Cn!==null?(Cn.childLanes=0,Cn.pendingProps=yn):Cn=Wu(yn,hn,0,null),Bt=_l(Bt,hn,an,null),Cn.return=zt,Bt.return=zt,Cn.sibling=Bt,zt.child=Cn,zt.child.memoizedState=J1(an),zt.memoizedState=y1,Bt):Y2(zt,yn));if(yn=Bt.memoizedState,yn!==null){if(ir=yn.dehydrated,ir!==null){if(Vn)return zt.flags&256?(zt.flags&=-257,e2(Bt,zt,an,Error(Tt(422)))):zt.memoizedState!==null?(zt.child=Bt.child,zt.flags|=128,null):(Cn=hn.fallback,yn=zt.mode,hn=Wu({mode:"visible",children:hn.children},yn,0,null),Cn=_l(Cn,yn,an,null),Cn.flags|=2,hn.return=zt,Cn.return=zt,hn.sibling=Cn,zt.child=hn,zt.mode&1&&Tp(zt,Bt.child,null,an),zt.child.memoizedState=J1(an),zt.memoizedState=y1,Cn);if(!(zt.mode&1))zt=e2(Bt,zt,an,null);else if(Dn(ir))zt=e2(Bt,zt,an,Error(Tt(419)));else if(hn=(an&Bt.childLanes)!==0,tu||hn){if(hn=Is,hn!==null){switch(an&-an){case 4:Cn=2;break;case 16:Cn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Cn=32;break;case 536870912:Cn=268435456;break;default:Cn=0}hn=Cn&(hn.suspendedLanes|an)?0:Cn,hn!==0&&hn!==yn.retryLane&&(yn.retryLane=hn,du(Bt,hn,-1))}dm(),zt=e2(Bt,zt,an,Error(Tt(421)))}else rs(ir)?(zt.flags|=128,zt.child=Bt.child,zt=Zv.bind(null,Bt),pr(ir,zt),zt=null):(an=yn.treeContext,ur&&(eu=yo(ir),Jl=zt,xs=!0,wu=null,u1=!1,an!==null&&(su[au++]=t0,su[au++]=n0,su[au++]=B0,t0=an.id,n0=an.overflow,B0=zt)),zt=Y2(zt,zt.pendingProps.children),zt.flags|=4096);return zt}return Cn?(hn=Ym(Bt,zt,hn.children,hn.fallback,an),Cn=zt.child,yn=Bt.child.memoizedState,Cn.memoizedState=yn===null?J1(an):{baseLanes:yn.baseLanes|an,cachePool:null},Cn.childLanes=Bt.childLanes&~an,zt.memoizedState=y1,hn):(an=jm(Bt,zt,hn.children,an),zt.memoizedState=null,an)}return Cn?(hn=Ym(Bt,zt,hn.children,hn.fallback,an),Cn=zt.child,yn=Bt.child.memoizedState,Cn.memoizedState=yn===null?J1(an):{baseLanes:yn.baseLanes|an,cachePool:null},Cn.childLanes=Bt.childLanes&~an,zt.memoizedState=y1,hn):(an=jm(Bt,zt,hn.children,an),zt.memoizedState=null,an)}function Y2(Bt,zt){return zt=Wu({mode:"visible",children:zt},Bt.mode,0,null),zt.return=Bt,Bt.child=zt}function jm(Bt,zt,an,hn){var yn=Bt.child;return Bt=yn.sibling,an=mu(yn,{mode:"visible",children:an}),!(zt.mode&1)&&(an.lanes=hn),an.return=zt,an.sibling=null,Bt!==null&&(hn=zt.deletions,hn===null?(zt.deletions=[Bt],zt.flags|=16):hn.push(Bt)),zt.child=an}function Ym(Bt,zt,an,hn,yn){var Cn=zt.mode;Bt=Bt.child;var Vn=Bt.sibling,ir={mode:"hidden",children:an};return!(Cn&1)&&zt.child!==Bt?(an=zt.child,an.childLanes=0,an.pendingProps=ir,zt.deletions=null):(an=mu(Bt,ir),an.subtreeFlags=Bt.subtreeFlags&14680064),Vn!==null?hn=mu(Vn,hn):(hn=_l(hn,Cn,yn,null),hn.flags|=2),hn.return=zt,an.return=zt,an.sibling=hn,zt.child=an,hn}function e2(Bt,zt,an,hn){return hn!==null&&W1(hn),Tp(zt,Bt.child,null,an),Bt=Y2(zt,zt.pendingProps.children),Bt.flags|=2,zt.memoizedState=null,Bt}function Xm(Bt,zt,an){Bt.lanes|=zt;var hn=Bt.alternate;hn!==null&&(hn.lanes|=zt),bs(Bt.return,zt,an)}function X2(Bt,zt,an,hn,yn){var Cn=Bt.memoizedState;Cn===null?Bt.memoizedState={isBackwards:zt,rendering:null,renderingStartTime:0,last:hn,tail:an,tailMode:yn}:(Cn.isBackwards=zt,Cn.rendering=null,Cn.renderingStartTime=0,Cn.last=hn,Cn.tail=an,Cn.tailMode=yn)}function qm(Bt,zt,an){var hn=zt.pendingProps,yn=hn.revealOrder,Cn=hn.tail;if(ba(Bt,zt,hn.children,an),hn=Ss.current,hn&2)hn=hn&1|2,zt.flags|=128;else{if(Bt!==null&&Bt.flags&128)e:for(Bt=zt.child;Bt!==null;){if(Bt.tag===13)Bt.memoizedState!==null&&Xm(Bt,an,zt);else if(Bt.tag===19)Xm(Bt,an,zt);else if(Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===zt)break e;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===zt)break e;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}hn&=1}if(ss(Ss,hn),!(zt.mode&1))zt.memoizedState=null;else switch(yn){case"forwards":for(an=zt.child,yn=null;an!==null;)Bt=an.alternate,Bt!==null&&zu(Bt)===null&&(yn=an),an=an.sibling;an=yn,an===null?(yn=zt.child,zt.child=null):(yn=an.sibling,an.sibling=null),X2(zt,!1,yn,an,Cn);break;case"backwards":for(an=null,yn=zt.child,zt.child=null;yn!==null;){if(Bt=yn.alternate,Bt!==null&&zu(Bt)===null){zt.child=yn;break}Bt=yn.sibling,yn.sibling=an,an=yn,yn=Bt}X2(zt,!0,an,null,Cn);break;case"together":X2(zt,!1,null,null,void 0);break;default:zt.memoizedState=null}return zt.child}function s0(Bt,zt,an){if(Bt!==null&&(zt.dependencies=Bt.dependencies),Fp|=zt.lanes,!(an&zt.childLanes))return null;if(Bt!==null&&zt.child!==Bt.child)throw Error(Tt(153));if(zt.child!==null){for(Bt=zt.child,an=mu(Bt,Bt.pendingProps),zt.child=an,an.return=zt;Bt.sibling!==null;)Bt=Bt.sibling,an=an.sibling=mu(Bt,Bt.pendingProps),an.return=zt;an.sibling=null}return zt.child}function zv(Bt,zt,an){switch(zt.tag){case 3:q0(zt),z0();break;case 5:I2(zt);break;case 1:Cs(zt.type)&&Iu(zt);break;case 4:uu(zt,zt.stateNode.containerInfo);break;case 10:B1(zt,zt.type._context,zt.memoizedProps.value);break;case 13:var hn=zt.memoizedState;if(hn!==null)return hn.dehydrated!==null?(ss(Ss,Ss.current&1),zt.flags|=128,null):an&zt.child.childLanes?Hm(Bt,zt,an):(ss(Ss,Ss.current&1),Bt=s0(Bt,zt,an),Bt!==null?Bt.sibling:null);ss(Ss,Ss.current&1);break;case 19:if(hn=(an&zt.childLanes)!==0,Bt.flags&128){if(hn)return qm(Bt,zt,an);zt.flags|=128}var yn=zt.memoizedState;if(yn!==null&&(yn.rendering=null,yn.tail=null,yn.lastEffect=null),ss(Ss,Ss.current),hn)break;return null;case 22:case 23:return zt.lanes=0,Gm(Bt,zt,an)}return s0(Bt,zt,an)}function $v(Bt,zt){switch(P2(zt),zt.tag){case 1:return Cs(zt.type)&&p0(),Bt=zt.flags,Bt&65536?(zt.flags=Bt&-65537|128,zt):null;case 3:return $0(),os(Hr),os(Ms),cu(),Bt=zt.flags,Bt&65536&&!(Bt&128)?(zt.flags=Bt&-65537|128,zt):null;case 5:return H1(zt),null;case 13:if(os(Ss),Bt=zt.memoizedState,Bt!==null&&Bt.dehydrated!==null){if(zt.alternate===null)throw Error(Tt(340));z0()}return Bt=zt.flags,Bt&65536?(zt.flags=Bt&-65537|128,zt):null;case 19:return os(Ss),null;case 4:return $0(),null;case 10:return Bu(zt.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var t2=!1,Z0=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,ao=null;function n2(Bt,zt){var an=Bt.ref;if(an!==null)if(typeof an=="function")try{an(null)}catch(hn){zl(Bt,zt,hn)}else an.current=null}function q2(Bt,zt,an){try{an()}catch(hn){zl(Bt,zt,hn)}}var Km=!1;function Gv(Bt,zt){for(Gn(Bt.containerInfo),ao=zt;ao!==null;)if(Bt=ao,zt=Bt.child,(Bt.subtreeFlags&1028)!==0&&zt!==null)zt.return=Bt,ao=zt;else for(;ao!==null;){Bt=ao;try{var an=Bt.alternate;if(Bt.flags&1024)switch(Bt.tag){case 0:case 11:case 15:break;case 1:if(an!==null){var hn=an.memoizedProps,yn=an.memoizedState,Cn=Bt.stateNode,Vn=Cn.getSnapshotBeforeUpdate(Bt.elementType===Bt.type?hn:Js(Bt.type,hn),yn);Cn.__reactInternalSnapshotBeforeUpdate=Vn}break;case 3:kr&&to(Bt.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(Tt(163))}}catch(ir){zl(Bt,Bt.return,ir)}if(zt=Bt.sibling,zt!==null){zt.return=Bt.return,ao=zt;break}ao=Bt.return}return an=Km,Km=!1,an}function Q0(Bt,zt,an){var hn=zt.updateQueue;if(hn=hn!==null?hn.lastEffect:null,hn!==null){var yn=hn=hn.next;do{if((yn.tag&Bt)===Bt){var Cn=yn.destroy;yn.destroy=void 0,Cn!==void 0&&q2(zt,an,Cn)}yn=yn.next}while(yn!==hn)}}function x1(Bt,zt){if(zt=zt.updateQueue,zt=zt!==null?zt.lastEffect:null,zt!==null){var an=zt=zt.next;do{if((an.tag&Bt)===Bt){var hn=an.create;an.destroy=hn()}an=an.next}while(an!==zt)}}function K2(Bt){var zt=Bt.ref;if(zt!==null){var an=Bt.stateNode;switch(Bt.tag){case 5:Bt=Xn(an);break;default:Bt=an}typeof zt=="function"?zt(Bt):zt.current=Bt}}function Zm(Bt,zt,an){if(Kl&&typeof Kl.onCommitFiberUnmount=="function")try{Kl.onCommitFiberUnmount(g0,zt)}catch{}switch(zt.tag){case 0:case 11:case 14:case 15:if(Bt=zt.updateQueue,Bt!==null&&(Bt=Bt.lastEffect,Bt!==null)){var hn=Bt=Bt.next;do{var yn=hn,Cn=yn.destroy;yn=yn.tag,Cn!==void 0&&(yn&2||yn&4)&&q2(zt,an,Cn),hn=hn.next}while(hn!==Bt)}break;case 1:if(n2(zt,an),Bt=zt.stateNode,typeof Bt.componentWillUnmount=="function")try{Bt.props=zt.memoizedProps,Bt.state=zt.memoizedState,Bt.componentWillUnmount()}catch(Vn){zl(zt,an,Vn)}break;case 5:n2(zt,an);break;case 4:kr?nv(Bt,zt,an):Zt&&Zt&&(zt=zt.stateNode.containerInfo,an=Vo(zt),Fo(zt,an))}}function Qm(Bt,zt,an){for(var hn=zt;;)if(Zm(Bt,hn,an),hn.child===null||kr&&hn.tag===4){if(hn===zt)break;for(;hn.sibling===null;){if(hn.return===null||hn.return===zt)return;hn=hn.return}hn.sibling.return=hn.return,hn=hn.sibling}else hn.child.return=hn,hn=hn.child}function Jm(Bt){var zt=Bt.alternate;zt!==null&&(Bt.alternate=null,Jm(zt)),Bt.child=null,Bt.deletions=null,Bt.sibling=null,Bt.tag===5&&(zt=Bt.stateNode,zt!==null&&Jr(zt)),Bt.stateNode=null,Bt.return=null,Bt.dependencies=null,Bt.memoizedProps=null,Bt.memoizedState=null,Bt.pendingProps=null,Bt.stateNode=null,Bt.updateQueue=null}function _g(Bt){return Bt.tag===5||Bt.tag===3||Bt.tag===4}function ev(Bt){e:for(;;){for(;Bt.sibling===null;){if(Bt.return===null||_g(Bt.return))return null;Bt=Bt.return}for(Bt.sibling.return=Bt.return,Bt=Bt.sibling;Bt.tag!==5&&Bt.tag!==6&&Bt.tag!==18;){if(Bt.flags&2||Bt.child===null||Bt.tag===4)continue e;Bt.child.return=Bt,Bt=Bt.child}if(!(Bt.flags&2))return Bt.stateNode}}function tv(Bt){if(kr){e:{for(var zt=Bt.return;zt!==null;){if(_g(zt))break e;zt=zt.return}throw Error(Tt(160))}var an=zt;switch(an.tag){case 5:zt=an.stateNode,an.flags&32&&(po(zt),an.flags&=-33),an=ev(Bt),Q2(Bt,an,zt);break;case 3:case 4:zt=an.stateNode.containerInfo,an=ev(Bt),Z2(Bt,an,zt);break;default:throw Error(Tt(161))}}}function Z2(Bt,zt,an){var hn=Bt.tag;if(hn===5||hn===6)Bt=Bt.stateNode,zt?Ar(an,Bt,zt):Kr(an,Bt);else if(hn!==4&&(Bt=Bt.child,Bt!==null))for(Z2(Bt,zt,an),Bt=Bt.sibling;Bt!==null;)Z2(Bt,zt,an),Bt=Bt.sibling}function Q2(Bt,zt,an){var hn=Bt.tag;if(hn===5||hn===6)Bt=Bt.stateNode,zt?gr(an,Bt,zt):Xr(an,Bt);else if(hn!==4&&(Bt=Bt.child,Bt!==null))for(Q2(Bt,zt,an),Bt=Bt.sibling;Bt!==null;)Q2(Bt,zt,an),Bt=Bt.sibling}function nv(Bt,zt,an){for(var hn=zt,yn=!1,Cn,Vn;;){if(!yn){yn=hn.return;e:for(;;){if(yn===null)throw Error(Tt(160));switch(Cn=yn.stateNode,yn.tag){case 5:Vn=!1;break e;case 3:Cn=Cn.containerInfo,Vn=!0;break e;case 4:Cn=Cn.containerInfo,Vn=!0;break e}yn=yn.return}yn=!0}if(hn.tag===5||hn.tag===6)Qm(Bt,hn,an),Vn?Qr(Cn,hn.stateNode):Rr(Cn,hn.stateNode);else if(hn.tag===18)Vn?Gs(Cn,hn.stateNode):go(Cn,hn.stateNode);else if(hn.tag===4){if(hn.child!==null){Cn=hn.stateNode.containerInfo,Vn=!0,hn.child.return=hn,hn=hn.child;continue}}else if(Zm(Bt,hn,an),hn.child!==null){hn.child.return=hn,hn=hn.child;continue}if(hn===zt)break;for(;hn.sibling===null;){if(hn.return===null||hn.return===zt)return;hn=hn.return,hn.tag===4&&(yn=!1)}hn.sibling.return=hn.return,hn=hn.sibling}}function J2(Bt,zt){if(kr){switch(zt.tag){case 0:case 11:case 14:case 15:Q0(3,zt,zt.return),x1(3,zt),Q0(5,zt,zt.return);return;case 1:return;case 5:var an=zt.stateNode;if(an!=null){var hn=zt.memoizedProps;Bt=Bt!==null?Bt.memoizedProps:hn;var yn=zt.type,Cn=zt.updateQueue;zt.updateQueue=null,Cn!==null&&jn(an,Cn,yn,Bt,hn,zt)}return;case 6:if(zt.stateNode===null)throw Error(Tt(162));an=zt.memoizedProps,Cr(zt.stateNode,Bt!==null?Bt.memoizedProps:an,an);return;case 3:ur&&Bt!==null&&Bt.memoizedState.isDehydrated&&Ho(zt.stateNode.containerInfo);return;case 12:return;case 13:r2(zt);return;case 19:r2(zt);return;case 17:return}throw Error(Tt(163))}switch(zt.tag){case 0:case 11:case 14:case 15:Q0(3,zt,zt.return),x1(3,zt),Q0(5,zt,zt.return);return;case 12:return;case 13:r2(zt);return;case 19:r2(zt);return;case 3:ur&&Bt!==null&&Bt.memoizedState.isDehydrated&&Ho(zt.stateNode.containerInfo);break;case 22:case 23:return}e:if(Zt){switch(zt.tag){case 1:case 5:case 6:break e;case 3:case 4:zt=zt.stateNode,Fo(zt.containerInfo,zt.pendingChildren);break e}throw Error(Tt(163))}}function r2(Bt){var zt=Bt.updateQueue;if(zt!==null){Bt.updateQueue=null;var an=Bt.stateNode;an===null&&(an=Bt.stateNode=new Vv),zt.forEach(function(hn){var yn=Qv.bind(null,Bt,hn);an.has(hn)||(an.add(hn),hn.then(yn,yn))})}}function Wv(Bt,zt){for(ao=zt;ao!==null;){zt=ao;var an=zt.deletions;if(an!==null)for(var hn=0;hn<an.length;hn++){var yn=an[hn];try{var Cn=Bt;kr?nv(Cn,yn,zt):Qm(Cn,yn,zt);var Vn=yn.alternate;Vn!==null&&(Vn.return=null),yn.return=null}catch(Ao){zl(yn,zt,Ao)}}if(an=zt.child,zt.subtreeFlags&12854&&an!==null)an.return=zt,ao=an;else for(;ao!==null;){zt=ao;try{var ir=zt.flags;if(ir&32&&kr&&po(zt.stateNode),ir&512){var Fr=zt.alternate;if(Fr!==null){var _i=Fr.ref;_i!==null&&(typeof _i=="function"?_i(null):_i.current=null)}}if(ir&8192)switch(zt.tag){case 13:if(zt.memoizedState!==null){var vo=zt.alternate;(vo===null||vo.memoizedState===null)&&(sm=ys())}break;case 22:var so=zt.memoizedState!==null,ko=zt.alternate,hs=ko!==null&&ko.memoizedState!==null;if(an=zt,kr){e:if(hn=an,yn=so,Cn=null,kr)for(var To=hn;;){if(To.tag===5){if(Cn===null){Cn=To;var lo=To.stateNode;yn?_o(lo):mr(To.stateNode,To.memoizedProps)}}else if(To.tag===6){if(Cn===null){var iu=To.stateNode;yn?qn(iu):Nr(iu,To.memoizedProps)}}else if((To.tag!==22&&To.tag!==23||To.memoizedState===null||To===hn)&&To.child!==null){To.child.return=To,To=To.child;continue}if(To===hn)break;for(;To.sibling===null;){if(To.return===null||To.return===hn)break e;Cn===To&&(Cn=null),To=To.return}Cn===To&&(Cn=null),To.sibling.return=To.return,To=To.sibling}}if(so&&!hs&&an.mode&1){ao=an;for(var wr=an.child;wr!==null;){for(an=ao=wr;ao!==null;){hn=ao;var fr=hn.child;switch(hn.tag){case 0:case 11:case 14:case 15:Q0(4,hn,hn.return);break;case 1:n2(hn,hn.return);var Ir=hn.stateNode;if(typeof Ir.componentWillUnmount=="function"){var fo=hn.return;try{Ir.props=hn.memoizedProps,Ir.state=hn.memoizedState,Ir.componentWillUnmount()}catch(Ao){zl(hn,fo,Ao)}}break;case 5:n2(hn,hn.return);break;case 22:if(hn.memoizedState!==null){ov(an);continue}}fr!==null?(fr.return=hn,ao=fr):ov(an)}wr=wr.sibling}}}switch(ir&4102){case 2:tv(zt),zt.flags&=-3;break;case 6:tv(zt),zt.flags&=-3,J2(zt.alternate,zt);break;case 4096:zt.flags&=-4097;break;case 4100:zt.flags&=-4097,J2(zt.alternate,zt);break;case 4:J2(zt.alternate,zt)}}catch(Ao){zl(zt,zt.return,Ao)}if(an=zt.sibling,an!==null){an.return=zt.return,ao=an;break}ao=zt.return}}}function Hv(Bt,zt,an){ao=Bt,rv(Bt)}function rv(Bt,zt,an){for(var hn=(Bt.mode&1)!==0;ao!==null;){var yn=ao,Cn=yn.child;if(yn.tag===22&&hn){var Vn=yn.memoizedState!==null||t2;if(!Vn){var ir=yn.alternate,Fr=ir!==null&&ir.memoizedState!==null||Z0;ir=t2;var _i=Z0;if(t2=Vn,(Z0=Fr)&&!_i)for(ao=yn;ao!==null;)Vn=ao,Fr=Vn.child,Vn.tag===22&&Vn.memoizedState!==null?sv(yn):Fr!==null?(Fr.return=Vn,ao=Fr):sv(yn);for(;Cn!==null;)ao=Cn,rv(Cn),Cn=Cn.sibling;ao=yn,t2=ir,Z0=_i}iv(Bt)}else yn.subtreeFlags&8772&&Cn!==null?(Cn.return=yn,ao=Cn):iv(Bt)}}function iv(Bt){for(;ao!==null;){var zt=ao;if(zt.flags&8772){var an=zt.alternate;try{if(zt.flags&8772)switch(zt.tag){case 0:case 11:case 15:Z0||x1(5,zt);break;case 1:var hn=zt.stateNode;if(zt.flags&4&&!Z0)if(an===null)hn.componentDidMount();else{var yn=zt.elementType===zt.type?an.memoizedProps:Js(zt.type,an.memoizedProps);hn.componentDidUpdate(yn,an.memoizedState,hn.__reactInternalSnapshotBeforeUpdate)}var Cn=zt.updateQueue;Cn!==null&&Tm(zt,Cn,hn);break;case 3:var Vn=zt.updateQueue;if(Vn!==null){if(an=null,zt.child!==null)switch(zt.child.tag){case 5:an=Xn(zt.child.stateNode);break;case 1:an=zt.child.stateNode}Tm(zt,Vn,an)}break;case 5:var ir=zt.stateNode;an===null&&zt.flags&4&&eo(ir,zt.type,zt.memoizedProps,zt);break;case 6:break;case 4:break;case 12:break;case 13:if(ur&&zt.memoizedState===null){var Fr=zt.alternate;if(Fr!==null){var _i=Fr.memoizedState;if(_i!==null){var vo=_i.dehydrated;vo!==null&&Xo(vo)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(Tt(163))}Z0||zt.flags&512&&K2(zt)}catch(so){zl(zt,zt.return,so)}}if(zt===Bt){ao=null;break}if(an=zt.sibling,an!==null){an.return=zt.return,ao=an;break}ao=zt.return}}function ov(Bt){for(;ao!==null;){var zt=ao;if(zt===Bt){ao=null;break}var an=zt.sibling;if(an!==null){an.return=zt.return,ao=an;break}ao=zt.return}}function sv(Bt){for(;ao!==null;){var zt=ao;try{switch(zt.tag){case 0:case 11:case 15:var an=zt.return;try{x1(4,zt)}catch(Fr){zl(zt,an,Fr)}break;case 1:var hn=zt.stateNode;if(typeof hn.componentDidMount=="function"){var yn=zt.return;try{hn.componentDidMount()}catch(Fr){zl(zt,yn,Fr)}}var Cn=zt.return;try{K2(zt)}catch(Fr){zl(zt,Cn,Fr)}break;case 5:var Vn=zt.return;try{K2(zt)}catch(Fr){zl(zt,Vn,Fr)}}}catch(Fr){zl(zt,zt.return,Fr)}if(zt===Bt){ao=null;break}var ir=zt.sibling;if(ir!==null){ir.return=zt.return,ao=ir;break}ao=zt.return}}var i2=0,nu=1,Dp=2,o2=3,s2=4;if(typeof Symbol=="function"&&Symbol.for){var S1=Symbol.for;i2=S1("selector.component"),nu=S1("selector.has_pseudo_class"),Dp=S1("selector.role"),o2=S1("selector.test_id"),s2=S1("selector.text")}function em(Bt){var zt=Br(Bt);if(zt!=null){if(typeof zt.memoizedProps["data-testname"]!="string")throw Error(Tt(364));return zt}if(Bt=Tr(Bt),Bt===null)throw Error(Tt(362));return Bt.stateNode.current}function tm(Bt,zt){switch(zt.$$typeof){case i2:if(Bt.type===zt.value)return!0;break;case nu:e:{zt=zt.value,Bt=[Bt,0];for(var an=0;an<Bt.length;){var hn=Bt[an++],yn=Bt[an++],Cn=zt[yn];if(hn.tag!==5||!Jn(hn)){for(;Cn!=null&&tm(hn,Cn);)yn++,Cn=zt[yn];if(yn===zt.length){zt=!0;break e}else for(hn=hn.child;hn!==null;)Bt.push(hn,yn),hn=hn.sibling}}zt=!1}return zt;case Dp:if(Bt.tag===5&&yr(Bt.stateNode,zt.value))return!0;break;case s2:if((Bt.tag===5||Bt.tag===6)&&(Bt=Ln(Bt),Bt!==null&&0<=Bt.indexOf(zt.value)))return!0;break;case o2:if(Bt.tag===5&&(Bt=Bt.memoizedProps["data-testname"],typeof Bt=="string"&&Bt.toLowerCase()===zt.value.toLowerCase()))return!0;break;default:throw Error(Tt(365))}return!1}function nm(Bt){switch(Bt.$$typeof){case i2:return"<"+(Tn(Bt.value)||"Unknown")+">";case nu:return":has("+(nm(Bt)||"")+")";case Dp:return'[role="'+Bt.value+'"]';case s2:return'"'+Bt.value+'"';case o2:return'[data-testname="'+Bt.value+'"]';default:throw Error(Tt(365))}}function av(Bt,zt){var an=[];Bt=[Bt,0];for(var hn=0;hn<Bt.length;){var yn=Bt[hn++],Cn=Bt[hn++],Vn=zt[Cn];if(yn.tag!==5||!Jn(yn)){for(;Vn!=null&&tm(yn,Vn);)Cn++,Vn=zt[Cn];if(Cn===zt.length)an.push(yn);else for(yn=yn.child;yn!==null;)Bt.push(yn,Cn),yn=yn.sibling}}return an}function rm(Bt,zt){if(!qr)throw Error(Tt(363));Bt=em(Bt),Bt=av(Bt,zt),zt=[],Bt=Array.from(Bt);for(var an=0;an<Bt.length;){var hn=Bt[an++];if(hn.tag===5)Jn(hn)||zt.push(hn.stateNode);else for(hn=hn.child;hn!==null;)Bt.push(hn),hn=hn.sibling}return zt}var jv=Math.ceil,a2=At.ReactCurrentDispatcher,im=At.ReactCurrentOwner,ks=At.ReactCurrentBatchConfig,Ko=0,Is=null,Ds=null,Ys=0,ru=0,Op=us(0),Bs=0,w1=null,Fp=0,l2=0,om=0,M1=null,Ul=null,sm=0,am=1/0;function J0(){am=ys()+500}var u2=!1,lm=null,w0=null,Xs=!1,M0=null,c2=0,$a=0,Tu=null,Np=-1,f2=0;function Al(){return Ko&6?ys():Np!==-1?Np:Np=ys()}function E0(Bt){return Bt.mode&1?Ko&2&&Ys!==0?Ys&-Ys:O0.transition!==null?(f2===0&&(Bt=_u,_u<<=1,!(_u&4194240)&&(_u=64),f2=Bt),f2):(Bt=Lo,Bt!==0?Bt:Dr()):1}function du(Bt,zt,an){if(50<$a)throw $a=0,Tu=null,Error(Tt(185));var hn=E1(Bt,zt);return hn===null?null:(yu(hn,zt,an),(!(Ko&2)||hn!==Is)&&(hn===Is&&(!(Ko&2)&&(l2|=zt),Bs===4&&T0(hn,Ys)),Cl(hn,an),zt===1&&Ko===0&&!(Bt.mode&1)&&(J0(),Nu&&Nl())),hn)}function E1(Bt,zt){Bt.lanes|=zt;var an=Bt.alternate;for(an!==null&&(an.lanes|=zt),an=Bt,Bt=Bt.return;Bt!==null;)Bt.childLanes|=zt,an=Bt.alternate,an!==null&&(an.childLanes|=zt),an=Bt,Bt=Bt.return;return an.tag===3?an.stateNode:null}function Cl(Bt,zt){var an=Bt.callbackNode;vp(Bt,zt);var hn=D0(Bt,Bt===Is?Ys:0);if(hn===0)an!==null&&_p(an),Bt.callbackNode=null,Bt.callbackPriority=0;else if(zt=hn&-hn,Bt.callbackPriority!==zt){if(an!=null&&_p(an),zt===1)Bt.tag===0?l1(lv.bind(null,Bt)):a1(lv.bind(null,Bt)),xr?jr(function(){Ko===0&&Nl()}):Ju(Fu,Nl),an=null;else{switch(n1(hn)){case 1:an=Fu;break;case 4:an=N1;break;case 16:an=Co;break;case 536870912:an=o1;break;default:an=Co}an=vv(an,d2.bind(null,Bt))}Bt.callbackPriority=zt,Bt.callbackNode=an}}function d2(Bt,zt){if(Np=-1,f2=0,Ko&6)throw Error(Tt(327));var an=Bt.callbackNode;if(_d()&&Bt.callbackNode!==an)return null;var hn=D0(Bt,Bt===Is?Ys:0);if(hn===0)return null;if(hn&30||hn&Bt.expiredLanes||zt)zt=h2(Bt,hn);else{zt=hn;var yn=Ko;Ko|=2;var Cn=fv();(Is!==Bt||Ys!==zt)&&(J0(),_c(Bt,zt));do try{Xv();break}catch(ir){cv(Bt,ir)}while(1);Sp(),a2.current=Cn,Ko=yn,Ds!==null?zt=0:(Is=null,Ys=0,zt=Bs)}if(zt!==0){if(zt===2&&(yn=Ws(Bt),yn!==0&&(hn=yn,zt=um(Bt,yn))),zt===1)throw an=w1,_c(Bt,0),T0(Bt,hn),Cl(Bt,ys()),an;if(zt===6)T0(Bt,hn);else{if(yn=Bt.current.alternate,!(hn&30)&&!hu(yn)&&(zt=h2(Bt,hn),zt===2&&(Cn=Ws(Bt),Cn!==0&&(hn=Cn,zt=um(Bt,Cn))),zt===1))throw an=w1,_c(Bt,0),T0(Bt,hn),Cl(Bt,ys()),an;switch(Bt.finishedWork=yn,Bt.finishedLanes=hn,zt){case 0:case 1:throw Error(Tt(345));case 2:_f(Bt,Ul);break;case 3:if(T0(Bt,hn),(hn&130023424)===hn&&(zt=sm+500-ys(),10<zt)){if(D0(Bt,0)!==0)break;if(yn=Bt.suspendedLanes,(yn&hn)!==hn){Al(),Bt.pingedLanes|=Bt.suspendedLanes&yn;break}Bt.timeoutHandle=nr(_f.bind(null,Bt,Ul),zt);break}_f(Bt,Ul);break;case 4:if(T0(Bt,hn),(hn&4194240)===hn)break;for(zt=Bt.eventTimes,yn=-1;0<hn;){var Vn=31-Qs(hn);Cn=1<<Vn,Vn=zt[Vn],Vn>yn&&(yn=Vn),hn&=~Cn}if(hn=yn,hn=ys()-hn,hn=(120>hn?120:480>hn?480:1080>hn?1080:1920>hn?1920:3e3>hn?3e3:4320>hn?4320:1960*jv(hn/1960))-hn,10<hn){Bt.timeoutHandle=nr(_f.bind(null,Bt,Ul),hn);break}_f(Bt,Ul);break;case 5:_f(Bt,Ul);break;default:throw Error(Tt(329))}}}return Cl(Bt,ys()),Bt.callbackNode===an?d2.bind(null,Bt):null}function um(Bt,zt){var an=M1;return Bt.current.memoizedState.isDehydrated&&(_c(Bt,zt).flags|=256),Bt=h2(Bt,zt),Bt!==2&&(zt=Ul,Ul=an,zt!==null&&cm(zt)),Bt}function cm(Bt){Ul===null?Ul=Bt:Ul.push.apply(Ul,Bt)}function hu(Bt){for(var zt=Bt;;){if(zt.flags&16384){var an=zt.updateQueue;if(an!==null&&(an=an.stores,an!==null))for(var hn=0;hn<an.length;hn++){var yn=an[hn],Cn=yn.getSnapshot;yn=yn.value;try{if(!Zl(Cn(),yn))return!1}catch{return!1}}}if(an=zt.child,zt.subtreeFlags&16384&&an!==null)an.return=zt,zt=an;else{if(zt===Bt)break;for(;zt.sibling===null;){if(zt.return===null||zt.return===Bt)return!0;zt=zt.return}zt.sibling.return=zt.return,zt=zt.sibling}}return!0}function T0(Bt,zt){for(zt&=~om,zt&=~l2,Bt.suspendedLanes|=zt,Bt.pingedLanes&=~zt,Bt=Bt.expirationTimes;0<zt;){var an=31-Qs(zt),hn=1<<an;Bt[an]=-1,zt&=~hn}}function lv(Bt){if(Ko&6)throw Error(Tt(327));_d();var zt=D0(Bt,0);if(!(zt&1))return Cl(Bt,ys()),null;var an=h2(Bt,zt);if(Bt.tag!==0&&an===2){var hn=Ws(Bt);hn!==0&&(zt=hn,an=um(Bt,hn))}if(an===1)throw an=w1,_c(Bt,0),T0(Bt,zt),Cl(Bt,ys()),an;if(an===6)throw Error(Tt(345));return Bt.finishedWork=Bt.current.alternate,Bt.finishedLanes=zt,_f(Bt,Ul),Cl(Bt,ys()),null}function uv(Bt){M0!==null&&M0.tag===0&&!(Ko&6)&&_d();var zt=Ko;Ko|=1;var an=ks.transition,hn=Lo;try{if(ks.transition=null,Lo=1,Bt)return Bt()}finally{Lo=hn,ks.transition=an,Ko=zt,!(Ko&6)&&Nl()}}function fm(){ru=Op.current,os(Op)}function _c(Bt,zt){Bt.finishedWork=null,Bt.finishedLanes=0;var an=Bt.timeoutHandle;if(an!==Pr&&(Bt.timeoutHandle=Pr,hr(an)),Ds!==null)for(an=Ds.return;an!==null;){var hn=an;switch(P2(hn),hn.tag){case 1:hn=hn.type.childContextTypes,hn!=null&&p0();break;case 3:$0(),os(Hr),os(Ms),cu();break;case 5:H1(hn);break;case 4:$0();break;case 13:os(Ss);break;case 19:os(Ss);break;case 10:Bu(hn.type._context);break;case 22:case 23:fm()}an=an.return}if(Is=Bt,Ds=Bt=mu(Bt.current,null),Ys=ru=zt,Bs=0,w1=null,om=l2=Fp=0,Ul=M1=null,Fs!==null){for(zt=0;zt<Fs.length;zt++)if(an=Fs[zt],hn=an.interleaved,hn!==null){an.interleaved=null;var yn=hn.next,Cn=an.pending;if(Cn!==null){var Vn=Cn.next;Cn.next=yn,hn.next=Vn}an.pending=hn}Fs=null}return Bt}function cv(Bt,zt){do{var an=Ds;try{if(Sp(),Cp.current=Rp,Bl){for(var hn=As.memoizedState;hn!==null;){var yn=hn.queue;yn!==null&&(yn.pending=null),hn=hn.next}Bl=!1}if(Pp=0,Ns=na=As=null,es=!1,kp=0,im.current=null,an===null||an.return===null){Bs=1,w1=zt,Ds=null;break}e:{var Cn=Bt,Vn=an.return,ir=an,Fr=zt;if(zt=Ys,ir.flags|=32768,Fr!==null&&typeof Fr=="object"&&typeof Fr.then=="function"){var _i=Fr,vo=ir,so=vo.tag;if(!(vo.mode&1)&&(so===0||so===11||so===15)){var ko=vo.alternate;ko?(vo.updateQueue=ko.updateQueue,vo.memoizedState=ko.memoizedState,vo.lanes=ko.lanes):(vo.updateQueue=null,vo.memoizedState=null)}var hs=g1(Vn);if(hs!==null){hs.flags&=-257,bp(hs,Vn,ir,Cn,zt),hs.mode&1&&W2(Cn,_i,zt),zt=hs,Fr=_i;var To=zt.updateQueue;if(To===null){var lo=new Set;lo.add(Fr),zt.updateQueue=lo}else To.add(Fr);break e}else{if(!(zt&1)){W2(Cn,_i,zt),dm();break e}Fr=Error(Tt(426))}}else if(xs&&ir.mode&1){var iu=g1(Vn);if(iu!==null){!(iu.flags&65536)&&(iu.flags|=256),bp(iu,Vn,ir,Cn,zt),W1(Fr);break e}}Cn=Fr,Bs!==4&&(Bs=2),M1===null?M1=[Cn]:M1.push(Cn),Fr=p1(Fr,ir),ir=Vn;do{switch(ir.tag){case 3:ir.flags|=65536,zt&=-zt,ir.lanes|=zt;var wr=m1(ir,Fr,zt);Em(ir,wr);break e;case 1:Cn=Fr;var fr=ir.type,Ir=ir.stateNode;if(!(ir.flags&128)&&(typeof fr.getDerivedStateFromError=="function"||Ir!==null&&typeof Ir.componentDidCatch=="function"&&(w0===null||!w0.has(Ir)))){ir.flags|=65536,zt&=-zt,ir.lanes|=zt;var fo=Nm(ir,Cn,zt);Em(ir,fo);break e}}ir=ir.return}while(ir!==null)}hv(an)}catch(Ao){zt=Ao,Ds===an&&an!==null&&(Ds=an=an.return);continue}break}while(1)}function fv(){var Bt=a2.current;return a2.current=Rp,Bt===null?Rp:Bt}function dm(){(Bs===0||Bs===3||Bs===2)&&(Bs=4),Is===null||!(Fp&268435455)&&!(l2&268435455)||T0(Is,Ys)}function h2(Bt,zt){var an=Ko;Ko|=2;var hn=fv();Is===Bt&&Ys===zt||_c(Bt,zt);do try{Yv();break}catch(yn){cv(Bt,yn)}while(1);if(Sp(),Ko=an,a2.current=hn,Ds!==null)throw Error(Tt(261));return Is=null,Ys=0,Bs}function Yv(){for(;Ds!==null;)dv(Ds)}function Xv(){for(;Ds!==null&&!r1();)dv(Ds)}function dv(Bt){var zt=gv(Bt.alternate,Bt,ru);Bt.memoizedProps=Bt.pendingProps,zt===null?hv(Bt):Ds=zt,im.current=null}function hv(Bt){var zt=Bt;do{var an=zt.alternate;if(Bt=zt.return,zt.flags&32768){if(an=$v(an,zt),an!==null){an.flags&=32767,Ds=an;return}if(Bt!==null)Bt.flags|=32768,Bt.subtreeFlags=0,Bt.deletions=null;else{Bs=6,Ds=null;return}}else if(an=Bv(an,zt,ru),an!==null){Ds=an;return}if(zt=zt.sibling,zt!==null){Ds=zt;return}Ds=zt=Bt}while(zt!==null);Bs===0&&(Bs=5)}function _f(Bt,zt){var an=Lo,hn=ks.transition;try{ks.transition=null,Lo=1,qv(Bt,zt,an)}finally{ks.transition=hn,Lo=an}return null}function qv(Bt,zt,an){do _d();while(M0!==null);if(Ko&6)throw Error(Tt(327));var hn=Bt.finishedWork,yn=Bt.finishedLanes;if(hn===null)return null;if(Bt.finishedWork=null,Bt.finishedLanes=0,hn===Bt.current)throw Error(Tt(177));Bt.callbackNode=null,Bt.callbackPriority=0;var Cn=hn.lanes|hn.childLanes;if(m0(Bt,Cn),Bt===Is&&(Ds=Is=null,Ys=0),!(hn.subtreeFlags&2064)&&!(hn.flags&2064)||Xs||(Xs=!0,vv(Co,function(){return _d(),null})),Cn=(hn.flags&15990)!==0,hn.subtreeFlags&15990||Cn){Cn=ks.transition,ks.transition=null;var Vn=Lo;Lo=1;var ir=Ko;Ko|=4,im.current=null,Gv(Bt,hn),Wv(Bt,hn),Wn(Bt.containerInfo),Bt.current=hn,Hv(hn),i1(),Ko=ir,Lo=Vn,ks.transition=Cn}else Bt.current=hn;if(Xs&&(Xs=!1,M0=Bt,c2=yn),Cn=Bt.pendingLanes,Cn===0&&(w0=null),s1(hn.stateNode),Cl(Bt,ys()),zt!==null)for(an=Bt.onRecoverableError,hn=0;hn<zt.length;hn++)an(zt[hn]);if(u2)throw u2=!1,Bt=lm,lm=null,Bt;return c2&1&&Bt.tag!==0&&_d(),Cn=Bt.pendingLanes,Cn&1?Bt===Tu?$a++:($a=0,Tu=Bt):$a=0,Nl(),null}function _d(){if(M0!==null){var Bt=n1(c2),zt=ks.transition,an=Lo;try{if(ks.transition=null,Lo=16>Bt?16:Bt,M0===null)var hn=!1;else{if(Bt=M0,M0=null,c2=0,Ko&6)throw Error(Tt(331));var yn=Ko;for(Ko|=4,ao=Bt.current;ao!==null;){var Cn=ao,Vn=Cn.child;if(ao.flags&16){var ir=Cn.deletions;if(ir!==null){for(var Fr=0;Fr<ir.length;Fr++){var _i=ir[Fr];for(ao=_i;ao!==null;){var vo=ao;switch(vo.tag){case 0:case 11:case 15:Q0(8,vo,Cn)}var so=vo.child;if(so!==null)so.return=vo,ao=so;else for(;ao!==null;){vo=ao;var ko=vo.sibling,hs=vo.return;if(Jm(vo),vo===_i){ao=null;break}if(ko!==null){ko.return=hs,ao=ko;break}ao=hs}}}var To=Cn.alternate;if(To!==null){var lo=To.child;if(lo!==null){To.child=null;do{var iu=lo.sibling;lo.sibling=null,lo=iu}while(lo!==null)}}ao=Cn}}if(Cn.subtreeFlags&2064&&Vn!==null)Vn.return=Cn,ao=Vn;else e:for(;ao!==null;){if(Cn=ao,Cn.flags&2048)switch(Cn.tag){case 0:case 11:case 15:Q0(9,Cn,Cn.return)}var wr=Cn.sibling;if(wr!==null){wr.return=Cn.return,ao=wr;break e}ao=Cn.return}}var fr=Bt.current;for(ao=fr;ao!==null;){Vn=ao;var Ir=Vn.child;if(Vn.subtreeFlags&2064&&Ir!==null)Ir.return=Vn,ao=Ir;else e:for(Vn=fr;ao!==null;){if(ir=ao,ir.flags&2048)try{switch(ir.tag){case 0:case 11:case 15:x1(9,ir)}}catch(Ao){zl(ir,ir.return,Ao)}if(ir===Vn){ao=null;break e}var fo=ir.sibling;if(fo!==null){fo.return=ir.return,ao=fo;break e}ao=ir.return}}if(Ko=yn,Nl(),Kl&&typeof Kl.onPostCommitFiberRoot=="function")try{Kl.onPostCommitFiberRoot(g0,Bt)}catch{}hn=!0}return hn}finally{Lo=an,ks.transition=zt}}return!1}function pv(Bt,zt,an){zt=p1(an,zt),zt=m1(Bt,zt,1),_0(Bt,zt),zt=Al(),Bt=E1(Bt,1),Bt!==null&&(yu(Bt,1,zt),Cl(Bt,zt))}function zl(Bt,zt,an){if(Bt.tag===3)pv(Bt,Bt,an);else for(;zt!==null;){if(zt.tag===3){pv(zt,Bt,an);break}else if(zt.tag===1){var hn=zt.stateNode;if(typeof zt.type.getDerivedStateFromError=="function"||typeof hn.componentDidCatch=="function"&&(w0===null||!w0.has(hn))){Bt=p1(an,Bt),Bt=Nm(zt,Bt,1),_0(zt,Bt),Bt=Al(),zt=E1(zt,1),zt!==null&&(yu(zt,1,Bt),Cl(zt,Bt));break}}zt=zt.return}}function Kv(Bt,zt,an){var hn=Bt.pingCache;hn!==null&&hn.delete(zt),zt=Al(),Bt.pingedLanes|=Bt.suspendedLanes&an,Is===Bt&&(Ys&an)===an&&(Bs===4||Bs===3&&(Ys&130023424)===Ys&&500>ys()-sm?_c(Bt,0):om|=an),Cl(Bt,zt)}function mv(Bt,zt){zt===0&&(Bt.mode&1?(zt=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):zt=1);var an=Al();Bt=E1(Bt,zt),Bt!==null&&(yu(Bt,zt,an),Cl(Bt,an))}function Zv(Bt){var zt=Bt.memoizedState,an=0;zt!==null&&(an=zt.retryLane),mv(Bt,an)}function Qv(Bt,zt){var an=0;switch(Bt.tag){case 13:var hn=Bt.stateNode,yn=Bt.memoizedState;yn!==null&&(an=yn.retryLane);break;case 19:hn=Bt.stateNode;break;default:throw Error(Tt(314))}hn!==null&&hn.delete(zt),mv(Bt,an)}var gv;gv=function(Bt,zt,an){if(Bt!==null)if(Bt.memoizedProps!==zt.pendingProps||Hr.current)tu=!0;else{if(!(Bt.lanes&an)&&!(zt.flags&128))return tu=!1,zv(Bt,zt,an);tu=!!(Bt.flags&131072)}else tu=!1,xs&&zt.flags&1048576&&Lm(zt,G1,zt.index);switch(zt.lanes=0,zt.tag){case 2:var hn=zt.type;Bt!==null&&(Bt.alternate=null,zt.alternate=null,zt.flags|=2),Bt=zt.pendingProps;var yn=bu(zt,Ms.current);$s(zt,an),yn=j1(null,zt,hn,Bt,yn,an);var Cn=O2();return zt.flags|=1,typeof yn=="object"&&yn!==null&&typeof yn.render=="function"&&yn.$$typeof===void 0?(zt.tag=1,zt.memoizedState=null,zt.updateQueue=null,Cs(hn)?(Cn=!0,Iu(zt)):Cn=!1,zt.memoizedState=yn.state!==null&&yn.state!==void 0?yn.state:null,E2(zt),yn.updater=$1,zt.stateNode=yn,yn._reactInternals=zt,A2(zt,hn,Bt,an),zt=Q1(null,zt,hn,!0,Cn,an)):(zt.tag=0,xs&&Cn&&C2(zt),ba(null,zt,yn,an),zt=zt.child),zt;case 16:hn=zt.elementType;e:{switch(Bt!==null&&(Bt.alternate=null,zt.alternate=null,zt.flags|=2),Bt=zt.pendingProps,yn=hn._init,hn=yn(hn._payload),zt.type=hn,yn=zt.tag=e_(hn),Bt=Js(hn,Bt),yn){case 0:zt=j2(null,zt,hn,Bt,an);break e;case 1:zt=Wm(null,zt,hn,Bt,an);break e;case 11:zt=zm(null,zt,hn,Bt,an);break e;case 14:zt=$m(null,zt,hn,Js(hn.type,Bt),an);break e}throw Error(Tt(306,hn,""))}return zt;case 0:return hn=zt.type,yn=zt.pendingProps,yn=zt.elementType===hn?yn:Js(hn,yn),j2(Bt,zt,hn,yn,an);case 1:return hn=zt.type,yn=zt.pendingProps,yn=zt.elementType===hn?yn:Js(hn,yn),Wm(Bt,zt,hn,yn,an);case 3:e:{if(q0(zt),Bt===null)throw Error(Tt(387));hn=zt.pendingProps,Cn=zt.memoizedState,yn=Cn.element,Mm(Bt,zt),z1(zt,hn,null,an);var Vn=zt.memoizedState;if(hn=Vn.element,ur&&Cn.isDehydrated)if(Cn={element:hn,isDehydrated:!1,cache:Vn.cache,transitions:Vn.transitions},zt.updateQueue.baseState=Cn,zt.memoizedState=Cn,zt.flags&256){yn=Error(Tt(423)),zt=K0(Bt,zt,hn,an,yn);break e}else if(hn!==yn){yn=Error(Tt(424)),zt=K0(Bt,zt,hn,an,yn);break e}else for(ur&&(eu=br(zt.stateNode.containerInfo),Jl=zt,xs=!0,wu=null,u1=!1),an=Dm(zt,null,hn,an),zt.child=an;an;)an.flags=an.flags&-3|4096,an=an.sibling;else{if(z0(),hn===yn){zt=s0(Bt,zt,an);break e}ba(Bt,zt,hn,an)}zt=zt.child}return zt;case 5:return I2(zt),Bt===null&&L2(zt),hn=zt.type,yn=zt.pendingProps,Cn=Bt!==null?Bt.memoizedProps:null,Vn=yn.children,Hn(hn,yn)?Vn=null:Cn!==null&&Hn(hn,Cn)&&(zt.flags|=32),H2(Bt,zt),ba(Bt,zt,Vn,an),zt.child;case 6:return Bt===null&&L2(zt),null;case 13:return Hm(Bt,zt,an);case 4:return uu(zt,zt.stateNode.containerInfo),hn=zt.pendingProps,Bt===null?zt.child=Tp(zt,null,hn,an):ba(Bt,zt,hn,an),zt.child;case 11:return hn=zt.type,yn=zt.pendingProps,yn=zt.elementType===hn?yn:Js(hn,yn),zm(Bt,zt,hn,yn,an);case 7:return ba(Bt,zt,zt.pendingProps,an),zt.child;case 8:return ba(Bt,zt,zt.pendingProps.children,an),zt.child;case 12:return ba(Bt,zt,zt.pendingProps.children,an),zt.child;case 10:e:{if(hn=zt.type._context,yn=zt.pendingProps,Cn=zt.memoizedProps,Vn=yn.value,B1(zt,hn,Vn),Cn!==null)if(Zl(Cn.value,Vn)){if(Cn.children===yn.children&&!Hr.current){zt=s0(Bt,zt,an);break e}}else for(Cn=zt.child,Cn!==null&&(Cn.return=zt);Cn!==null;){var ir=Cn.dependencies;if(ir!==null){Vn=Cn.child;for(var Fr=ir.firstContext;Fr!==null;){if(Fr.context===hn){if(Cn.tag===1){Fr=e0(-1,an&-an),Fr.tag=2;var _i=Cn.updateQueue;if(_i!==null){_i=_i.shared;var vo=_i.pending;vo===null?Fr.next=Fr:(Fr.next=vo.next,vo.next=Fr),_i.pending=Fr}}Cn.lanes|=an,Fr=Cn.alternate,Fr!==null&&(Fr.lanes|=an),bs(Cn.return,an,zt),ir.lanes|=an;break}Fr=Fr.next}}else if(Cn.tag===10)Vn=Cn.type===zt.type?null:Cn.child;else if(Cn.tag===18){if(Vn=Cn.return,Vn===null)throw Error(Tt(341));Vn.lanes|=an,ir=Vn.alternate,ir!==null&&(ir.lanes|=an),bs(Vn,an,zt),Vn=Cn.sibling}else Vn=Cn.child;if(Vn!==null)Vn.return=Cn;else for(Vn=Cn;Vn!==null;){if(Vn===zt){Vn=null;break}if(Cn=Vn.sibling,Cn!==null){Cn.return=Vn.return,Vn=Cn;break}Vn=Vn.return}Cn=Vn}ba(Bt,zt,yn.children,an),zt=zt.child}return zt;case 9:return yn=zt.type,hn=zt.pendingProps.children,$s(zt,an),yn=ds(yn),hn=hn(yn),zt.flags|=1,ba(Bt,zt,hn,an),zt.child;case 14:return hn=zt.type,yn=Js(hn,zt.pendingProps),yn=Js(hn.type,yn),$m(Bt,zt,hn,yn,an);case 15:return Vm(Bt,zt,zt.type,zt.pendingProps,an);case 17:return hn=zt.type,yn=zt.pendingProps,yn=zt.elementType===hn?yn:Js(hn,yn),Bt!==null&&(Bt.alternate=null,zt.alternate=null,zt.flags|=2),zt.tag=1,Cs(hn)?(Bt=!0,Iu(zt)):Bt=!1,$s(zt,an),Pm(zt,hn,yn),A2(zt,hn,yn,an),Q1(null,zt,hn,!0,Bt,an);case 19:return qm(Bt,zt,an);case 22:return Gm(Bt,zt,an)}throw Error(Tt(156,zt.tag))};function vv(Bt,zt){return Ju(Bt,zt)}function Jv(Bt,zt,an,hn){this.tag=Bt,this.key=an,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=zt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=hn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pu(Bt,zt,an,hn){return new Jv(Bt,zt,an,hn)}function hm(Bt){return Bt=Bt.prototype,!(!Bt||!Bt.isReactComponent)}function e_(Bt){if(typeof Bt=="function")return hm(Bt)?1:0;if(Bt!=null){if(Bt=Bt.$$typeof,Bt===tn)return 11;if(Bt===ln)return 14}return 2}function mu(Bt,zt){var an=Bt.alternate;return an===null?(an=pu(Bt.tag,zt,Bt.key,Bt.mode),an.elementType=Bt.elementType,an.type=Bt.type,an.stateNode=Bt.stateNode,an.alternate=Bt,Bt.alternate=an):(an.pendingProps=zt,an.type=Bt.type,an.flags=0,an.subtreeFlags=0,an.deletions=null),an.flags=Bt.flags&14680064,an.childLanes=Bt.childLanes,an.lanes=Bt.lanes,an.child=Bt.child,an.memoizedProps=Bt.memoizedProps,an.memoizedState=Bt.memoizedState,an.updateQueue=Bt.updateQueue,zt=Bt.dependencies,an.dependencies=zt===null?null:{lanes:zt.lanes,firstContext:zt.firstContext},an.sibling=Bt.sibling,an.index=Bt.index,an.ref=Bt.ref,an}function p2(Bt,zt,an,hn,yn,Cn){var Vn=2;if(hn=Bt,typeof Bt=="function")hm(Bt)&&(Vn=1);else if(typeof Bt=="string")Vn=5;else e:switch(Bt){case Nt:return _l(an.children,yn,Cn,zt);case Wt:Vn=8,yn|=8;break;case Ht:return Bt=pu(12,an,zt,yn|2),Bt.elementType=Ht,Bt.lanes=Cn,Bt;case cn:return Bt=pu(13,an,zt,yn),Bt.elementType=cn,Bt.lanes=Cn,Bt;case fn:return Bt=pu(19,an,zt,yn),Bt.elementType=fn,Bt.lanes=Cn,Bt;case mn:return Wu(an,yn,Cn,zt);default:if(typeof Bt=="object"&&Bt!==null)switch(Bt.$$typeof){case Kt:Vn=10;break e;case Ft:Vn=9;break e;case tn:Vn=11;break e;case ln:Vn=14;break e;case dn:Vn=16,hn=null;break e}throw Error(Tt(130,Bt==null?Bt:typeof Bt,""))}return zt=pu(Vn,an,zt,yn),zt.elementType=Bt,zt.type=hn,zt.lanes=Cn,zt}function _l(Bt,zt,an,hn){return Bt=pu(7,Bt,hn,zt),Bt.lanes=an,Bt}function Wu(Bt,zt,an,hn){return Bt=pu(22,Bt,hn,zt),Bt.elementType=mn,Bt.lanes=an,Bt.stateNode={},Bt}function Os(Bt,zt,an){return Bt=pu(6,Bt,null,zt),Bt.lanes=an,Bt}function Au(Bt,zt,an){return zt=pu(4,Bt.children!==null?Bt.children:[],Bt.key,zt),zt.lanes=an,zt.stateNode={containerInfo:Bt.containerInfo,pendingChildren:null,implementation:Bt.implementation},zt}function pm(Bt,zt,an,hn,yn){this.tag=zt,this.containerInfo=Bt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=hn,this.onRecoverableError=yn,ur&&(this.mutableSourceEagerHydrationData=null)}function A0(Bt,zt,an,hn,yn,Cn,Vn,ir,Fr){return Bt=new pm(Bt,zt,an,ir,Fr),zt===1?(zt=1,Cn===!0&&(zt|=8)):zt=0,Cn=pu(3,null,null,zt),Bt.current=Cn,Cn.stateNode=Bt,Cn.memoizedState={element:hn,isDehydrated:an,cache:null,transitions:null},E2(Cn),Bt}function Hu(Bt){if(!Bt)return ps;Bt=Bt._reactInternals;e:{if(An(Bt)!==Bt||Bt.tag!==1)throw Error(Tt(170));var zt=Bt;do{switch(zt.tag){case 3:zt=zt.stateNode.context;break e;case 1:if(Cs(zt.type)){zt=zt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}zt=zt.return}while(zt!==null);throw Error(Tt(171))}if(Bt.tag===1){var an=Bt.type;if(Cs(an))return gp(Bt,an,zt)}return zt}function T1(Bt){var zt=Bt._reactInternals;if(zt===void 0)throw typeof Bt.render=="function"?Error(Tt(188)):(Bt=Object.keys(Bt).join(","),Error(Tt(268,Bt)));return Bt=In(zt),Bt===null?null:Bt.stateNode}function _v(Bt,zt){if(Bt=Bt.memoizedState,Bt!==null&&Bt.dehydrated!==null){var an=Bt.retryLane;Bt.retryLane=an!==0&&an<zt?an:zt}}function mm(Bt,zt){_v(Bt,zt),(Bt=Bt.alternate)&&_v(Bt,zt)}function t_(Bt){return Bt=In(Bt),Bt===null?null:Bt.stateNode}function n_(){return null}return $.attemptContinuousHydration=function(Bt){if(Bt.tag===13){var zt=Al();du(Bt,134217728,zt),mm(Bt,134217728)}},$.attemptHydrationAtCurrentPriority=function(Bt){if(Bt.tag===13){var zt=Al(),an=E0(Bt);du(Bt,an,zt),mm(Bt,an)}},$.attemptSynchronousHydration=function(Bt){switch(Bt.tag){case 3:var zt=Bt.stateNode;if(zt.current.memoizedState.isDehydrated){var an=Du(zt.pendingLanes);an!==0&&(Ou(zt,an|1),Cl(zt,ys()),!(Ko&6)&&(J0(),Nl()))}break;case 13:var hn=Al();uv(function(){return du(Bt,1,hn)}),mm(Bt,1)}},$.batchedUpdates=function(Bt,zt){var an=Ko;Ko|=1;try{return Bt(zt)}finally{Ko=an,Ko===0&&(J0(),Nu&&Nl())}},$.createComponentSelector=function(Bt){return{$$typeof:i2,value:Bt}},$.createContainer=function(Bt,zt,an,hn,yn,Cn,Vn){return A0(Bt,zt,!1,null,an,hn,yn,Cn,Vn)},$.createHasPseudoClassSelector=function(Bt){return{$$typeof:nu,value:Bt}},$.createHydrationContainer=function(Bt,zt,an,hn,yn,Cn,Vn,ir,Fr){return Bt=A0(an,hn,!0,Bt,yn,Cn,Vn,ir,Fr),Bt.context=Hu(null),an=Bt.current,hn=Al(),yn=E0(an),Cn=e0(hn,yn),Cn.callback=zt??null,_0(an,Cn),Bt.current.lanes=yn,yu(Bt,yn,hn),Cl(Bt,hn),Bt},$.createPortal=function(Bt,zt,an){var hn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dt,key:hn==null?null:""+hn,children:Bt,containerInfo:zt,implementation:an}},$.createRoleSelector=function(Bt){return{$$typeof:Dp,value:Bt}},$.createTestNameSelector=function(Bt){return{$$typeof:o2,value:Bt}},$.createTextSelector=function(Bt){return{$$typeof:s2,value:Bt}},$.deferredUpdates=function(Bt){var zt=Lo,an=ks.transition;try{return ks.transition=null,Lo=16,Bt()}finally{Lo=zt,ks.transition=an}},$.discreteUpdates=function(Bt,zt,an,hn,yn){var Cn=Lo,Vn=ks.transition;try{return ks.transition=null,Lo=1,Bt(zt,an,hn,yn)}finally{Lo=Cn,ks.transition=Vn,Ko===0&&J0()}},$.findAllNodes=rm,$.findBoundingRects=function(Bt,zt){if(!qr)throw Error(Tt(363));zt=rm(Bt,zt),Bt=[];for(var an=0;an<zt.length;an++)Bt.push(Bn(zt[an]));for(zt=Bt.length-1;0<zt;zt--){an=Bt[zt];for(var hn=an.x,yn=hn+an.width,Cn=an.y,Vn=Cn+an.height,ir=zt-1;0<=ir;ir--)if(zt!==ir){var Fr=Bt[ir],_i=Fr.x,vo=_i+Fr.width,so=Fr.y,ko=so+Fr.height;if(hn>=_i&&Cn>=so&&yn<=vo&&Vn<=ko){Bt.splice(zt,1);break}else if(hn!==_i||an.width!==Fr.width||ko<Cn||so>Vn){if(!(Cn!==so||an.height!==Fr.height||vo<hn||_i>yn)){_i>hn&&(Fr.width+=_i-hn,Fr.x=hn),vo<yn&&(Fr.width=yn-_i),Bt.splice(zt,1);break}}else{so>Cn&&(Fr.height+=so-Cn,Fr.y=Cn),ko<Vn&&(Fr.height=Vn-so),Bt.splice(zt,1);break}}}return Bt},$.findHostInstance=T1,$.findHostInstanceWithNoPortals=function(Bt){return Bt=bn(Bt),Bt=Bt!==null?Nn(Bt):null,Bt===null?null:Bt.stateNode},$.findHostInstanceWithWarning=function(Bt){return T1(Bt)},$.flushControlled=function(Bt){var zt=Ko;Ko|=1;var an=ks.transition,hn=Lo;try{ks.transition=null,Lo=1,Bt()}finally{Lo=hn,ks.transition=an,Ko=zt,Ko===0&&(J0(),Nl())}},$.flushPassiveEffects=_d,$.flushSync=uv,$.focusWithin=function(Bt,zt){if(!qr)throw Error(Tt(363));for(Bt=em(Bt),zt=av(Bt,zt),zt=Array.from(zt),Bt=0;Bt<zt.length;){var an=zt[Bt++];if(!Jn(an)){if(an.tag===5&&Wr(an.stateNode))return!0;for(an=an.child;an!==null;)zt.push(an),an=an.sibling}}return!1},$.getCurrentUpdatePriority=function(){return Lo},$.getFindAllNodesFailureDescription=function(Bt,zt){if(!qr)throw Error(Tt(363));var an=0,hn=[];Bt=[em(Bt),0];for(var yn=0;yn<Bt.length;){var Cn=Bt[yn++],Vn=Bt[yn++],ir=zt[Vn];if((Cn.tag!==5||!Jn(Cn))&&(tm(Cn,ir)&&(hn.push(nm(ir)),Vn++,Vn>an&&(an=Vn)),Vn<zt.length))for(Cn=Cn.child;Cn!==null;)Bt.push(Cn,Vn),Cn=Cn.sibling}if(an<zt.length){for(Bt=[];an<zt.length;an++)Bt.push(nm(zt[an]));return`findAllNodes was able to match part of the selector:
  `+(hn.join(" > ")+`

No matching component was found for:
  `)+Bt.join(" > ")}return null},$.getPublicRootInstance=function(Bt){if(Bt=Bt.current,!Bt.child)return null;switch(Bt.child.tag){case 5:return Xn(Bt.child.stateNode);default:return Bt.child.stateNode}},$.injectIntoDevTools=function(Bt){if(Bt={bundleType:Bt.bundleType,version:Bt.version,rendererPackageName:Bt.rendererPackageName,rendererConfig:Bt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:t_,findFiberByHostInstance:Bt.findFiberByHostInstance||n_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")Bt=!1;else{var zt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(zt.isDisabled||!zt.supportsFiber)Bt=!0;else{try{g0=zt.inject(Bt),Kl=zt}catch{}Bt=!!zt.checkDCE}}return Bt},$.isAlreadyRendering=function(){return!1},$.observeVisibleRects=function(Bt,zt,an,hn){if(!qr)throw Error(Tt(363));Bt=rm(Bt,zt);var yn=Yr(Bt,an,hn).disconnect;return{disconnect:function(){yn()}}},$.registerMutableSourceForHydration=function(Bt,zt){var an=zt._getVersion;an=an(zt._source),Bt.mutableSourceEagerHydrationData==null?Bt.mutableSourceEagerHydrationData=[zt,an]:Bt.mutableSourceEagerHydrationData.push(zt,an)},$.runWithPriority=function(Bt,zt){var an=Lo;try{return Lo=Bt,zt()}finally{Lo=an}},$.shouldError=function(){return null},$.shouldSuspend=function(){return!1},$.updateContainer=function(Bt,zt,an,hn){var yn=zt.current,Cn=Al(),Vn=E0(yn);return an=Hu(an),zt.context===null?zt.context=an:zt.pendingContext=an,zt=e0(Cn,Vn),zt.payload={element:Bt},hn=hn===void 0?null:hn,hn!==null&&(zt.callback=hn),_0(yn,zt),Bt=du(yn,Vn,Cn),Bt!==null&&U1(Bt,yn,Vn),Vn},$};(function(lt){lt.exports=reactReconciler_production_min})(reactReconciler);const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);function shallowEqualArrays(lt,e,$=(ft,vt)=>ft===vt){if(lt===e)return!0;if(!lt||!e)return!1;const ft=lt.length;if(e.length!==ft)return!1;for(let vt=0;vt<ft;vt++)if(!$(lt[vt],e[vt]))return!1;return!0}const globalCache=[];function query(lt,e,$=!1,ft={}){for(const s of globalCache)if(shallowEqualArrays(e,s.keys,s.equal)){if($)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!$)throw s.promise}const vt={keys:e,equal:ft.equal,promise:lt(...e).then(s=>vt.response=s).then(()=>{ft.lifespan&&ft.lifespan>0&&setTimeout(()=>{const s=globalCache.indexOf(vt);s!==-1&&globalCache.splice(s,1)},ft.lifespan)}).catch(s=>vt.error=s)};if(globalCache.push(vt),!$)throw vt.promise}const suspend=(lt,e,$)=>query(lt,e,!1,$),preload=(lt,e,$)=>void query(lt,e,!0,$),clear=lt=>{if(lt===void 0||lt.length===0)globalCache.splice(0,globalCache.length);else{const e=globalCache.find($=>shallowEqualArrays(lt,$.keys,$.equal));if(e){const $=globalCache.indexOf(e);$!==-1&&globalCache.splice($,1)}}},catalogue={},extend=lt=>void Object.assign(catalogue,lt);function createRenderer(lt,e){function $(Nt,{args:Wt=[],attach:Ht,...Kt},Ft){let tn=`${Nt[0].toUpperCase()}${Nt.slice(1)}`,cn;if(Nt==="primitive"){if(Kt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const fn=Kt.object;cn=prepare(fn,{type:Nt,root:Ft,attach:Ht,primitive:!0})}else{const fn=catalogue[tn];if(!fn)throw new Error(`R3F: ${tn} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(Wt))throw new Error("R3F: The args prop must be an array!");cn=prepare(new fn(...Wt),{type:Nt,root:Ft,attach:Ht,memoizedProps:{args:Wt}})}return cn.__r3f.attach===void 0&&(cn instanceof BufferGeometry?cn.__r3f.attach="geometry":cn instanceof Material$1&&(cn.__r3f.attach="material")),tn!=="inject"&&applyProps$1(cn,Kt),cn}function ft(Nt,Wt){let Ht=!1;if(Wt){var Kt,Ft;(Kt=Wt.__r3f)!=null&&Kt.attach?attach(Nt,Wt,Wt.__r3f.attach):Wt.isObject3D&&Nt.isObject3D&&(Nt.add(Wt),Ht=!0),Ht||(Ft=Nt.__r3f)==null||Ft.objects.push(Wt),Wt.__r3f||prepare(Wt,{}),Wt.__r3f.parent=Nt,updateInstance(Wt),invalidateInstance(Wt)}}function vt(Nt,Wt,Ht){let Kt=!1;if(Wt){var Ft,tn;if((Ft=Wt.__r3f)!=null&&Ft.attach)attach(Nt,Wt,Wt.__r3f.attach);else if(Wt.isObject3D&&Nt.isObject3D){Wt.parent=Nt,Wt.dispatchEvent({type:"added"});const cn=Nt.children.filter(ln=>ln!==Wt),fn=cn.indexOf(Ht);Nt.children=[...cn.slice(0,fn),Wt,...cn.slice(fn)],Kt=!0}Kt||(tn=Nt.__r3f)==null||tn.objects.push(Wt),Wt.__r3f||prepare(Wt,{}),Wt.__r3f.parent=Nt,updateInstance(Wt),invalidateInstance(Wt)}}function s(Nt,Wt,Ht=!1){Nt&&[...Nt].forEach(Kt=>Tt(Wt,Kt,Ht))}function Tt(Nt,Wt,Ht){if(Wt){var Kt,Ft,tn;if(Wt.__r3f&&(Wt.__r3f.parent=null),(Kt=Nt.__r3f)!=null&&Kt.objects&&(Nt.__r3f.objects=Nt.__r3f.objects.filter(mn=>mn!==Wt)),(Ft=Wt.__r3f)!=null&&Ft.attach)detach(Nt,Wt,Wt.__r3f.attach);else if(Wt.isObject3D&&Nt.isObject3D){var cn;Nt.remove(Wt),(cn=Wt.__r3f)!=null&&cn.root&&removeInteractivity(Wt.__r3f.root,Wt)}const ln=(tn=Wt.__r3f)==null?void 0:tn.primitive,dn=Ht===void 0?Wt.dispose!==null&&!ln:Ht;if(!ln){var fn;s((fn=Wt.__r3f)==null?void 0:fn.objects,Wt,dn),s(Wt.children,Wt,dn)}Wt.__r3f&&(delete Wt.__r3f.root,delete Wt.__r3f.objects,delete Wt.__r3f.handlers,delete Wt.__r3f.memoizedProps,ln||delete Wt.__r3f),dn&&Wt.dispose&&Wt.type!=="Scene"&&schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,()=>{try{Wt.dispose()}catch{}}),invalidateInstance(Nt)}}function At(Nt,Wt,Ht,Kt){var Ft;const tn=(Ft=Nt.__r3f)==null?void 0:Ft.parent;if(!tn)return;const cn=$(Wt,Ht,Nt.__r3f.root);if(Nt.children){for(const fn of Nt.children)fn.__r3f&&ft(cn,fn);Nt.children=Nt.children.filter(fn=>!fn.__r3f)}Nt.__r3f.objects.forEach(fn=>ft(cn,fn)),Nt.__r3f.objects=[],Nt.__r3f.autoRemovedBeforeAppend||Tt(tn,Nt),cn.parent&&(cn.__r3f.autoRemovedBeforeAppend=!0),ft(tn,cn),cn.raycast&&cn.__r3f.eventCount&&cn.__r3f.root.getState().internal.interaction.push(cn),[Kt,Kt.alternate].forEach(fn=>{fn!==null&&(fn.stateNode=cn,fn.ref&&(typeof fn.ref=="function"?fn.ref(cn):fn.ref.current=cn))})}const Rt=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:$,removeChild:Tt,appendChild:ft,appendInitialChild:ft,insertBefore:vt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(Nt,Wt)=>{if(!Wt)return;const Ht=Nt.getState().scene;Ht.__r3f&&(Ht.__r3f.root=Nt,ft(Ht,Wt))},removeChildFromContainer:(Nt,Wt)=>{Wt&&Tt(Nt.getState().scene,Wt)},insertInContainerBefore:(Nt,Wt,Ht)=>{if(!Wt||!Ht)return;const Kt=Nt.getState().scene;Kt.__r3f&&vt(Kt,Wt,Ht)},getRootHostContext:()=>null,getChildHostContext:Nt=>Nt,finalizeInitialChildren(Nt){var Wt;const Ht=(Wt=Nt==null?void 0:Nt.__r3f)!=null?Wt:{};return Boolean(Ht.handlers)},prepareUpdate(Nt,Wt,Ht,Kt){if(Nt.__r3f.primitive&&Kt.object&&Kt.object!==Nt)return[!0];{const{args:Ft=[],children:tn,...cn}=Kt,{args:fn=[],children:ln,...dn}=Ht;if(!Array.isArray(Ft))throw new Error("R3F: the args prop must be an array!");if(Ft.some((xn,Mn)=>xn!==fn[Mn]))return[!0];const mn=diffProps(Nt,cn,dn,!0);return mn.changes.length?[!1,mn]:null}},commitUpdate(Nt,[Wt,Ht],Kt,Ft,tn,cn){Wt?At(Nt,Kt,tn,cn):applyProps$1(Nt,Ht)},commitMount(Nt,Wt,Ht,Kt){var Ft;const tn=(Ft=Nt.__r3f)!=null?Ft:{};Nt.raycast&&tn.handlers&&tn.eventCount&&Nt.__r3f.root.getState().internal.interaction.push(Nt)},getPublicInstance:Nt=>Nt,prepareForCommit:()=>null,preparePortalMount:Nt=>prepare(Nt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(Nt){var Wt;const{attach:Ht,parent:Kt}=(Wt=Nt.__r3f)!=null?Wt:{};Ht&&Kt&&detach(Kt,Nt,Ht),Nt.isObject3D&&(Nt.visible=!1),invalidateInstance(Nt)},unhideInstance(Nt,Wt){var Ht;const{attach:Kt,parent:Ft}=(Ht=Nt.__r3f)!=null?Ht:{};Kt&&Ft&&attach(Ft,Nt,Kt),(Nt.isObject3D&&Wt.visible==null||Wt.visible)&&(Nt.visible=!0),invalidateInstance(Nt)},createTextInstance:Rt,hideTextInstance:Rt,unhideTextInstance:Rt,getCurrentEventPriority:()=>e?e():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const getColorManagement=()=>{var lt;return(lt=catalogue.ColorManagement)!=null?lt:null},isOrthographicCamera$1=lt=>lt&&lt.isOrthographicCamera,isRef=lt=>lt&&lt.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(lt){const e=reactExports.useRef(lt);return useIsomorphicLayoutEffect(()=>void(e.current=lt),[lt]),e}function Block({set:lt}){return useIsomorphicLayoutEffect(()=>(lt(new Promise(()=>null)),()=>lt(!1)),[lt]),null}class ErrorBoundary extends reactExports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=lt=>lt&&!!lt.memoized&&!!lt.changes;function calculateDpr(lt){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(lt)?Math.min(Math.max(lt[0],e),lt[1]):lt}const getRootState=lt=>{var e;return(e=lt.__r3f)==null?void 0:e.root.getState()},is={obj:lt=>lt===Object(lt)&&!is.arr(lt)&&typeof lt!="function",fun:lt=>typeof lt=="function",str:lt=>typeof lt=="string",num:lt=>typeof lt=="number",boo:lt=>typeof lt=="boolean",und:lt=>lt===void 0,arr:lt=>Array.isArray(lt),equ(lt,e,{arrays:$="shallow",objects:ft="reference",strict:vt=!0}={}){if(typeof lt!=typeof e||!!lt!=!!e)return!1;if(is.str(lt)||is.num(lt))return lt===e;const s=is.obj(lt);if(s&&ft==="reference")return lt===e;const Tt=is.arr(lt);if(Tt&&$==="reference")return lt===e;if((Tt||s)&&lt===e)return!0;let At;for(At in lt)if(!(At in e))return!1;if(s&&$==="shallow"&&ft==="shallow"){for(At in vt?e:lt)if(!is.equ(lt[At],e[At],{strict:vt,objects:"reference"}))return!1}else for(At in vt?e:lt)if(lt[At]!==e[At])return!1;if(is.und(At)){if(Tt&&lt.length===0&&e.length===0||s&&Object.keys(lt).length===0&&Object.keys(e).length===0)return!0;if(lt!==e)return!1}return!0}};function buildGraph(lt){const e={nodes:{},materials:{}};return lt&&lt.traverse($=>{$.name&&(e.nodes[$.name]=$),$.material&&!e.materials[$.material.name]&&(e.materials[$.material.name]=$.material)}),e}function dispose(lt){lt.dispose&&lt.type!=="Scene"&&lt.dispose();for(const e in lt)e.dispose==null||e.dispose(),delete lt[e]}function prepare(lt,e){const $=lt;return(e!=null&&e.primitive||!$.__r3f)&&($.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),lt}function resolve(lt,e){let $=lt;if(e.includes("-")){const ft=e.split("-"),vt=ft.pop();return $=ft.reduce((s,Tt)=>s[Tt],lt),{target:$,key:vt}}else return{target:$,key:e}}const INDEX_REGEX=/-\d+$/;function attach(lt,e,$){if(is.str($)){if(INDEX_REGEX.test($)){const s=$.replace(INDEX_REGEX,""),{target:Tt,key:At}=resolve(lt,s);Array.isArray(Tt[At])||(Tt[At]=[])}const{target:ft,key:vt}=resolve(lt,$);e.__r3f.previousAttach=ft[vt],ft[vt]=e}else e.__r3f.previousAttach=$(lt,e)}function detach(lt,e,$){var ft,vt;if(is.str($)){const{target:s,key:Tt}=resolve(lt,$),At=e.__r3f.previousAttach;At===void 0?delete s[Tt]:s[Tt]=At}else(ft=e.__r3f)==null||ft.previousAttach==null||ft.previousAttach(lt,e);(vt=e.__r3f)==null||delete vt.previousAttach}function diffProps(lt,{children:e,key:$,ref:ft,...vt},{children:s,key:Tt,ref:At,...Rt}={},Dt=!1){var Nt;const Wt=(Nt=lt==null?void 0:lt.__r3f)!=null?Nt:{},Ht=Object.entries(vt),Kt=[];if(Dt){const tn=Object.keys(Rt);for(let cn=0;cn<tn.length;cn++)vt.hasOwnProperty(tn[cn])||Ht.unshift([tn[cn],DEFAULT+"remove"])}Ht.forEach(([tn,cn])=>{var fn;if((fn=lt.__r3f)!=null&&fn.primitive&&tn==="object"||is.equ(cn,Rt[tn]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(tn))return Kt.push([tn,cn,!0,[]]);let ln=[];tn.includes("-")&&(ln=tn.split("-")),Kt.push([tn,cn,!1,ln]);for(const dn in vt){const mn=vt[dn];dn.startsWith(`${tn}-`)&&Kt.push([dn,mn,!1,dn.split("-")])}});const Ft={...vt};return Wt.memoizedProps&&Wt.memoizedProps.args&&(Ft.args=Wt.memoizedProps.args),Wt.memoizedProps&&Wt.memoizedProps.attach&&(Ft.attach=Wt.memoizedProps.attach),{memoized:Ft,changes:Kt}}function applyProps$1(lt,e){var $,ft,vt;const s=($=lt.__r3f)!=null?$:{},Tt=s.root,At=(ft=Tt==null||Tt.getState==null?void 0:Tt.getState())!=null?ft:{},{memoized:Rt,changes:Dt}=isDiffSet(e)?e:diffProps(lt,e),Nt=s.eventCount;lt.__r3f&&(lt.__r3f.memoizedProps=Rt);for(let Ht=0;Ht<Dt.length;Ht++){let[Kt,Ft,tn,cn]=Dt[Ht],fn=lt,ln=fn[Kt];if(cn.length&&(ln=cn.reduce((dn,mn)=>dn[mn],lt),!(ln&&ln.set))){const[dn,...mn]=cn.reverse();fn=mn.reverse().reduce((xn,Mn)=>xn[Mn],lt),Kt=dn}if(Ft===DEFAULT+"remove")if(fn.constructor){let dn=DEFAULTS.get(fn.constructor);dn||(dn=new fn.constructor,DEFAULTS.set(fn.constructor,dn)),Ft=dn[Kt]}else Ft=0;if(tn)Ft?s.handlers[Kt]=Ft:delete s.handlers[Kt],s.eventCount=Object.keys(s.handlers).length;else if(ln&&ln.set&&(ln.copy||ln instanceof Layers$1)){if(Array.isArray(Ft))ln.fromArray?ln.fromArray(Ft):ln.set(...Ft);else if(ln.copy&&Ft&&Ft.constructor&&ln.constructor===Ft.constructor)ln.copy(Ft);else if(Ft!==void 0){const dn=ln instanceof Color;!dn&&ln.setScalar?ln.setScalar(Ft):ln instanceof Layers$1&&Ft instanceof Layers$1?ln.mask=Ft.mask:ln.set(Ft),!getColorManagement()&&!At.linear&&dn&&ln.convertSRGBToLinear()}}else fn[Kt]=Ft,!At.linear&&fn[Kt]instanceof Texture&&fn[Kt].format===RGBAFormat&&fn[Kt].type===UnsignedByteType&&(fn[Kt].encoding=sRGBEncoding);invalidateInstance(lt)}if(s.parent&&At.internal&&lt.raycast&&Nt!==s.eventCount){const Ht=At.internal.interaction.indexOf(lt);Ht>-1&&At.internal.interaction.splice(Ht,1),s.eventCount&&At.internal.interaction.push(lt)}return!(Dt.length===1&&Dt[0][0]==="onUpdate")&&Dt.length&&(vt=lt.__r3f)!=null&&vt.parent&&updateInstance(lt),lt}function invalidateInstance(lt){var e,$;const ft=(e=lt.__r3f)==null||($=e.root)==null||$.getState==null?void 0:$.getState();ft&&ft.internal.frames===0&&ft.invalidate()}function updateInstance(lt){lt.onUpdate==null||lt.onUpdate(lt)}function updateCamera(lt,e){lt.manual||(isOrthographicCamera$1(lt)?(lt.left=e.width/-2,lt.right=e.width/2,lt.top=e.height/2,lt.bottom=e.height/-2):lt.aspect=e.width/e.height,lt.updateProjectionMatrix(),lt.updateMatrixWorld())}function makeId(lt){return(lt.eventObject||lt.object).uuid+"/"+lt.index+lt.instanceId}function getEventPriority(){var lt;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return constantsExports.DefaultEventPriority;switch((lt=e.event)==null?void 0:lt.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(lt,e,$,ft){const vt=$.get(e);vt&&($.delete(e),$.size===0&&(lt.delete(ft),vt.target.releasePointerCapture(ft)))}function removeInteractivity(lt,e){const{internal:$}=lt.getState();$.interaction=$.interaction.filter(ft=>ft!==e),$.initialHits=$.initialHits.filter(ft=>ft!==e),$.hovered.forEach((ft,vt)=>{(ft.eventObject===e||ft.object===e)&&$.hovered.delete(vt)}),$.capturedMap.forEach((ft,vt)=>{releaseInternalPointerCapture($.capturedMap,e,ft,vt)})}function createEvents(lt){function e(Rt){const{internal:Dt}=lt.getState(),Nt=Rt.offsetX-Dt.initialClick[0],Wt=Rt.offsetY-Dt.initialClick[1];return Math.round(Math.sqrt(Nt*Nt+Wt*Wt))}function $(Rt){return Rt.filter(Dt=>["Move","Over","Enter","Out","Leave"].some(Nt=>{var Wt;return(Wt=Dt.__r3f)==null?void 0:Wt.handlers["onPointer"+Nt]}))}function ft(Rt,Dt){const Nt=lt.getState(),Wt=new Set,Ht=[],Kt=Dt?Dt(Nt.internal.interaction):Nt.internal.interaction;for(let fn=0;fn<Kt.length;fn++){const ln=getRootState(Kt[fn]);ln&&(ln.raycaster.camera=void 0)}Nt.previousRoot||Nt.events.compute==null||Nt.events.compute(Rt,Nt);function Ft(fn){const ln=getRootState(fn);if(!ln||!ln.events.enabled||ln.raycaster.camera===null)return[];if(ln.raycaster.camera===void 0){var dn;ln.events.compute==null||ln.events.compute(Rt,ln,(dn=ln.previousRoot)==null?void 0:dn.getState()),ln.raycaster.camera===void 0&&(ln.raycaster.camera=null)}return ln.raycaster.camera?ln.raycaster.intersectObject(fn,!0):[]}let tn=Kt.flatMap(Ft).sort((fn,ln)=>{const dn=getRootState(fn.object),mn=getRootState(ln.object);return!dn||!mn?fn.distance-ln.distance:mn.events.priority-dn.events.priority||fn.distance-ln.distance}).filter(fn=>{const ln=makeId(fn);return Wt.has(ln)?!1:(Wt.add(ln),!0)});Nt.events.filter&&(tn=Nt.events.filter(tn,Nt));for(const fn of tn){let ln=fn.object;for(;ln;){var cn;(cn=ln.__r3f)!=null&&cn.eventCount&&Ht.push({...fn,eventObject:ln}),ln=ln.parent}}if("pointerId"in Rt&&Nt.internal.capturedMap.has(Rt.pointerId))for(let fn of Nt.internal.capturedMap.get(Rt.pointerId).values())Wt.has(makeId(fn.intersection))||Ht.push(fn.intersection);return Ht}function vt(Rt,Dt,Nt,Wt){const Ht=lt.getState();if(Rt.length){const Kt={stopped:!1};for(const Ft of Rt){const tn=getRootState(Ft.object)||Ht,{raycaster:cn,pointer:fn,camera:ln,internal:dn}=tn,mn=new Vector3(fn.x,fn.y,0).unproject(ln),xn=Pn=>{var bn,In;return(bn=(In=dn.capturedMap.get(Pn))==null?void 0:In.has(Ft.eventObject))!=null?bn:!1},Mn=Pn=>{const bn={intersection:Ft,target:Dt.target};dn.capturedMap.has(Pn)?dn.capturedMap.get(Pn).set(Ft.eventObject,bn):dn.capturedMap.set(Pn,new Map([[Ft.eventObject,bn]])),Dt.target.setPointerCapture(Pn)},Tn=Pn=>{const bn=dn.capturedMap.get(Pn);bn&&releaseInternalPointerCapture(dn.capturedMap,Ft.eventObject,bn,Pn)};let vn={};for(let Pn in Dt){let bn=Dt[Pn];typeof bn!="function"&&(vn[Pn]=bn)}let An={...Ft,...vn,pointer:fn,intersections:Rt,stopped:Kt.stopped,delta:Nt,unprojectedPoint:mn,ray:cn.ray,camera:ln,stopPropagation(){const Pn="pointerId"in Dt&&dn.capturedMap.get(Dt.pointerId);if((!Pn||Pn.has(Ft.eventObject))&&(An.stopped=Kt.stopped=!0,dn.hovered.size&&Array.from(dn.hovered.values()).find(bn=>bn.eventObject===Ft.eventObject))){const bn=Rt.slice(0,Rt.indexOf(Ft));s([...bn,Ft])}},target:{hasPointerCapture:xn,setPointerCapture:Mn,releasePointerCapture:Tn},currentTarget:{hasPointerCapture:xn,setPointerCapture:Mn,releasePointerCapture:Tn},nativeEvent:Dt};if(Wt(An),Kt.stopped===!0)break}}return Rt}function s(Rt){const{internal:Dt}=lt.getState();for(const Nt of Dt.hovered.values())if(!Rt.length||!Rt.find(Wt=>Wt.object===Nt.object&&Wt.index===Nt.index&&Wt.instanceId===Nt.instanceId)){const Ht=Nt.eventObject.__r3f,Kt=Ht==null?void 0:Ht.handlers;if(Dt.hovered.delete(makeId(Nt)),Ht!=null&&Ht.eventCount){const Ft={...Nt,intersections:Rt};Kt.onPointerOut==null||Kt.onPointerOut(Ft),Kt.onPointerLeave==null||Kt.onPointerLeave(Ft)}}}function Tt(Rt,Dt){for(let Nt=0;Nt<Dt.length;Nt++){const Wt=Dt[Nt].__r3f;Wt==null||Wt.handlers.onPointerMissed==null||Wt.handlers.onPointerMissed(Rt)}}function At(Rt){switch(Rt){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return Dt=>{const{internal:Nt}=lt.getState();"pointerId"in Dt&&Nt.capturedMap.has(Dt.pointerId)&&(Nt.capturedMap.delete(Dt.pointerId),s([]))}}return function(Nt){const{onPointerMissed:Wt,internal:Ht}=lt.getState();Ht.lastEvent.current=Nt;const Kt=Rt==="onPointerMove",Ft=Rt==="onClick"||Rt==="onContextMenu"||Rt==="onDoubleClick",cn=ft(Nt,Kt?$:void 0),fn=Ft?e(Nt):0;Rt==="onPointerDown"&&(Ht.initialClick=[Nt.offsetX,Nt.offsetY],Ht.initialHits=cn.map(dn=>dn.eventObject)),Ft&&!cn.length&&fn<=2&&(Tt(Nt,Ht.interaction),Wt&&Wt(Nt)),Kt&&s(cn);function ln(dn){const mn=dn.eventObject,xn=mn.__r3f,Mn=xn==null?void 0:xn.handlers;if(xn!=null&&xn.eventCount)if(Kt){if(Mn.onPointerOver||Mn.onPointerEnter||Mn.onPointerOut||Mn.onPointerLeave){const Tn=makeId(dn),vn=Ht.hovered.get(Tn);vn?vn.stopped&&dn.stopPropagation():(Ht.hovered.set(Tn,dn),Mn.onPointerOver==null||Mn.onPointerOver(dn),Mn.onPointerEnter==null||Mn.onPointerEnter(dn))}Mn.onPointerMove==null||Mn.onPointerMove(dn)}else{const Tn=Mn[Rt];Tn?(!Ft||Ht.initialHits.includes(mn))&&(Tt(Nt,Ht.interaction.filter(vn=>!Ht.initialHits.includes(vn))),Tn(dn)):Ft&&Ht.initialHits.includes(mn)&&Tt(Nt,Ht.interaction.filter(vn=>!Ht.initialHits.includes(vn)))}}vt(cn,Nt,fn,ln)}}return{handlePointer:At}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=lt=>!!(lt!=null&&lt.render),context$1=reactExports.createContext(null),createStore$1=(lt,e)=>{const $=create$1((At,Rt)=>{const Dt=new Vector3,Nt=new Vector3,Wt=new Vector3;function Ht(fn=Rt().camera,ln=Nt,dn=Rt().size){const{width:mn,height:xn,top:Mn,left:Tn}=dn,vn=mn/xn;ln instanceof Vector3?Wt.copy(ln):Wt.set(...ln);const An=fn.getWorldPosition(Dt).distanceTo(Wt);if(isOrthographicCamera$1(fn))return{width:mn/fn.zoom,height:xn/fn.zoom,top:Mn,left:Tn,factor:1,distance:An,aspect:vn};{const Pn=fn.fov*Math.PI/180,bn=2*Math.tan(Pn/2)*An,In=bn*(mn/xn);return{width:In,height:bn,top:Mn,left:Tn,factor:mn/In,distance:An,aspect:vn}}}let Kt;const Ft=fn=>At(ln=>({performance:{...ln.performance,current:fn}})),tn=new Vector2;return{set:At,get:Rt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(fn=1)=>lt(Rt(),fn),advance:(fn,ln)=>e(fn,ln,Rt()),legacy:!1,linear:!1,flat:!1,scene:prepare(new Scene),controls:null,clock:new Clock,pointer:tn,mouse:tn,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const fn=Rt();Kt&&clearTimeout(Kt),fn.performance.current!==fn.performance.min&&Ft(fn.performance.min),Kt=setTimeout(()=>Ft(Rt().performance.max),fn.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Ht},setEvents:fn=>At(ln=>({...ln,events:{...ln.events,...fn}})),setSize:(fn,ln,dn,mn,xn)=>{const Mn=Rt().camera,Tn={width:fn,height:ln,top:mn||0,left:xn||0,updateStyle:dn};At(vn=>({size:Tn,viewport:{...vn.viewport,...Ht(Mn,Nt,Tn)}}))},setDpr:fn=>At(ln=>{const dn=calculateDpr(fn);return{viewport:{...ln.viewport,dpr:dn,initialDpr:ln.viewport.initialDpr||dn}}}),setFrameloop:(fn="always")=>{const ln=Rt().clock;ln.stop(),ln.elapsedTime=0,fn!=="never"&&(ln.start(),ln.elapsedTime=0),At(()=>({frameloop:fn}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(fn,ln,dn)=>{const mn=Rt().internal;return mn.priority=mn.priority+(ln>0?1:0),mn.subscribers.push({ref:fn,priority:ln,store:dn}),mn.subscribers=mn.subscribers.sort((xn,Mn)=>xn.priority-Mn.priority),()=>{const xn=Rt().internal;xn!=null&&xn.subscribers&&(xn.priority=xn.priority-(ln>0?1:0),xn.subscribers=xn.subscribers.filter(Mn=>Mn.ref!==fn))}}}}}),ft=$.getState();let vt=ft.size,s=ft.viewport.dpr,Tt=ft.camera;return $.subscribe(()=>{const{camera:At,size:Rt,viewport:Dt,gl:Nt,set:Wt}=$.getState();if(Rt!==vt||Dt.dpr!==s){var Ht;vt=Rt,s=Dt.dpr,updateCamera(At,Rt),Nt.setPixelRatio(Dt.dpr);const Kt=(Ht=Rt.updateStyle)!=null?Ht:typeof HTMLCanvasElement<"u"&&Nt.domElement instanceof HTMLCanvasElement;Nt.setSize(Rt.width,Rt.height,Kt)}At!==Tt&&(Tt=At,Wt(Kt=>({viewport:{...Kt.viewport,...Kt.viewport.getCurrentViewport(At)}})))}),$.subscribe(At=>lt(At)),$};function createSubs(lt,e){const $={callback:lt};return e.add($),()=>void e.delete($)}let i$1,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;const addEffect=lt=>createSubs(lt,globalEffects);function run(lt,e){if(lt.size)for(const{callback:$}of lt.values())$(e)}function flushGlobalEffects(lt,e){switch(lt){case"before":return run(globalEffects,e);case"after":return run(globalAfterEffects,e);case"tail":return run(globalTailEffects,e)}}let subscribers,subscription;function render$1(lt,e,$){let ft=e.clock.getDelta();for(e.frameloop==="never"&&typeof lt=="number"&&(ft=lt-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=lt),subscribers=e.internal.subscribers,i$1=0;i$1<subscribers.length;i$1++)subscription=subscribers[i$1],subscription.ref.current(subscription.store.getState(),ft,$);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function createLoop(lt){let e=!1,$,ft,vt;function s(Rt){ft=requestAnimationFrame(s),e=!0,$=0,flushGlobalEffects("before",Rt);for(const Nt of lt.values()){var Dt;vt=Nt.store.getState(),vt.internal.active&&(vt.frameloop==="always"||vt.internal.frames>0)&&!((Dt=vt.gl.xr)!=null&&Dt.isPresenting)&&($+=render$1(Rt,vt))}if(flushGlobalEffects("after",Rt),$===0)return flushGlobalEffects("tail",Rt),e=!1,cancelAnimationFrame(ft)}function Tt(Rt,Dt=1){var Nt;if(!Rt)return lt.forEach(Wt=>Tt(Wt.store.getState()),Dt);(Nt=Rt.gl.xr)!=null&&Nt.isPresenting||!Rt.internal.active||Rt.frameloop==="never"||(Rt.internal.frames=Math.min(60,Rt.internal.frames+Dt),e||(e=!0,requestAnimationFrame(s)))}function At(Rt,Dt=!0,Nt,Wt){if(Dt&&flushGlobalEffects("before",Rt),Nt)render$1(Rt,Nt,Wt);else for(const Ht of lt.values())render$1(Rt,Ht.store.getState());Dt&&flushGlobalEffects("after",Rt)}return{loop:s,invalidate:Tt,advance:At}}function useStore$1(){const lt=reactExports.useContext(context$1);if(!lt)throw new Error("R3F: Hooks can only be used within the Canvas component!");return lt}function useThree(lt=$=>$,e){return useStore$1()(lt,e)}function useFrame(lt,e=0){const $=useStore$1(),ft=$.getState().internal.subscribe,vt=useMutableCallback(lt);return useIsomorphicLayoutEffect(()=>ft(vt,e,$),[e,ft,$]),null}function loadingFn(lt,e){return function($,...ft){const vt=new $;return lt&&lt(vt),Promise.all(ft.map(s=>new Promise((Tt,At)=>vt.load(s,Rt=>{Rt.scene&&Object.assign(Rt,buildGraph(Rt.scene)),Tt(Rt)},e,Rt=>At(new Error(`Could not load ${s}: ${Rt.message})`))))))}}function useLoader(lt,e,$,ft){const vt=Array.isArray(e)?e:[e],s=suspend(loadingFn($,ft),[lt,...vt],{equal:is.equ});return Array.isArray(e)?s:s[0]}useLoader.preload=function(lt,e,$){const ft=Array.isArray(e)?e:[e];return preload(loadingFn($),[lt,...ft])};useLoader.clear=function(lt,e){const $=Array.isArray(e)?e:[e];return clear([lt,...$])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(lt,e)=>{const $=typeof lt=="function"?lt(e):lt;return isRenderer($)?$:new WebGLRenderer({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...lt})};function computeInitialSize(lt,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&lt instanceof HTMLCanvasElement&&lt.parentElement){const{width:$,height:ft,top:vt,left:s}=lt.parentElement.getBoundingClientRect();return{width:$,height:ft,top:vt,left:s}}else if(typeof OffscreenCanvas<"u"&&lt instanceof OffscreenCanvas)return{width:lt.width,height:lt.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function createRoot(lt){const e=roots.get(lt),$=e==null?void 0:e.fiber,ft=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const vt=typeof reportError=="function"?reportError:console.error,s=ft||createStore$1(invalidate,advance),Tt=$||reconciler.createContainer(s,constantsExports.ConcurrentRoot,null,!1,null,"",vt,null);e||roots.set(lt,{fiber:Tt,store:s});let At,Rt=!1,Dt;return{configure(Nt={}){let{gl:Wt,size:Ht,events:Kt,onCreated:Ft,shadows:tn=!1,linear:cn=!1,flat:fn=!1,legacy:ln=!1,orthographic:dn=!1,frameloop:mn="always",dpr:xn=[1,2],performance:Mn,raycaster:Tn,camera:vn,onPointerMissed:An}=Nt,Pn=s.getState(),bn=Pn.gl;Pn.gl||Pn.set({gl:bn=createRendererInstance(Wt,lt)});let In=Pn.raycaster;In||Pn.set({raycaster:In=new Raycaster});const{params:On,...Nn}=Tn||{};if(is.equ(Nn,In,shallowLoose)||applyProps(In,{...Nn}),is.equ(On,In.params,shallowLoose)||applyProps(In,{params:{...In.params,...On}}),!Pn.camera||Pn.camera===Dt&&!is.equ(Dt,vn,shallowLoose)){Dt=vn;const Wn=vn instanceof Camera,$n=Wn?vn:dn?new OrthographicCamera$1(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);Wn||($n.position.z=5,vn&&applyProps($n,vn),!Pn.camera&&!(vn!=null&&vn.rotation)&&$n.lookAt(0,0,0)),Pn.set({camera:$n})}if(!Pn.xr){const Wn=(Zn,tr)=>{const Hn=s.getState();Hn.frameloop!=="never"&&advance(Zn,!0,Hn,tr)},$n=()=>{const Zn=s.getState();Zn.gl.xr.enabled=Zn.gl.xr.isPresenting,Zn.gl.xr.setAnimationLoop(Zn.gl.xr.isPresenting?Wn:null),Zn.gl.xr.isPresenting||invalidate(Zn)},zn={connect(){const Zn=s.getState().gl;Zn.xr.addEventListener("sessionstart",$n),Zn.xr.addEventListener("sessionend",$n)},disconnect(){const Zn=s.getState().gl;Zn.xr.removeEventListener("sessionstart",$n),Zn.xr.removeEventListener("sessionend",$n)}};bn.xr&&zn.connect(),Pn.set({xr:zn})}if(bn.shadowMap){const Wn=bn.shadowMap.enabled,$n=bn.shadowMap.type;if(bn.shadowMap.enabled=!!tn,is.boo(tn))bn.shadowMap.type=PCFSoftShadowMap;else if(is.str(tn)){var Yn;const zn={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};bn.shadowMap.type=(Yn=zn[tn])!=null?Yn:PCFSoftShadowMap}else is.obj(tn)&&Object.assign(bn.shadowMap,tn);(Wn!==bn.shadowMap.enabled||$n!==bn.shadowMap.type)&&(bn.shadowMap.needsUpdate=!0)}const Xn=getColorManagement();Xn&&("enabled"in Xn?Xn.enabled=!ln:"legacyMode"in Xn&&(Xn.legacyMode=ln));const sr=cn?LinearEncoding:sRGBEncoding,Un=fn?NoToneMapping:ACESFilmicToneMapping;bn.outputEncoding!==sr&&(bn.outputEncoding=sr),bn.toneMapping!==Un&&(bn.toneMapping=Un),Pn.legacy!==ln&&Pn.set(()=>({legacy:ln})),Pn.linear!==cn&&Pn.set(()=>({linear:cn})),Pn.flat!==fn&&Pn.set(()=>({flat:fn})),Wt&&!is.fun(Wt)&&!isRenderer(Wt)&&!is.equ(Wt,bn,shallowLoose)&&applyProps(bn,Wt),Kt&&!Pn.events.handlers&&Pn.set({events:Kt(s)});const Gn=computeInitialSize(lt,Ht);return is.equ(Gn,Pn.size,shallowLoose)||Pn.setSize(Gn.width,Gn.height,Gn.updateStyle,Gn.top,Gn.left),xn&&Pn.viewport.dpr!==calculateDpr(xn)&&Pn.setDpr(xn),Pn.frameloop!==mn&&Pn.setFrameloop(mn),Pn.onPointerMissed||Pn.set({onPointerMissed:An}),Mn&&!is.equ(Mn,Pn.performance,shallowLoose)&&Pn.set(Wn=>({performance:{...Wn.performance,...Mn}})),At=Ft,Rt=!0,this},render(Nt){return Rt||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:s,children:Nt,onCreated:At,rootElement:lt}),Tt,null,()=>{}),s},unmount(){unmountComponentAtNode(lt)}}}function Provider({store:lt,children:e,onCreated:$,rootElement:ft}){return useIsomorphicLayoutEffect(()=>{const vt=lt.getState();vt.set(s=>({internal:{...s.internal,active:!0}})),$&&$(vt),lt.getState().events.connected||vt.events.connect==null||vt.events.connect(ft)},[]),reactExports.createElement(context$1.Provider,{value:lt},e)}function unmountComponentAtNode(lt,e){const $=roots.get(lt),ft=$==null?void 0:$.fiber;if(ft){const vt=$==null?void 0:$.store.getState();vt&&(vt.internal.active=!1),reconciler.updateContainer(null,ft,null,()=>{vt&&setTimeout(()=>{try{var s,Tt,At,Rt;vt.events.disconnect==null||vt.events.disconnect(),(s=vt.gl)==null||(Tt=s.renderLists)==null||Tt.dispose==null||Tt.dispose(),(At=vt.gl)==null||At.forceContextLoss==null||At.forceContextLoss(),(Rt=vt.gl)!=null&&Rt.xr&&vt.xr.disconnect(),dispose(vt),roots.delete(lt),e&&e(lt)}catch{}},500)})}}function createPortal(lt,e,$){return reactExports.createElement(Portal,{key:e.uuid,children:lt,container:e,state:$})}function Portal({state:lt={},children:e,container:$}){const{events:ft,size:vt,...s}=lt,Tt=useStore$1(),[At]=reactExports.useState(()=>new Raycaster),[Rt]=reactExports.useState(()=>new Vector2),Dt=reactExports.useCallback((Wt,Ht)=>{const Kt={...Wt};Object.keys(Wt).forEach(tn=>{(privateKeys.includes(tn)||Wt[tn]!==Ht[tn]&&Ht[tn])&&delete Kt[tn]});let Ft;if(Ht&&vt){const tn=Ht.camera;Ft=Wt.viewport.getCurrentViewport(tn,new Vector3,vt),tn!==Wt.camera&&updateCamera(tn,vt)}return{...Kt,scene:$,raycaster:At,pointer:Rt,mouse:Rt,previousRoot:Tt,events:{...Wt.events,...Ht==null?void 0:Ht.events,...ft},size:{...Wt.size,...vt},viewport:{...Wt.viewport,...Ft},...s}},[lt]),[Nt]=reactExports.useState(()=>{const Wt=Tt.getState();return create$1((Kt,Ft)=>({...Wt,scene:$,raycaster:At,pointer:Rt,mouse:Rt,previousRoot:Tt,events:{...Wt.events,...ft},size:{...Wt.size,...vt},...s,set:Kt,get:Ft,setEvents:tn=>Kt(cn=>({...cn,events:{...cn.events,...tn}}))}))});return reactExports.useEffect(()=>{const Wt=Tt.subscribe(Ht=>Nt.setState(Kt=>Dt(Ht,Kt)));return()=>{Wt(),Nt.destroy()}},[]),reactExports.useEffect(()=>{Nt.setState(Wt=>Dt(Tt.getState(),Wt))},[Dt]),reactExports.createElement(reactExports.Fragment,null,reconciler.createPortal(reactExports.createElement(context$1.Provider,{value:Nt},e),Nt,null))}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(lt){for(var e=1;e<arguments.length;e++){var $=arguments[e];for(var ft in $)Object.prototype.hasOwnProperty.call($,ft)&&(lt[ft]=$[ft])}return lt},_extends$1.apply(this,arguments)}function debounce(lt,e,$){var ft,vt,s,Tt,At;e==null&&(e=100);function Rt(){var Nt=Date.now()-Tt;Nt<e&&Nt>=0?ft=setTimeout(Rt,e-Nt):(ft=null,$||(At=lt.apply(s,vt),s=vt=null))}var Dt=function(){s=this,vt=arguments,Tt=Date.now();var Nt=$&&!ft;return ft||(ft=setTimeout(Rt,e)),Nt&&(At=lt.apply(s,vt),s=vt=null),At};return Dt.clear=function(){ft&&(clearTimeout(ft),ft=null)},Dt.flush=function(){ft&&(At=lt.apply(s,vt),s=vt=null,clearTimeout(ft),ft=null)},Dt}debounce.debounce=debounce;var debounce_1=debounce;function useMeasure(lt){let{debounce:e,scroll:$,polyfill:ft,offsetSize:vt}=lt===void 0?{debounce:0,scroll:!1,offsetSize:!1}:lt;const s=ft||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[Tt,At]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),Rt=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:Tt}),Dt=e?typeof e=="number"?e:e.scroll:null,Nt=e?typeof e=="number"?e:e.resize:null,Wt=reactExports.useRef(!1);reactExports.useEffect(()=>(Wt.current=!0,()=>void(Wt.current=!1)));const[Ht,Kt,Ft]=reactExports.useMemo(()=>{const ln=()=>{if(!Rt.current.element)return;const{left:dn,top:mn,width:xn,height:Mn,bottom:Tn,right:vn,x:An,y:Pn}=Rt.current.element.getBoundingClientRect(),bn={left:dn,top:mn,width:xn,height:Mn,bottom:Tn,right:vn,x:An,y:Pn};Rt.current.element instanceof HTMLElement&&vt&&(bn.height=Rt.current.element.offsetHeight,bn.width=Rt.current.element.offsetWidth),Object.freeze(bn),Wt.current&&!areBoundsEqual(Rt.current.lastBounds,bn)&&At(Rt.current.lastBounds=bn)};return[ln,Nt?debounce_1(ln,Nt):ln,Dt?debounce_1(ln,Dt):ln]},[At,vt,Dt,Nt]);function tn(){Rt.current.scrollContainers&&(Rt.current.scrollContainers.forEach(ln=>ln.removeEventListener("scroll",Ft,!0)),Rt.current.scrollContainers=null),Rt.current.resizeObserver&&(Rt.current.resizeObserver.disconnect(),Rt.current.resizeObserver=null)}function cn(){Rt.current.element&&(Rt.current.resizeObserver=new s(Ft),Rt.current.resizeObserver.observe(Rt.current.element),$&&Rt.current.scrollContainers&&Rt.current.scrollContainers.forEach(ln=>ln.addEventListener("scroll",Ft,{capture:!0,passive:!0})))}const fn=ln=>{!ln||ln===Rt.current.element||(tn(),Rt.current.element=ln,Rt.current.scrollContainers=findScrollContainers(ln),cn())};return useOnWindowScroll(Ft,Boolean($)),useOnWindowResize(Kt),reactExports.useEffect(()=>{tn(),cn()},[$,Ft,Kt]),reactExports.useEffect(()=>tn,[]),[fn,Tt,Ht]}function useOnWindowResize(lt){reactExports.useEffect(()=>{const e=lt;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[lt])}function useOnWindowScroll(lt,e){reactExports.useEffect(()=>{if(e){const $=lt;return window.addEventListener("scroll",$,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",$,!0)}},[lt,e])}function findScrollContainers(lt){const e=[];if(!lt||lt===document.body)return e;const{overflow:$,overflowX:ft,overflowY:vt}=window.getComputedStyle(lt);return[$,ft,vt].some(s=>s==="auto"||s==="scroll")&&e.push(lt),[...e,...findScrollContainers(lt.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(lt,e)=>keys.every($=>lt[$]===e[$]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(lt,e,$)=>e in lt?__defProp(lt,e,{enumerable:!0,configurable:!0,writable:!0,value:$}):lt[e]=$,__spreadValues=(lt,e)=>{for(var $ in e||(e={}))__hasOwnProp.call(e,$)&&__defNormalProp(lt,$,e[$]);if(__getOwnPropSymbols)for(var $ of __getOwnPropSymbols(e))__propIsEnum.call(e,$)&&__defNormalProp(lt,$,e[$]);return lt},__spreadProps=(lt,e)=>__defProps(lt,__getOwnPropDescs(e)),_a;function traverseFiber(lt,e,$){if(!lt)return;if($(lt)===!0)return lt;let ft=e?lt.return:lt.child;for(;ft;){const vt=traverseFiber(ft,e,$);if(vt)return vt;ft=e?null:ft.sibling}}function wrapContext(lt){try{return Object.defineProperties(lt,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return lt}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=(_a=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)!=null?_a:{};function useFiber(){const lt=reactExports.useContext(FiberContext),e=reactExports.useId();return reactExports.useMemo(()=>{var ft;return(ft=ReactCurrentOwner==null?void 0:ReactCurrentOwner.current)!=null?ft:traverseFiber(lt,!1,vt=>{let s=vt.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[lt,e])}function useContextBridge(){var lt,e;const $=useFiber(),[ft]=reactExports.useState(()=>new Map);ft.clear();let vt=$;for(;vt;){const s=(lt=vt.type)==null?void 0:lt._context;s&&s!==FiberContext&&!ft.has(s)&&ft.set(s,(e=ReactCurrentDispatcher==null?void 0:ReactCurrentDispatcher.current)==null?void 0:e.readContext(wrapContext(s))),vt=vt.return}return reactExports.useMemo(()=>Array.from(ft.keys()).reduce((s,Tt)=>At=>reactExports.createElement(s,null,reactExports.createElement(Tt.Provider,__spreadProps(__spreadValues({},At),{value:ft.get(Tt)}))),s=>reactExports.createElement(FiberProvider,__spreadValues({},s))),[ft])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(lt){const{handlePointer:e}=createEvents(lt);return{priority:1,enabled:!0,compute($,ft,vt){ft.pointer.set($.offsetX/ft.size.width*2-1,-($.offsetY/ft.size.height)*2+1),ft.raycaster.setFromCamera(ft.pointer,ft.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce(($,ft)=>({...$,[ft]:e(ft)}),{}),update:()=>{var $;const{events:ft,internal:vt}=lt.getState();($=vt.lastEvent)!=null&&$.current&&ft.handlers&&ft.handlers.onPointerMove(vt.lastEvent.current)},connect:$=>{var ft;const{set:vt,events:s}=lt.getState();s.disconnect==null||s.disconnect(),vt(Tt=>({events:{...Tt.events,connected:$}})),Object.entries((ft=s.handlers)!=null?ft:[]).forEach(([Tt,At])=>{const[Rt,Dt]=DOM_EVENTS[Tt];$.addEventListener(Rt,At,{passive:Dt})})},disconnect:()=>{const{set:$,events:ft}=lt.getState();if(ft.connected){var vt;Object.entries((vt=ft.handlers)!=null?vt:[]).forEach(([s,Tt])=>{if(ft&&ft.connected instanceof HTMLElement){const[At]=DOM_EVENTS[s];ft.connected.removeEventListener(At,Tt)}}),$(s=>({events:{...s.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function({children:e,fallback:$,resize:ft,style:vt,gl:s,events:Tt=createPointerEvents,eventSource:At,eventPrefix:Rt,shadows:Dt,linear:Nt,flat:Wt,legacy:Ht,orthographic:Kt,frameloop:Ft,dpr:tn,performance:cn,raycaster:fn,camera:ln,onPointerMissed:dn,onCreated:mn,...xn},Mn){reactExports.useMemo(()=>extend(r$1),[]);const Tn=useContextBridge(),[vn,An]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...ft}),Pn=reactExports.useRef(null),bn=reactExports.useRef(null);reactExports.useImperativeHandle(Mn,()=>Pn.current);const In=useMutableCallback(dn),[On,Nn]=reactExports.useState(!1),[Yn,Xn]=reactExports.useState(!1);if(On)throw On;if(Yn)throw Yn;const sr=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const Gn=Pn.current;An.width>0&&An.height>0&&Gn&&(sr.current||(sr.current=createRoot(Gn)),sr.current.configure({gl:s,events:Tt,shadows:Dt,linear:Nt,flat:Wt,legacy:Ht,orthographic:Kt,frameloop:Ft,dpr:tn,performance:cn,raycaster:fn,camera:ln,size:An,onPointerMissed:(...Wn)=>In.current==null?void 0:In.current(...Wn),onCreated:Wn=>{Wn.events.connect==null||Wn.events.connect(At?isRef(At)?At.current:At:bn.current),Rt&&Wn.setEvents({compute:($n,zn)=>{const Zn=$n[Rt+"X"],tr=$n[Rt+"Y"];zn.pointer.set(Zn/zn.size.width*2-1,-(tr/zn.size.height)*2+1),zn.raycaster.setFromCamera(zn.pointer,zn.camera)}}),mn==null||mn(Wn)}}),sr.current.render(reactExports.createElement(Tn,null,reactExports.createElement(ErrorBoundary,{set:Xn},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:Nn})},e)))))}),reactExports.useEffect(()=>{const Gn=Pn.current;if(Gn)return()=>unmountComponentAtNode(Gn)},[]);const Un=At?"none":"auto";return reactExports.createElement("div",_extends$1({ref:bn,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Un,...vt}},xn),reactExports.createElement("div",{ref:vn,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:Pn,style:{display:"block"}},$)))}),Canvas=reactExports.forwardRef(function(e,$){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends$1({},e,{ref:$})))});function mergeRefs(lt){return function(e){lt.forEach(function($){typeof $=="function"?$(e):$!=null&&($.current=e)})}}function clamp(lt,e,$){return Math.max(e,Math.min(lt,$))}const V$1={toVector(lt,e){return lt===void 0&&(lt=e),Array.isArray(lt)?lt:[lt,lt]},add(lt,e){return[lt[0]+e[0],lt[1]+e[1]]},sub(lt,e){return[lt[0]-e[0],lt[1]-e[1]]},addTo(lt,e){lt[0]+=e[0],lt[1]+=e[1]},subTo(lt,e){lt[0]-=e[0],lt[1]-=e[1]}};function rubberband(lt,e,$){return e===0||Math.abs(e)===1/0?Math.pow(lt,$*5):lt*e*$/(e+$*lt)}function rubberbandIfOutOfBounds(lt,e,$,ft=.15){return ft===0?clamp(lt,e,$):lt<e?-rubberband(e-lt,$-e,ft)+e:lt>$?+rubberband(lt-$,$-e,ft)+$:lt}function computeRubberband(lt,[e,$],[ft,vt]){const[[s,Tt],[At,Rt]]=lt;return[rubberbandIfOutOfBounds(e,s,Tt,ft),rubberbandIfOutOfBounds($,At,Rt,vt)]}function _toPrimitive$1(lt,e){if(typeof lt!="object"||lt===null)return lt;var $=lt[Symbol.toPrimitive];if($!==void 0){var ft=$.call(lt,e||"default");if(typeof ft!="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(lt)}function _toPropertyKey$1(lt){var e=_toPrimitive$1(lt,"string");return typeof e=="symbol"?e:String(e)}function _defineProperty$4(lt,e,$){return e=_toPropertyKey$1(e),e in lt?Object.defineProperty(lt,e,{value:$,enumerable:!0,configurable:!0,writable:!0}):lt[e]=$,lt}function ownKeys$2(lt,e){var $=Object.keys(lt);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(lt);e&&(ft=ft.filter(function(vt){return Object.getOwnPropertyDescriptor(lt,vt).enumerable})),$.push.apply($,ft)}return $}function _objectSpread2$2(lt){for(var e=1;e<arguments.length;e++){var $=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object($),!0).forEach(function(ft){_defineProperty$4(lt,ft,$[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors($)):ownKeys$2(Object($)).forEach(function(ft){Object.defineProperty(lt,ft,Object.getOwnPropertyDescriptor($,ft))})}return lt}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize$1(lt){return lt?lt[0].toUpperCase()+lt.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(lt=!1,e){return lt&&!actionsWithoutCaptureSupported.includes(e)}function toHandlerProp(lt,e="",$=!1){const ft=EVENT_TYPE_MAP[lt],vt=ft&&ft[e]||e;return"on"+capitalize$1(lt)+capitalize$1(vt)+(hasCapture($,vt)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(lt){let e=lt.substring(2).toLowerCase();const $=!!~e.indexOf("passive");$&&(e=e.replace("passive",""));const ft=pointerCaptureEvents.includes(e)?"capturecapture":"capture",vt=!!~e.indexOf(ft);return vt&&(e=e.replace("capture","")),{device:e,capture:vt,passive:$}}function toDomEventType(lt,e=""){const $=EVENT_TYPE_MAP[lt],ft=$&&$[e]||e;return lt+ft}function isTouch(lt){return"touches"in lt}function getPointerType(lt){return isTouch(lt)?"touch":"pointerType"in lt?lt.pointerType:"mouse"}function getCurrentTargetTouchList(lt){return Array.from(lt.touches).filter(e=>{var $,ft;return e.target===lt.currentTarget||(($=lt.currentTarget)===null||$===void 0||(ft=$.contains)===null||ft===void 0?void 0:ft.call($,e.target))})}function getTouchList(lt){return lt.type==="touchend"||lt.type==="touchcancel"?lt.changedTouches:lt.targetTouches}function getValueEvent(lt){return isTouch(lt)?getTouchList(lt)[0]:lt}function distanceAngle(lt,e){const $=e.clientX-lt.clientX,ft=e.clientY-lt.clientY,vt=(e.clientX+lt.clientX)/2,s=(e.clientY+lt.clientY)/2,Tt=Math.hypot($,ft);return{angle:-(Math.atan2($,ft)*180)/Math.PI,distance:Tt,origin:[vt,s]}}function touchIds(lt){return getCurrentTargetTouchList(lt).map(e=>e.identifier)}function touchDistanceAngle(lt,e){const[$,ft]=Array.from(lt.touches).filter(vt=>e.includes(vt.identifier));return distanceAngle($,ft)}function pointerId(lt){const e=getValueEvent(lt);return isTouch(lt)?e.identifier:e.pointerId}function pointerValues(lt){const e=getValueEvent(lt);return[e.clientX,e.clientY]}const LINE_HEIGHT=40,PAGE_HEIGHT=800;function wheelValues(lt){let{deltaX:e,deltaY:$,deltaMode:ft}=lt;return ft===1?(e*=LINE_HEIGHT,$*=LINE_HEIGHT):ft===2&&(e*=PAGE_HEIGHT,$*=PAGE_HEIGHT),[e,$]}function scrollValues(lt){var e,$;const{scrollX:ft,scrollY:vt,scrollLeft:s,scrollTop:Tt}=lt.currentTarget;return[(e=ft??s)!==null&&e!==void 0?e:0,($=vt??Tt)!==null&&$!==void 0?$:0]}function getEventDetails(lt){const e={};if("buttons"in lt&&(e.buttons=lt.buttons),"shiftKey"in lt){const{shiftKey:$,altKey:ft,metaKey:vt,ctrlKey:s}=lt;Object.assign(e,{shiftKey:$,altKey:ft,metaKey:vt,ctrlKey:s})}return e}function call(lt,...e){return typeof lt=="function"?lt(...e):lt}function noop$3(){}function chain(...lt){return lt.length===0?noop$3:lt.length===1?lt[0]:function(){let e;for(const $ of lt)e=$.apply(this,arguments)||e;return e}}function assignDefault(lt,e){return Object.assign({},e,lt||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(e,$,ft){this.ctrl=e,this.args=$,this.key=ft,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:$,ingKey:ft,args:vt}=this;$[ft]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=vt,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const $=this.state,ft=this.config;$._active||(this.reset(),this.computeInitial(),$._active=!0,$.target=e.target,$.currentTarget=e.currentTarget,$.lastOffset=ft.from?call(ft.from,$):$.offset,$.offset=$.lastOffset),$.startTime=$.timeStamp=e.timeStamp}computeValues(e){const $=this.state;$._values=e,$.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:$,config:ft,shared:vt}=this;$.args=this.args;let s=0;if(e&&($.event=e,ft.preventDefault&&e.cancelable&&$.event.preventDefault(),$.type=e.type,vt.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,vt.locked=!!document.pointerLockElement,Object.assign(vt,getEventDetails(e)),vt.down=vt.pressed=vt.buttons%2===1||vt.touches>0,s=e.timeStamp-$.timeStamp,$.timeStamp=e.timeStamp,$.elapsedTime=$.timeStamp-$.startTime),$._active){const Mn=$._delta.map(Math.abs);V$1.addTo($._distance,Mn)}this.axisIntent&&this.axisIntent(e);const[Tt,At]=$._movement,[Rt,Dt]=ft.threshold,{_step:Nt,values:Wt}=$;if(ft.hasCustomTransform?(Nt[0]===!1&&(Nt[0]=Math.abs(Tt)>=Rt&&Wt[0]),Nt[1]===!1&&(Nt[1]=Math.abs(At)>=Dt&&Wt[1])):(Nt[0]===!1&&(Nt[0]=Math.abs(Tt)>=Rt&&Math.sign(Tt)*Rt),Nt[1]===!1&&(Nt[1]=Math.abs(At)>=Dt&&Math.sign(At)*Dt)),$.intentional=Nt[0]!==!1||Nt[1]!==!1,!$.intentional)return;const Ht=[0,0];if(ft.hasCustomTransform){const[Mn,Tn]=Wt;Ht[0]=Nt[0]!==!1?Mn-Nt[0]:0,Ht[1]=Nt[1]!==!1?Tn-Nt[1]:0}else Ht[0]=Nt[0]!==!1?Tt-Nt[0]:0,Ht[1]=Nt[1]!==!1?At-Nt[1]:0;this.restrictToAxis&&!$._blocked&&this.restrictToAxis(Ht);const Kt=$.offset,Ft=$._active&&!$._blocked||$.active;Ft&&($.first=$._active&&!$.active,$.last=!$._active&&$.active,$.active=vt[this.ingKey]=$._active,e&&($.first&&("bounds"in ft&&($._bounds=call(ft.bounds,$)),this.setup&&this.setup()),$.movement=Ht,this.computeOffset()));const[tn,cn]=$.offset,[[fn,ln],[dn,mn]]=$._bounds;$.overflow=[tn<fn?-1:tn>ln?1:0,cn<dn?-1:cn>mn?1:0],$._movementBound[0]=$.overflow[0]?$._movementBound[0]===!1?$._movement[0]:$._movementBound[0]:!1,$._movementBound[1]=$.overflow[1]?$._movementBound[1]===!1?$._movement[1]:$._movementBound[1]:!1;const xn=$._active?ft.rubberband||[0,0]:[0,0];if($.offset=computeRubberband($._bounds,$.offset,xn),$.delta=V$1.sub($.offset,Kt),this.computeMovement(),Ft&&(!$.last||s>BEFORE_LAST_KINEMATICS_DELAY)){$.delta=V$1.sub($.offset,Kt);const Mn=$.delta.map(Math.abs);V$1.addTo($.distance,Mn),$.direction=$.delta.map(Math.sign),$._direction=$._delta.map(Math.sign),!$.first&&s>0&&($.velocity=[Mn[0]/s,Mn[1]/s])}}emit(){const e=this.state,$=this.shared,ft=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!ft.triggerAllEvents)return;const vt=this.handler(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({},$),e),{},{[this.aliasKey]:e.values}));vt!==void 0&&(e.memo=vt)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([lt,e],$){const ft=Math.abs(lt),vt=Math.abs(e);if(ft>vt&&ft>$)return"x";if(vt>ft&&vt>$)return"y"}class CoordinatesEngine extends Engine{constructor(...e){super(...e),_defineProperty$4(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V$1.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V$1.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const $=this.state,ft=this.config;if(!$.axis&&e){const vt=typeof ft.axisThreshold=="object"?ft.axisThreshold[getPointerType(e)]:ft.axisThreshold;$.axis=selectAxis($._movement,vt)}$._blocked=(ft.lockDirection||!!ft.axis)&&!$.axis||!!ft.axis&&ft.axis!==$.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const identity=lt=>lt,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled(lt=!0){return lt},eventOptions(lt,e,$){return _objectSpread2$2(_objectSpread2$2({},$.shared.eventOptions),lt)},preventDefault(lt=!1){return lt},triggerAllEvents(lt=!1){return lt},rubberband(lt=0){switch(lt){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V$1.toVector(lt)}},from(lt){if(typeof lt=="function")return lt;if(lt!=null)return V$1.toVector(lt)},transform(lt,e,$){const ft=lt||$.shared.transform;return this.hasCustomTransform=!!ft,ft||identity},threshold(lt){return V$1.toVector(lt,0)}},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2$2(_objectSpread2$2({},commonConfigResolver),{},{axis(lt,e,{axis:$}){if(this.lockDirection=$==="lock",!this.lockDirection)return $},axisThreshold(lt=DEFAULT_AXIS_THRESHOLD){return lt},bounds(lt={}){if(typeof lt=="function")return s=>coordinatesConfigResolver.bounds(lt(s));if("current"in lt)return()=>lt.current;if(typeof HTMLElement=="function"&&lt instanceof HTMLElement)return lt;const{left:e=-1/0,right:$=1/0,top:ft=-1/0,bottom:vt=1/0}=lt;return[[e,$],[ft,vt]]}}),KEYS_DELTA_MAP={ArrowRight:(lt,e=1)=>[lt*e,0],ArrowLeft:(lt,e=1)=>[-1*lt*e,0],ArrowUp:(lt,e=1)=>[0,-1*lt*e],ArrowDown:(lt,e=1)=>[0,lt*e]};class DragEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty$4(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const $=e._bounds.getBoundingClientRect(),ft=e.currentTarget.getBoundingClientRect(),vt={left:$.left-ft.left+e.offset[0],right:$.right-ft.right+e.offset[0],top:$.top-ft.top+e.offset[1],bottom:$.bottom-ft.bottom+e.offset[1]};e._bounds=coordinatesConfigResolver.bounds(vt)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const $=this.config,ft=this.state;if(e.buttons!=null&&(Array.isArray($.pointerButtons)?!$.pointerButtons.includes(e.buttons):$.pointerButtons!==-1&&$.pointerButtons!==e.buttons))return;const vt=this.ctrl.setEventIds(e);$.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(vt&&vt.size>1&&ft._pointerActive)&&(this.start(e),this.setupPointer(e),ft._pointerId=pointerId(e),ft._pointerActive=!0,this.computeValues(pointerValues(e)),this.computeInitial(),$.preventScrollAxis&&getPointerType(e)!=="mouse"?(ft._active=!1,this.setupScrollPrevention(e)):$.delay>0?(this.setupDelayTrigger(e),$.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const $=this.state;$._active=!0,$._preventScroll=!0,$._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const $=this.state,ft=this.config;if(!$._pointerActive||$.type===e.type&&e.timeStamp===$.timeStamp)return;const vt=pointerId(e);if($._pointerId!==void 0&&vt!==$._pointerId)return;const s=pointerValues(e);if(document.pointerLockElement===e.target?$._delta=[e.movementX,e.movementY]:($._delta=V$1.sub(s,$._values),this.computeValues(s)),V$1.addTo($._movement,$._delta),this.compute(e),$._delayed&&$.intentional){this.timeoutStore.remove("dragDelay"),$.active=!1,this.startPointerDrag(e);return}if(ft.preventScrollAxis&&!$._preventScroll)if($.axis)if($.axis===ft.preventScrollAxis||ft.preventScrollAxis==="xy"){$._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const $=this.state,ft=this.config;if(!$._active||!$._pointerActive)return;const vt=pointerId(e);if($._pointerId!==void 0&&vt!==$._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,Tt]=$._distance;if($.tap=s<=ft.tapsThreshold&&Tt<=ft.tapsThreshold,$.tap&&ft.filterTaps)$._force=!0;else{const[At,Rt]=$.direction,[Dt,Nt]=$.velocity,[Wt,Ht]=$.movement,[Kt,Ft]=ft.swipe.velocity,[tn,cn]=ft.swipe.distance,fn=ft.swipe.duration;$.elapsedTime<fn&&(Math.abs(Dt)>Kt&&Math.abs(Wt)>tn&&($.swipe[0]=At),Math.abs(Nt)>Ft&&Math.abs(Ht)>cn&&($.swipe[1]=Rt))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const $=this.config,ft=$.device;$.pointerLock&&e.currentTarget.requestPointerLock(),$.pointerCapture||(this.eventStore.add(this.sharedConfig.window,ft,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,ft,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,ft,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,persistEvent(e);const $=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",$),this.eventStore.add(this.sharedConfig.window,"touch","cancel",$),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const $=KEYS_DELTA_MAP[e.key];if($){const ft=this.state,vt=e.shiftKey?10:e.altKey?.1:1;this.start(e),ft._delta=$(this.config.keyboardDisplacement,vt),ft._keyboardActive=!0,V$1.addTo(ft._movement,ft._delta),this.compute(e),this.emit()}}keyUp(e){e.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const $=this.config.device;e($,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e($,"change",this.pointerMove.bind(this)),e($,"end",this.pointerUp.bind(this)),e($,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(lt){"persist"in lt&&typeof lt.persist=="function"&&lt.persist()}const isBrowser$1=typeof window<"u"&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser$1&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser$1&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser$1&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser$1&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch{return!1}}const SUPPORT={isBrowser:isBrowser$1,gesture:supportsGestureEvents(),touch:isTouchScreen(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_KEYBOARD_DISPLACEMENT=10,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2$2(_objectSpread2$2({},coordinatesConfigResolver),{},{device(lt,e,{pointer:{touch:$=!1,lock:ft=!1,mouse:vt=!1}={}}){return this.pointerLock=ft&&SUPPORT.pointerLock,SUPPORT.touch&&$?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!vt?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(lt,e,{preventScroll:$}){if(this.preventScrollDelay=typeof $=="number"?$:$||$===void 0&&lt?DEFAULT_PREVENT_SCROLL_DELAY:void 0,!(!SUPPORT.touchscreen||$===!1))return lt||($!==void 0?"y":void 0)},pointerCapture(lt,e,{pointer:{capture:$=!0,buttons:ft=1,keys:vt=!0}={}}){return this.pointerButtons=ft,this.keys=vt,!this.pointerLock&&this.device==="pointer"&&$},threshold(lt,e,{filterTaps:$=!1,tapsThreshold:ft=3,axis:vt=void 0}){const s=V$1.toVector(lt,$?ft:vt?1:0);return this.filterTaps=$,this.tapsThreshold=ft,s},swipe({velocity:lt=DEFAULT_SWIPE_VELOCITY,distance:e=DEFAULT_SWIPE_DISTANCE,duration:$=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V$1.toVector(lt)),distance:this.transform(V$1.toVector(e)),duration:$}},delay(lt=0){switch(lt){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return lt}},axisThreshold(lt){return lt?_objectSpread2$2(_objectSpread2$2({},DEFAULT_DRAG_AXIS_THRESHOLD),lt):DEFAULT_DRAG_AXIS_THRESHOLD},keyboardDisplacement(lt=DEFAULT_KEYBOARD_DISPLACEMENT){return lt}});function clampStateInternalMovementToBounds(lt){const[e,$]=lt.overflow,[ft,vt]=lt._delta,[s,Tt]=lt._direction;(e<0&&ft>0&&s<0||e>0&&ft<0&&s>0)&&(lt._movement[0]=lt._movementBound[0]),($<0&&vt>0&&Tt<0||$>0&&vt<0&&Tt>0)&&(lt._movement[1]=lt._movementBound[1])}const SCALE_ANGLE_RATIO_INTENT_DEG=30,PINCH_WHEEL_RATIO=100;class PinchEngine extends Engine{constructor(...e){super(...e),_defineProperty$4(this,"ingKey","pinching"),_defineProperty$4(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:$,lastOffset:ft}=this.state;e==="wheel"?this.state.offset=V$1.add($,ft):this.state.offset=[(1+$[0])*ft[0],$[1]+ft[1]]}computeMovement(){const{offset:e,lastOffset:$}=this.state;this.state.movement=[e[0]/$[0],e[1]-$[1]]}axisIntent(){const e=this.state,[$,ft]=e._movement;if(!e.axis){const vt=Math.abs($)*SCALE_ANGLE_RATIO_INTENT_DEG-Math.abs(ft);vt<0?e.axis="angle":vt>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const $=this.state,ft=this.ctrl.touchIds;if($._active&&$._touchIds.every(s=>ft.has(s))||ft.size<2)return;this.start(e),$._touchIds=Array.from(ft).slice(0,2);const vt=touchDistanceAngle(e,$._touchIds);this.pinchStart(e,vt)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const $=this.state,ft=$._pointerEvents,vt=this.ctrl.pointerIds;if($._active&&Array.from(ft.keys()).every(Tt=>vt.has(Tt))||(ft.size<2&&ft.set(e.pointerId,e),$._pointerEvents.size<2))return;this.start(e);const s=distanceAngle(...Array.from(ft.values()));this.pinchStart(e,s)}pinchStart(e,$){const ft=this.state;ft.origin=$.origin,this.computeValues([$.distance,$.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const $=touchDistanceAngle(e,this.state._touchIds);this.pinchMove(e,$)}pointerMove(e){const $=this.state._pointerEvents;if($.has(e.pointerId)&&$.set(e.pointerId,e),!this.state._active)return;const ft=distanceAngle(...Array.from($.values()));this.pinchMove(e,ft)}pinchMove(e,$){const ft=this.state,vt=ft._values[1],s=$.angle-vt;let Tt=0;Math.abs(s)>270&&(Tt+=Math.sign(s)),this.computeValues([$.distance,$.angle-360*Tt]),ft.origin=$.origin,ft.turns=Tt,ft._movement=[ft._values[0]/ft._initial[0]-1,ft._values[1]-ft._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some($=>!this.ctrl.touchIds.has($))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const $=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}$._pointerEvents.has(e.pointerId)&&$._pointerEvents.delete(e.pointerId),$._active&&$._pointerEvents.size<2&&($._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const $=this.state;$._active||(this.start(e),this.computeValues([e.scale,e.rotation]),$.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const $=this.state;this.computeValues([e.scale,e.rotation]),$.origin=[e.clientX,e.clientY];const ft=$._movement;$._movement=[e.scale-1,e.rotation],$._delta=V$1.sub($._movement,ft),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const $=this.config.modifierKey;$&&!e[$]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const ft=this.state;ft._delta=[-wheelValues(e)[1]/PINCH_WHEEL_RATIO*ft.offset[0],0],V$1.addTo(ft._movement,ft._delta),clampStateInternalMovementToBounds(ft),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const $=this.config.device;$&&(e($,"start",this[$+"Start"].bind(this)),e($,"change",this[$+"Move"].bind(this)),e($,"end",this[$+"End"].bind(this)),e($,"cancel",this[$+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const pinchConfigResolver=_objectSpread2$2(_objectSpread2$2({},commonConfigResolver),{},{device(lt,e,{shared:$,pointer:{touch:ft=!1}={}}){if($.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&ft)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(lt,e,{scaleBounds:$={},angleBounds:ft={}}){const vt=Tt=>{const At=assignDefault(call($,Tt),{min:-1/0,max:1/0});return[At.min,At.max]},s=Tt=>{const At=assignDefault(call(ft,Tt),{min:-1/0,max:1/0});return[At.min,At.max]};return typeof $!="function"&&typeof ft!="function"?[vt(),s()]:Tt=>[vt(Tt),s(Tt)]},threshold(lt,e,$){return this.lockDirection=$.axis==="lock",V$1.toVector(lt,this.lockDirection?[.1,3]:0)},modifierKey(lt){return lt===void 0?"ctrlKey":lt},pinchOnWheel(lt=!0){return lt}});class MoveEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty$4(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(pointerValues(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const $=pointerValues(e),ft=this.state;ft._delta=V$1.sub($,ft._values),V$1.addTo(ft._movement,ft._delta),this.computeValues($),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const moveConfigResolver=_objectSpread2$2(_objectSpread2$2({},coordinatesConfigResolver),{},{mouseOnly:(lt=!0)=>lt});class ScrollEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty$4(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const $=this.state,ft=scrollValues(e);$._delta=V$1.sub(ft,$._values),V$1.addTo($._movement,$._delta),this.computeValues(ft),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const scrollConfigResolver=coordinatesConfigResolver;class WheelEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty$4(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const $=this.state;$._delta=wheelValues(e),V$1.addTo($._movement,$._delta),clampStateInternalMovementToBounds($),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const wheelConfigResolver=coordinatesConfigResolver;class HoverEngine extends CoordinatesEngine{constructor(...e){super(...e),_defineProperty$4(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(pointerValues(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const $=this.state;if(!$._active)return;$._active=!1;const ft=pointerValues(e);$._movement=$._delta=V$1.sub(ft,$._values),this.computeValues(ft),this.compute(e),$.delta=$.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const hoverConfigResolver=_objectSpread2$2(_objectSpread2$2({},coordinatesConfigResolver),{},{mouseOnly:(lt=!0)=>lt}),EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(lt){EngineMap.set(lt.key,lt.engine),ConfigResolverMap.set(lt.key,lt.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver},hoverAction={key:"hover",engine:HoverEngine,resolver:hoverConfigResolver},moveAction={key:"move",engine:MoveEngine,resolver:moveConfigResolver},pinchAction={key:"pinch",engine:PinchEngine,resolver:pinchConfigResolver},scrollAction={key:"scroll",engine:ScrollEngine,resolver:scrollConfigResolver},wheelAction={key:"wheel",engine:WheelEngine,resolver:wheelConfigResolver};function _objectWithoutPropertiesLoose$1(lt,e){if(lt==null)return{};var $={},ft=Object.keys(lt),vt,s;for(s=0;s<ft.length;s++)vt=ft[s],!(e.indexOf(vt)>=0)&&($[vt]=lt[vt]);return $}function _objectWithoutProperties$1(lt,e){if(lt==null)return{};var $=_objectWithoutPropertiesLoose$1(lt,e),ft,vt;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(lt);for(vt=0;vt<s.length;vt++)ft=s[vt],!(e.indexOf(ft)>=0)&&Object.prototype.propertyIsEnumerable.call(lt,ft)&&($[ft]=lt[ft])}return $}const sharedConfigResolver={target(lt){if(lt)return()=>"current"in lt?lt.current:lt},enabled(lt=!0){return lt},window(lt=SUPPORT.isBrowser?window:void 0){return lt},eventOptions({passive:lt=!0,capture:e=!1}={}){return{passive:lt,capture:e}},transform(lt){return lt}},_excluded$1=["target","eventOptions","window","enabled","transform"];function resolveWith(lt={},e){const $={};for(const[ft,vt]of Object.entries(e))switch(typeof vt){case"function":$[ft]=vt.call($,lt[ft],ft,lt);break;case"object":$[ft]=resolveWith(lt[ft],vt);break;case"boolean":vt&&($[ft]=lt[ft]);break}return $}function parse$2(lt,e,$={}){const ft=lt,{target:vt,eventOptions:s,window:Tt,enabled:At,transform:Rt}=ft,Dt=_objectWithoutProperties$1(ft,_excluded$1);if($.shared=resolveWith({target:vt,eventOptions:s,window:Tt,enabled:At,transform:Rt},sharedConfigResolver),e){const Nt=ConfigResolverMap.get(e);$[e]=resolveWith(_objectSpread2$2({shared:$.shared},Dt),Nt)}else for(const Nt in Dt){const Wt=ConfigResolverMap.get(Nt);Wt&&($[Nt]=resolveWith(_objectSpread2$2({shared:$.shared},Dt[Nt]),Wt))}return $}class EventStore{constructor(e,$){_defineProperty$4(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=$}add(e,$,ft,vt,s){const Tt=this._listeners,At=toDomEventType($,ft),Rt=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},Dt=_objectSpread2$2(_objectSpread2$2({},Rt),s);e.addEventListener(At,vt,Dt);const Nt=()=>{e.removeEventListener(At,vt,Dt),Tt.delete(Nt)};return Tt.add(Nt),Nt}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty$4(this,"_timeouts",new Map)}add(e,$,ft=140,...vt){this.remove(e),this._timeouts.set(e,window.setTimeout($,ft,...vt))}remove(e){const $=this._timeouts.get(e);$&&window.clearTimeout($)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class Controller{constructor(e){_defineProperty$4(this,"gestures",new Set),_defineProperty$4(this,"_targetEventStore",new EventStore(this)),_defineProperty$4(this,"gestureEventStores",{}),_defineProperty$4(this,"gestureTimeoutStores",{}),_defineProperty$4(this,"handlers",{}),_defineProperty$4(this,"config",{}),_defineProperty$4(this,"pointerIds",new Set),_defineProperty$4(this,"touchIds",new Set),_defineProperty$4(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,e)}setEventIds(e){if(isTouch(e))return this.touchIds=new Set(touchIds(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,$){this.handlers=e,this.nativeHandlers=$}applyConfig(e,$){this.config=parse$2(e,$,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const $=this.config.shared,ft={};let vt;if(!($.target&&(vt=$.target(),!vt))){if($.enabled){for(const Tt of this.gestures){const At=this.config[Tt],Rt=bindToProps(ft,At.eventOptions,!!vt);if(At.enabled){const Dt=EngineMap.get(Tt);new Dt(this,e,Tt).bind(Rt)}}const s=bindToProps(ft,$.eventOptions,!!vt);for(const Tt in this.nativeHandlers)s(Tt,"",At=>this.nativeHandlers[Tt](_objectSpread2$2(_objectSpread2$2({},this.state.shared),{},{event:At,args:e})),void 0,!0)}for(const s in ft)ft[s]=chain(...ft[s]);if(!vt)return ft;for(const s in ft){const{device:Tt,capture:At,passive:Rt}=parseProp(s);this._targetEventStore.add(vt,Tt,"",ft[s],{capture:At,passive:Rt})}}}}function setupGesture(lt,e){lt.gestures.add(e),lt.gestureEventStores[e]=new EventStore(lt,e),lt.gestureTimeoutStores[e]=new TimeoutStore}function resolveGestures(lt,e){e.drag&&setupGesture(lt,"drag"),e.wheel&&setupGesture(lt,"wheel"),e.scroll&&setupGesture(lt,"scroll"),e.move&&setupGesture(lt,"move"),e.pinch&&setupGesture(lt,"pinch"),e.hover&&setupGesture(lt,"hover")}const bindToProps=(lt,e,$)=>(ft,vt,s,Tt={},At=!1)=>{var Rt,Dt;const Nt=(Rt=Tt.capture)!==null&&Rt!==void 0?Rt:e.capture,Wt=(Dt=Tt.passive)!==null&&Dt!==void 0?Dt:e.passive;let Ht=At?ft:toHandlerProp(ft,vt,Nt);$&&Wt&&(Ht+="Passive"),lt[Ht]=lt[Ht]||[],lt[Ht].push(s)},RE_NOT_NATIVE=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function sortHandlers(lt){const e={},$={},ft=new Set;for(let vt in lt)RE_NOT_NATIVE.test(vt)?(ft.add(RegExp.lastMatch),$[vt]=lt[vt]):e[vt]=lt[vt];return[$,e,ft]}function registerGesture(lt,e,$,ft,vt,s){if(!lt.has($)||!EngineMap.has(ft))return;const Tt=$+"Start",At=$+"End",Rt=Dt=>{let Nt;return Dt.first&&Tt in e&&e[Tt](Dt),$ in e&&(Nt=e[$](Dt)),Dt.last&&At in e&&e[At](Dt),Nt};vt[ft]=Rt,s[ft]=s[ft]||{}}function parseMergedHandlers(lt,e){const[$,ft,vt]=sortHandlers(lt),s={};return registerGesture(vt,$,"onDrag","drag",s,e),registerGesture(vt,$,"onWheel","wheel",s,e),registerGesture(vt,$,"onScroll","scroll",s,e),registerGesture(vt,$,"onPinch","pinch",s,e),registerGesture(vt,$,"onMove","move",s,e),registerGesture(vt,$,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:ft}}function useRecognizers(lt,e={},$,ft){const vt=React.useMemo(()=>new Controller(lt),[]);if(vt.applyHandlers(lt,ft),vt.applyConfig(e,$),React.useEffect(vt.effect.bind(vt)),React.useEffect(()=>vt.clean.bind(vt),[]),e.target===void 0)return vt.bind.bind(vt)}function createUseGesture(lt){return lt.forEach(registerAction),function($,ft){const{handlers:vt,nativeHandlers:s,config:Tt}=parseMergedHandlers($,ft||{});return useRecognizers(vt,Tt,void 0,s)}}function useGesture(lt,e){return createUseGesture([dragAction,pinchAction,scrollAction,wheelAction,moveAction,hoverAction])(lt,e||{})}function _typeof$2(lt){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(lt)}function _toPrimitive(lt,e){if(_typeof$2(lt)!=="object"||lt===null)return lt;var $=lt[Symbol.toPrimitive];if($!==void 0){var ft=$.call(lt,e||"default");if(_typeof$2(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(lt)}function _toPropertyKey(lt){var e=_toPrimitive(lt,"string");return _typeof$2(e)==="symbol"?e:String(e)}function _defineProperty$3(lt,e,$){return e=_toPropertyKey(e),e in lt?Object.defineProperty(lt,e,{value:$,enumerable:!0,configurable:!0,writable:!0}):lt[e]=$,lt}const moduloWrapAround=(lt,e)=>(lt%e+e)%e;let OrbitControls$1=class extends EventDispatcher{constructor(e,$){super(),_defineProperty$3(this,"object",void 0),_defineProperty$3(this,"domElement",void 0),_defineProperty$3(this,"enabled",!0),_defineProperty$3(this,"target",new Vector3),_defineProperty$3(this,"minDistance",0),_defineProperty$3(this,"maxDistance",1/0),_defineProperty$3(this,"minZoom",0),_defineProperty$3(this,"maxZoom",1/0),_defineProperty$3(this,"minPolarAngle",0),_defineProperty$3(this,"maxPolarAngle",Math.PI),_defineProperty$3(this,"minAzimuthAngle",-1/0),_defineProperty$3(this,"maxAzimuthAngle",1/0),_defineProperty$3(this,"enableDamping",!1),_defineProperty$3(this,"dampingFactor",.05),_defineProperty$3(this,"enableZoom",!0),_defineProperty$3(this,"zoomSpeed",1),_defineProperty$3(this,"enableRotate",!0),_defineProperty$3(this,"rotateSpeed",1),_defineProperty$3(this,"enablePan",!0),_defineProperty$3(this,"panSpeed",1),_defineProperty$3(this,"screenSpacePanning",!0),_defineProperty$3(this,"keyPanSpeed",7),_defineProperty$3(this,"autoRotate",!1),_defineProperty$3(this,"autoRotateSpeed",2),_defineProperty$3(this,"reverseOrbit",!1),_defineProperty$3(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),_defineProperty$3(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),_defineProperty$3(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),_defineProperty$3(this,"target0",void 0),_defineProperty$3(this,"position0",void 0),_defineProperty$3(this,"zoom0",void 0),_defineProperty$3(this,"_domElementKeyEvents",null),_defineProperty$3(this,"getPolarAngle",void 0),_defineProperty$3(this,"getAzimuthalAngle",void 0),_defineProperty$3(this,"setPolarAngle",void 0),_defineProperty$3(this,"setAzimuthalAngle",void 0),_defineProperty$3(this,"getDistance",void 0),_defineProperty$3(this,"listenToKeyEvents",void 0),_defineProperty$3(this,"saveState",void 0),_defineProperty$3(this,"reset",void 0),_defineProperty$3(this,"update",void 0),_defineProperty$3(this,"connect",void 0),_defineProperty$3(this,"dispose",void 0),this.object=e,this.domElement=$,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof PerspectiveCamera?this.object.zoom:1,this.getPolarAngle=()=>Nt.phi,this.getAzimuthalAngle=()=>Nt.theta,this.setPolarAngle=jn=>{let gr=moduloWrapAround(jn,2*Math.PI),Ar=Nt.phi;Ar<0&&(Ar+=2*Math.PI),gr<0&&(gr+=2*Math.PI);let Rr=Math.abs(gr-Ar);2*Math.PI-Rr<Rr&&(gr<Ar?gr+=2*Math.PI:Ar+=2*Math.PI),Wt.phi=gr-Ar,ft.update()},this.setAzimuthalAngle=jn=>{let gr=moduloWrapAround(jn,2*Math.PI),Ar=Nt.theta;Ar<0&&(Ar+=2*Math.PI),gr<0&&(gr+=2*Math.PI);let Rr=Math.abs(gr-Ar);2*Math.PI-Rr<Rr&&(gr<Ar?gr+=2*Math.PI:Ar+=2*Math.PI),Wt.theta=gr-Ar,ft.update()},this.getDistance=()=>ft.object.position.distanceTo(ft.target),this.listenToKeyEvents=jn=>{jn.addEventListener("keydown",Jn),this._domElementKeyEvents=jn},this.saveState=()=>{ft.target0.copy(ft.target),ft.position0.copy(ft.object.position),ft.zoom0=ft.object instanceof PerspectiveCamera?ft.object.zoom:1},this.reset=()=>{ft.target.copy(ft.target0),ft.object.position.copy(ft.position0),ft.object instanceof PerspectiveCamera&&(ft.object.zoom=ft.zoom0,ft.object.updateProjectionMatrix()),ft.dispatchEvent(vt),ft.update(),Rt=At.NONE},this.update=(()=>{const jn=new Vector3,gr=new Quaternion().setFromUnitVectors(e.up,new Vector3(0,1,0)),Ar=gr.clone().invert(),Rr=new Vector3,Qr=new Quaternion,po=2*Math.PI;return function(){const qn=ft.object.position;jn.copy(qn).sub(ft.target),jn.applyQuaternion(gr),Nt.setFromVector3(jn),ft.autoRotate&&Rt===At.NONE&&In(Pn()),ft.enableDamping?(Nt.theta+=Wt.theta*ft.dampingFactor,Nt.phi+=Wt.phi*ft.dampingFactor):(Nt.theta+=Wt.theta,Nt.phi+=Wt.phi);let mr=ft.minAzimuthAngle,Nr=ft.maxAzimuthAngle;return isFinite(mr)&&isFinite(Nr)&&(mr<-Math.PI?mr+=po:mr>Math.PI&&(mr-=po),Nr<-Math.PI?Nr+=po:Nr>Math.PI&&(Nr-=po),mr<=Nr?Nt.theta=Math.max(mr,Math.min(Nr,Nt.theta)):Nt.theta=Nt.theta>(mr+Nr)/2?Math.max(mr,Nt.theta):Math.min(Nr,Nt.theta)),Nt.phi=Math.max(ft.minPolarAngle,Math.min(ft.maxPolarAngle,Nt.phi)),Nt.makeSafe(),Nt.radius*=Ht,Nt.radius=Math.max(ft.minDistance,Math.min(ft.maxDistance,Nt.radius)),ft.enableDamping===!0?ft.target.addScaledVector(Kt,ft.dampingFactor):ft.target.add(Kt),jn.setFromSpherical(Nt),jn.applyQuaternion(Ar),qn.copy(ft.target).add(jn),ft.object.lookAt(ft.target),ft.enableDamping===!0?(Wt.theta*=1-ft.dampingFactor,Wt.phi*=1-ft.dampingFactor,Kt.multiplyScalar(1-ft.dampingFactor)):(Wt.set(0,0,0),Kt.set(0,0,0)),Ht=1,Ft||Rr.distanceToSquared(ft.object.position)>Dt||8*(1-Qr.dot(ft.object.quaternion))>Dt?(ft.dispatchEvent(vt),Rr.copy(ft.object.position),Qr.copy(ft.object.quaternion),Ft=!1,!0):!1}})(),this.connect=jn=>{jn===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),ft.domElement=jn,ft.domElement.style.touchAction="none",ft.domElement.addEventListener("contextmenu",Yr),ft.domElement.addEventListener("pointerdown",Jr),ft.domElement.addEventListener("pointercancel",qr),ft.domElement.addEventListener("wheel",Ln)},this.dispose=()=>{var jn,gr,Ar,Rr,Qr,po;(jn=ft.domElement)===null||jn===void 0||jn.removeEventListener("contextmenu",Yr),(gr=ft.domElement)===null||gr===void 0||gr.removeEventListener("pointerdown",Jr),(Ar=ft.domElement)===null||Ar===void 0||Ar.removeEventListener("pointercancel",qr),(Rr=ft.domElement)===null||Rr===void 0||Rr.removeEventListener("wheel",Ln),(Qr=ft.domElement)===null||Qr===void 0||Qr.ownerDocument.removeEventListener("pointermove",xr),(po=ft.domElement)===null||po===void 0||po.ownerDocument.removeEventListener("pointerup",jr),ft._domElementKeyEvents!==null&&ft._domElementKeyEvents.removeEventListener("keydown",Jn)};const ft=this,vt={type:"change"},s={type:"start"},Tt={type:"end"},At={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let Rt=At.NONE;const Dt=1e-6,Nt=new Spherical,Wt=new Spherical;let Ht=1;const Kt=new Vector3;let Ft=!1;const tn=new Vector2,cn=new Vector2,fn=new Vector2,ln=new Vector2,dn=new Vector2,mn=new Vector2,xn=new Vector2,Mn=new Vector2,Tn=new Vector2,vn=[],An={};function Pn(){return 2*Math.PI/60/60*ft.autoRotateSpeed}function bn(){return Math.pow(.95,ft.zoomSpeed)}function In(jn){ft.reverseOrbit?Wt.theta+=jn:Wt.theta-=jn}function On(jn){ft.reverseOrbit?Wt.phi+=jn:Wt.phi-=jn}const Nn=(()=>{const jn=new Vector3;return function(Ar,Rr){jn.setFromMatrixColumn(Rr,0),jn.multiplyScalar(-Ar),Kt.add(jn)}})(),Yn=(()=>{const jn=new Vector3;return function(Ar,Rr){ft.screenSpacePanning===!0?jn.setFromMatrixColumn(Rr,1):(jn.setFromMatrixColumn(Rr,0),jn.crossVectors(ft.object.up,jn)),jn.multiplyScalar(Ar),Kt.add(jn)}})(),Xn=(()=>{const jn=new Vector3;return function(Ar,Rr){const Qr=ft.domElement;if(Qr&&ft.object instanceof PerspectiveCamera&&ft.object.isPerspectiveCamera){const po=ft.object.position;jn.copy(po).sub(ft.target);let _o=jn.length();_o*=Math.tan(ft.object.fov/2*Math.PI/180),Nn(2*Ar*_o/Qr.clientHeight,ft.object.matrix),Yn(2*Rr*_o/Qr.clientHeight,ft.object.matrix)}else Qr&&ft.object instanceof OrthographicCamera$1&&ft.object.isOrthographicCamera?(Nn(Ar*(ft.object.right-ft.object.left)/ft.object.zoom/Qr.clientWidth,ft.object.matrix),Yn(Rr*(ft.object.top-ft.object.bottom)/ft.object.zoom/Qr.clientHeight,ft.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),ft.enablePan=!1)}})();function sr(jn){ft.object instanceof PerspectiveCamera&&ft.object.isPerspectiveCamera?Ht/=jn:ft.object instanceof OrthographicCamera$1&&ft.object.isOrthographicCamera?(ft.object.zoom=Math.max(ft.minZoom,Math.min(ft.maxZoom,ft.object.zoom*jn)),ft.object.updateProjectionMatrix(),Ft=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ft.enableZoom=!1)}function Un(jn){ft.object instanceof PerspectiveCamera&&ft.object.isPerspectiveCamera?Ht*=jn:ft.object instanceof OrthographicCamera$1&&ft.object.isOrthographicCamera?(ft.object.zoom=Math.max(ft.minZoom,Math.min(ft.maxZoom,ft.object.zoom/jn)),ft.object.updateProjectionMatrix(),Ft=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ft.enableZoom=!1)}function Gn(jn){tn.set(jn.clientX,jn.clientY)}function Wn(jn){xn.set(jn.clientX,jn.clientY)}function $n(jn){ln.set(jn.clientX,jn.clientY)}function zn(jn){cn.set(jn.clientX,jn.clientY),fn.subVectors(cn,tn).multiplyScalar(ft.rotateSpeed);const gr=ft.domElement;gr&&(In(2*Math.PI*fn.x/gr.clientHeight),On(2*Math.PI*fn.y/gr.clientHeight)),tn.copy(cn),ft.update()}function Zn(jn){Mn.set(jn.clientX,jn.clientY),Tn.subVectors(Mn,xn),Tn.y>0?sr(bn()):Tn.y<0&&Un(bn()),xn.copy(Mn),ft.update()}function tr(jn){dn.set(jn.clientX,jn.clientY),mn.subVectors(dn,ln).multiplyScalar(ft.panSpeed),Xn(mn.x,mn.y),ln.copy(dn),ft.update()}function Hn(jn){jn.deltaY<0?Un(bn()):jn.deltaY>0&&sr(bn()),ft.update()}function dr(jn){let gr=!1;switch(jn.code){case ft.keys.UP:Xn(0,ft.keyPanSpeed),gr=!0;break;case ft.keys.BOTTOM:Xn(0,-ft.keyPanSpeed),gr=!0;break;case ft.keys.LEFT:Xn(ft.keyPanSpeed,0),gr=!0;break;case ft.keys.RIGHT:Xn(-ft.keyPanSpeed,0),gr=!0;break}gr&&(jn.preventDefault(),ft.update())}function nr(){if(vn.length==1)tn.set(vn[0].pageX,vn[0].pageY);else{const jn=.5*(vn[0].pageX+vn[1].pageX),gr=.5*(vn[0].pageY+vn[1].pageY);tn.set(jn,gr)}}function hr(){if(vn.length==1)ln.set(vn[0].pageX,vn[0].pageY);else{const jn=.5*(vn[0].pageX+vn[1].pageX),gr=.5*(vn[0].pageY+vn[1].pageY);ln.set(jn,gr)}}function Pr(){const jn=vn[0].pageX-vn[1].pageX,gr=vn[0].pageY-vn[1].pageY,Ar=Math.sqrt(jn*jn+gr*gr);xn.set(0,Ar)}function Vr(){ft.enableZoom&&Pr(),ft.enablePan&&hr()}function kr(){ft.enableZoom&&Pr(),ft.enableRotate&&nr()}function Zt(jn){if(vn.length==1)cn.set(jn.pageX,jn.pageY);else{const Ar=eo(jn),Rr=.5*(jn.pageX+Ar.x),Qr=.5*(jn.pageY+Ar.y);cn.set(Rr,Qr)}fn.subVectors(cn,tn).multiplyScalar(ft.rotateSpeed);const gr=ft.domElement;gr&&(In(2*Math.PI*fn.x/gr.clientHeight),On(2*Math.PI*fn.y/gr.clientHeight)),tn.copy(cn)}function ur(jn){if(vn.length==1)dn.set(jn.pageX,jn.pageY);else{const gr=eo(jn),Ar=.5*(jn.pageX+gr.x),Rr=.5*(jn.pageY+gr.y);dn.set(Ar,Rr)}mn.subVectors(dn,ln).multiplyScalar(ft.panSpeed),Xn(mn.x,mn.y),ln.copy(dn)}function Br(jn){const gr=eo(jn),Ar=jn.pageX-gr.x,Rr=jn.pageY-gr.y,Qr=Math.sqrt(Ar*Ar+Rr*Rr);Mn.set(0,Qr),Tn.set(0,Math.pow(Mn.y/xn.y,ft.zoomSpeed)),sr(Tn.y),xn.copy(Mn)}function zr(jn){ft.enableZoom&&Br(jn),ft.enablePan&&ur(jn)}function Dr(jn){ft.enableZoom&&Br(jn),ft.enableRotate&&Zt(jn)}function Jr(jn){if(ft.enabled!==!1){if(vn.length===0){var gr,Ar;(gr=ft.domElement)===null||gr===void 0||gr.ownerDocument.addEventListener("pointermove",xr),(Ar=ft.domElement)===null||Ar===void 0||Ar.ownerDocument.addEventListener("pointerup",jr)}Xr(jn),jn.pointerType==="touch"?yr(jn):Tr(jn)}}function xr(jn){ft.enabled!==!1&&(jn.pointerType==="touch"?Wr(jn):Bn(jn))}function jr(jn){if(Kr(jn),vn.length===0){var gr,Ar,Rr;(gr=ft.domElement)===null||gr===void 0||gr.releasePointerCapture(jn.pointerId),(Ar=ft.domElement)===null||Ar===void 0||Ar.ownerDocument.removeEventListener("pointermove",xr),(Rr=ft.domElement)===null||Rr===void 0||Rr.ownerDocument.removeEventListener("pointerup",jr)}ft.dispatchEvent(Tt),Rt=At.NONE}function qr(jn){Kr(jn)}function Tr(jn){let gr;switch(jn.button){case 0:gr=ft.mouseButtons.LEFT;break;case 1:gr=ft.mouseButtons.MIDDLE;break;case 2:gr=ft.mouseButtons.RIGHT;break;default:gr=-1}switch(gr){case MOUSE.DOLLY:if(ft.enableZoom===!1)return;Wn(jn),Rt=At.DOLLY;break;case MOUSE.ROTATE:if(jn.ctrlKey||jn.metaKey||jn.shiftKey){if(ft.enablePan===!1)return;$n(jn),Rt=At.PAN}else{if(ft.enableRotate===!1)return;Gn(jn),Rt=At.ROTATE}break;case MOUSE.PAN:if(jn.ctrlKey||jn.metaKey||jn.shiftKey){if(ft.enableRotate===!1)return;Gn(jn),Rt=At.ROTATE}else{if(ft.enablePan===!1)return;$n(jn),Rt=At.PAN}break;default:Rt=At.NONE}Rt!==At.NONE&&ft.dispatchEvent(s)}function Bn(jn){if(ft.enabled!==!1)switch(Rt){case At.ROTATE:if(ft.enableRotate===!1)return;zn(jn);break;case At.DOLLY:if(ft.enableZoom===!1)return;Zn(jn);break;case At.PAN:if(ft.enablePan===!1)return;tr(jn);break}}function Ln(jn){ft.enabled===!1||ft.enableZoom===!1||Rt!==At.NONE&&Rt!==At.ROTATE||(jn.preventDefault(),ft.dispatchEvent(s),Hn(jn),ft.dispatchEvent(Tt))}function Jn(jn){ft.enabled===!1||ft.enablePan===!1||dr(jn)}function yr(jn){switch(Cr(jn),vn.length){case 1:switch(ft.touches.ONE){case TOUCH.ROTATE:if(ft.enableRotate===!1)return;nr(),Rt=At.TOUCH_ROTATE;break;case TOUCH.PAN:if(ft.enablePan===!1)return;hr(),Rt=At.TOUCH_PAN;break;default:Rt=At.NONE}break;case 2:switch(ft.touches.TWO){case TOUCH.DOLLY_PAN:if(ft.enableZoom===!1&&ft.enablePan===!1)return;Vr(),Rt=At.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(ft.enableZoom===!1&&ft.enableRotate===!1)return;kr(),Rt=At.TOUCH_DOLLY_ROTATE;break;default:Rt=At.NONE}break;default:Rt=At.NONE}Rt!==At.NONE&&ft.dispatchEvent(s)}function Wr(jn){switch(Cr(jn),Rt){case At.TOUCH_ROTATE:if(ft.enableRotate===!1)return;Zt(jn),ft.update();break;case At.TOUCH_PAN:if(ft.enablePan===!1)return;ur(jn),ft.update();break;case At.TOUCH_DOLLY_PAN:if(ft.enableZoom===!1&&ft.enablePan===!1)return;zr(jn),ft.update();break;case At.TOUCH_DOLLY_ROTATE:if(ft.enableZoom===!1&&ft.enableRotate===!1)return;Dr(jn),ft.update();break;default:Rt=At.NONE}}function Yr(jn){ft.enabled!==!1&&jn.preventDefault()}function Xr(jn){vn.push(jn)}function Kr(jn){delete An[jn.pointerId];for(let gr=0;gr<vn.length;gr++)if(vn[gr].pointerId==jn.pointerId){vn.splice(gr,1);return}}function Cr(jn){let gr=An[jn.pointerId];gr===void 0&&(gr=new Vector2,An[jn.pointerId]=gr),gr.set(jn.pageX,jn.pageY)}function eo(jn){const gr=jn.pointerId===vn[0].pointerId?vn[1]:vn[0];return An[gr.pointerId]}$!==void 0&&this.connect($),this.update()}};function workerBootstrap(){var lt=Object.create(null);function e(vt,s){var Tt=vt.id,At=vt.name,Rt=vt.dependencies;Rt===void 0&&(Rt=[]);var Dt=vt.init;Dt===void 0&&(Dt=function(){});var Nt=vt.getTransferables;if(Nt===void 0&&(Nt=null),!lt[Tt])try{Rt=Rt.map(function(Ht){return Ht&&Ht.isWorkerModule&&(e(Ht,function(Kt){if(Kt instanceof Error)throw Kt}),Ht=lt[Ht.id].value),Ht}),Dt=ft("<"+At+">.init",Dt),Nt&&(Nt=ft("<"+At+">.getTransferables",Nt));var Wt=null;typeof Dt=="function"?Wt=Dt.apply(void 0,Rt):console.error("worker module init function failed to rehydrate"),lt[Tt]={id:Tt,value:Wt,getTransferables:Nt},s(Wt)}catch(Ht){Ht&&Ht.noLog||console.error(Ht),s(Ht)}}function $(vt,s){var Tt,At=vt.id,Rt=vt.args;(!lt[At]||typeof lt[At].value!="function")&&s(new Error("Worker module "+At+": not found or its 'init' did not return a function"));try{var Dt=(Tt=lt[At]).value.apply(Tt,Rt);Dt&&typeof Dt.then=="function"?Dt.then(Nt,function(Wt){return s(Wt instanceof Error?Wt:new Error(""+Wt))}):Nt(Dt)}catch(Wt){s(Wt)}function Nt(Wt){try{var Ht=lt[At].getTransferables&&lt[At].getTransferables(Wt);(!Ht||!Array.isArray(Ht)||!Ht.length)&&(Ht=void 0),s(Wt,Ht)}catch(Kt){console.error(Kt),s(Kt)}}}function ft(vt,s){var Tt=void 0;self.troikaDefine=function(Rt){return Tt=Rt};var At=URL.createObjectURL(new Blob(["/** "+vt.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(At)}catch(Rt){console.error(Rt)}return URL.revokeObjectURL(At),delete self.troikaDefine,Tt}self.addEventListener("message",function(vt){var s=vt.data,Tt=s.messageId,At=s.action,Rt=s.data;try{At==="registerModule"&&e(Rt,function(Dt){Dt instanceof Error?postMessage({messageId:Tt,success:!1,error:Dt.message}):postMessage({messageId:Tt,success:!0,result:{isCallable:typeof Dt=="function"}})}),At==="callModule"&&$(Rt,function(Dt,Nt){Dt instanceof Error?postMessage({messageId:Tt,success:!1,error:Dt.message}):postMessage({messageId:Tt,success:!0,result:Dt},Nt||void 0)})}catch(Dt){postMessage({messageId:Tt,success:!1,error:Dt.stack})}})}function defineMainThreadModule(lt){var e=function(){for(var $=[],ft=arguments.length;ft--;)$[ft]=arguments[ft];return e._getInitResult().then(function(vt){if(typeof vt=="function")return vt.apply(void 0,$);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var $=lt.dependencies,ft=lt.init;$=Array.isArray($)?$.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var vt=Promise.all($).then(function(s){return ft.apply(null,s)});return e._getInitResult=function(){return vt},vt},e}var supportsWorkers=function(){var lt=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),lt=!0}catch($){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+$.message+"]")}return supportsWorkers=function(){return lt},lt},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(lt){if((!lt||typeof lt.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var e=lt.dependencies,$=lt.init,ft=lt.getTransferables,vt=lt.workerId;if(!supportsWorkers())return defineMainThreadModule(lt);vt==null&&(vt="#default");var s="workerModule"+ ++_workerModuleId,Tt=lt.name||s,At=null;e=e&&e.map(function(Dt){return typeof Dt=="function"&&!Dt.workerModuleData&&(_allowInitAsString=!0,Dt=defineWorkerModule({workerId:vt,name:"<"+Tt+"> function dependency: "+Dt.name,init:`function(){return (
`+stringifyFunction(Dt)+`
)}`}),_allowInitAsString=!1),Dt&&Dt.workerModuleData&&(Dt=Dt.workerModuleData),Dt});function Rt(){for(var Dt=[],Nt=arguments.length;Nt--;)Dt[Nt]=arguments[Nt];if(!At){At=callWorker(vt,"registerModule",Rt.workerModuleData);var Wt=function(){At=null,registeredModules[vt].delete(Wt)};(registeredModules[vt]||(registeredModules[vt]=new Set)).add(Wt)}return At.then(function(Ht){var Kt=Ht.isCallable;if(Kt)return callWorker(vt,"callModule",{id:s,args:Dt});throw new Error("Worker module function was called but `init` did not return a callable function")})}return Rt.workerModuleData={isWorkerModule:!0,id:s,name:Tt,dependencies:e,init:stringifyFunction($),getTransferables:ft&&stringifyFunction(ft)},Rt}function terminateWorker(lt){registeredModules[lt]&&registeredModules[lt].forEach(function(e){e()}),workers[lt]&&(workers[lt].terminate(),delete workers[lt])}function stringifyFunction(lt){var e=lt.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function getWorker(lt){var e=workers[lt];if(!e){var $=stringifyFunction(workerBootstrap);e=workers[lt]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+lt.replace(/\*/g,"")+` **/

;(`+$+")()"],{type:"application/javascript"}))),e.onmessage=function(ft){var vt=ft.data,s=vt.messageId,Tt=openRequests[s];if(!Tt)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[s],Tt(vt)}}return e}function callWorker(lt,e,$){return new Promise(function(ft,vt){var s=++_messageId;openRequests[s]=function(Tt){Tt.success?ft(Tt.result):vt(new Error("Error in worker "+e+" call: "+Tt.error))},getWorker(lt).postMessage({messageId:s,action:e,data:$})})}function SDFGenerator(){var lt=function(e){function $(Gn,Wn,$n,zn,Zn,tr,Hn,dr){var nr=1-Hn;dr.x=nr*nr*Gn+2*nr*Hn*$n+Hn*Hn*Zn,dr.y=nr*nr*Wn+2*nr*Hn*zn+Hn*Hn*tr}function ft(Gn,Wn,$n,zn,Zn,tr,Hn,dr,nr,hr){var Pr=1-nr;hr.x=Pr*Pr*Pr*Gn+3*Pr*Pr*nr*$n+3*Pr*nr*nr*Zn+nr*nr*nr*Hn,hr.y=Pr*Pr*Pr*Wn+3*Pr*Pr*nr*zn+3*Pr*nr*nr*tr+nr*nr*nr*dr}function vt(Gn,Wn){for(var $n=/([MLQCZ])([^MLQCZ]*)/g,zn,Zn,tr,Hn,dr;zn=$n.exec(Gn);){var nr=zn[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(hr){return parseFloat(hr)});switch(zn[1]){case"M":Hn=Zn=nr[0],dr=tr=nr[1];break;case"L":(nr[0]!==Hn||nr[1]!==dr)&&Wn("L",Hn,dr,Hn=nr[0],dr=nr[1]);break;case"Q":{Wn("Q",Hn,dr,Hn=nr[2],dr=nr[3],nr[0],nr[1]);break}case"C":{Wn("C",Hn,dr,Hn=nr[4],dr=nr[5],nr[0],nr[1],nr[2],nr[3]);break}case"Z":(Hn!==Zn||dr!==tr)&&Wn("L",Hn,dr,Zn,tr);break}}}function s(Gn,Wn,$n){$n===void 0&&($n=16);var zn={x:0,y:0};vt(Gn,function(Zn,tr,Hn,dr,nr,hr,Pr,Vr,kr){switch(Zn){case"L":Wn(tr,Hn,dr,nr);break;case"Q":{for(var Zt=tr,ur=Hn,Br=1;Br<$n;Br++)$(tr,Hn,hr,Pr,dr,nr,Br/($n-1),zn),Wn(Zt,ur,zn.x,zn.y),Zt=zn.x,ur=zn.y;break}case"C":{for(var zr=tr,Dr=Hn,Jr=1;Jr<$n;Jr++)ft(tr,Hn,hr,Pr,Vr,kr,dr,nr,Jr/($n-1),zn),Wn(zr,Dr,zn.x,zn.y),zr=zn.x,Dr=zn.y;break}}})}var Tt="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",At="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",Rt=new WeakMap,Dt={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function Nt(Gn,Wn){var $n=Gn.getContext?Gn.getContext("webgl",Dt):Gn,zn=Rt.get($n);if(!zn){let zr=function(Tr){var Bn=tr[Tr];if(!Bn&&(Bn=tr[Tr]=$n.getExtension(Tr),!Bn))throw new Error(Tr+" not supported");return Bn},Dr=function(Tr,Bn){var Ln=$n.createShader(Bn);return $n.shaderSource(Ln,Tr),$n.compileShader(Ln),Ln},Jr=function(Tr,Bn,Ln,Jn){if(!Hn[Tr]){var yr={},Wr={},Yr=$n.createProgram();$n.attachShader(Yr,Dr(Bn,$n.VERTEX_SHADER)),$n.attachShader(Yr,Dr(Ln,$n.FRAGMENT_SHADER)),$n.linkProgram(Yr),Hn[Tr]={program:Yr,transaction:function(Kr){$n.useProgram(Yr),Kr({setUniform:function(eo,jn){for(var gr=[],Ar=arguments.length-2;Ar-- >0;)gr[Ar]=arguments[Ar+2];var Rr=Wr[jn]||(Wr[jn]=$n.getUniformLocation(Yr,jn));$n["uniform"+eo].apply($n,[Rr].concat(gr))},setAttribute:function(eo,jn,gr,Ar,Rr){var Qr=yr[eo];Qr||(Qr=yr[eo]={buf:$n.createBuffer(),loc:$n.getAttribLocation(Yr,eo),data:null}),$n.bindBuffer($n.ARRAY_BUFFER,Qr.buf),$n.vertexAttribPointer(Qr.loc,jn,$n.FLOAT,!1,0,0),$n.enableVertexAttribArray(Qr.loc),Zn?$n.vertexAttribDivisor(Qr.loc,Ar):zr("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Qr.loc,Ar),Rr!==Qr.data&&($n.bufferData($n.ARRAY_BUFFER,Rr,gr),Qr.data=Rr)}})}}}Hn[Tr].transaction(Jn)},xr=function(Tr,Bn){nr++;try{$n.activeTexture($n.TEXTURE0+nr);var Ln=dr[Tr];Ln||(Ln=dr[Tr]=$n.createTexture(),$n.bindTexture($n.TEXTURE_2D,Ln),$n.texParameteri($n.TEXTURE_2D,$n.TEXTURE_MIN_FILTER,$n.NEAREST),$n.texParameteri($n.TEXTURE_2D,$n.TEXTURE_MAG_FILTER,$n.NEAREST)),$n.bindTexture($n.TEXTURE_2D,Ln),Bn(Ln,nr)}finally{nr--}},jr=function(Tr,Bn,Ln){var Jn=$n.createFramebuffer();hr.push(Jn),$n.bindFramebuffer($n.FRAMEBUFFER,Jn),$n.activeTexture($n.TEXTURE0+Bn),$n.bindTexture($n.TEXTURE_2D,Tr),$n.framebufferTexture2D($n.FRAMEBUFFER,$n.COLOR_ATTACHMENT0,$n.TEXTURE_2D,Tr,0);try{Ln(Jn)}finally{$n.deleteFramebuffer(Jn),$n.bindFramebuffer($n.FRAMEBUFFER,hr[--hr.length-1]||null)}},qr=function(){tr={},Hn={},dr={},nr=-1,hr.length=0};var Pr=zr,Vr=Dr,kr=Jr,Zt=xr,ur=jr,Br=qr,Zn=typeof WebGL2RenderingContext<"u"&&$n instanceof WebGL2RenderingContext,tr={},Hn={},dr={},nr=-1,hr=[];$n.canvas.addEventListener("webglcontextlost",function(Tr){qr(),Tr.preventDefault()},!1),Rt.set($n,zn={gl:$n,isWebGL2:Zn,getExtension:zr,withProgram:Jr,withTexture:xr,withTextureFramebuffer:jr,handleContextLoss:qr})}Wn(zn)}function Wt(Gn,Wn,$n,zn,Zn,tr,Hn,dr){Hn===void 0&&(Hn=15),dr===void 0&&(dr=null),Nt(Gn,function(nr){var hr=nr.gl,Pr=nr.withProgram,Vr=nr.withTexture;Vr("copy",function(kr,Zt){hr.texImage2D(hr.TEXTURE_2D,0,hr.RGBA,Zn,tr,0,hr.RGBA,hr.UNSIGNED_BYTE,Wn),Pr("copy",Tt,At,function(ur){var Br=ur.setUniform,zr=ur.setAttribute;zr("aUV",2,hr.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Br("1i","image",Zt),hr.bindFramebuffer(hr.FRAMEBUFFER,dr||null),hr.disable(hr.BLEND),hr.colorMask(Hn&8,Hn&4,Hn&2,Hn&1),hr.viewport($n,zn,Zn,tr),hr.scissor($n,zn,Zn,tr),hr.drawArrays(hr.TRIANGLES,0,3)})})})}function Ht(Gn,Wn,$n){var zn=Gn.width,Zn=Gn.height;Nt(Gn,function(tr){var Hn=tr.gl,dr=new Uint8Array(zn*Zn*4);Hn.readPixels(0,0,zn,Zn,Hn.RGBA,Hn.UNSIGNED_BYTE,dr),Gn.width=Wn,Gn.height=$n,Wt(Hn,dr,0,0,zn,Zn)})}var Kt=Object.freeze({__proto__:null,withWebGLContext:Nt,renderImageData:Wt,resizeWebGLCanvasWithoutClearing:Ht});function Ft(Gn,Wn,$n,zn,Zn,tr){tr===void 0&&(tr=1);var Hn=new Uint8Array(Gn*Wn),dr=zn[2]-zn[0],nr=zn[3]-zn[1],hr=[];s($n,function(zr,Dr,Jr,xr){hr.push({x1:zr,y1:Dr,x2:Jr,y2:xr,minX:Math.min(zr,Jr),minY:Math.min(Dr,xr),maxX:Math.max(zr,Jr),maxY:Math.max(Dr,xr)})}),hr.sort(function(zr,Dr){return zr.maxX-Dr.maxX});for(var Pr=0;Pr<Gn;Pr++)for(var Vr=0;Vr<Wn;Vr++){var kr=ur(zn[0]+dr*(Pr+.5)/Gn,zn[1]+nr*(Vr+.5)/Wn),Zt=Math.pow(1-Math.abs(kr)/Zn,tr)/2;kr<0&&(Zt=1-Zt),Zt=Math.max(0,Math.min(255,Math.round(Zt*255))),Hn[Vr*Gn+Pr]=Zt}return Hn;function ur(zr,Dr){for(var Jr=1/0,xr=1/0,jr=hr.length;jr--;){var qr=hr[jr];if(qr.maxX+xr<=zr)break;if(zr+xr>qr.minX&&Dr-xr<qr.maxY&&Dr+xr>qr.minY){var Tr=fn(zr,Dr,qr.x1,qr.y1,qr.x2,qr.y2);Tr<Jr&&(Jr=Tr,xr=Math.sqrt(Jr))}}return Br(zr,Dr)&&(xr=-xr),xr}function Br(zr,Dr){for(var Jr=0,xr=hr.length;xr--;){var jr=hr[xr];if(jr.maxX<=zr)break;var qr=jr.y1>Dr!=jr.y2>Dr&&zr<(jr.x2-jr.x1)*(Dr-jr.y1)/(jr.y2-jr.y1)+jr.x1;qr&&(Jr+=jr.y1<jr.y2?1:-1)}return Jr!==0}}function tn(Gn,Wn,$n,zn,Zn,tr,Hn,dr,nr,hr){tr===void 0&&(tr=1),dr===void 0&&(dr=0),nr===void 0&&(nr=0),hr===void 0&&(hr=0),cn(Gn,Wn,$n,zn,Zn,tr,Hn,null,dr,nr,hr)}function cn(Gn,Wn,$n,zn,Zn,tr,Hn,dr,nr,hr,Pr){tr===void 0&&(tr=1),nr===void 0&&(nr=0),hr===void 0&&(hr=0),Pr===void 0&&(Pr=0);for(var Vr=Ft(Gn,Wn,$n,zn,Zn,tr),kr=new Uint8Array(Vr.length*4),Zt=0;Zt<Vr.length;Zt++)kr[Zt*4+Pr]=Vr[Zt];Wt(Hn,kr,nr,hr,Gn,Wn,1<<3-Pr,dr)}function fn(Gn,Wn,$n,zn,Zn,tr){var Hn=Zn-$n,dr=tr-zn,nr=Hn*Hn+dr*dr,hr=nr?Math.max(0,Math.min(1,((Gn-$n)*Hn+(Wn-zn)*dr)/nr)):0,Pr=Gn-($n+hr*Hn),Vr=Wn-(zn+hr*dr);return Pr*Pr+Vr*Vr}var ln=Object.freeze({__proto__:null,generate:Ft,generateIntoCanvas:tn,generateIntoFramebuffer:cn}),dn="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",mn="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",xn="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",Mn=new Float32Array([0,0,2,0,0,2]),Tn=null,vn=!1,An={},Pn=new WeakMap;function bn(Gn){if(!vn&&!Yn(Gn))throw new Error("WebGL generation not supported")}function In(Gn,Wn,$n,zn,Zn,tr,Hn){if(tr===void 0&&(tr=1),Hn===void 0&&(Hn=null),!Hn&&(Hn=Tn,!Hn)){var dr=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!dr)throw new Error("OffscreenCanvas or DOM canvas not supported");Hn=Tn=dr.getContext("webgl",{depth:!1})}bn(Hn);var nr=new Uint8Array(Gn*Wn*4);Nt(Hn,function(kr){var Zt=kr.gl,ur=kr.withTexture,Br=kr.withTextureFramebuffer;ur("readable",function(zr,Dr){Zt.texImage2D(Zt.TEXTURE_2D,0,Zt.RGBA,Gn,Wn,0,Zt.RGBA,Zt.UNSIGNED_BYTE,null),Br(zr,Dr,function(Jr){Nn(Gn,Wn,$n,zn,Zn,tr,Zt,Jr,0,0,0),Zt.readPixels(0,0,Gn,Wn,Zt.RGBA,Zt.UNSIGNED_BYTE,nr)})})});for(var hr=new Uint8Array(Gn*Wn),Pr=0,Vr=0;Pr<nr.length;Pr+=4)hr[Vr++]=nr[Pr];return hr}function On(Gn,Wn,$n,zn,Zn,tr,Hn,dr,nr,hr){tr===void 0&&(tr=1),dr===void 0&&(dr=0),nr===void 0&&(nr=0),hr===void 0&&(hr=0),Nn(Gn,Wn,$n,zn,Zn,tr,Hn,null,dr,nr,hr)}function Nn(Gn,Wn,$n,zn,Zn,tr,Hn,dr,nr,hr,Pr){tr===void 0&&(tr=1),nr===void 0&&(nr=0),hr===void 0&&(hr=0),Pr===void 0&&(Pr=0),bn(Hn);var Vr=[];s($n,function(kr,Zt,ur,Br){Vr.push(kr,Zt,ur,Br)}),Vr=new Float32Array(Vr),Nt(Hn,function(kr){var Zt=kr.gl,ur=kr.isWebGL2,Br=kr.getExtension,zr=kr.withProgram,Dr=kr.withTexture,Jr=kr.withTextureFramebuffer,xr=kr.handleContextLoss;if(Dr("rawDistances",function(jr,qr){(Gn!==jr._lastWidth||Wn!==jr._lastHeight)&&Zt.texImage2D(Zt.TEXTURE_2D,0,Zt.RGBA,jr._lastWidth=Gn,jr._lastHeight=Wn,0,Zt.RGBA,Zt.UNSIGNED_BYTE,null),zr("main",dn,mn,function(Tr){var Bn=Tr.setAttribute,Ln=Tr.setUniform,Jn=!ur&&Br("ANGLE_instanced_arrays"),yr=!ur&&Br("EXT_blend_minmax");Bn("aUV",2,Zt.STATIC_DRAW,0,Mn),Bn("aLineSegment",4,Zt.DYNAMIC_DRAW,1,Vr),Ln.apply(void 0,["4f","uGlyphBounds"].concat(zn)),Ln("1f","uMaxDistance",Zn),Ln("1f","uExponent",tr),Jr(jr,qr,function(Wr){Zt.enable(Zt.BLEND),Zt.colorMask(!0,!0,!0,!0),Zt.viewport(0,0,Gn,Wn),Zt.scissor(0,0,Gn,Wn),Zt.blendFunc(Zt.ONE,Zt.ONE),Zt.blendEquationSeparate(Zt.FUNC_ADD,ur?Zt.MAX:yr.MAX_EXT),Zt.clear(Zt.COLOR_BUFFER_BIT),ur?Zt.drawArraysInstanced(Zt.TRIANGLES,0,3,Vr.length/4):Jn.drawArraysInstancedANGLE(Zt.TRIANGLES,0,3,Vr.length/4)})}),zr("post",Tt,xn,function(Tr){Tr.setAttribute("aUV",2,Zt.STATIC_DRAW,0,Mn),Tr.setUniform("1i","tex",qr),Zt.bindFramebuffer(Zt.FRAMEBUFFER,dr),Zt.disable(Zt.BLEND),Zt.colorMask(Pr===0,Pr===1,Pr===2,Pr===3),Zt.viewport(nr,hr,Gn,Wn),Zt.scissor(nr,hr,Gn,Wn),Zt.drawArrays(Zt.TRIANGLES,0,3)})}),Zt.isContextLost())throw xr(),new Error("webgl context lost")})}function Yn(Gn){var Wn=!Gn||Gn===Tn?An:Gn.canvas||Gn,$n=Pn.get(Wn);if($n===void 0){vn=!0;var zn=null;try{var Zn=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],tr=In(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,Gn);$n=tr&&Zn.length===tr.length&&tr.every(function(Hn,dr){return Hn===Zn[dr]}),$n||(zn="bad trial run results",console.info(Zn,tr))}catch(Hn){$n=!1,zn=Hn.message}zn&&console.warn("WebGL SDF generation not supported:",zn),vn=!1,Pn.set(Wn,$n)}return $n}var Xn=Object.freeze({__proto__:null,generate:In,generateIntoCanvas:On,generateIntoFramebuffer:Nn,isSupported:Yn});function sr(Gn,Wn,$n,zn,Zn,tr){Zn===void 0&&(Zn=Math.max(zn[2]-zn[0],zn[3]-zn[1])/2),tr===void 0&&(tr=1);try{return In.apply(Xn,arguments)}catch(Hn){return console.info("WebGL SDF generation failed, falling back to JS",Hn),Ft.apply(ln,arguments)}}function Un(Gn,Wn,$n,zn,Zn,tr,Hn,dr,nr,hr){Zn===void 0&&(Zn=Math.max(zn[2]-zn[0],zn[3]-zn[1])/2),tr===void 0&&(tr=1),dr===void 0&&(dr=0),nr===void 0&&(nr=0),hr===void 0&&(hr=0);try{return On.apply(Xn,arguments)}catch(Pr){return console.info("WebGL SDF generation failed, falling back to JS",Pr),tn.apply(ln,arguments)}}return e.forEachPathCommand=vt,e.generate=sr,e.generateIntoCanvas=Un,e.javascript=ln,e.pathToLineSegments=s,e.webgl=Xn,e.webglUtils=Kt,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return lt}function bidiFactory(){var lt=function(e){var $={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},ft={},vt={};ft.L=1,vt[1]="L",Object.keys($).forEach(function(xr,jr){ft[xr]=1<<jr+1,vt[ft[xr]]=xr}),Object.freeze(ft);var s=ft.LRI|ft.RLI|ft.FSI,Tt=ft.L|ft.R|ft.AL,At=ft.B|ft.S|ft.WS|ft.ON|ft.FSI|ft.LRI|ft.RLI|ft.PDI,Rt=ft.BN|ft.RLE|ft.LRE|ft.RLO|ft.LRO|ft.PDF,Dt=ft.S|ft.WS|ft.B|s|ft.PDI|Rt,Nt=null;function Wt(){if(!Nt){Nt=new Map;var xr=function(qr){if($.hasOwnProperty(qr)){var Tr=0;$[qr].split(",").forEach(function(Bn){var Ln=Bn.split("+"),Jn=Ln[0],yr=Ln[1];Jn=parseInt(Jn,36),yr=yr?parseInt(yr,36):0,Nt.set(Tr+=Jn,ft[qr]);for(var Wr=0;Wr<yr;Wr++)Nt.set(++Tr,ft[qr])})}};for(var jr in $)xr(jr)}}function Ht(xr){return Wt(),Nt.get(xr.codePointAt(0))||ft.L}function Kt(xr){return vt[Ht(xr)]}var Ft={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function tn(xr,jr){var qr=36,Tr=0,Bn=new Map,Ln=jr&&new Map,Jn;return xr.split(",").forEach(function yr(Wr){if(Wr.indexOf("+")!==-1)for(var Yr=+Wr;Yr--;)yr(Jn);else{Jn=Wr;var Xr=Wr.split(">"),Kr=Xr[0],Cr=Xr[1];Kr=String.fromCodePoint(Tr+=parseInt(Kr,qr)),Cr=String.fromCodePoint(Tr+=parseInt(Cr,qr)),Bn.set(Kr,Cr),jr&&Ln.set(Cr,Kr)}}),{map:Bn,reverseMap:Ln}}var cn,fn,ln;function dn(){if(!cn){var xr=tn(Ft.pairs,!0),jr=xr.map,qr=xr.reverseMap;cn=jr,fn=qr,ln=tn(Ft.canonical,!1).map}}function mn(xr){return dn(),cn.get(xr)||null}function xn(xr){return dn(),fn.get(xr)||null}function Mn(xr){return dn(),ln.get(xr)||null}var Tn=ft.L,vn=ft.R,An=ft.EN,Pn=ft.ES,bn=ft.ET,In=ft.AN,On=ft.CS,Nn=ft.B,Yn=ft.S,Xn=ft.ON,sr=ft.BN,Un=ft.NSM,Gn=ft.AL,Wn=ft.LRO,$n=ft.RLO,zn=ft.LRE,Zn=ft.RLE,tr=ft.PDF,Hn=ft.LRI,dr=ft.RLI,nr=ft.FSI,hr=ft.PDI;function Pr(xr,jr){for(var qr=125,Tr=new Uint32Array(xr.length),Bn=0;Bn<xr.length;Bn++)Tr[Bn]=Ht(xr[Bn]);var Ln=new Map;function Jn(bs,$s){var ds=Tr[bs];Tr[bs]=$s,Ln.set(ds,Ln.get(ds)-1),ds&At&&Ln.set(At,Ln.get(At)-1),Ln.set($s,(Ln.get($s)||0)+1),$s&At&&Ln.set(At,(Ln.get(At)||0)+1)}for(var yr=new Uint8Array(xr.length),Wr=new Map,Yr=[],Xr=null,Kr=0;Kr<xr.length;Kr++)Xr||Yr.push(Xr={start:Kr,end:xr.length-1,level:jr==="rtl"?1:jr==="ltr"?0:Sp(Kr,!1)}),Tr[Kr]&Nn&&(Xr.end=Kr,Xr=null);for(var Cr=Zn|zn|$n|Wn|s|hr|tr|Nn,eo=function(bs){return bs+(bs&1?1:2)},jn=function(bs){return bs+(bs&1?2:1)},gr=0;gr<Yr.length;gr++){Xr=Yr[gr];var Ar=[{_level:Xr.level,_override:0,_isolate:0}],Rr=void 0,Qr=0,po=0,_o=0;Ln.clear();for(var qn=Xr.start;qn<=Xr.end;qn++){var mr=Tr[qn];if(Rr=Ar[Ar.length-1],Ln.set(mr,(Ln.get(mr)||0)+1),mr&At&&Ln.set(At,(Ln.get(At)||0)+1),mr&Cr)if(mr&(Zn|zn)){yr[qn]=Rr._level;var Nr=(mr===Zn?jn:eo)(Rr._level);Nr<=qr&&!Qr&&!po?Ar.push({_level:Nr,_override:0,_isolate:0}):Qr||po++}else if(mr&($n|Wn)){yr[qn]=Rr._level;var to=(mr===$n?jn:eo)(Rr._level);to<=qr&&!Qr&&!po?Ar.push({_level:to,_override:mr&$n?vn:Tn,_isolate:0}):Qr||po++}else if(mr&s){mr&nr&&(mr=Sp(qn+1,!0)===1?dr:Hn),yr[qn]=Rr._level,Rr._override&&Jn(qn,Rr._override);var oo=(mr===dr?jn:eo)(Rr._level);oo<=qr&&Qr===0&&po===0?(_o++,Ar.push({_level:oo,_override:0,_isolate:1,_isolInitIndex:qn})):Qr++}else if(mr&hr){if(Qr>0)Qr--;else if(_o>0){for(po=0;!Ar[Ar.length-1]._isolate;)Ar.pop();var Vo=Ar[Ar.length-1]._isolInitIndex;Vo!=null&&(Wr.set(Vo,qn),Wr.set(qn,Vo)),Ar.pop(),_o--}Rr=Ar[Ar.length-1],yr[qn]=Rr._level,Rr._override&&Jn(qn,Rr._override)}else mr&tr?(Qr===0&&(po>0?po--:!Rr._isolate&&Ar.length>1&&(Ar.pop(),Rr=Ar[Ar.length-1])),yr[qn]=Rr._level):mr&Nn&&(yr[qn]=Xr.level);else yr[qn]=Rr._level,Rr._override&&mr!==sr&&Jn(qn,Rr._override)}for(var qo=[],Yo=null,Fo=Xr.start;Fo<=Xr.end;Fo++){var Zo=Tr[Fo];if(!(Zo&Rt)){var Uo=yr[Fo],No=Zo&s,ws=Zo===hr;Yo&&Uo===Yo._level?(Yo._end=Fo,Yo._endsWithIsolInit=No):qo.push(Yo={_start:Fo,_end:Fo,_level:Uo,_startsWithPDI:ws,_endsWithIsolInit:No})}}for(var Ls=[],rs=0;rs<qo.length;rs++){var Dn=qo[rs];if(!Dn._startsWithPDI||Dn._startsWithPDI&&!Wr.has(Dn._start)){for(var pr=[Yo=Dn],Sr=void 0;Yo&&Yo._endsWithIsolInit&&(Sr=Wr.get(Yo._end))!=null;)for(var ar=rs+1;ar<qo.length;ar++)if(qo[ar]._start===Sr){pr.push(Yo=qo[ar]);break}for(var br=[],yo=0;yo<pr.length;yo++)for(var wo=pr[yo],Io=wo._start;Io<=wo._end;Io++)br.push(Io);for(var zo=yr[br[0]],Qo=Xr.level,Ho=br[0]-1;Ho>=0;Ho--)if(!(Tr[Ho]&Rt)){Qo=yr[Ho];break}var Xo=br[br.length-1],go=yr[Xo],Gs=Xr.level;if(!(Tr[Xo]&s)){for(var Ks=Xo+1;Ks<=Xr.end;Ks++)if(!(Tr[Ks]&Rt)){Gs=yr[Ks];break}}Ls.push({_seqIndices:br,_sosType:Math.max(Qo,zo)%2?vn:Tn,_eosType:Math.max(Gs,go)%2?vn:Tn})}}for(var Xl=0;Xl<Ls.length;Xl++){var gs=Ls[Xl],Zr=gs._seqIndices,Dl=gs._sosType,_s=gs._eosType;if(Ln.get(Un))for(var Us=0;Us<Zr.length;Us++){var h0=Zr[Us];if(Tr[h0]&Un){for(var Ol=Dl,Ml=Us-1;Ml>=0;Ml--)if(!(Tr[Zr[Ml]]&Rt)){Ol=Tr[Zr[Ml]];break}Jn(h0,Ol&(s|hr)?Xn:Ol)}}if(Ln.get(An))for(var us=0;us<Zr.length;us++){var os=Zr[us];if(Tr[os]&An)for(var ss=us-1;ss>=-1;ss--){var ps=ss===-1?Dl:Tr[Zr[ss]];if(ps&Tt){ps===Gn&&Jn(os,In);break}}}if(Ln.get(Gn))for(var Ms=0;Ms<Zr.length;Ms++){var Hr=Zr[Ms];Tr[Hr]&Gn&&Jn(Hr,vn)}if(Ln.get(Pn)||Ln.get(On))for(var Zs=1;Zs<Zr.length-1;Zs++){var bu=Zr[Zs];if(Tr[bu]&(Pn|On)){for(var Cs=0,p0=0,mp=Zs-1;mp>=0&&(Cs=Tr[Zr[mp]],!!(Cs&Rt));mp--);for(var gp=Zs+1;gp<Zr.length&&(p0=Tr[Zr[gp]],!!(p0&Rt));gp++);Cs===p0&&(Tr[bu]===Pn?Cs===An:Cs&(An|In))&&Jn(bu,Cs)}}if(Ln.get(An))for(var Iu=0;Iu<Zr.length;Iu++){var O1=Zr[Iu];if(Tr[O1]&An){for(var Qs=Iu-1;Qs>=0&&Tr[Zr[Qs]]&(bn|Rt);Qs--)Jn(Zr[Qs],An);for(var ro=Iu+1;ro<Zr.length&&Tr[Zr[ro]]&(bn|Rt);ro++)Jn(Zr[ro],An)}}if(Ln.get(bn)||Ln.get(Pn)||Ln.get(On))for(var Rs=0;Rs<Zr.length;Rs++){var t1=Zr[Rs];if(Tr[t1]&(bn|Pn|On)){Jn(t1,Xn);for(var _u=Rs-1;_u>=0&&Tr[Zr[_u]]&Rt;_u--)Jn(Zr[_u],Xn);for(var Qu=Rs+1;Qu<Zr.length&&Tr[Zr[Qu]]&Rt;Qu++)Jn(Zr[Qu],Xn)}}if(Ln.get(An))for(var Du=0,D0=Dl;Du<Zr.length;Du++){var F1=Zr[Du],vp=Tr[F1];vp&An?D0===Tn&&Jn(F1,Tn):vp&Tt&&(D0=vp)}if(Ln.get(At)){var Ws=vn|An|In,Fl=Ws|Tn,yu=[];{for(var m0=[],Ou=0;Ou<Zr.length;Ou++)if(Tr[Zr[Ou]]&At){var Lo=xr[Zr[Ou]],n1=void 0;if(mn(Lo)!==null)if(m0.length<63)m0.push({char:Lo,seqIndex:Ou});else break;else if((n1=xn(Lo))!==null)for(var Ju=m0.length-1;Ju>=0;Ju--){var _p=m0[Ju].char;if(_p===n1||_p===xn(Mn(Lo))||mn(Mn(_p))===Lo){yu.push([m0[Ju].seqIndex,Ou]),m0.length=Ju;break}}}yu.sort(function(bs,$s){return bs[0]-$s[0]})}for(var r1=0;r1<yu.length;r1++){for(var i1=yu[r1],ys=i1[0],Fu=i1[1],N1=!1,Co=0,o1=ys+1;o1<Fu;o1++){var g0=Zr[o1];if(Tr[g0]&Fl){N1=!0;var Kl=Tr[g0]&Ws?vn:Tn;if(Kl===Bu(g0)){Co=Kl;break}}}if(N1&&!Co){Co=Dl;for(var s1=ys-1;s1>=0;s1--){var yp=Zr[s1];if(Tr[yp]&Fl){var Zl=Tr[yp]&Ws?vn:Tn;Zl!==Bu(yp)?Co=Zl:Co=Bu(yp);break}}}if(Co){if(Tr[Zr[ys]]=Tr[Zr[Fu]]=Co,Co!==Bu(Zr[ys])){for(var El=ys+1;El<Zr.length;El++)if(!(Tr[Zr[El]]&Rt)){Ht(xr[Zr[El]])&Un&&(Tr[Zr[El]]=Co);break}}if(Co!==Bu(Zr[Fu])){for(var Nu=Fu+1;Nu<Zr.length;Nu++)if(!(Tr[Zr[Nu]]&Rt)){Ht(xr[Zr[Nu]])&Un&&(Tr[Zr[Nu]]=Co);break}}}}for(var Ql=0;Ql<Zr.length;Ql++)if(Tr[Zr[Ql]]&At){for(var a1=Ql,l1=Ql,Nl=Dl,O0=Ql-1;O0>=0;O0--)if(Tr[Zr[O0]]&Rt)a1=O0;else{Nl=Tr[Zr[O0]]&Ws?vn:Tn;break}for(var F0=_s,N0=Ql+1;N0<Zr.length;N0++)if(Tr[Zr[N0]]&(At|Rt))l1=N0;else{F0=Tr[Zr[N0]]&Ws?vn:Tn;break}for(var Js=a1;Js<=l1;Js++)Tr[Zr[Js]]=Nl===F0?Nl:Bu(Zr[Js]);Ql=l1}}}for(var zs=Xr.start;zs<=Xr.end;zs++){var xp=yr[zs],xu=Tr[zs];if(xp&1?xu&(Tn|An|In)&&yr[zs]++:xu&vn?yr[zs]++:xu&(In|An)&&(yr[zs]+=2),xu&Rt&&(yr[zs]=zs===0?Xr.level:yr[zs-1]),zs===Xr.end||Ht(xr[zs])&(Yn|Nn))for(var v0=zs;v0>=0&&Ht(xr[v0])&Dt;v0--)yr[v0]=Xr.level}}return{levels:yr,paragraphs:Yr};function Sp(bs,$s){for(var ds=bs;ds<xr.length;ds++){var Fs=Tr[ds];if(Fs&(vn|Gn))return 1;if(Fs&(Nn|Tn)||$s&&Fs===hr)return 0;if(Fs&s){var Su=B1(ds);ds=Su===-1?xr.length:Su}}return 0}function B1(bs){for(var $s=1,ds=bs+1;ds<xr.length;ds++){var Fs=Tr[ds];if(Fs&Nn)break;if(Fs&hr){if(--$s===0)return ds}else Fs&s&&$s++}return-1}function Bu(bs){return yr[bs]&1?vn:Tn}}var Vr="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",kr;function Zt(){if(!kr){var xr=tn(Vr,!0),jr=xr.map,qr=xr.reverseMap;qr.forEach(function(Tr,Bn){jr.set(Bn,Tr)}),kr=jr}}function ur(xr){return Zt(),kr.get(xr)||null}function Br(xr,jr,qr,Tr){var Bn=xr.length;qr=Math.max(0,qr==null?0:+qr),Tr=Math.min(Bn-1,Tr==null?Bn-1:+Tr);for(var Ln=new Map,Jn=qr;Jn<=Tr;Jn++)if(jr[Jn]&1){var yr=ur(xr[Jn]);yr!==null&&Ln.set(Jn,yr)}return Ln}function zr(xr,jr,qr,Tr){var Bn=xr.length;qr=Math.max(0,qr==null?0:+qr),Tr=Math.min(Bn-1,Tr==null?Bn-1:+Tr);var Ln=[];return jr.paragraphs.forEach(function(Jn){var yr=Math.max(qr,Jn.start),Wr=Math.min(Tr,Jn.end);if(yr<Wr){for(var Yr=jr.levels.slice(yr,Wr+1),Xr=Wr;Xr>=yr&&Ht(xr[Xr])&Dt;Xr--)Yr[Xr]=Jn.level;for(var Kr=Jn.level,Cr=1/0,eo=0;eo<Yr.length;eo++){var jn=Yr[eo];jn>Kr&&(Kr=jn),jn<Cr&&(Cr=jn|1)}for(var gr=Kr;gr>=Cr;gr--)for(var Ar=0;Ar<Yr.length;Ar++)if(Yr[Ar]>=gr){for(var Rr=Ar;Ar+1<Yr.length&&Yr[Ar+1]>=gr;)Ar++;Ar>Rr&&Ln.push([Rr+qr,Ar+qr])}}}),Ln}function Dr(xr,jr,qr,Tr){var Bn=Jr(xr,jr,qr,Tr),Ln=[].concat(xr);return Bn.forEach(function(Jn,yr){Ln[yr]=(jr.levels[Jn]&1?ur(xr[Jn]):null)||xr[Jn]}),Ln.join("")}function Jr(xr,jr,qr,Tr){for(var Bn=zr(xr,jr,qr,Tr),Ln=[],Jn=0;Jn<xr.length;Jn++)Ln[Jn]=Jn;return Bn.forEach(function(yr){for(var Wr=yr[0],Yr=yr[1],Xr=Ln.slice(Wr,Yr+1),Kr=Xr.length;Kr--;)Ln[Yr-Kr]=Xr[Kr]}),Ln}return e.closingToOpeningBracket=xn,e.getBidiCharType=Ht,e.getBidiCharTypeName=Kt,e.getCanonicalBracket=Mn,e.getEmbeddingLevels=Pr,e.getMirroredCharacter=ur,e.getMirroredCharactersMap=Br,e.getReorderSegments=zr,e.getReorderedIndices=Jr,e.getReorderedString=Dr,e.openingToClosingBracket=mn,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return lt}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(lt){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function $(ft,vt){let s=ShaderChunk[vt];return s?expandShaderIncludes(s):ft}return lt.replace(e,$)}const _lut=[];for(let lt=0;lt<256;lt++)_lut[lt]=(lt<16?"0":"")+lt.toString(16);function generateUUID(){const lt=Math.random()*4294967295|0,e=Math.random()*4294967295|0,$=Math.random()*4294967295|0,ft=Math.random()*4294967295|0;return(_lut[lt&255]+_lut[lt>>8&255]+_lut[lt>>16&255]+_lut[lt>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[$&63|128]+_lut[$>>8&255]+"-"+_lut[$>>16&255]+_lut[$>>24&255]+_lut[ft&255]+_lut[ft>>8&255]+_lut[ft>>16&255]+_lut[ft>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let lt=arguments[0];for(let e=1,$=arguments.length;e<$;e++){let ft=arguments[e];if(ft)for(let vt in ft)ft.hasOwnProperty(vt)&&(lt[vt]=ft[vt])}return lt},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(lt,e){const $=getKeyForOptions(e);let ft=CONSTRUCTOR_CACHE.get(lt);if(ft||CONSTRUCTOR_CACHE.set(lt,ft=Object.create(null)),ft[$])return new ft[$];const vt=`_onBeforeCompile${$}`,s=function(Dt){lt.onBeforeCompile.call(this,Dt);const Nt=this.customProgramCacheKey()+"|"+Dt.vertexShader+"|"+Dt.fragmentShader;let Wt=SHADER_UPGRADE_CACHE[Nt];if(!Wt){const Ht=upgradeShaders(Dt,e,$);Wt=SHADER_UPGRADE_CACHE[Nt]=Ht}Dt.vertexShader=Wt.vertexShader,Dt.fragmentShader=Wt.fragmentShader,assign$1(Dt.uniforms,this.uniforms),e.timeUniform&&(Dt.uniforms[e.timeUniform]={get value(){return Date.now()-epoch}}),this[vt]&&this[vt](Dt)},Tt=function(){return At(e.chained?lt:lt.clone())},At=function(Dt){const Nt=Object.create(Dt,Rt);return Object.defineProperty(Nt,"baseMaterial",{value:lt}),Object.defineProperty(Nt,"id",{value:materialInstanceId++}),Nt.uuid=generateUUID(),Nt.uniforms=assign$1({},Dt.uniforms,e.uniforms),Nt.defines=assign$1({},Dt.defines,e.defines),Nt.defines[`TROIKA_DERIVED_MATERIAL_${$}`]="",Nt.extensions=assign$1({},Dt.extensions,e.extensions),Nt._listeners=void 0,Nt},Rt={constructor:{value:Tt},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return lt.customProgramCacheKey()+"|"+$}},onBeforeCompile:{get(){return s},set(Dt){this[vt]=Dt}},copy:{writable:!0,configurable:!0,value:function(Dt){return lt.copy.call(this,Dt),!lt.isShaderMaterial&&!lt.isDerivedMaterial&&(assign$1(this.extensions,Dt.extensions),assign$1(this.defines,Dt.defines),assign$1(this.uniforms,UniformsUtils.clone(Dt.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const Dt=new lt.constructor;return At(Dt).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let Dt=this._depthMaterial;return Dt||(Dt=this._depthMaterial=createDerivedMaterial(lt.isDerivedMaterial?lt.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),e),Dt.defines.IS_DEPTH_MATERIAL="",Dt.uniforms=this.uniforms),Dt}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let Dt=this._distanceMaterial;return Dt||(Dt=this._distanceMaterial=createDerivedMaterial(lt.isDerivedMaterial?lt.getDistanceMaterial():new MeshDistanceMaterial,e),Dt.defines.IS_DISTANCE_MATERIAL="",Dt.uniforms=this.uniforms),Dt}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:Dt,_distanceMaterial:Nt}=this;Dt&&Dt.dispose(),Nt&&Nt.dispose(),lt.dispose.call(this)}}};return ft[$]=Tt,new Tt}function upgradeShaders({vertexShader:lt,fragmentShader:e},$,ft){let{vertexDefs:vt,vertexMainIntro:s,vertexMainOutro:Tt,vertexTransform:At,fragmentDefs:Rt,fragmentMainIntro:Dt,fragmentMainOutro:Nt,fragmentColorTransform:Wt,customRewriter:Ht,timeUniform:Kt}=$;if(vt=vt||"",s=s||"",Tt=Tt||"",Rt=Rt||"",Dt=Dt||"",Nt=Nt||"",(At||Ht)&&(lt=expandShaderIncludes(lt)),(Wt||Ht)&&(e=e.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),e=expandShaderIncludes(e)),Ht){let Ft=Ht({vertexShader:lt,fragmentShader:e});lt=Ft.vertexShader,e=Ft.fragmentShader}if(Wt){let Ft=[];e=e.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,tn=>(Ft.push(tn),"")),Nt=`${Wt}
${Ft.join(`
`)}
${Nt}`}if(Kt){const Ft=`
uniform float ${Kt};
`;vt=Ft+vt,Rt=Ft+Rt}return At&&(lt=`vec3 troika_position_${ft};
vec3 troika_normal_${ft};
vec2 troika_uv_${ft};
${lt}
`,vt=`${vt}
void troikaVertexTransform${ft}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${At}
}
`,s=`
troika_position_${ft} = vec3(position);
troika_normal_${ft} = vec3(normal);
troika_uv_${ft} = vec2(uv);
troikaVertexTransform${ft}(troika_position_${ft}, troika_normal_${ft}, troika_uv_${ft});
${s}
`,lt=lt.replace(/\b(position|normal|uv)\b/g,(Ft,tn,cn,fn)=>/\battribute\s+vec[23]\s+$/.test(fn.substr(0,cn))?tn:`troika_${tn}_${ft}`)),lt=injectIntoShaderCode(lt,ft,vt,s,Tt),e=injectIntoShaderCode(e,ft,Rt,Dt,Nt),{vertexShader:lt,fragmentShader:e}}function injectIntoShaderCode(lt,e,$,ft,vt){return(ft||vt||$)&&(lt=lt.replace(voidMainRegExp,`
${$}
void troikaOrigMain${e}() {`),lt+=`
void main() {
  ${ft}
  troikaOrigMain${e}();
  ${vt}
}`),lt}function optionsJsonReplacer(lt,e){return lt==="uniforms"?void 0:typeof e=="function"?e.toString():e}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(lt){const e=JSON.stringify(lt,optionsJsonReplacer);let $=optionsHashesToIds.get(e);return $==null&&optionsHashesToIds.set(e,$=++_idCtr),$}function createTypesetter(lt,e,$){const{defaultFontURL:ft}=$,vt=Object.create(null),s=1/0,Tt=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,At="[^\\S\\u00A0]",Rt=new RegExp(`${At}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function Dt(ln,dn){function mn(){const xn=Mn=>{console.error(`Failure loading font ${ln}${ln===ft?"":"; trying fallback"}`,Mn),ln!==ft&&(ln=ft,mn())};try{const Mn=new XMLHttpRequest;Mn.open("get",ln,!0),Mn.responseType="arraybuffer",Mn.onload=function(){if(Mn.status>=400)xn(new Error(Mn.statusText));else if(Mn.status>0)try{const Tn=lt(Mn.response);dn(Tn)}catch(Tn){xn(Tn)}},Mn.onerror=xn,Mn.send()}catch(Mn){xn(Mn)}}mn()}function Nt(ln,dn){ln||(ln=ft);let mn=vt[ln];mn?mn.pending?mn.pending.push(dn):dn(mn):(vt[ln]={pending:[dn]},Dt(ln,xn=>{let Mn=vt[ln].pending;vt[ln]=xn,Mn.forEach(Tn=>Tn(xn))}))}function Wt({text:ln="",font:dn=ft,sdfGlyphSize:mn=64,fontSize:xn=1,letterSpacing:Mn=0,lineHeight:Tn="normal",maxWidth:vn=s,direction:An,textAlign:Pn="left",textIndent:bn=0,whiteSpace:In="normal",overflowWrap:On="normal",anchorX:Nn=0,anchorY:Yn=0,includeCaretPositions:Xn=!1,chunkedBoundsSize:sr=8192,colorRanges:Un=null},Gn,Wn=!1){const $n=tn(),zn={fontLoad:0,typesetting:0};ln.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),ln=ln.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),xn=+xn,Mn=+Mn,vn=+vn,Tn=Tn||"normal",bn=+bn,Nt(dn,Zn=>{const tr=isFinite(vn);let Hn=null,dr=null,nr=null,hr=null,Pr=null,Vr=null,kr=null,Zt=0,ur=0,Br=In!=="nowrap";const{ascender:zr,descender:Dr,unitsPerEm:Jr,lineGap:xr,capHeight:jr,xHeight:qr}=Zn;zn.fontLoad=tn()-$n;const Tr=tn(),Bn=xn/Jr;Tn==="normal"&&(Tn=(zr-Dr+xr)/Jr),Tn=Tn*xn;const Ln=(Tn-(zr-Dr)*Bn)/2,Jn=-(zr*Bn+Ln),yr=Math.min(Tn,(zr-Dr)*Bn),Wr=(zr+Dr)/2*Bn-yr/2;let Yr=bn,Xr=new cn;const Kr=[Xr];Zn.forEachGlyph(ln,xn,Mn,(jn,gr,Ar)=>{const Rr=ln.charAt(Ar),Qr=jn.advanceWidth*Bn,po=Xr.count;let _o;if("isEmpty"in jn||(jn.isWhitespace=!!Rr&&new RegExp(At).test(Rr),jn.canBreakAfter=!!Rr&&Rt.test(Rr),jn.isEmpty=jn.xMin===jn.xMax||jn.yMin===jn.yMax||Tt.test(Rr)),!jn.isWhitespace&&!jn.isEmpty&&ur++,Br&&tr&&!jn.isWhitespace&&gr+Qr+Yr>vn&&po){if(Xr.glyphAt(po-1).glyphObj.canBreakAfter)_o=new cn,Yr=-gr;else for(let mr=po;mr--;)if(mr===0&&On==="break-word"){_o=new cn,Yr=-gr;break}else if(Xr.glyphAt(mr).glyphObj.canBreakAfter){_o=Xr.splitAt(mr+1);const Nr=_o.glyphAt(0).x;Yr-=Nr;for(let to=_o.count;to--;)_o.glyphAt(to).x-=Nr;break}_o&&(Xr.isSoftWrapped=!0,Xr=_o,Kr.push(Xr),Zt=vn)}let qn=Xr.glyphAt(Xr.count);qn.glyphObj=jn,qn.x=gr+Yr,qn.width=Qr,qn.charIndex=Ar,Rr===`
`&&(Xr=new cn,Kr.push(Xr),Yr=-(gr+Qr+Mn*xn)+bn)}),Kr.forEach(jn=>{for(let gr=jn.count;gr--;){let{glyphObj:Ar,x:Rr,width:Qr}=jn.glyphAt(gr);if(!Ar.isWhitespace){jn.width=Rr+Qr,jn.width>Zt&&(Zt=jn.width);return}}});let Cr=0,eo=0;if(Nn&&(typeof Nn=="number"?Cr=-Nn:typeof Nn=="string"&&(Cr=-Zt*(Nn==="left"?0:Nn==="center"?.5:Nn==="right"?1:Kt(Nn)))),Yn){if(typeof Yn=="number")eo=-Yn;else if(typeof Yn=="string"){let jn=Kr.length*Tn;eo=Yn==="top"?0:Yn==="top-baseline"?-Jn:Yn==="top-cap"?-Jn-jr*Bn:Yn==="top-ex"?-Jn-qr*Bn:Yn==="middle"?jn/2:Yn==="bottom"?jn:Yn==="bottom-baseline"?jn-Ln+Dr*Bn:Kt(Yn)*jn}}if(!Wn){const jn=e.getEmbeddingLevels(ln,An);Hn=new Uint16Array(ur),dr=new Float32Array(ur*2),nr={},Vr=[s,s,-s,-s],kr=[];let gr=Jn;Xn&&(Pr=new Float32Array(ln.length*3)),Un&&(hr=new Uint8Array(ur*3));let Ar=0,Rr=-1,Qr=-1,po,_o;if(Kr.forEach((qn,mr)=>{let{count:Nr,width:to}=qn;if(Nr>0){let oo=0;for(let Uo=Nr;Uo--&&qn.glyphAt(Uo).glyphObj.isWhitespace;)oo++;let Vo=0,qo=0;if(Pn==="center")Vo=(Zt-to)/2;else if(Pn==="right")Vo=Zt-to;else if(Pn==="justify"&&qn.isSoftWrapped){let Uo=0;for(let No=Nr-oo;No--;)qn.glyphAt(No).glyphObj.isWhitespace&&Uo++;qo=(Zt-to)/Uo}if(qo||Vo){let Uo=0;for(let No=0;No<Nr;No++){let ws=qn.glyphAt(No);const Ls=ws.glyphObj;ws.x+=Vo+Uo,qo!==0&&Ls.isWhitespace&&No<Nr-oo&&(Uo+=qo,ws.width+=qo)}}const Yo=e.getReorderSegments(ln,jn,qn.glyphAt(0).charIndex,qn.glyphAt(qn.count-1).charIndex);for(let Uo=0;Uo<Yo.length;Uo++){const[No,ws]=Yo[Uo];let Ls=1/0,rs=-1/0;for(let Dn=0;Dn<Nr;Dn++)if(qn.glyphAt(Dn).charIndex>=No){let pr=Dn,Sr=Dn;for(;Sr<Nr;Sr++){let ar=qn.glyphAt(Sr);if(ar.charIndex>ws)break;Sr<Nr-oo&&(Ls=Math.min(Ls,ar.x),rs=Math.max(rs,ar.x+ar.width))}for(let ar=pr;ar<Sr;ar++){const br=qn.glyphAt(ar);br.x=rs-(br.x+br.width-Ls)}break}}let Fo;const Zo=Uo=>Fo=Uo;for(let Uo=0;Uo<Nr;Uo++){let No=qn.glyphAt(Uo);Fo=No.glyphObj;const ws=Fo.index,Ls=jn.levels[No.charIndex]&1;if(Ls){const rs=e.getMirroredCharacter(ln[No.charIndex]);rs&&Zn.forEachGlyph(rs,0,0,Zo)}if(Xn){const{charIndex:rs}=No,Dn=No.x+Cr,pr=No.x+No.width+Cr;Pr[rs*3]=Ls?pr:Dn,Pr[rs*3+1]=Ls?Dn:pr,Pr[rs*3+2]=gr+Wr+eo;const Sr=rs-Rr;Sr>1&&Ft(Pr,Rr,Sr),Rr=rs}if(Un){const{charIndex:rs}=No;for(;rs>Qr;)Qr++,Un.hasOwnProperty(Qr)&&(_o=Un[Qr])}if(!Fo.isWhitespace&&!Fo.isEmpty){const rs=Ar++;nr[ws]||(nr[ws]={path:Fo.path,pathBounds:[Fo.xMin,Fo.yMin,Fo.xMax,Fo.yMax]});const Dn=No.x+Cr,pr=gr+eo;dr[rs*2]=Dn,dr[rs*2+1]=pr;const Sr=Dn+Fo.xMin*Bn,ar=pr+Fo.yMin*Bn,br=Dn+Fo.xMax*Bn,yo=pr+Fo.yMax*Bn;Sr<Vr[0]&&(Vr[0]=Sr),ar<Vr[1]&&(Vr[1]=ar),br>Vr[2]&&(Vr[2]=br),yo>Vr[3]&&(Vr[3]=yo),rs%sr===0&&(po={start:rs,end:rs,rect:[s,s,-s,-s]},kr.push(po)),po.end++;const wo=po.rect;if(Sr<wo[0]&&(wo[0]=Sr),ar<wo[1]&&(wo[1]=ar),br>wo[2]&&(wo[2]=br),yo>wo[3]&&(wo[3]=yo),Hn[rs]=ws,Un){const Io=rs*3;hr[Io]=_o>>16&255,hr[Io+1]=_o>>8&255,hr[Io+2]=_o&255}}}}gr-=Tn}),Pr){const qn=ln.length-Rr;qn>1&&Ft(Pr,Rr,qn)}}zn.typesetting=tn()-Tr,Gn({glyphIds:Hn,glyphPositions:dr,glyphData:nr,caretPositions:Pr,caretHeight:yr,glyphColors:hr,chunkedBounds:kr,fontSize:xn,unitsPerEm:Jr,ascender:zr*Bn,descender:Dr*Bn,capHeight:jr*Bn,xHeight:qr*Bn,lineHeight:Tn,topBaseline:Jn,blockBounds:[Cr,eo-Kr.length*Tn,Cr+Zt,eo],visibleBounds:Vr,timings:zn})})}function Ht(ln,dn){Wt(ln,mn=>{const[xn,Mn,Tn,vn]=mn.blockBounds;dn({width:Tn-xn,height:vn-Mn})},{metricsOnly:!0})}function Kt(ln){let dn=ln.match(/^([\d.]+)%$/),mn=dn?parseFloat(dn[1]):NaN;return isNaN(mn)?0:mn/100}function Ft(ln,dn,mn){const xn=ln[dn*3],Mn=ln[dn*3+1],Tn=ln[dn*3+2],vn=(Mn-xn)/mn;for(let An=0;An<mn;An++){const Pn=(dn+An)*3;ln[Pn]=xn+vn*An,ln[Pn+1]=xn+vn*(An+1),ln[Pn+2]=Tn}}function tn(){return(self.performance||Date).now()}function cn(){this.data=[]}const fn=["glyphObj","x","width","charIndex"];return cn.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/fn.length)},glyphAt(ln){let dn=cn.flyweight;return dn.data=this.data,dn.index=ln,dn},splitAt(ln){let dn=new cn;return dn.data=this.data.splice(ln*fn.length),dn}},cn.flyweight=fn.reduce((ln,dn,mn,xn)=>(Object.defineProperty(ln,dn,{get(){return this.data[this.index*fn.length+mn]},set(Mn){this.data[this.index*fn.length+mn]=Mn}}),ln),{data:null,index:0}),{typeset:Wt,measure:Ht,loadFont:Nt}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(lt,e,$,ft,vt,s,Tt,At,Rt,Dt,Nt=!0){return Nt?generateSDF_GL(lt,e,$,ft,vt,s,Tt,At,Rt,Dt).then(null,Wt=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",Wt),warned=!0),generateSDF_JS_Worker(lt,e,$,ft,vt,s,Tt,At,Rt,Dt))):generateSDF_JS_Worker(lt,e,$,ft,vt,s,Tt,At,Rt,Dt)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const lt=now();for(;queue.length&&now()-lt<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...lt)=>new Promise((e,$)=>{queue.push(()=>{const ft=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...lt),e({timing:now()-ft})}catch(vt){$(vt)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(lt,e,$,ft,vt,s,Tt,At,Rt,Dt){const Nt="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let Wt=threads[Nt];return Wt||(Wt=threads[Nt]={workerModule:defineWorkerModule({name:Nt,workerId:Nt,dependencies:[SDFGenerator,now],init(Ht,Kt){const Ft=Ht().javascript.generate;return function(...tn){const cn=Kt();return{textureData:Ft(...tn),timing:Kt()-cn}}},getTransferables(Ht){return[Ht.textureData.buffer]}}),requests:0,idleTimer:null}),Wt.requests++,clearTimeout(Wt.idleTimer),Wt.workerModule(lt,e,$,ft,vt,s).then(({textureData:Ht,timing:Kt})=>{const Ft=now(),tn=new Uint8Array(Ht.length*4);for(let cn=0;cn<Ht.length;cn++)tn[cn*4+Dt]=Ht[cn];return mainThreadGenerator.webglUtils.renderImageData(Tt,tn,At,Rt,lt,e,1<<3-Dt),Kt+=now()-Ft,--Wt.requests===0&&(Wt.idleTimer=setTimeout(()=>{terminateWorker(Nt)},idleTimeout)),{timing:Kt}})}function warmUpSDFCanvas(lt){lt._warm||(mainThreadGenerator.webgl.isSupported(lt),lt._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(lt){var e={parse:function(vt){var s=e._bin,Tt=new Uint8Array(vt);if(s.readASCII(Tt,0,4)=="ttcf"){var At=4;s.readUshort(Tt,At),At+=2,s.readUshort(Tt,At),At+=2;var Rt=s.readUint(Tt,At);At+=4;for(var Dt=[],Nt=0;Nt<Rt;Nt++){var Wt=s.readUint(Tt,At);At+=4,Dt.push(e._readFont(Tt,Wt))}return Dt}return[e._readFont(Tt,0)]},_readFont:function(vt,s){var Tt=e._bin,At=s;Tt.readFixed(vt,s),s+=4;var Rt=Tt.readUshort(vt,s);s+=2,Tt.readUshort(vt,s),s+=2,Tt.readUshort(vt,s),s+=2,Tt.readUshort(vt,s),s+=2;for(var Dt=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],Nt={_data:vt,_offset:At},Wt={},Ht=0;Ht<Rt;Ht++){var Kt=Tt.readASCII(vt,s,4);s+=4,Tt.readUint(vt,s),s+=4;var Ft=Tt.readUint(vt,s);s+=4;var tn=Tt.readUint(vt,s);s+=4,Wt[Kt]={offset:Ft,length:tn}}for(Ht=0;Ht<Dt.length;Ht++){var cn=Dt[Ht];Wt[cn]&&(Nt[cn.trim()]=e[cn.trim()].parse(vt,Wt[cn].offset,Wt[cn].length,Nt))}return Nt},_tabOffset:function(vt,s,Tt){for(var At=e._bin,Rt=At.readUshort(vt,Tt+4),Dt=Tt+12,Nt=0;Nt<Rt;Nt++){var Wt=At.readASCII(vt,Dt,4);Dt+=4,At.readUint(vt,Dt),Dt+=4;var Ht=At.readUint(vt,Dt);if(Dt+=4,At.readUint(vt,Dt),Dt+=4,Wt==s)return Ht}return 0}};e._bin={readFixed:function(vt,s){return(vt[s]<<8|vt[s+1])+(vt[s+2]<<8|vt[s+3])/65540},readF2dot14:function(vt,s){return e._bin.readShort(vt,s)/16384},readInt:function(vt,s){return e._bin._view(vt).getInt32(s)},readInt8:function(vt,s){return e._bin._view(vt).getInt8(s)},readShort:function(vt,s){return e._bin._view(vt).getInt16(s)},readUshort:function(vt,s){return e._bin._view(vt).getUint16(s)},readUshorts:function(vt,s,Tt){for(var At=[],Rt=0;Rt<Tt;Rt++)At.push(e._bin.readUshort(vt,s+2*Rt));return At},readUint:function(vt,s){return e._bin._view(vt).getUint32(s)},readUint64:function(vt,s){return 4294967296*e._bin.readUint(vt,s)+e._bin.readUint(vt,s+4)},readASCII:function(vt,s,Tt){for(var At="",Rt=0;Rt<Tt;Rt++)At+=String.fromCharCode(vt[s+Rt]);return At},readUnicode:function(vt,s,Tt){for(var At="",Rt=0;Rt<Tt;Rt++){var Dt=vt[s++]<<8|vt[s++];At+=String.fromCharCode(Dt)}return At},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(vt,s,Tt){var At=e._bin._tdec;return At&&s==0&&Tt==vt.length?At.decode(vt):e._bin.readASCII(vt,s,Tt)},readBytes:function(vt,s,Tt){for(var At=[],Rt=0;Rt<Tt;Rt++)At.push(vt[s+Rt]);return At},readASCIIArray:function(vt,s,Tt){for(var At=[],Rt=0;Rt<Tt;Rt++)At.push(String.fromCharCode(vt[s+Rt]));return At},_view:function(vt){return vt._dataView||(vt._dataView=vt.buffer?new DataView(vt.buffer,vt.byteOffset,vt.byteLength):new DataView(new Uint8Array(vt).buffer))}},e._lctf={},e._lctf.parse=function(vt,s,Tt,At,Rt){var Dt=e._bin,Nt={},Wt=s;Dt.readFixed(vt,s),s+=4;var Ht=Dt.readUshort(vt,s);s+=2;var Kt=Dt.readUshort(vt,s);s+=2;var Ft=Dt.readUshort(vt,s);return s+=2,Nt.scriptList=e._lctf.readScriptList(vt,Wt+Ht),Nt.featureList=e._lctf.readFeatureList(vt,Wt+Kt),Nt.lookupList=e._lctf.readLookupList(vt,Wt+Ft,Rt),Nt},e._lctf.readLookupList=function(vt,s,Tt){var At=e._bin,Rt=s,Dt=[],Nt=At.readUshort(vt,s);s+=2;for(var Wt=0;Wt<Nt;Wt++){var Ht=At.readUshort(vt,s);s+=2;var Kt=e._lctf.readLookupTable(vt,Rt+Ht,Tt);Dt.push(Kt)}return Dt},e._lctf.readLookupTable=function(vt,s,Tt){var At=e._bin,Rt=s,Dt={tabs:[]};Dt.ltype=At.readUshort(vt,s),s+=2,Dt.flag=At.readUshort(vt,s),s+=2;var Nt=At.readUshort(vt,s);s+=2;for(var Wt=Dt.ltype,Ht=0;Ht<Nt;Ht++){var Kt=At.readUshort(vt,s);s+=2;var Ft=Tt(vt,Wt,Rt+Kt,Dt);Dt.tabs.push(Ft)}return Dt},e._lctf.numOfOnes=function(vt){for(var s=0,Tt=0;Tt<32;Tt++)vt>>>Tt&1&&s++;return s},e._lctf.readClassDef=function(vt,s){var Tt=e._bin,At=[],Rt=Tt.readUshort(vt,s);if(s+=2,Rt==1){var Dt=Tt.readUshort(vt,s);s+=2;var Nt=Tt.readUshort(vt,s);s+=2;for(var Wt=0;Wt<Nt;Wt++)At.push(Dt+Wt),At.push(Dt+Wt),At.push(Tt.readUshort(vt,s)),s+=2}if(Rt==2){var Ht=Tt.readUshort(vt,s);for(s+=2,Wt=0;Wt<Ht;Wt++)At.push(Tt.readUshort(vt,s)),s+=2,At.push(Tt.readUshort(vt,s)),s+=2,At.push(Tt.readUshort(vt,s)),s+=2}return At},e._lctf.getInterval=function(vt,s){for(var Tt=0;Tt<vt.length;Tt+=3){var At=vt[Tt],Rt=vt[Tt+1];if(vt[Tt+2],At<=s&&s<=Rt)return Tt}return-1},e._lctf.readCoverage=function(vt,s){var Tt=e._bin,At={};At.fmt=Tt.readUshort(vt,s),s+=2;var Rt=Tt.readUshort(vt,s);return s+=2,At.fmt==1&&(At.tab=Tt.readUshorts(vt,s,Rt)),At.fmt==2&&(At.tab=Tt.readUshorts(vt,s,3*Rt)),At},e._lctf.coverageIndex=function(vt,s){var Tt=vt.tab;if(vt.fmt==1)return Tt.indexOf(s);if(vt.fmt==2){var At=e._lctf.getInterval(Tt,s);if(At!=-1)return Tt[At+2]+(s-Tt[At])}return-1},e._lctf.readFeatureList=function(vt,s){var Tt=e._bin,At=s,Rt=[],Dt=Tt.readUshort(vt,s);s+=2;for(var Nt=0;Nt<Dt;Nt++){var Wt=Tt.readASCII(vt,s,4);s+=4;var Ht=Tt.readUshort(vt,s);s+=2;var Kt=e._lctf.readFeatureTable(vt,At+Ht);Kt.tag=Wt.trim(),Rt.push(Kt)}return Rt},e._lctf.readFeatureTable=function(vt,s){var Tt=e._bin,At=s,Rt={},Dt=Tt.readUshort(vt,s);s+=2,Dt>0&&(Rt.featureParams=At+Dt);var Nt=Tt.readUshort(vt,s);s+=2,Rt.tab=[];for(var Wt=0;Wt<Nt;Wt++)Rt.tab.push(Tt.readUshort(vt,s+2*Wt));return Rt},e._lctf.readScriptList=function(vt,s){var Tt=e._bin,At=s,Rt={},Dt=Tt.readUshort(vt,s);s+=2;for(var Nt=0;Nt<Dt;Nt++){var Wt=Tt.readASCII(vt,s,4);s+=4;var Ht=Tt.readUshort(vt,s);s+=2,Rt[Wt.trim()]=e._lctf.readScriptTable(vt,At+Ht)}return Rt},e._lctf.readScriptTable=function(vt,s){var Tt=e._bin,At=s,Rt={},Dt=Tt.readUshort(vt,s);s+=2,Rt.default=e._lctf.readLangSysTable(vt,At+Dt);var Nt=Tt.readUshort(vt,s);s+=2;for(var Wt=0;Wt<Nt;Wt++){var Ht=Tt.readASCII(vt,s,4);s+=4;var Kt=Tt.readUshort(vt,s);s+=2,Rt[Ht.trim()]=e._lctf.readLangSysTable(vt,At+Kt)}return Rt},e._lctf.readLangSysTable=function(vt,s){var Tt=e._bin,At={};Tt.readUshort(vt,s),s+=2,At.reqFeature=Tt.readUshort(vt,s),s+=2;var Rt=Tt.readUshort(vt,s);return s+=2,At.features=Tt.readUshorts(vt,s,Rt),At},e.CFF={},e.CFF.parse=function(vt,s,Tt){var At=e._bin;(vt=new Uint8Array(vt.buffer,s,Tt))[s=0],vt[++s],vt[++s],vt[++s],s++;var Rt=[];s=e.CFF.readIndex(vt,s,Rt);for(var Dt=[],Nt=0;Nt<Rt.length-1;Nt++)Dt.push(At.readASCII(vt,s+Rt[Nt],Rt[Nt+1]-Rt[Nt]));s+=Rt[Rt.length-1];var Wt=[];s=e.CFF.readIndex(vt,s,Wt);var Ht=[];for(Nt=0;Nt<Wt.length-1;Nt++)Ht.push(e.CFF.readDict(vt,s+Wt[Nt],s+Wt[Nt+1]));s+=Wt[Wt.length-1];var Kt=Ht[0],Ft=[];s=e.CFF.readIndex(vt,s,Ft);var tn=[];for(Nt=0;Nt<Ft.length-1;Nt++)tn.push(At.readASCII(vt,s+Ft[Nt],Ft[Nt+1]-Ft[Nt]));if(s+=Ft[Ft.length-1],e.CFF.readSubrs(vt,s,Kt),Kt.CharStrings){s=Kt.CharStrings,Ft=[],s=e.CFF.readIndex(vt,s,Ft);var cn=[];for(Nt=0;Nt<Ft.length-1;Nt++)cn.push(At.readBytes(vt,s+Ft[Nt],Ft[Nt+1]-Ft[Nt]));Kt.CharStrings=cn}if(Kt.ROS){s=Kt.FDArray;var fn=[];for(s=e.CFF.readIndex(vt,s,fn),Kt.FDArray=[],Nt=0;Nt<fn.length-1;Nt++){var ln=e.CFF.readDict(vt,s+fn[Nt],s+fn[Nt+1]);e.CFF._readFDict(vt,ln,tn),Kt.FDArray.push(ln)}s+=fn[fn.length-1],s=Kt.FDSelect,Kt.FDSelect=[];var dn=vt[s];if(s++,dn!=3)throw dn;var mn=At.readUshort(vt,s);for(s+=2,Nt=0;Nt<mn+1;Nt++)Kt.FDSelect.push(At.readUshort(vt,s),vt[s+2]),s+=3}return Kt.Encoding&&(Kt.Encoding=e.CFF.readEncoding(vt,Kt.Encoding,Kt.CharStrings.length)),Kt.charset&&(Kt.charset=e.CFF.readCharset(vt,Kt.charset,Kt.CharStrings.length)),e.CFF._readFDict(vt,Kt,tn),Kt},e.CFF._readFDict=function(vt,s,Tt){var At;for(var Rt in s.Private&&(At=s.Private[1],s.Private=e.CFF.readDict(vt,At,At+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(vt,At+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(Rt)!=-1&&(s[Rt]=Tt[s[Rt]-426+35])},e.CFF.readSubrs=function(vt,s,Tt){var At=e._bin,Rt=[];s=e.CFF.readIndex(vt,s,Rt);var Dt,Nt=Rt.length;Dt=Nt<1240?107:Nt<33900?1131:32768,Tt.Bias=Dt,Tt.Subrs=[];for(var Wt=0;Wt<Rt.length-1;Wt++)Tt.Subrs.push(At.readBytes(vt,s+Rt[Wt],Rt[Wt+1]-Rt[Wt]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(vt,s){for(var Tt=0;Tt<vt.charset.length;Tt++)if(vt.charset[Tt]==s)return Tt;return-1},e.CFF.glyphBySE=function(vt,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(vt,e.CFF.tableSE[s])},e.CFF.readEncoding=function(vt,s,Tt){e._bin;var At=[".notdef"],Rt=vt[s];if(s++,Rt!=0)throw"error: unknown encoding format: "+Rt;var Dt=vt[s];s++;for(var Nt=0;Nt<Dt;Nt++)At.push(vt[s+Nt]);return At},e.CFF.readCharset=function(vt,s,Tt){var At=e._bin,Rt=[".notdef"],Dt=vt[s];if(s++,Dt==0)for(var Nt=0;Nt<Tt;Nt++){var Wt=At.readUshort(vt,s);s+=2,Rt.push(Wt)}else{if(Dt!=1&&Dt!=2)throw"error: format: "+Dt;for(;Rt.length<Tt;){Wt=At.readUshort(vt,s),s+=2;var Ht=0;for(Dt==1?(Ht=vt[s],s++):(Ht=At.readUshort(vt,s),s+=2),Nt=0;Nt<=Ht;Nt++)Rt.push(Wt),Wt++}}return Rt},e.CFF.readIndex=function(vt,s,Tt){var At=e._bin,Rt=At.readUshort(vt,s)+1,Dt=vt[s+=2];if(s++,Dt==1)for(var Nt=0;Nt<Rt;Nt++)Tt.push(vt[s+Nt]);else if(Dt==2)for(Nt=0;Nt<Rt;Nt++)Tt.push(At.readUshort(vt,s+2*Nt));else if(Dt==3)for(Nt=0;Nt<Rt;Nt++)Tt.push(16777215&At.readUint(vt,s+3*Nt-1));else if(Rt!=1)throw"unsupported offset size: "+Dt+", count: "+Rt;return(s+=Rt*Dt)-1},e.CFF.getCharString=function(vt,s,Tt){var At=e._bin,Rt=vt[s],Dt=vt[s+1];vt[s+2],vt[s+3],vt[s+4];var Nt=1,Wt=null,Ht=null;Rt<=20&&(Wt=Rt,Nt=1),Rt==12&&(Wt=100*Rt+Dt,Nt=2),21<=Rt&&Rt<=27&&(Wt=Rt,Nt=1),Rt==28&&(Ht=At.readShort(vt,s+1),Nt=3),29<=Rt&&Rt<=31&&(Wt=Rt,Nt=1),32<=Rt&&Rt<=246&&(Ht=Rt-139,Nt=1),247<=Rt&&Rt<=250&&(Ht=256*(Rt-247)+Dt+108,Nt=2),251<=Rt&&Rt<=254&&(Ht=256*-(Rt-251)-Dt-108,Nt=2),Rt==255&&(Ht=At.readInt(vt,s+1)/65535,Nt=5),Tt.val=Ht??"o"+Wt,Tt.size=Nt},e.CFF.readCharString=function(vt,s,Tt){for(var At=s+Tt,Rt=e._bin,Dt=[];s<At;){var Nt=vt[s],Wt=vt[s+1];vt[s+2],vt[s+3],vt[s+4];var Ht=1,Kt=null,Ft=null;Nt<=20&&(Kt=Nt,Ht=1),Nt==12&&(Kt=100*Nt+Wt,Ht=2),Nt!=19&&Nt!=20||(Kt=Nt,Ht=2),21<=Nt&&Nt<=27&&(Kt=Nt,Ht=1),Nt==28&&(Ft=Rt.readShort(vt,s+1),Ht=3),29<=Nt&&Nt<=31&&(Kt=Nt,Ht=1),32<=Nt&&Nt<=246&&(Ft=Nt-139,Ht=1),247<=Nt&&Nt<=250&&(Ft=256*(Nt-247)+Wt+108,Ht=2),251<=Nt&&Nt<=254&&(Ft=256*-(Nt-251)-Wt-108,Ht=2),Nt==255&&(Ft=Rt.readInt(vt,s+1)/65535,Ht=5),Dt.push(Ft??"o"+Kt),s+=Ht}return Dt},e.CFF.readDict=function(vt,s,Tt){for(var At=e._bin,Rt={},Dt=[];s<Tt;){var Nt=vt[s],Wt=vt[s+1];vt[s+2],vt[s+3],vt[s+4];var Ht=1,Kt=null,Ft=null;if(Nt==28&&(Ft=At.readShort(vt,s+1),Ht=3),Nt==29&&(Ft=At.readInt(vt,s+1),Ht=5),32<=Nt&&Nt<=246&&(Ft=Nt-139,Ht=1),247<=Nt&&Nt<=250&&(Ft=256*(Nt-247)+Wt+108,Ht=2),251<=Nt&&Nt<=254&&(Ft=256*-(Nt-251)-Wt-108,Ht=2),Nt==255)throw Ft=At.readInt(vt,s+1)/65535,Ht=5,"unknown number";if(Nt==30){var tn=[];for(Ht=1;;){var cn=vt[s+Ht];Ht++;var fn=cn>>4,ln=15&cn;if(fn!=15&&tn.push(fn),ln!=15&&tn.push(ln),ln==15)break}for(var dn="",mn=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],xn=0;xn<tn.length;xn++)dn+=mn[tn[xn]];Ft=parseFloat(dn)}Nt<=21&&(Kt=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][Nt],Ht=1,Nt==12&&(Kt=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][Wt],Ht=2)),Kt!=null?(Rt[Kt]=Dt.length==1?Dt[0]:Dt,Dt=[]):Dt.push(Ft),s+=Ht}return Rt},e.cmap={},e.cmap.parse=function(vt,s,Tt){vt=new Uint8Array(vt.buffer,s,Tt),s=0;var At=e._bin,Rt={};At.readUshort(vt,s),s+=2;var Dt=At.readUshort(vt,s);s+=2;var Nt=[];Rt.tables=[];for(var Wt=0;Wt<Dt;Wt++){var Ht=At.readUshort(vt,s);s+=2;var Kt=At.readUshort(vt,s);s+=2;var Ft=At.readUint(vt,s);s+=4;var tn="p"+Ht+"e"+Kt,cn=Nt.indexOf(Ft);if(cn==-1){var fn;cn=Rt.tables.length,Nt.push(Ft);var ln=At.readUshort(vt,Ft);ln==0?fn=e.cmap.parse0(vt,Ft):ln==4?fn=e.cmap.parse4(vt,Ft):ln==6?fn=e.cmap.parse6(vt,Ft):ln==12?fn=e.cmap.parse12(vt,Ft):console.debug("unknown format: "+ln,Ht,Kt,Ft),Rt.tables.push(fn)}if(Rt[tn]!=null)throw"multiple tables for one platform+encoding";Rt[tn]=cn}return Rt},e.cmap.parse0=function(vt,s){var Tt=e._bin,At={};At.format=Tt.readUshort(vt,s),s+=2;var Rt=Tt.readUshort(vt,s);s+=2,Tt.readUshort(vt,s),s+=2,At.map=[];for(var Dt=0;Dt<Rt-6;Dt++)At.map.push(vt[s+Dt]);return At},e.cmap.parse4=function(vt,s){var Tt=e._bin,At=s,Rt={};Rt.format=Tt.readUshort(vt,s),s+=2;var Dt=Tt.readUshort(vt,s);s+=2,Tt.readUshort(vt,s),s+=2;var Nt=Tt.readUshort(vt,s);s+=2;var Wt=Nt/2;Rt.searchRange=Tt.readUshort(vt,s),s+=2,Rt.entrySelector=Tt.readUshort(vt,s),s+=2,Rt.rangeShift=Tt.readUshort(vt,s),s+=2,Rt.endCount=Tt.readUshorts(vt,s,Wt),s+=2*Wt,s+=2,Rt.startCount=Tt.readUshorts(vt,s,Wt),s+=2*Wt,Rt.idDelta=[];for(var Ht=0;Ht<Wt;Ht++)Rt.idDelta.push(Tt.readShort(vt,s)),s+=2;for(Rt.idRangeOffset=Tt.readUshorts(vt,s,Wt),s+=2*Wt,Rt.glyphIdArray=[];s<At+Dt;)Rt.glyphIdArray.push(Tt.readUshort(vt,s)),s+=2;return Rt},e.cmap.parse6=function(vt,s){var Tt=e._bin,At={};At.format=Tt.readUshort(vt,s),s+=2,Tt.readUshort(vt,s),s+=2,Tt.readUshort(vt,s),s+=2,At.firstCode=Tt.readUshort(vt,s),s+=2;var Rt=Tt.readUshort(vt,s);s+=2,At.glyphIdArray=[];for(var Dt=0;Dt<Rt;Dt++)At.glyphIdArray.push(Tt.readUshort(vt,s)),s+=2;return At},e.cmap.parse12=function(vt,s){var Tt=e._bin,At={};At.format=Tt.readUshort(vt,s),s+=2,s+=2,Tt.readUint(vt,s),s+=4,Tt.readUint(vt,s),s+=4;var Rt=Tt.readUint(vt,s);s+=4,At.groups=[];for(var Dt=0;Dt<Rt;Dt++){var Nt=s+12*Dt,Wt=Tt.readUint(vt,Nt+0),Ht=Tt.readUint(vt,Nt+4),Kt=Tt.readUint(vt,Nt+8);At.groups.push([Wt,Ht,Kt])}return At},e.glyf={},e.glyf.parse=function(vt,s,Tt,At){for(var Rt=[],Dt=0;Dt<At.maxp.numGlyphs;Dt++)Rt.push(null);return Rt},e.glyf._parseGlyf=function(vt,s){var Tt=e._bin,At=vt._data,Rt=e._tabOffset(At,"glyf",vt._offset)+vt.loca[s];if(vt.loca[s]==vt.loca[s+1])return null;var Dt={};if(Dt.noc=Tt.readShort(At,Rt),Rt+=2,Dt.xMin=Tt.readShort(At,Rt),Rt+=2,Dt.yMin=Tt.readShort(At,Rt),Rt+=2,Dt.xMax=Tt.readShort(At,Rt),Rt+=2,Dt.yMax=Tt.readShort(At,Rt),Rt+=2,Dt.xMin>=Dt.xMax||Dt.yMin>=Dt.yMax)return null;if(Dt.noc>0){Dt.endPts=[];for(var Nt=0;Nt<Dt.noc;Nt++)Dt.endPts.push(Tt.readUshort(At,Rt)),Rt+=2;var Wt=Tt.readUshort(At,Rt);if(Rt+=2,At.length-Rt<Wt)return null;Dt.instructions=Tt.readBytes(At,Rt,Wt),Rt+=Wt;var Ht=Dt.endPts[Dt.noc-1]+1;for(Dt.flags=[],Nt=0;Nt<Ht;Nt++){var Kt=At[Rt];if(Rt++,Dt.flags.push(Kt),(8&Kt)!=0){var Ft=At[Rt];Rt++;for(var tn=0;tn<Ft;tn++)Dt.flags.push(Kt),Nt++}}for(Dt.xs=[],Nt=0;Nt<Ht;Nt++){var cn=(2&Dt.flags[Nt])!=0,fn=(16&Dt.flags[Nt])!=0;cn?(Dt.xs.push(fn?At[Rt]:-At[Rt]),Rt++):fn?Dt.xs.push(0):(Dt.xs.push(Tt.readShort(At,Rt)),Rt+=2)}for(Dt.ys=[],Nt=0;Nt<Ht;Nt++)cn=(4&Dt.flags[Nt])!=0,fn=(32&Dt.flags[Nt])!=0,cn?(Dt.ys.push(fn?At[Rt]:-At[Rt]),Rt++):fn?Dt.ys.push(0):(Dt.ys.push(Tt.readShort(At,Rt)),Rt+=2);var ln=0,dn=0;for(Nt=0;Nt<Ht;Nt++)ln+=Dt.xs[Nt],dn+=Dt.ys[Nt],Dt.xs[Nt]=ln,Dt.ys[Nt]=dn}else{var mn;Dt.parts=[];do{mn=Tt.readUshort(At,Rt),Rt+=2;var xn={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(Dt.parts.push(xn),xn.glyphIndex=Tt.readUshort(At,Rt),Rt+=2,1&mn){var Mn=Tt.readShort(At,Rt);Rt+=2;var Tn=Tt.readShort(At,Rt);Rt+=2}else Mn=Tt.readInt8(At,Rt),Rt++,Tn=Tt.readInt8(At,Rt),Rt++;2&mn?(xn.m.tx=Mn,xn.m.ty=Tn):(xn.p1=Mn,xn.p2=Tn),8&mn?(xn.m.a=xn.m.d=Tt.readF2dot14(At,Rt),Rt+=2):64&mn?(xn.m.a=Tt.readF2dot14(At,Rt),Rt+=2,xn.m.d=Tt.readF2dot14(At,Rt),Rt+=2):128&mn&&(xn.m.a=Tt.readF2dot14(At,Rt),Rt+=2,xn.m.b=Tt.readF2dot14(At,Rt),Rt+=2,xn.m.c=Tt.readF2dot14(At,Rt),Rt+=2,xn.m.d=Tt.readF2dot14(At,Rt),Rt+=2)}while(32&mn);if(256&mn){var vn=Tt.readUshort(At,Rt);for(Rt+=2,Dt.instr=[],Nt=0;Nt<vn;Nt++)Dt.instr.push(At[Rt]),Rt++}}return Dt},e.GPOS={},e.GPOS.parse=function(vt,s,Tt,At){return e._lctf.parse(vt,s,Tt,At,e.GPOS.subt)},e.GPOS.subt=function(vt,s,Tt,At){var Rt=e._bin,Dt=Tt,Nt={};if(Nt.fmt=Rt.readUshort(vt,Tt),Tt+=2,s==1||s==2||s==3||s==7||s==8&&Nt.fmt<=2){var Wt=Rt.readUshort(vt,Tt);Tt+=2,Nt.coverage=e._lctf.readCoverage(vt,Wt+Dt)}if(s==1&&Nt.fmt==1){var Ht=Rt.readUshort(vt,Tt);Tt+=2;var Kt=e._lctf.numOfOnes(Ht);Ht!=0&&(Nt.pos=e.GPOS.readValueRecord(vt,Tt,Ht))}else if(s==2&&Nt.fmt>=1&&Nt.fmt<=2){Ht=Rt.readUshort(vt,Tt),Tt+=2;var Ft=Rt.readUshort(vt,Tt);Tt+=2,Kt=e._lctf.numOfOnes(Ht);var tn=e._lctf.numOfOnes(Ft);if(Nt.fmt==1){Nt.pairsets=[];var cn=Rt.readUshort(vt,Tt);Tt+=2;for(var fn=0;fn<cn;fn++){var ln=Dt+Rt.readUshort(vt,Tt);Tt+=2;var dn=Rt.readUshort(vt,ln);ln+=2;for(var mn=[],xn=0;xn<dn;xn++){var Mn=Rt.readUshort(vt,ln);ln+=2,Ht!=0&&(In=e.GPOS.readValueRecord(vt,ln,Ht),ln+=2*Kt),Ft!=0&&(On=e.GPOS.readValueRecord(vt,ln,Ft),ln+=2*tn),mn.push({gid2:Mn,val1:In,val2:On})}Nt.pairsets.push(mn)}}if(Nt.fmt==2){var Tn=Rt.readUshort(vt,Tt);Tt+=2;var vn=Rt.readUshort(vt,Tt);Tt+=2;var An=Rt.readUshort(vt,Tt);Tt+=2;var Pn=Rt.readUshort(vt,Tt);for(Tt+=2,Nt.classDef1=e._lctf.readClassDef(vt,Dt+Tn),Nt.classDef2=e._lctf.readClassDef(vt,Dt+vn),Nt.matrix=[],fn=0;fn<An;fn++){var bn=[];for(xn=0;xn<Pn;xn++){var In=null,On=null;Ht!=0&&(In=e.GPOS.readValueRecord(vt,Tt,Ht),Tt+=2*Kt),Ft!=0&&(On=e.GPOS.readValueRecord(vt,Tt,Ft),Tt+=2*tn),bn.push({val1:In,val2:On})}Nt.matrix.push(bn)}}}else{if(s==9&&Nt.fmt==1){var Nn=Rt.readUshort(vt,Tt);Tt+=2;var Yn=Rt.readUint(vt,Tt);if(Tt+=4,At.ltype==9)At.ltype=Nn;else if(At.ltype!=Nn)throw"invalid extension substitution";return e.GPOS.subt(vt,At.ltype,Dt+Yn)}console.debug("unsupported GPOS table LookupType",s,"format",Nt.fmt)}return Nt},e.GPOS.readValueRecord=function(vt,s,Tt){var At=e._bin,Rt=[];return Rt.push(1&Tt?At.readShort(vt,s):0),s+=1&Tt?2:0,Rt.push(2&Tt?At.readShort(vt,s):0),s+=2&Tt?2:0,Rt.push(4&Tt?At.readShort(vt,s):0),s+=4&Tt?2:0,Rt.push(8&Tt?At.readShort(vt,s):0),s+=8&Tt?2:0,Rt},e.GSUB={},e.GSUB.parse=function(vt,s,Tt,At){return e._lctf.parse(vt,s,Tt,At,e.GSUB.subt)},e.GSUB.subt=function(vt,s,Tt,At){var Rt=e._bin,Dt=Tt,Nt={};if(Nt.fmt=Rt.readUshort(vt,Tt),Tt+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&Nt.fmt<=2||s==6&&Nt.fmt<=2){var Wt=Rt.readUshort(vt,Tt);Tt+=2,Nt.coverage=e._lctf.readCoverage(vt,Dt+Wt)}if(s==1&&Nt.fmt>=1&&Nt.fmt<=2){if(Nt.fmt==1)Nt.delta=Rt.readShort(vt,Tt),Tt+=2;else if(Nt.fmt==2){var Ht=Rt.readUshort(vt,Tt);Tt+=2,Nt.newg=Rt.readUshorts(vt,Tt,Ht),Tt+=2*Nt.newg.length}}else if(s==4){Nt.vals=[],Ht=Rt.readUshort(vt,Tt),Tt+=2;for(var Kt=0;Kt<Ht;Kt++){var Ft=Rt.readUshort(vt,Tt);Tt+=2,Nt.vals.push(e.GSUB.readLigatureSet(vt,Dt+Ft))}}else if(s==5&&Nt.fmt==2){if(Nt.fmt==2){var tn=Rt.readUshort(vt,Tt);Tt+=2,Nt.cDef=e._lctf.readClassDef(vt,Dt+tn),Nt.scset=[];var cn=Rt.readUshort(vt,Tt);for(Tt+=2,Kt=0;Kt<cn;Kt++){var fn=Rt.readUshort(vt,Tt);Tt+=2,Nt.scset.push(fn==0?null:e.GSUB.readSubClassSet(vt,Dt+fn))}}}else if(s==6&&Nt.fmt==3){if(Nt.fmt==3){for(Kt=0;Kt<3;Kt++){Ht=Rt.readUshort(vt,Tt),Tt+=2;for(var ln=[],dn=0;dn<Ht;dn++)ln.push(e._lctf.readCoverage(vt,Dt+Rt.readUshort(vt,Tt+2*dn)));Tt+=2*Ht,Kt==0&&(Nt.backCvg=ln),Kt==1&&(Nt.inptCvg=ln),Kt==2&&(Nt.ahedCvg=ln)}Ht=Rt.readUshort(vt,Tt),Tt+=2,Nt.lookupRec=e.GSUB.readSubstLookupRecords(vt,Tt,Ht)}}else{if(s==7&&Nt.fmt==1){var mn=Rt.readUshort(vt,Tt);Tt+=2;var xn=Rt.readUint(vt,Tt);if(Tt+=4,At.ltype==9)At.ltype=mn;else if(At.ltype!=mn)throw"invalid extension substitution";return e.GSUB.subt(vt,At.ltype,Dt+xn)}console.debug("unsupported GSUB table LookupType",s,"format",Nt.fmt)}return Nt},e.GSUB.readSubClassSet=function(vt,s){var Tt=e._bin.readUshort,At=s,Rt=[],Dt=Tt(vt,s);s+=2;for(var Nt=0;Nt<Dt;Nt++){var Wt=Tt(vt,s);s+=2,Rt.push(e.GSUB.readSubClassRule(vt,At+Wt))}return Rt},e.GSUB.readSubClassRule=function(vt,s){var Tt=e._bin.readUshort,At={},Rt=Tt(vt,s),Dt=Tt(vt,s+=2);s+=2,At.input=[];for(var Nt=0;Nt<Rt-1;Nt++)At.input.push(Tt(vt,s)),s+=2;return At.substLookupRecords=e.GSUB.readSubstLookupRecords(vt,s,Dt),At},e.GSUB.readSubstLookupRecords=function(vt,s,Tt){for(var At=e._bin.readUshort,Rt=[],Dt=0;Dt<Tt;Dt++)Rt.push(At(vt,s),At(vt,s+2)),s+=4;return Rt},e.GSUB.readChainSubClassSet=function(vt,s){var Tt=e._bin,At=s,Rt=[],Dt=Tt.readUshort(vt,s);s+=2;for(var Nt=0;Nt<Dt;Nt++){var Wt=Tt.readUshort(vt,s);s+=2,Rt.push(e.GSUB.readChainSubClassRule(vt,At+Wt))}return Rt},e.GSUB.readChainSubClassRule=function(vt,s){for(var Tt=e._bin,At={},Rt=["backtrack","input","lookahead"],Dt=0;Dt<Rt.length;Dt++){var Nt=Tt.readUshort(vt,s);s+=2,Dt==1&&Nt--,At[Rt[Dt]]=Tt.readUshorts(vt,s,Nt),s+=2*At[Rt[Dt]].length}return Nt=Tt.readUshort(vt,s),s+=2,At.subst=Tt.readUshorts(vt,s,2*Nt),s+=2*At.subst.length,At},e.GSUB.readLigatureSet=function(vt,s){var Tt=e._bin,At=s,Rt=[],Dt=Tt.readUshort(vt,s);s+=2;for(var Nt=0;Nt<Dt;Nt++){var Wt=Tt.readUshort(vt,s);s+=2,Rt.push(e.GSUB.readLigature(vt,At+Wt))}return Rt},e.GSUB.readLigature=function(vt,s){var Tt=e._bin,At={chain:[]};At.nglyph=Tt.readUshort(vt,s),s+=2;var Rt=Tt.readUshort(vt,s);s+=2;for(var Dt=0;Dt<Rt-1;Dt++)At.chain.push(Tt.readUshort(vt,s)),s+=2;return At},e.head={},e.head.parse=function(vt,s,Tt){var At=e._bin,Rt={};return At.readFixed(vt,s),s+=4,Rt.fontRevision=At.readFixed(vt,s),s+=4,At.readUint(vt,s),s+=4,At.readUint(vt,s),s+=4,Rt.flags=At.readUshort(vt,s),s+=2,Rt.unitsPerEm=At.readUshort(vt,s),s+=2,Rt.created=At.readUint64(vt,s),s+=8,Rt.modified=At.readUint64(vt,s),s+=8,Rt.xMin=At.readShort(vt,s),s+=2,Rt.yMin=At.readShort(vt,s),s+=2,Rt.xMax=At.readShort(vt,s),s+=2,Rt.yMax=At.readShort(vt,s),s+=2,Rt.macStyle=At.readUshort(vt,s),s+=2,Rt.lowestRecPPEM=At.readUshort(vt,s),s+=2,Rt.fontDirectionHint=At.readShort(vt,s),s+=2,Rt.indexToLocFormat=At.readShort(vt,s),s+=2,Rt.glyphDataFormat=At.readShort(vt,s),s+=2,Rt},e.hhea={},e.hhea.parse=function(vt,s,Tt){var At=e._bin,Rt={};return At.readFixed(vt,s),s+=4,Rt.ascender=At.readShort(vt,s),s+=2,Rt.descender=At.readShort(vt,s),s+=2,Rt.lineGap=At.readShort(vt,s),s+=2,Rt.advanceWidthMax=At.readUshort(vt,s),s+=2,Rt.minLeftSideBearing=At.readShort(vt,s),s+=2,Rt.minRightSideBearing=At.readShort(vt,s),s+=2,Rt.xMaxExtent=At.readShort(vt,s),s+=2,Rt.caretSlopeRise=At.readShort(vt,s),s+=2,Rt.caretSlopeRun=At.readShort(vt,s),s+=2,Rt.caretOffset=At.readShort(vt,s),s+=2,s+=8,Rt.metricDataFormat=At.readShort(vt,s),s+=2,Rt.numberOfHMetrics=At.readUshort(vt,s),s+=2,Rt},e.hmtx={},e.hmtx.parse=function(vt,s,Tt,At){for(var Rt=e._bin,Dt={aWidth:[],lsBearing:[]},Nt=0,Wt=0,Ht=0;Ht<At.maxp.numGlyphs;Ht++)Ht<At.hhea.numberOfHMetrics&&(Nt=Rt.readUshort(vt,s),s+=2,Wt=Rt.readShort(vt,s),s+=2),Dt.aWidth.push(Nt),Dt.lsBearing.push(Wt);return Dt},e.kern={},e.kern.parse=function(vt,s,Tt,At){var Rt=e._bin,Dt=Rt.readUshort(vt,s);if(s+=2,Dt==1)return e.kern.parseV1(vt,s-2,Tt,At);var Nt=Rt.readUshort(vt,s);s+=2;for(var Wt={glyph1:[],rval:[]},Ht=0;Ht<Nt;Ht++){s+=2,Tt=Rt.readUshort(vt,s),s+=2;var Kt=Rt.readUshort(vt,s);s+=2;var Ft=Kt>>>8;if((Ft&=15)!=0)throw"unknown kern table format: "+Ft;s=e.kern.readFormat0(vt,s,Wt)}return Wt},e.kern.parseV1=function(vt,s,Tt,At){var Rt=e._bin;Rt.readFixed(vt,s),s+=4;var Dt=Rt.readUint(vt,s);s+=4;for(var Nt={glyph1:[],rval:[]},Wt=0;Wt<Dt;Wt++){Rt.readUint(vt,s),s+=4;var Ht=Rt.readUshort(vt,s);s+=2,Rt.readUshort(vt,s),s+=2;var Kt=Ht>>>8;if((Kt&=15)!=0)throw"unknown kern table format: "+Kt;s=e.kern.readFormat0(vt,s,Nt)}return Nt},e.kern.readFormat0=function(vt,s,Tt){var At=e._bin,Rt=-1,Dt=At.readUshort(vt,s);s+=2,At.readUshort(vt,s),s+=2,At.readUshort(vt,s),s+=2,At.readUshort(vt,s),s+=2;for(var Nt=0;Nt<Dt;Nt++){var Wt=At.readUshort(vt,s);s+=2;var Ht=At.readUshort(vt,s);s+=2;var Kt=At.readShort(vt,s);s+=2,Wt!=Rt&&(Tt.glyph1.push(Wt),Tt.rval.push({glyph2:[],vals:[]}));var Ft=Tt.rval[Tt.rval.length-1];Ft.glyph2.push(Ht),Ft.vals.push(Kt),Rt=Wt}return s},e.loca={},e.loca.parse=function(vt,s,Tt,At){var Rt=e._bin,Dt=[],Nt=At.head.indexToLocFormat,Wt=At.maxp.numGlyphs+1;if(Nt==0)for(var Ht=0;Ht<Wt;Ht++)Dt.push(Rt.readUshort(vt,s+(Ht<<1))<<1);if(Nt==1)for(Ht=0;Ht<Wt;Ht++)Dt.push(Rt.readUint(vt,s+(Ht<<2)));return Dt},e.maxp={},e.maxp.parse=function(vt,s,Tt){var At=e._bin,Rt={},Dt=At.readUint(vt,s);return s+=4,Rt.numGlyphs=At.readUshort(vt,s),s+=2,Dt==65536&&(Rt.maxPoints=At.readUshort(vt,s),s+=2,Rt.maxContours=At.readUshort(vt,s),s+=2,Rt.maxCompositePoints=At.readUshort(vt,s),s+=2,Rt.maxCompositeContours=At.readUshort(vt,s),s+=2,Rt.maxZones=At.readUshort(vt,s),s+=2,Rt.maxTwilightPoints=At.readUshort(vt,s),s+=2,Rt.maxStorage=At.readUshort(vt,s),s+=2,Rt.maxFunctionDefs=At.readUshort(vt,s),s+=2,Rt.maxInstructionDefs=At.readUshort(vt,s),s+=2,Rt.maxStackElements=At.readUshort(vt,s),s+=2,Rt.maxSizeOfInstructions=At.readUshort(vt,s),s+=2,Rt.maxComponentElements=At.readUshort(vt,s),s+=2,Rt.maxComponentDepth=At.readUshort(vt,s),s+=2),Rt},e.name={},e.name.parse=function(vt,s,Tt){var At=e._bin,Rt={};At.readUshort(vt,s),s+=2;var Dt=At.readUshort(vt,s);s+=2,At.readUshort(vt,s);for(var Nt,Wt=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],Ht=s+=2,Kt=0;Kt<Dt;Kt++){var Ft=At.readUshort(vt,s);s+=2;var tn=At.readUshort(vt,s);s+=2;var cn=At.readUshort(vt,s);s+=2;var fn=At.readUshort(vt,s);s+=2;var ln=At.readUshort(vt,s);s+=2;var dn=At.readUshort(vt,s);s+=2;var mn,xn=Wt[fn],Mn=Ht+12*Dt+dn;if(Ft==0)mn=At.readUnicode(vt,Mn,ln/2);else if(Ft==3&&tn==0)mn=At.readUnicode(vt,Mn,ln/2);else if(tn==0)mn=At.readASCII(vt,Mn,ln);else if(tn==1)mn=At.readUnicode(vt,Mn,ln/2);else if(tn==3)mn=At.readUnicode(vt,Mn,ln/2);else{if(Ft!=1)throw"unknown encoding "+tn+", platformID: "+Ft;mn=At.readASCII(vt,Mn,ln),console.debug("reading unknown MAC encoding "+tn+" as ASCII")}var Tn="p"+Ft+","+cn.toString(16);Rt[Tn]==null&&(Rt[Tn]={}),Rt[Tn][xn!==void 0?xn:fn]=mn,Rt[Tn]._lang=cn}for(var vn in Rt)if(Rt[vn].postScriptName!=null&&Rt[vn]._lang==1033)return Rt[vn];for(var vn in Rt)if(Rt[vn].postScriptName!=null&&Rt[vn]._lang==0)return Rt[vn];for(var vn in Rt)if(Rt[vn].postScriptName!=null&&Rt[vn]._lang==3084)return Rt[vn];for(var vn in Rt)if(Rt[vn].postScriptName!=null)return Rt[vn];for(var vn in Rt){Nt=vn;break}return console.debug("returning name table with languageID "+Rt[Nt]._lang),Rt[Nt]},e["OS/2"]={},e["OS/2"].parse=function(vt,s,Tt){var At=e._bin.readUshort(vt,s);s+=2;var Rt={};if(At==0)e["OS/2"].version0(vt,s,Rt);else if(At==1)e["OS/2"].version1(vt,s,Rt);else if(At==2||At==3||At==4)e["OS/2"].version2(vt,s,Rt);else{if(At!=5)throw"unknown OS/2 table version: "+At;e["OS/2"].version5(vt,s,Rt)}return Rt},e["OS/2"].version0=function(vt,s,Tt){var At=e._bin;return Tt.xAvgCharWidth=At.readShort(vt,s),s+=2,Tt.usWeightClass=At.readUshort(vt,s),s+=2,Tt.usWidthClass=At.readUshort(vt,s),s+=2,Tt.fsType=At.readUshort(vt,s),s+=2,Tt.ySubscriptXSize=At.readShort(vt,s),s+=2,Tt.ySubscriptYSize=At.readShort(vt,s),s+=2,Tt.ySubscriptXOffset=At.readShort(vt,s),s+=2,Tt.ySubscriptYOffset=At.readShort(vt,s),s+=2,Tt.ySuperscriptXSize=At.readShort(vt,s),s+=2,Tt.ySuperscriptYSize=At.readShort(vt,s),s+=2,Tt.ySuperscriptXOffset=At.readShort(vt,s),s+=2,Tt.ySuperscriptYOffset=At.readShort(vt,s),s+=2,Tt.yStrikeoutSize=At.readShort(vt,s),s+=2,Tt.yStrikeoutPosition=At.readShort(vt,s),s+=2,Tt.sFamilyClass=At.readShort(vt,s),s+=2,Tt.panose=At.readBytes(vt,s,10),s+=10,Tt.ulUnicodeRange1=At.readUint(vt,s),s+=4,Tt.ulUnicodeRange2=At.readUint(vt,s),s+=4,Tt.ulUnicodeRange3=At.readUint(vt,s),s+=4,Tt.ulUnicodeRange4=At.readUint(vt,s),s+=4,Tt.achVendID=[At.readInt8(vt,s),At.readInt8(vt,s+1),At.readInt8(vt,s+2),At.readInt8(vt,s+3)],s+=4,Tt.fsSelection=At.readUshort(vt,s),s+=2,Tt.usFirstCharIndex=At.readUshort(vt,s),s+=2,Tt.usLastCharIndex=At.readUshort(vt,s),s+=2,Tt.sTypoAscender=At.readShort(vt,s),s+=2,Tt.sTypoDescender=At.readShort(vt,s),s+=2,Tt.sTypoLineGap=At.readShort(vt,s),s+=2,Tt.usWinAscent=At.readUshort(vt,s),s+=2,Tt.usWinDescent=At.readUshort(vt,s),s+=2},e["OS/2"].version1=function(vt,s,Tt){var At=e._bin;return s=e["OS/2"].version0(vt,s,Tt),Tt.ulCodePageRange1=At.readUint(vt,s),s+=4,Tt.ulCodePageRange2=At.readUint(vt,s),s+=4},e["OS/2"].version2=function(vt,s,Tt){var At=e._bin;return s=e["OS/2"].version1(vt,s,Tt),Tt.sxHeight=At.readShort(vt,s),s+=2,Tt.sCapHeight=At.readShort(vt,s),s+=2,Tt.usDefault=At.readUshort(vt,s),s+=2,Tt.usBreak=At.readUshort(vt,s),s+=2,Tt.usMaxContext=At.readUshort(vt,s),s+=2},e["OS/2"].version5=function(vt,s,Tt){var At=e._bin;return s=e["OS/2"].version2(vt,s,Tt),Tt.usLowerOpticalPointSize=At.readUshort(vt,s),s+=2,Tt.usUpperOpticalPointSize=At.readUshort(vt,s),s+=2},e.post={},e.post.parse=function(vt,s,Tt){var At=e._bin,Rt={};return Rt.version=At.readFixed(vt,s),s+=4,Rt.italicAngle=At.readFixed(vt,s),s+=4,Rt.underlinePosition=At.readShort(vt,s),s+=2,Rt.underlineThickness=At.readShort(vt,s),s+=2,Rt},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(vt,s){var Tt=vt.cmap,At=-1;if(Tt.p0e4!=null?At=Tt.p0e4:Tt.p3e1!=null?At=Tt.p3e1:Tt.p1e0!=null?At=Tt.p1e0:Tt.p0e3!=null&&(At=Tt.p0e3),At==-1)throw"no familiar platform and encoding!";var Rt=Tt.tables[At];if(Rt.format==0)return s>=Rt.map.length?0:Rt.map[s];if(Rt.format==4){for(var Dt=-1,Nt=0;Nt<Rt.endCount.length;Nt++)if(s<=Rt.endCount[Nt]){Dt=Nt;break}return Dt==-1||Rt.startCount[Dt]>s?0:65535&(Rt.idRangeOffset[Dt]!=0?Rt.glyphIdArray[s-Rt.startCount[Dt]+(Rt.idRangeOffset[Dt]>>1)-(Rt.idRangeOffset.length-Dt)]:s+Rt.idDelta[Dt])}if(Rt.format==12){if(s>Rt.groups[Rt.groups.length-1][1])return 0;for(Nt=0;Nt<Rt.groups.length;Nt++){var Wt=Rt.groups[Nt];if(Wt[0]<=s&&s<=Wt[1])return Wt[2]+(s-Wt[0])}return 0}throw"unknown cmap table format "+Rt.format},e.U.glyphToPath=function(vt,s){var Tt={cmds:[],crds:[]};if(vt.SVG&&vt.SVG.entries[s]){var At=vt.SVG.entries[s];return At==null?Tt:(typeof At=="string"&&(At=e.SVG.toPath(At),vt.SVG.entries[s]=At),At)}if(vt.CFF){var Rt={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:vt.CFF.Private?vt.CFF.Private.defaultWidthX:0,open:!1},Dt=vt.CFF,Nt=vt.CFF.Private;if(Dt.ROS){for(var Wt=0;Dt.FDSelect[Wt+2]<=s;)Wt+=2;Nt=Dt.FDArray[Dt.FDSelect[Wt+1]].Private}e.U._drawCFF(vt.CFF.CharStrings[s],Rt,Dt,Nt,Tt)}else vt.glyf&&e.U._drawGlyf(s,vt,Tt);return Tt},e.U._drawGlyf=function(vt,s,Tt){var At=s.glyf[vt];At==null&&(At=s.glyf[vt]=e.glyf._parseGlyf(s,vt)),At!=null&&(At.noc>-1?e.U._simpleGlyph(At,Tt):e.U._compoGlyph(At,s,Tt))},e.U._simpleGlyph=function(vt,s){for(var Tt=0;Tt<vt.noc;Tt++){for(var At=Tt==0?0:vt.endPts[Tt-1]+1,Rt=vt.endPts[Tt],Dt=At;Dt<=Rt;Dt++){var Nt=Dt==At?Rt:Dt-1,Wt=Dt==Rt?At:Dt+1,Ht=1&vt.flags[Dt],Kt=1&vt.flags[Nt],Ft=1&vt.flags[Wt],tn=vt.xs[Dt],cn=vt.ys[Dt];if(Dt==At)if(Ht){if(!Kt){e.U.P.moveTo(s,tn,cn);continue}e.U.P.moveTo(s,vt.xs[Nt],vt.ys[Nt])}else Kt?e.U.P.moveTo(s,vt.xs[Nt],vt.ys[Nt]):e.U.P.moveTo(s,(vt.xs[Nt]+tn)/2,(vt.ys[Nt]+cn)/2);Ht?Kt&&e.U.P.lineTo(s,tn,cn):Ft?e.U.P.qcurveTo(s,tn,cn,vt.xs[Wt],vt.ys[Wt]):e.U.P.qcurveTo(s,tn,cn,(tn+vt.xs[Wt])/2,(cn+vt.ys[Wt])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(vt,s,Tt){for(var At=0;At<vt.parts.length;At++){var Rt={cmds:[],crds:[]},Dt=vt.parts[At];e.U._drawGlyf(Dt.glyphIndex,s,Rt);for(var Nt=Dt.m,Wt=0;Wt<Rt.crds.length;Wt+=2){var Ht=Rt.crds[Wt],Kt=Rt.crds[Wt+1];Tt.crds.push(Ht*Nt.a+Kt*Nt.b+Nt.tx),Tt.crds.push(Ht*Nt.c+Kt*Nt.d+Nt.ty)}for(Wt=0;Wt<Rt.cmds.length;Wt++)Tt.cmds.push(Rt.cmds[Wt])}},e.U._getGlyphClass=function(vt,s){var Tt=e._lctf.getInterval(s,vt);return Tt==-1?0:s[Tt+2]},e.U.getPairAdjustment=function(vt,s,Tt){var At=!1;if(vt.GPOS)for(var Rt=vt.GPOS,Dt=Rt.lookupList,Nt=Rt.featureList,Wt=[],Ht=0;Ht<Nt.length;Ht++){var Kt=Nt[Ht];if(Kt.tag=="kern"){At=!0;for(var Ft=0;Ft<Kt.tab.length;Ft++)if(!Wt[Kt.tab[Ft]]){Wt[Kt.tab[Ft]]=!0;for(var tn=Dt[Kt.tab[Ft]],cn=0;cn<tn.tabs.length;cn++)if(tn.tabs[cn]!=null){var fn,ln=tn.tabs[cn];if((!ln.coverage||(fn=e._lctf.coverageIndex(ln.coverage,s))!=-1)&&tn.ltype!=1){if(tn.ltype==2){var dn=null;if(ln.fmt==1){var mn=ln.pairsets[fn];for(Ht=0;Ht<mn.length;Ht++)mn[Ht].gid2==Tt&&(dn=mn[Ht])}else if(ln.fmt==2){var xn=e.U._getGlyphClass(s,ln.classDef1),Mn=e.U._getGlyphClass(Tt,ln.classDef2);dn=ln.matrix[xn][Mn]}if(dn){var Tn=0;return dn.val1&&dn.val1[2]&&(Tn+=dn.val1[2]),dn.val2&&dn.val2[0]&&(Tn+=dn.val2[0]),Tn}}}}}}}if(vt.kern&&!At){var vn=vt.kern.glyph1.indexOf(s);if(vn!=-1){var An=vt.kern.rval[vn].glyph2.indexOf(Tt);if(An!=-1)return vt.kern.rval[vn].vals[An]}}return 0},e.U._applySubs=function(vt,s,Tt,At){for(var Rt=vt.length-s-1,Dt=0;Dt<Tt.tabs.length;Dt++)if(Tt.tabs[Dt]!=null){var Nt,Wt=Tt.tabs[Dt];if(!Wt.coverage||(Nt=e._lctf.coverageIndex(Wt.coverage,vt[s]))!=-1){if(Tt.ltype==1)vt[s],Wt.fmt==1?vt[s]=vt[s]+Wt.delta:vt[s]=Wt.newg[Nt];else if(Tt.ltype==4)for(var Ht=Wt.vals[Nt],Kt=0;Kt<Ht.length;Kt++){var Ft=Ht[Kt],tn=Ft.chain.length;if(!(tn>Rt)){for(var cn=!0,fn=0,ln=0;ln<tn;ln++){for(;vt[s+fn+(1+ln)]==-1;)fn++;Ft.chain[ln]!=vt[s+fn+(1+ln)]&&(cn=!1)}if(cn){for(vt[s]=Ft.nglyph,ln=0;ln<tn+fn;ln++)vt[s+ln+1]=-1;break}}}else if(Tt.ltype==5&&Wt.fmt==2)for(var dn=e._lctf.getInterval(Wt.cDef,vt[s]),mn=Wt.cDef[dn+2],xn=Wt.scset[mn],Mn=0;Mn<xn.length;Mn++){var Tn=xn[Mn],vn=Tn.input;if(!(vn.length>Rt)){for(cn=!0,ln=0;ln<vn.length;ln++){var An=e._lctf.getInterval(Wt.cDef,vt[s+1+ln]);if(dn==-1&&Wt.cDef[An+2]!=vn[ln]){cn=!1;break}}if(cn){var Pn=Tn.substLookupRecords;for(Kt=0;Kt<Pn.length;Kt+=2)Pn[Kt],Pn[Kt+1]}}}else if(Tt.ltype==6&&Wt.fmt==3){if(!e.U._glsCovered(vt,Wt.backCvg,s-Wt.backCvg.length)||!e.U._glsCovered(vt,Wt.inptCvg,s)||!e.U._glsCovered(vt,Wt.ahedCvg,s+Wt.inptCvg.length))continue;var bn=Wt.lookupRec;for(Mn=0;Mn<bn.length;Mn+=2){dn=bn[Mn];var In=At[bn[Mn+1]];e.U._applySubs(vt,s+dn,In,At)}}}}},e.U._glsCovered=function(vt,s,Tt){for(var At=0;At<s.length;At++)if(e._lctf.coverageIndex(s[At],vt[Tt+At])==-1)return!1;return!0},e.U.glyphsToPath=function(vt,s,Tt){for(var At={cmds:[],crds:[]},Rt=0,Dt=0;Dt<s.length;Dt++){var Nt=s[Dt];if(Nt!=-1){for(var Wt=Dt<s.length-1&&s[Dt+1]!=-1?s[Dt+1]:0,Ht=e.U.glyphToPath(vt,Nt),Kt=0;Kt<Ht.crds.length;Kt+=2)At.crds.push(Ht.crds[Kt]+Rt),At.crds.push(Ht.crds[Kt+1]);for(Tt&&At.cmds.push(Tt),Kt=0;Kt<Ht.cmds.length;Kt++)At.cmds.push(Ht.cmds[Kt]);Tt&&At.cmds.push("X"),Rt+=vt.hmtx.aWidth[Nt],Dt<s.length-1&&(Rt+=e.U.getPairAdjustment(vt,Nt,Wt))}}return At},e.U.P={},e.U.P.moveTo=function(vt,s,Tt){vt.cmds.push("M"),vt.crds.push(s,Tt)},e.U.P.lineTo=function(vt,s,Tt){vt.cmds.push("L"),vt.crds.push(s,Tt)},e.U.P.curveTo=function(vt,s,Tt,At,Rt,Dt,Nt){vt.cmds.push("C"),vt.crds.push(s,Tt,At,Rt,Dt,Nt)},e.U.P.qcurveTo=function(vt,s,Tt,At,Rt){vt.cmds.push("Q"),vt.crds.push(s,Tt,At,Rt)},e.U.P.closePath=function(vt){vt.cmds.push("Z")},e.U._drawCFF=function(vt,s,Tt,At,Rt){for(var Dt=s.stack,Nt=s.nStems,Wt=s.haveWidth,Ht=s.width,Kt=s.open,Ft=0,tn=s.x,cn=s.y,fn=0,ln=0,dn=0,mn=0,xn=0,Mn=0,Tn=0,vn=0,An=0,Pn=0,bn={val:0,size:0};Ft<vt.length;){e.CFF.getCharString(vt,Ft,bn);var In=bn.val;if(Ft+=bn.size,In=="o1"||In=="o18")Dt.length%2!=0&&!Wt&&(Ht=Dt.shift()+At.nominalWidthX),Nt+=Dt.length>>1,Dt.length=0,Wt=!0;else if(In=="o3"||In=="o23")Dt.length%2!=0&&!Wt&&(Ht=Dt.shift()+At.nominalWidthX),Nt+=Dt.length>>1,Dt.length=0,Wt=!0;else if(In=="o4")Dt.length>1&&!Wt&&(Ht=Dt.shift()+At.nominalWidthX,Wt=!0),Kt&&e.U.P.closePath(Rt),cn+=Dt.pop(),e.U.P.moveTo(Rt,tn,cn),Kt=!0;else if(In=="o5")for(;Dt.length>0;)tn+=Dt.shift(),cn+=Dt.shift(),e.U.P.lineTo(Rt,tn,cn);else if(In=="o6"||In=="o7")for(var On=Dt.length,Nn=In=="o6",Yn=0;Yn<On;Yn++){var Xn=Dt.shift();Nn?tn+=Xn:cn+=Xn,Nn=!Nn,e.U.P.lineTo(Rt,tn,cn)}else if(In=="o8"||In=="o24"){On=Dt.length;for(var sr=0;sr+6<=On;)fn=tn+Dt.shift(),ln=cn+Dt.shift(),dn=fn+Dt.shift(),mn=ln+Dt.shift(),tn=dn+Dt.shift(),cn=mn+Dt.shift(),e.U.P.curveTo(Rt,fn,ln,dn,mn,tn,cn),sr+=6;In=="o24"&&(tn+=Dt.shift(),cn+=Dt.shift(),e.U.P.lineTo(Rt,tn,cn))}else{if(In=="o11")break;if(In=="o1234"||In=="o1235"||In=="o1236"||In=="o1237")In=="o1234"&&(ln=cn,dn=(fn=tn+Dt.shift())+Dt.shift(),Pn=mn=ln+Dt.shift(),Mn=mn,vn=cn,tn=(Tn=(xn=(An=dn+Dt.shift())+Dt.shift())+Dt.shift())+Dt.shift(),e.U.P.curveTo(Rt,fn,ln,dn,mn,An,Pn),e.U.P.curveTo(Rt,xn,Mn,Tn,vn,tn,cn)),In=="o1235"&&(fn=tn+Dt.shift(),ln=cn+Dt.shift(),dn=fn+Dt.shift(),mn=ln+Dt.shift(),An=dn+Dt.shift(),Pn=mn+Dt.shift(),xn=An+Dt.shift(),Mn=Pn+Dt.shift(),Tn=xn+Dt.shift(),vn=Mn+Dt.shift(),tn=Tn+Dt.shift(),cn=vn+Dt.shift(),Dt.shift(),e.U.P.curveTo(Rt,fn,ln,dn,mn,An,Pn),e.U.P.curveTo(Rt,xn,Mn,Tn,vn,tn,cn)),In=="o1236"&&(fn=tn+Dt.shift(),ln=cn+Dt.shift(),dn=fn+Dt.shift(),Pn=mn=ln+Dt.shift(),Mn=mn,Tn=(xn=(An=dn+Dt.shift())+Dt.shift())+Dt.shift(),vn=Mn+Dt.shift(),tn=Tn+Dt.shift(),e.U.P.curveTo(Rt,fn,ln,dn,mn,An,Pn),e.U.P.curveTo(Rt,xn,Mn,Tn,vn,tn,cn)),In=="o1237"&&(fn=tn+Dt.shift(),ln=cn+Dt.shift(),dn=fn+Dt.shift(),mn=ln+Dt.shift(),An=dn+Dt.shift(),Pn=mn+Dt.shift(),xn=An+Dt.shift(),Mn=Pn+Dt.shift(),Tn=xn+Dt.shift(),vn=Mn+Dt.shift(),Math.abs(Tn-tn)>Math.abs(vn-cn)?tn=Tn+Dt.shift():cn=vn+Dt.shift(),e.U.P.curveTo(Rt,fn,ln,dn,mn,An,Pn),e.U.P.curveTo(Rt,xn,Mn,Tn,vn,tn,cn));else if(In=="o14"){if(Dt.length>0&&!Wt&&(Ht=Dt.shift()+Tt.nominalWidthX,Wt=!0),Dt.length==4){var Un=Dt.shift(),Gn=Dt.shift(),Wn=Dt.shift(),$n=Dt.shift(),zn=e.CFF.glyphBySE(Tt,Wn),Zn=e.CFF.glyphBySE(Tt,$n);e.U._drawCFF(Tt.CharStrings[zn],s,Tt,At,Rt),s.x=Un,s.y=Gn,e.U._drawCFF(Tt.CharStrings[Zn],s,Tt,At,Rt)}Kt&&(e.U.P.closePath(Rt),Kt=!1)}else if(In=="o19"||In=="o20")Dt.length%2!=0&&!Wt&&(Ht=Dt.shift()+At.nominalWidthX),Nt+=Dt.length>>1,Dt.length=0,Wt=!0,Ft+=Nt+7>>3;else if(In=="o21")Dt.length>2&&!Wt&&(Ht=Dt.shift()+At.nominalWidthX,Wt=!0),cn+=Dt.pop(),tn+=Dt.pop(),Kt&&e.U.P.closePath(Rt),e.U.P.moveTo(Rt,tn,cn),Kt=!0;else if(In=="o22")Dt.length>1&&!Wt&&(Ht=Dt.shift()+At.nominalWidthX,Wt=!0),tn+=Dt.pop(),Kt&&e.U.P.closePath(Rt),e.U.P.moveTo(Rt,tn,cn),Kt=!0;else if(In=="o25"){for(;Dt.length>6;)tn+=Dt.shift(),cn+=Dt.shift(),e.U.P.lineTo(Rt,tn,cn);fn=tn+Dt.shift(),ln=cn+Dt.shift(),dn=fn+Dt.shift(),mn=ln+Dt.shift(),tn=dn+Dt.shift(),cn=mn+Dt.shift(),e.U.P.curveTo(Rt,fn,ln,dn,mn,tn,cn)}else if(In=="o26")for(Dt.length%2&&(tn+=Dt.shift());Dt.length>0;)fn=tn,ln=cn+Dt.shift(),tn=dn=fn+Dt.shift(),cn=(mn=ln+Dt.shift())+Dt.shift(),e.U.P.curveTo(Rt,fn,ln,dn,mn,tn,cn);else if(In=="o27")for(Dt.length%2&&(cn+=Dt.shift());Dt.length>0;)ln=cn,dn=(fn=tn+Dt.shift())+Dt.shift(),mn=ln+Dt.shift(),tn=dn+Dt.shift(),cn=mn,e.U.P.curveTo(Rt,fn,ln,dn,mn,tn,cn);else if(In=="o10"||In=="o29"){var tr=In=="o10"?At:Tt;if(Dt.length==0)console.debug("error: empty stack");else{var Hn=Dt.pop(),dr=tr.Subrs[Hn+tr.Bias];s.x=tn,s.y=cn,s.nStems=Nt,s.haveWidth=Wt,s.width=Ht,s.open=Kt,e.U._drawCFF(dr,s,Tt,At,Rt),tn=s.x,cn=s.y,Nt=s.nStems,Wt=s.haveWidth,Ht=s.width,Kt=s.open}}else if(In=="o30"||In=="o31"){var nr=Dt.length,hr=(sr=0,In=="o31");for(sr+=nr-(On=-3&nr);sr<On;)hr?(ln=cn,dn=(fn=tn+Dt.shift())+Dt.shift(),cn=(mn=ln+Dt.shift())+Dt.shift(),On-sr==5?(tn=dn+Dt.shift(),sr++):tn=dn,hr=!1):(fn=tn,ln=cn+Dt.shift(),dn=fn+Dt.shift(),mn=ln+Dt.shift(),tn=dn+Dt.shift(),On-sr==5?(cn=mn+Dt.shift(),sr++):cn=mn,hr=!0),e.U.P.curveTo(Rt,fn,ln,dn,mn,tn,cn),sr+=4}else{if((In+"").charAt(0)=="o")throw console.debug("Unknown operation: "+In,vt),In;Dt.push(In)}}}s.x=tn,s.y=cn,s.nStems=Nt,s.haveWidth=Wt,s.width=Ht,s.open=Kt};var $=e,ft={Typr:$};return lt.Typr=$,lt.default=ft,Object.defineProperty(lt,"__esModule",{value:!0}),lt}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(lt){var e=Uint8Array,$=Uint16Array,ft=Uint32Array,vt=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Tt=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),At=function(In,On){for(var Nn=new $(31),Yn=0;Yn<31;++Yn)Nn[Yn]=On+=1<<In[Yn-1];var Xn=new ft(Nn[30]);for(Yn=1;Yn<30;++Yn)for(var sr=Nn[Yn];sr<Nn[Yn+1];++sr)Xn[sr]=sr-Nn[Yn]<<5|Yn;return[Nn,Xn]},Rt=At(vt,2),Dt=Rt[0],Nt=Rt[1];Dt[28]=258,Nt[258]=28;for(var Wt=At(s,0)[0],Ht=new $(32768),Kt=0;Kt<32768;++Kt){var Ft=(43690&Kt)>>>1|(21845&Kt)<<1;Ft=(61680&(Ft=(52428&Ft)>>>2|(13107&Ft)<<2))>>>4|(3855&Ft)<<4,Ht[Kt]=((65280&Ft)>>>8|(255&Ft)<<8)>>>1}var tn=function(In,On,Nn){for(var Yn=In.length,Xn=0,sr=new $(On);Xn<Yn;++Xn)++sr[In[Xn]-1];var Un,Gn=new $(On);for(Xn=0;Xn<On;++Xn)Gn[Xn]=Gn[Xn-1]+sr[Xn-1]<<1;if(Nn){Un=new $(1<<On);var Wn=15-On;for(Xn=0;Xn<Yn;++Xn)if(In[Xn])for(var $n=Xn<<4|In[Xn],zn=On-In[Xn],Zn=Gn[In[Xn]-1]++<<zn,tr=Zn|(1<<zn)-1;Zn<=tr;++Zn)Un[Ht[Zn]>>>Wn]=$n}else for(Un=new $(Yn),Xn=0;Xn<Yn;++Xn)In[Xn]&&(Un[Xn]=Ht[Gn[In[Xn]-1]++]>>>15-In[Xn]);return Un},cn=new e(288);for(Kt=0;Kt<144;++Kt)cn[Kt]=8;for(Kt=144;Kt<256;++Kt)cn[Kt]=9;for(Kt=256;Kt<280;++Kt)cn[Kt]=7;for(Kt=280;Kt<288;++Kt)cn[Kt]=8;var fn=new e(32);for(Kt=0;Kt<32;++Kt)fn[Kt]=5;var ln=tn(cn,9,1),dn=tn(fn,5,1),mn=function(In){for(var On=In[0],Nn=1;Nn<In.length;++Nn)In[Nn]>On&&(On=In[Nn]);return On},xn=function(In,On,Nn){var Yn=On/8|0;return(In[Yn]|In[Yn+1]<<8)>>(7&On)&Nn},Mn=function(In,On){var Nn=On/8|0;return(In[Nn]|In[Nn+1]<<8|In[Nn+2]<<16)>>(7&On)},Tn=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],vn=function(In,On,Nn){var Yn=new Error(On||Tn[In]);if(Yn.code=In,Error.captureStackTrace&&Error.captureStackTrace(Yn,vn),!Nn)throw Yn;return Yn},An=function(In,On,Nn){var Yn=In.length;if(!Yn||Nn&&!Nn.l&&Yn<5)return On||new e(0);var Xn=!On||Nn,sr=!Nn||Nn.i;Nn||(Nn={}),On||(On=new e(3*Yn));var Un,Gn=function(Rr){var Qr=On.length;if(Rr>Qr){var po=new e(Math.max(2*Qr,Rr));po.set(On),On=po}},Wn=Nn.f||0,$n=Nn.p||0,zn=Nn.b||0,Zn=Nn.l,tr=Nn.d,Hn=Nn.m,dr=Nn.n,nr=8*Yn;do{if(!Zn){Nn.f=Wn=xn(In,$n,1);var hr=xn(In,$n+1,3);if($n+=3,!hr){var Pr=In[(qr=((Un=$n)/8|0)+(7&Un&&1)+4)-4]|In[qr-3]<<8,Vr=qr+Pr;if(Vr>Yn){sr&&vn(0);break}Xn&&Gn(zn+Pr),On.set(In.subarray(qr,Vr),zn),Nn.b=zn+=Pr,Nn.p=$n=8*Vr;continue}if(hr==1)Zn=ln,tr=dn,Hn=9,dr=5;else if(hr==2){var kr=xn(In,$n,31)+257,Zt=xn(In,$n+10,15)+4,ur=kr+xn(In,$n+5,31)+1;$n+=14;for(var Br=new e(ur),zr=new e(19),Dr=0;Dr<Zt;++Dr)zr[Tt[Dr]]=xn(In,$n+3*Dr,7);$n+=3*Zt;var Jr=mn(zr),xr=(1<<Jr)-1,jr=tn(zr,Jr,1);for(Dr=0;Dr<ur;){var qr,Tr=jr[xn(In,$n,xr)];if($n+=15&Tr,(qr=Tr>>>4)<16)Br[Dr++]=qr;else{var Bn=0,Ln=0;for(qr==16?(Ln=3+xn(In,$n,3),$n+=2,Bn=Br[Dr-1]):qr==17?(Ln=3+xn(In,$n,7),$n+=3):qr==18&&(Ln=11+xn(In,$n,127),$n+=7);Ln--;)Br[Dr++]=Bn}}var Jn=Br.subarray(0,kr),yr=Br.subarray(kr);Hn=mn(Jn),dr=mn(yr),Zn=tn(Jn,Hn,1),tr=tn(yr,dr,1)}else vn(1);if($n>nr){sr&&vn(0);break}}Xn&&Gn(zn+131072);for(var Wr=(1<<Hn)-1,Yr=(1<<dr)-1,Xr=$n;;Xr=$n){var Kr=(Bn=Zn[Mn(In,$n)&Wr])>>>4;if(($n+=15&Bn)>nr){sr&&vn(0);break}if(Bn||vn(2),Kr<256)On[zn++]=Kr;else{if(Kr==256){Xr=$n,Zn=null;break}var Cr=Kr-254;if(Kr>264){var eo=vt[Dr=Kr-257];Cr=xn(In,$n,(1<<eo)-1)+Dt[Dr],$n+=eo}var jn=tr[Mn(In,$n)&Yr],gr=jn>>>4;if(jn||vn(3),$n+=15&jn,yr=Wt[gr],gr>3&&(eo=s[gr],yr+=Mn(In,$n)&(1<<eo)-1,$n+=eo),$n>nr){sr&&vn(0);break}Xn&&Gn(zn+131072);for(var Ar=zn+Cr;zn<Ar;zn+=4)On[zn]=On[zn-yr],On[zn+1]=On[zn+1-yr],On[zn+2]=On[zn+2-yr],On[zn+3]=On[zn+3-yr];zn=Ar}}Nn.l=Zn,Nn.p=Xr,Nn.b=zn,Zn&&(Wn=1,Nn.m=Hn,Nn.d=tr,Nn.n=dr)}while(!Wn);return zn==On.length?On:function(Rr,Qr,po){(Qr==null||Qr<0)&&(Qr=0),(po==null||po>Rr.length)&&(po=Rr.length);var _o=new(Rr instanceof $?$:Rr instanceof ft?ft:e)(po-Qr);return _o.set(Rr.subarray(Qr,po)),_o}(On,0,zn)},Pn=new e(0),bn=typeof TextDecoder<"u"&&new TextDecoder;try{bn.decode(Pn,{stream:!0})}catch{}return lt.convert_streams=function(In){var On=new DataView(In),Nn=0;function Yn(){var kr=On.getUint16(Nn);return Nn+=2,kr}function Xn(){var kr=On.getUint32(Nn);return Nn+=4,kr}function sr(kr){Pr.setUint16(Vr,kr),Vr+=2}function Un(kr){Pr.setUint32(Vr,kr),Vr+=4}for(var Gn={signature:Xn(),flavor:Xn(),length:Xn(),numTables:Yn(),reserved:Yn(),totalSfntSize:Xn(),majorVersion:Yn(),minorVersion:Yn(),metaOffset:Xn(),metaLength:Xn(),metaOrigLength:Xn(),privOffset:Xn(),privLength:Xn()},Wn=0;Math.pow(2,Wn)<=Gn.numTables;)Wn++;Wn--;for(var $n=16*Math.pow(2,Wn),zn=16*Gn.numTables-$n,Zn=12,tr=[],Hn=0;Hn<Gn.numTables;Hn++)tr.push({tag:Xn(),offset:Xn(),compLength:Xn(),origLength:Xn(),origChecksum:Xn()}),Zn+=16;var dr,nr=new Uint8Array(12+16*tr.length+tr.reduce(function(kr,Zt){return kr+Zt.origLength+4},0)),hr=nr.buffer,Pr=new DataView(hr),Vr=0;return Un(Gn.flavor),sr(Gn.numTables),sr($n),sr(Wn),sr(zn),tr.forEach(function(kr){Un(kr.tag),Un(kr.origChecksum),Un(Zn),Un(kr.origLength),kr.outOffset=Zn,(Zn+=kr.origLength)%4!=0&&(Zn+=4-Zn%4)}),tr.forEach(function(kr){var Zt,ur=In.slice(kr.offset,kr.offset+kr.compLength);if(kr.compLength!=kr.origLength){var Br=new Uint8Array(kr.origLength);Zt=new Uint8Array(ur,2),An(Zt,Br)}else Br=new Uint8Array(ur);nr.set(Br,kr.outOffset);var zr=0;(Zn=kr.outOffset+kr.origLength)%4!=0&&(zr=4-Zn%4),nr.set(new Uint8Array(zr).buffer,kr.outOffset+kr.origLength),dr=Zn+zr}),hr.slice(0,dr)},Object.defineProperty(lt,"__esModule",{value:!0}),lt}({}).convert_streams}function parserFactory(lt,e){const $={M:2,L:2,Q:4,C:6,Z:0},ft={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},vt=1,s=2,Tt=4,At=8,Rt=16,Dt=32;let Nt;function Wt(xn){if(!Nt){const Mn={R:s,L:vt,D:Tt,C:Rt,U:Dt,T:At};Nt=new Map;for(let Tn in ft){let vn=0;ft[Tn].split(",").forEach(An=>{let[Pn,bn]=An.split("+");Pn=parseInt(Pn,36),bn=bn?parseInt(bn,36):0,Nt.set(vn+=Pn,Mn[Tn]);for(let In=bn;In--;)Nt.set(++vn,Mn[Tn])})}}return Nt.get(xn)||Dt}const Ht=1,Kt=2,Ft=3,tn=4,cn=[null,"isol","init","fina","medi"];function fn(xn){const Mn=new Uint8Array(xn.length);let Tn=Dt,vn=Ht,An=-1;for(let Pn=0;Pn<xn.length;Pn++){const bn=xn.codePointAt(Pn);let In=Wt(bn)|0,On=Ht;In&At||(Tn&(vt|Tt|Rt)?In&(s|Tt|Rt)?(On=Ft,(vn===Ht||vn===Ft)&&Mn[An]++):In&(vt|Dt)&&(vn===Kt||vn===tn)&&Mn[An]--:Tn&(s|Dt)&&(vn===Kt||vn===tn)&&Mn[An]--,vn=Mn[Pn]=On,Tn=In,An=Pn,bn>65535&&Pn++)}return Mn}function ln(xn,Mn){const Tn=[];for(let An=0;An<Mn.length;An++){const Pn=Mn.codePointAt(An);Pn>65535&&An++,Tn.push(lt.U.codeToGlyph(xn,Pn))}const vn=xn.GSUB;if(vn){const{lookupList:An,featureList:Pn}=vn;let bn;const In=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,On=[];Pn.forEach(Nn=>{if(In.test(Nn.tag))for(let Yn=0;Yn<Nn.tab.length;Yn++){if(On[Nn.tab[Yn]])continue;On[Nn.tab[Yn]]=!0;const Xn=An[Nn.tab[Yn]],sr=/^(isol|init|fina|medi)$/.test(Nn.tag);sr&&!bn&&(bn=fn(Mn));for(let Un=0;Un<Tn.length;Un++)(!bn||!sr||cn[bn[Un]]===Nn.tag)&&lt.U._applySubs(Tn,Un,Xn,An)}})}return Tn}function dn(...xn){for(let Mn=0;Mn<xn.length;Mn++)if(typeof xn[Mn]=="number")return xn[Mn]}function mn(xn){const Mn=Object.create(null),Tn=xn["OS/2"],vn=xn.hhea,An=xn.head.unitsPerEm,Pn=dn(Tn&&Tn.sTypoAscender,vn&&vn.ascender,An),bn={unitsPerEm:An,ascender:Pn,descender:dn(Tn&&Tn.sTypoDescender,vn&&vn.descender,0),capHeight:dn(Tn&&Tn.sCapHeight,Pn),xHeight:dn(Tn&&Tn.sxHeight,Pn),lineGap:dn(Tn&&Tn.sTypoLineGap,vn&&vn.lineGap),forEachGlyph(In,On,Nn,Yn){let Xn=0;const sr=1/bn.unitsPerEm*On,Un=ln(xn,In);let Gn=0,Wn=-1;return Un.forEach(($n,zn)=>{if($n!==-1){let Zn=Mn[$n];if(!Zn){const{cmds:tr,crds:Hn}=lt.U.glyphToPath(xn,$n);let dr="",nr=0;for(let Zt=0,ur=tr.length;Zt<ur;Zt++){const Br=$[tr[Zt]];dr+=tr[Zt];for(let zr=1;zr<=Br;zr++)dr+=(zr>1?",":"")+Hn[nr++]}let hr,Pr,Vr,kr;if(Hn.length){hr=Pr=1/0,Vr=kr=-1/0;for(let Zt=0,ur=Hn.length;Zt<ur;Zt+=2){let Br=Hn[Zt],zr=Hn[Zt+1];Br<hr&&(hr=Br),zr<Pr&&(Pr=zr),Br>Vr&&(Vr=Br),zr>kr&&(kr=zr)}}else hr=Vr=Pr=kr=0;Zn=Mn[$n]={index:$n,advanceWidth:xn.hmtx.aWidth[$n],xMin:hr,yMin:Pr,xMax:Vr,yMax:kr,path:dr,pathCommandCount:tr.length}}Wn!==-1&&(Xn+=lt.U.getPairAdjustment(xn,Wn,$n)*sr),Yn.call(null,Zn,Xn,Gn),Zn.advanceWidth&&(Xn+=Zn.advanceWidth*sr),Nn&&(Xn+=Nn*On),Wn=$n}Gn+=In.codePointAt(Gn)>65535?2:1}),Xn}};return bn}return function(Mn){const Tn=new Uint8Array(Mn,0,4),vn=lt._bin.readASCII(Tn,0,4);if(vn==="wOFF")Mn=e(Mn);else if(vn==="wOF2")throw new Error("woff2 fonts not supported");return mn(lt.parse(Mn)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(lt,e,$){const ft=lt(),vt=e();return $(ft,vt)}}),CONFIG={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(lt,e){lt=assign({},lt);const $=now$1();if(lt.font=toAbsoluteURL(lt.font||CONFIG.defaultFontURL),lt.text=""+lt.text,lt.sdfGlyphSize=lt.sdfGlyphSize||CONFIG.sdfGlyphSize,lt.colorRanges!=null){let Wt={};for(let Ht in lt.colorRanges)if(lt.colorRanges.hasOwnProperty(Ht)){let Kt=lt.colorRanges[Ht];typeof Kt!="number"&&(Kt=tempColor.set(Kt).getHex()),Wt[Ht]=Kt}lt.colorRanges=Wt}Object.freeze(lt);const{textureWidth:ft,sdfExponent:vt}=CONFIG,{sdfGlyphSize:s}=lt,Tt=ft/s*4;let At=atlases[s];if(!At){const Wt=document.createElement("canvas");Wt.width=ft,Wt.height=s*256/Tt,At=atlases[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:Wt,sdfTexture:new Texture(Wt,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},At.sdfTexture.generateMipmaps=!1,initContextLossHandling(At)}const{sdfTexture:Rt,sdfCanvas:Dt}=At;let Nt=At.glyphsByFont.get(lt.font);Nt||At.glyphsByFont.set(lt.font,Nt=new Map),typesetInWorker(lt).then(Wt=>{const{glyphIds:Ht,glyphPositions:Kt,fontSize:Ft,unitsPerEm:tn,timings:cn}=Wt,fn=[],ln=new Float32Array(Ht.length*4),dn=Ft/tn;let mn=0,xn=0;const Mn=now$1();Ht.forEach((bn,In)=>{let On=Nt.get(bn);if(!On){const{path:sr,pathBounds:Un}=Wt.glyphData[bn],Gn=Math.max(Un[2]-Un[0],Un[3]-Un[1])/s*(CONFIG.sdfMargin*s+.5),Wn=At.glyphCount++,$n=[Un[0]-Gn,Un[1]-Gn,Un[2]+Gn,Un[3]+Gn];Nt.set(bn,On={path:sr,atlasIndex:Wn,sdfViewBox:$n}),fn.push(On)}const{sdfViewBox:Nn}=On,Yn=Kt[xn++],Xn=Kt[xn++];ln[mn++]=Yn+Nn[0]*dn,ln[mn++]=Xn+Nn[1]*dn,ln[mn++]=Yn+Nn[2]*dn,ln[mn++]=Xn+Nn[3]*dn,Ht[In]=On.atlasIndex}),cn.quads=(cn.quads||0)+(now$1()-Mn);const Tn=now$1();cn.sdf={};const vn=Dt.height,An=Math.ceil(At.glyphCount/Tt),Pn=Math.pow(2,Math.ceil(Math.log2(An*s)));Pn>vn&&(console.info(`Increasing SDF texture size ${vn}->${Pn}`),resizeWebGLCanvasWithoutClearing(Dt,ft,Pn),Rt.dispose()),Promise.all(fn.map(bn=>generateGlyphSDF(bn,At,lt.gpuAccelerateSDF).then(({timing:In})=>{cn.sdf[bn.atlasIndex]=In}))).then(()=>{fn.length&&!At.contextLost&&(safariPre15Workaround(At),Rt.needsUpdate=!0),cn.sdfTotal=now$1()-Tn,cn.total=now$1()-$,e(Object.freeze({parameters:lt,sdfTexture:Rt,sdfGlyphSize:s,sdfExponent:vt,glyphBounds:ln,glyphAtlasIndices:Ht,glyphColors:Wt.glyphColors,caretPositions:Wt.caretPositions,caretHeight:Wt.caretHeight,chunkedBounds:Wt.chunkedBounds,ascender:Wt.ascender,descender:Wt.descender,lineHeight:Wt.lineHeight,capHeight:Wt.capHeight,xHeight:Wt.xHeight,topBaseline:Wt.topBaseline,blockBounds:Wt.blockBounds,visibleBounds:Wt.visibleBounds,timings:Wt.timings}))})}),Promise.resolve().then(()=>{At.contextLost||warmUpSDFCanvas(Dt)})}function generateGlyphSDF({path:lt,atlasIndex:e,sdfViewBox:$},{sdfGlyphSize:ft,sdfCanvas:vt,contextLost:s},Tt){if(s)return Promise.resolve({timing:-1});const{textureWidth:At,sdfExponent:Rt}=CONFIG,Dt=Math.max($[2]-$[0],$[3]-$[1]),Nt=Math.floor(e/4),Wt=Nt%(At/ft)*ft,Ht=Math.floor(Nt/(At/ft))*ft,Kt=e%4;return generateSDF(ft,ft,lt,$,Dt,Rt,vt,Wt,Ht,Kt,Tt)}function initContextLossHandling(lt){const e=lt.sdfCanvas;e.addEventListener("webglcontextlost",$=>{console.log("Context Lost",$),$.preventDefault(),lt.contextLost=!0}),e.addEventListener("webglcontextrestored",$=>{console.log("Context Restored",$),lt.contextLost=!1;const ft=[];lt.glyphsByFont.forEach(vt=>{vt.forEach(s=>{ft.push(generateGlyphSDF(s,lt,!0))})}),Promise.all(ft).then(()=>{safariPre15Workaround(lt),lt.sdfTexture.needsUpdate=!0})})}function preloadFont({font:lt,characters:e,sdfGlyphSize:$},ft){let vt=Array.isArray(e)?e.join(`
`):""+e;getTextRenderInfo({font:lt,sdfGlyphSize:$,text:vt},ft)}function assign(lt,e){for(let $ in e)e.hasOwnProperty($)&&(lt[$]=e[$]);return lt}let linkEl;function toAbsoluteURL(lt){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=lt,linkEl.href}function safariPre15Workaround(lt){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:$}=lt,{width:ft,height:vt}=e,s=lt.sdfCanvas.getContext("webgl");let Tt=$.image.data;(!Tt||Tt.length!==ft*vt*4)&&(Tt=new Uint8Array(ft*vt*4),$.image={width:ft,height:vt,data:Tt},$.flipY=!1,$.isDataTexture=!0),s.readPixels(0,0,ft,vt,s.RGBA,s.UNSIGNED_BYTE,Tt)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[CONFIG,workerModule,createTypesetter,bidiFactory],init(lt,e,$,ft){const{defaultFontURL:vt}=lt;return $(e,ft(),{defaultFontURL:vt})}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(lt){return function(e){return new Promise($=>{lt.typeset(e,$)})}},getTransferables(lt){const e=[lt.glyphPositions.buffer,lt.glyphIds.buffer];return lt.caretPositions&&e.push(lt.caretPositions.buffer),lt.glyphColors&&e.push(lt.glyphColors.buffer),e}}),templateGeometries={};function getTemplateGeometry(lt){let e=templateGeometries[lt];if(!e){const $=new PlaneGeometry(1,1,lt,lt),ft=$.clone(),vt=$.attributes,s=ft.attributes,Tt=new BufferGeometry,At=vt.uv.count;for(let Rt=0;Rt<At;Rt++)s.position.array[Rt*3]*=-1,s.normal.array[Rt*3+2]*=-1;["position","normal","uv"].forEach(Rt=>{Tt.setAttribute(Rt,new Float32BufferAttribute([...vt[Rt].array,...s[Rt].array],vt[Rt].itemSize))}),Tt.setIndex([...$.index.array,...ft.index.array.map(Rt=>Rt+At)]),Tt.translate(.5,.5,0),e=templateGeometries[lt]=Tt}return e}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const $=this.getIndex().count;this.setDrawRange(e===BackSide?$/2:0,e===DoubleSide?$:$/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let $=getTemplateGeometry(e);["position","normal","uv"].forEach(ft=>{this.attributes[ft]=$.attributes[ft].clone()}),this.setIndex($.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,$,ft,vt,s){updateBufferAttr(this,glyphBoundsAttrName,e,4),updateBufferAttr(this,glyphIndexAttrName,$,1),updateBufferAttr(this,glyphColorAttrName,s,3),this._blockBounds=ft,this._chunkedBounds=vt,this.instanceCount=$.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:$,boundingBox:ft}=this;if($){const{PI:vt,floor:s,min:Tt,max:At,sin:Rt,cos:Dt}=Math,Nt=vt/2,Wt=vt*2,Ht=Math.abs($),Kt=e[0]/Ht,Ft=e[2]/Ht,tn=s((Kt+Nt)/Wt)!==s((Ft+Nt)/Wt)?-Ht:Tt(Rt(Kt)*Ht,Rt(Ft)*Ht),cn=s((Kt-Nt)/Wt)!==s((Ft-Nt)/Wt)?Ht:At(Rt(Kt)*Ht,Rt(Ft)*Ht),fn=s((Kt+vt)/Wt)!==s((Ft+vt)/Wt)?Ht*2:At(Ht-Dt(Kt)*Ht,Ht-Dt(Ft)*Ht);ft.min.set(tn,e[1],$<0?-fn:0),ft.max.set(cn,e[3],$<0?0:fn)}else ft.min.set(e[0],e[1],0),ft.max.set(e[2],e[3],0);ft.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let $=this.getAttribute(glyphIndexAttrName).count,ft=this._chunkedBounds;if(ft)for(let vt=ft.length;vt--;){$=ft[vt].end;let s=ft[vt].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=$}}function updateBufferAttr(lt,e,$,ft){const vt=lt.getAttribute(e);$?vt&&vt.array.length===$.length?(vt.array.set($),vt.needsUpdate=!0):(lt.setAttribute(e,new InstancedBufferAttribute($,ft)),delete lt._maxInstanceCount,lt.dispose()):vt&&lt.deleteAttribute(e)}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(lt){const e=createDerivedMaterial(lt,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:$,fragmentShader:ft}){let vt=/\buniform\s+vec3\s+diffuse\b/;return vt.test(ft)&&(ft=ft.replace(vt,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),vt.test($)||($=$.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:$,fragmentShader:ft}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(lt){return Array.isArray(lt)?lt[0]:lt}let getFlatRaycastMesh=()=>{const lt=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>lt,lt},getCurvedRaycastMesh=()=>{const lt=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>lt,lt};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$1=class extends Mesh{constructor(){const e=new GlyphsGeometry;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},$=>{this._isSyncing=!1,this._textRenderInfo=$,this.geometry.updateGlyphs($.glyphBounds,$.glyphAtlasIndices,$.blockBounds,$.chunkedBounds,$.glyphColors);const ft=this._queuedSyncs;ft&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{ft.forEach(vt=>vt&&vt())})),this.dispatchEvent(syncCompleteEvent),e&&e()})))}onBeforeRender(e,$,ft,vt,s,Tt){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=FrontSide}onAfterRender(e,$,ft,vt,s,Tt){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const $=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!e||e.baseMaterial!==$)&&(e=this._derivedMaterial=createTextDerivedMaterial($),$.addEventListener("dispose",function ft(){$.removeEventListener("dispose",ft),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let ft=e._outlineMtl;return ft||(ft=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),ft.isTextOutlineMaterial=!0,ft.depthWrite=!1,ft.map=null,e.addEventListener("dispose",function vt(){e.removeEventListener("dispose",vt),ft.dispose()})),[ft,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return first(this.material).getDepthMaterial()}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}_prepareForRender(e){const $=e.isTextOutlineMaterial,ft=e.uniforms,vt=this.textRenderInfo;if(vt){const{sdfTexture:At,blockBounds:Rt}=vt;ft.uTroikaSDFTexture.value=At,ft.uTroikaSDFTextureSize.value.set(At.image.width,At.image.height),ft.uTroikaSDFGlyphSize.value=vt.sdfGlyphSize,ft.uTroikaSDFExponent.value=vt.sdfExponent,ft.uTroikaTotalBounds.value.fromArray(Rt),ft.uTroikaUseGlyphColors.value=!$&&!!vt.glyphColors;let Dt=0,Nt=0,Wt=0,Ht,Kt,Ft,tn=0,cn=0;if($){let{outlineWidth:ln,outlineOffsetX:dn,outlineOffsetY:mn,outlineBlur:xn,outlineOpacity:Mn}=this;Dt=this._parsePercent(ln)||0,Nt=Math.max(0,this._parsePercent(xn)||0),Ht=Mn,tn=this._parsePercent(dn)||0,cn=this._parsePercent(mn)||0}else Wt=Math.max(0,this._parsePercent(this.strokeWidth)||0),Wt&&(Ft=this.strokeColor,ft.uTroikaStrokeColor.value.set(Ft??defaultStrokeColor),Kt=this.strokeOpacity,Kt==null&&(Kt=1)),Ht=this.fillOpacity;ft.uTroikaDistanceOffset.value=Dt,ft.uTroikaPositionOffset.value.set(tn,cn),ft.uTroikaBlurRadius.value=Nt,ft.uTroikaStrokeWidth.value=Wt,ft.uTroikaStrokeOpacity.value=Kt,ft.uTroikaFillOpacity.value=Ht??1,ft.uTroikaCurveRadius.value=this.curveRadius||0;let fn=this.clipRect;if(fn&&Array.isArray(fn)&&fn.length===4)ft.uTroikaClipRect.value.fromArray(fn);else{const ln=(this.fontSize||.1)*100;ft.uTroikaClipRect.value.set(Rt[0]-ln,Rt[1]-ln,Rt[2]+ln,Rt[3]+ln)}this.geometry.applyClipRect(ft.uTroikaClipRect.value)}ft.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=$?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const At=e.hasOwnProperty("color")?e.color:e.color=new Color;(s!==At._input||typeof s=="object")&&At.set(At._input=s)}let Tt=this.orientation||defaultOrient;if(Tt!==e._orientation){let At=ft.uTroikaOrient.value;Tt=Tt.replace(/[^-+xyz]/g,"");let Rt=Tt!==defaultOrient&&Tt.match(/^([-+])([xyz])([-+])([xyz])$/);if(Rt){let[,Dt,Nt,Wt,Ht]=Rt;tempVec3a.set(0,0,0)[Nt]=Dt==="-"?1:-1,tempVec3b.set(0,0,0)[Ht]=Wt==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),At.setFromMatrix4(tempMat4)}else At.identity();e._orientation=Tt}}_parsePercent(e){if(typeof e=="string"){let $=e.match(/^(-?[\d.]+)%$/),ft=$?parseFloat($[1]):NaN;e=(isNaN(ft)?0:ft/100)*this.fontSize}return e}localPositionToTextCoords(e,$=new Vector2){$.copy(e);const ft=this.curveRadius;return ft&&($.x=Math.atan2(e.x,Math.abs(ft)-Math.abs(e.z))*Math.abs(ft)),$}worldPositionToTextCoords(e,$=new Vector2){return tempVec3a.copy(e),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),$)}raycast(e,$){const{textRenderInfo:ft,curveRadius:vt}=this;if(ft){const s=ft.blockBounds,Tt=vt?getCurvedRaycastMesh():getFlatRaycastMesh(),At=Tt.geometry,{position:Rt,uv:Dt}=At.attributes;for(let Nt=0;Nt<Dt.count;Nt++){let Wt=s[0]+Dt.getX(Nt)*(s[2]-s[0]);const Ht=s[1]+Dt.getY(Nt)*(s[3]-s[1]);let Kt=0;vt&&(Kt=vt-Math.cos(Wt/vt)*vt,Wt=Math.sin(Wt/vt)*vt),Rt.setXYZ(Nt,Wt,Ht,Kt)}At.boundingSphere=this.geometry.boundingSphere,At.boundingBox=this.geometry.boundingBox,Tt.matrixWorld=this.matrixWorld,Tt.material.side=this.material.side,tempArray.length=0,Tt.raycast(e,tempArray);for(let Nt=0;Nt<tempArray.length;Nt++)tempArray[Nt].object=this,$.push(tempArray[Nt])}}copy(e){const $=this.geometry;return super.copy(e),this.geometry=$,COPYABLE_PROPS.forEach(ft=>{this[ft]=e[ft]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(lt=>{const e="_private_"+lt;Object.defineProperty(Text$1.prototype,lt,{get(){return this[e]},set($){$!==this[e]&&(this[e]=$,this._needsSync=!0)}})});const Text=reactExports.forwardRef(({anchorX:lt="center",anchorY:e="middle",font:$,fontSize:ft=1,children:vt,characters:s,onSync:Tt,...At},Rt)=>{const Dt=useThree(({invalidate:Kt})=>Kt),[Nt]=reactExports.useState(()=>new Text$1),[Wt,Ht]=reactExports.useMemo(()=>{const Kt=[];let Ft="";return reactExports.Children.forEach(vt,tn=>{typeof tn=="string"||typeof tn=="number"?Ft+=tn:Kt.push(tn)}),[Kt,Ft]},[vt]);return suspend(()=>new Promise(Kt=>preloadFont({font:$,characters:s},Kt)),["troika-text",$,s]),reactExports.useLayoutEffect(()=>void Nt.sync(()=>{Dt(),Tt&&Tt(Nt)})),reactExports.useEffect(()=>()=>Nt.dispose(),[Nt]),reactExports.createElement("primitive",_extends$1({object:Nt,ref:Rt,font:$,text:Ht,anchorX:lt,anchorY:e,fontSize:ft},At),Wt)}),IsObject=lt=>lt===Object(lt)&&!Array.isArray(lt)&&typeof lt!="function";function useTexture(lt,e){const $=useThree(vt=>vt.gl),ft=useLoader(TextureLoader,IsObject(lt)?Object.values(lt):lt);if(reactExports.useLayoutEffect(()=>{e==null||e(ft)},[e]),reactExports.useEffect(()=>{(Array.isArray(ft)?ft:[ft]).forEach($.initTexture)},[$,ft]),IsObject(lt)){const vt=Object.keys(lt),s={};return vt.forEach(Tt=>Object.assign(s,{[Tt]:ft[vt.indexOf(Tt)]})),s}else return ft}useTexture.preload=lt=>useLoader.preload(TextureLoader,lt);useTexture.clear=lt=>useLoader.clear(TextureLoader,lt);function useFBO(lt,e,$){const{gl:ft,size:vt,viewport:s}=useThree(),Tt=typeof lt=="number"?lt:vt.width*s.dpr,At=typeof e=="number"?e:vt.height*s.dpr,Rt=(typeof lt=="number"?$:lt)||{},{samples:Dt=0,depth:Nt,...Wt}=Rt,Ht=reactExports.useMemo(()=>{let Kt;return Kt=new WebGLRenderTarget(Tt,At,{minFilter:LinearFilter,magFilter:LinearFilter,encoding:ft.outputEncoding,type:HalfFloatType,...Wt}),Nt&&(Kt.depthTexture=new DepthTexture(Tt,At,FloatType)),Kt.samples=Dt,Kt},[]);return reactExports.useLayoutEffect(()=>{Ht.setSize(Tt,At),Dt&&(Ht.samples=Dt)},[Dt,Ht,Tt,At]),reactExports.useEffect(()=>()=>Ht.dispose(),[]),Ht}const isFunction=lt=>typeof lt=="function",OrthographicCamera=reactExports.forwardRef(({envMap:lt,resolution:e=256,frames:$=1/0,children:ft,makeDefault:vt,...s},Tt)=>{const At=useThree(({set:cn})=>cn),Rt=useThree(({camera:cn})=>cn),Dt=useThree(({size:cn})=>cn),Nt=reactExports.useRef(null),Wt=reactExports.useRef(null),Ht=useFBO(e);reactExports.useLayoutEffect(()=>{s.manual||Nt.current.updateProjectionMatrix()},[Dt,s]),reactExports.useLayoutEffect(()=>{Nt.current.updateProjectionMatrix()}),reactExports.useLayoutEffect(()=>{if(vt){const cn=Rt;return At(()=>({camera:Nt.current})),()=>At(()=>({camera:cn}))}},[Nt,vt,At]);let Kt=0,Ft=null;const tn=isFunction(ft);return useFrame(cn=>{tn&&($===1/0||Kt<$)&&(Wt.current.visible=!1,cn.gl.setRenderTarget(Ht),Ft=cn.scene.background,lt&&(cn.scene.background=lt),cn.gl.render(cn.scene,Nt.current),cn.scene.background=Ft,cn.gl.setRenderTarget(null),Wt.current.visible=!0,Kt++)}),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("orthographicCamera",_extends$1({left:Dt.width/-2,right:Dt.width/2,top:Dt.height/2,bottom:Dt.height/-2,ref:mergeRefs([Nt,Tt])},s),!tn&&ft),reactExports.createElement("group",{ref:Wt},tn&&ft(Ht.texture)))}),OrbitControls=reactExports.forwardRef(({makeDefault:lt,camera:e,regress:$,domElement:ft,enableDamping:vt=!0,onChange:s,onStart:Tt,onEnd:At,...Rt},Dt)=>{const Nt=useThree(xn=>xn.invalidate),Wt=useThree(xn=>xn.camera),Ht=useThree(xn=>xn.gl),Kt=useThree(xn=>xn.events),Ft=useThree(xn=>xn.setEvents),tn=useThree(xn=>xn.set),cn=useThree(xn=>xn.get),fn=useThree(xn=>xn.performance),ln=e||Wt,dn=ft||Kt.connected||Ht.domElement,mn=reactExports.useMemo(()=>new OrbitControls$1(ln),[ln]);return useFrame(()=>{mn.enabled&&mn.update()},-1),reactExports.useEffect(()=>(mn.connect(dn),()=>void mn.dispose()),[dn,$,mn,Nt]),reactExports.useEffect(()=>{const xn=vn=>{Nt(),$&&fn.regress(),s&&s(vn)},Mn=vn=>{Tt&&Tt(vn)},Tn=vn=>{At&&At(vn)};return mn.addEventListener("change",xn),mn.addEventListener("start",Mn),mn.addEventListener("end",Tn),()=>{mn.removeEventListener("start",Mn),mn.removeEventListener("end",Tn),mn.removeEventListener("change",xn)}},[s,Tt,At,mn,Nt,Ft]),reactExports.useEffect(()=>{if(lt){const xn=cn().controls;return tn({controls:mn}),()=>tn({controls:xn})}},[lt,mn]),reactExports.createElement("primitive",_extends$1({ref:Dt,object:mn,enableDamping:vt},Rt))});function create(lt){const e=lt+"Geometry";return reactExports.forwardRef(({args:$,children:ft,...vt},s)=>reactExports.createElement("mesh",_extends$1({ref:s},vt),reactExports.createElement(e,{attach:"geometry",args:$}),ft))}const Plane=create("plane"),Center=reactExports.forwardRef(function({children:e,disable:$,disableX:ft,disableY:vt,disableZ:s,left:Tt,right:At,top:Rt,bottom:Dt,front:Nt,back:Wt,onCentered:Ht,precise:Kt=!0,...Ft},tn){const cn=reactExports.useRef(null),fn=reactExports.useRef(null),ln=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{fn.current.matrixWorld.identity();const dn=new Box3().setFromObject(ln.current,Kt),mn=new Vector3,xn=new Sphere,Mn=dn.max.x-dn.min.x,Tn=dn.max.y-dn.min.y,vn=dn.max.z-dn.min.z;dn.getCenter(mn),dn.getBoundingSphere(xn);const An=Rt?Tn/2:Dt?-Tn/2:0,Pn=Tt?-Mn/2:At?Mn/2:0,bn=Nt?vn/2:Wt?-vn/2:0;fn.current.position.set($||ft?0:-mn.x+Pn,$||vt?0:-mn.y+An,$||s?0:-mn.z+bn),typeof Ht<"u"&&Ht({parent:cn.current.parent,container:cn.current,width:Mn,height:Tn,depth:vn,boundingBox:dn,boundingSphere:xn,center:mn,verticalAlignment:An,horizontalAlignment:Pn,depthAlignment:bn})},[e]),reactExports.useImperativeHandle(tn,()=>cn.current,[]),reactExports.createElement("group",_extends$1({ref:cn},Ft),reactExports.createElement("group",{ref:fn},reactExports.createElement("group",{ref:ln},e)))}),isOrthographic=lt=>lt&&lt.isOrthographicCamera,isBox3=lt=>lt&&lt.isBox3,context=reactExports.createContext(null);function Bounds({children:lt,damping:e=6,fit:$,clip:ft,observe:vt,margin:s=1.2,eps:Tt=.01,onFit:At}){const Rt=reactExports.useRef(null),{camera:Dt,invalidate:Nt,size:Wt,controls:Ht}=useThree(),Kt=Ht,Ft=reactExports.useRef(At);Ft.current=At;function tn(Mn,Tn){return Math.abs(Mn.x-Tn.x)<Tt&&Math.abs(Mn.y-Tn.y)<Tt&&Math.abs(Mn.z-Tn.z)<Tt}function cn(Mn,Tn,vn,An){Mn.x=MathUtils.damp(Mn.x,Tn.x,vn,An),Mn.y=MathUtils.damp(Mn.y,Tn.y,vn,An),Mn.z=MathUtils.damp(Mn.z,Tn.z,vn,An)}const[fn]=reactExports.useState(()=>({animating:!1,focus:new Vector3,camera:new Vector3,zoom:1})),[ln]=reactExports.useState(()=>({focus:new Vector3,camera:new Vector3,zoom:1})),[dn]=reactExports.useState(()=>new Box3),mn=reactExports.useMemo(()=>{function Mn(){const Tn=dn.getSize(new Vector3),vn=dn.getCenter(new Vector3),An=Math.max(Tn.x,Tn.y,Tn.z),Pn=isOrthographic(Dt)?An*4:An/(2*Math.atan(Math.PI*Dt.fov/360)),bn=isOrthographic(Dt)?An*4:Pn/Dt.aspect,In=s*Math.max(Pn,bn);return{box:dn,size:Tn,center:vn,distance:In}}return{getSize:Mn,refresh(Tn){if(isBox3(Tn))dn.copy(Tn);else{const vn=Tn||Rt.current;vn.updateWorldMatrix(!0,!0),dn.setFromObject(vn)}if(dn.isEmpty()){const vn=Dt.position.length()||10;dn.setFromCenterAndSize(new Vector3,new Vector3(vn,vn,vn))}if((Kt==null?void 0:Kt.constructor.name)==="OrthographicTrackballControls"){const{distance:vn}=Mn(),An=Dt.position.clone().sub(Kt.target).normalize().multiplyScalar(vn),Pn=Kt.target.clone().add(An);Dt.position.copy(Pn)}return this},clip(){const{distance:Tn}=Mn();return Kt&&(Kt.maxDistance=Tn*10),Dt.near=Tn/100,Dt.far=Tn*100,Dt.updateProjectionMatrix(),Kt&&Kt.update(),Nt(),this},to({position:Tn,target:vn}){fn.camera.copy(Dt.position);const{center:An}=Mn();return ln.camera.set(...Tn),vn?ln.focus.set(...vn):ln.focus.copy(An),e?fn.animating=!0:Dt.position.set(...Tn),this},fit(){fn.camera.copy(Dt.position),Kt&&fn.focus.copy(Kt.target);const{center:Tn,distance:vn}=Mn(),An=Tn.clone().sub(Dt.position).normalize().multiplyScalar(vn);if(ln.camera.copy(Tn).sub(An),ln.focus.copy(Tn),isOrthographic(Dt)){fn.zoom=Dt.zoom;let Pn=0,bn=0;const In=[new Vector3(dn.min.x,dn.min.y,dn.min.z),new Vector3(dn.min.x,dn.max.y,dn.min.z),new Vector3(dn.min.x,dn.min.y,dn.max.z),new Vector3(dn.min.x,dn.max.y,dn.max.z),new Vector3(dn.max.x,dn.max.y,dn.max.z),new Vector3(dn.max.x,dn.max.y,dn.min.z),new Vector3(dn.max.x,dn.min.y,dn.max.z),new Vector3(dn.max.x,dn.min.y,dn.min.z)];Tn.applyMatrix4(Dt.matrixWorldInverse);for(const Yn of In)Yn.applyMatrix4(Dt.matrixWorldInverse),Pn=Math.max(Pn,Math.abs(Yn.y-Tn.y)),bn=Math.max(bn,Math.abs(Yn.x-Tn.x));Pn*=2,bn*=2;const On=(Dt.top-Dt.bottom)/Pn,Nn=(Dt.right-Dt.left)/bn;ln.zoom=Math.min(On,Nn)/s,e||(Dt.zoom=ln.zoom,Dt.updateProjectionMatrix())}return e?fn.animating=!0:(Dt.position.copy(ln.camera),Dt.lookAt(ln.focus),Kt&&(Kt.target.copy(ln.focus),Kt.update())),Ft.current&&Ft.current(this.getSize()),Nt(),this}}},[dn,Dt,Kt,s,e,Nt]);reactExports.useLayoutEffect(()=>{if(Kt){const Mn=()=>fn.animating=!1;return Kt.addEventListener("start",Mn),()=>Kt.removeEventListener("start",Mn)}},[Kt]);const xn=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{(vt||xn.current++===0)&&(mn.refresh(),$&&mn.fit(),ft&&mn.clip())},[Wt,ft,$,vt,Dt,Kt]),useFrame((Mn,Tn)=>{if(fn.animating){if(cn(fn.focus,ln.focus,e,Tn),cn(fn.camera,ln.camera,e,Tn),fn.zoom=MathUtils.damp(fn.zoom,ln.zoom,e,Tn),Dt.position.copy(fn.camera),isOrthographic(Dt)&&(Dt.zoom=fn.zoom,Dt.updateProjectionMatrix()),Kt?(Kt.target.copy(fn.focus),Kt.update()):Dt.lookAt(fn.focus),Nt(),isOrthographic(Dt)&&!(Math.abs(fn.zoom-ln.zoom)<Tt)||!isOrthographic(Dt)&&!tn(fn.camera,ln.camera)||Kt&&!tn(fn.focus,ln.focus))return;fn.animating=!1}}),reactExports.createElement("group",{ref:Rt},reactExports.createElement(context.Provider,{value:mn},lt))}function useBounds(){return reactExports.useContext(context)}var propTypesExports={},propTypes={get exports(){return propTypesExports},set exports(lt){propTypesExports=lt}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function lt(ft,vt,s,Tt,At,Rt){if(Rt!==ReactPropTypesSecret){var Dt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Dt.name="Invariant Violation",Dt}}lt.isRequired=lt;function e(){return lt}var $={array:lt,bigint:lt,bool:lt,func:lt,number:lt,object:lt,string:lt,symbol:lt,any:lt,arrayOf:e,element:lt,elementType:lt,instanceOf:e,node:lt,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return $.PropTypes=$,$};propTypes.exports=factoryWithThrowingShims();propTypesExports.func.isRequired,propTypesExports.arrayOf(propTypesExports.oneOfType([propTypesExports.element,propTypesExports.func])).isRequired;const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_mesh=new Mesh;class PositionMesh extends Group{constructor(){super(),this.color=new Color("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return(e=this.instance.current)==null?void 0:e.geometry}raycast(e,$){const ft=this.instance.current;if(!ft||!ft.geometry||!ft.material)return;_mesh.geometry=ft.geometry;const vt=ft.matrixWorld,s=ft.userData.instances.indexOf(this.instanceKey);if(!(s===-1||s>ft.count)){ft.getMatrixAt(s,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(vt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,ft.material instanceof Material$1?_mesh.material.side=ft.material.side:_mesh.material.side=ft.material[0].side,_mesh.raycast(e,_instanceIntersects);for(let Tt=0,At=_instanceIntersects.length;Tt<At;Tt++){const Rt=_instanceIntersects[Tt];Rt.instanceId=s,Rt.object=this,$.push(Rt)}_instanceIntersects.length=0}}}const globalContext=reactExports.createContext(null),parentMatrix=new Matrix4,instanceMatrix=new Matrix4,tempMatrix=new Matrix4,translation=new Vector3,rotation=new Quaternion,scale=new Vector3,Instance=reactExports.forwardRef(({context:lt,children:e,...$},ft)=>{reactExports.useMemo(()=>extend({PositionMesh}),[]);const vt=reactExports.useRef(),{subscribe:s,getParent:Tt}=reactExports.useContext(lt||globalContext);return reactExports.useLayoutEffect(()=>s(vt),[]),reactExports.createElement("positionMesh",_extends$1({instance:Tt(),instanceKey:vt,ref:mergeRefs([ft,vt])},$),e)}),Instances=reactExports.forwardRef(({children:lt,range:e,limit:$=1e3,frames:ft=1/0,...vt},s)=>{const[{context:Tt,instance:At}]=reactExports.useState(()=>{const cn=reactExports.createContext(null);return{context:cn,instance:reactExports.forwardRef((fn,ln)=>reactExports.createElement(Instance,_extends$1({context:cn},fn,{ref:ln})))}}),Rt=reactExports.useRef(null),[Dt,Nt]=reactExports.useState([]),[[Wt,Ht]]=reactExports.useState(()=>{const cn=new Float32Array($*16);for(let fn=0;fn<$;fn++)tempMatrix.identity().toArray(cn,fn*16);return[cn,new Float32Array([...new Array($*3)].map(()=>1))]});reactExports.useEffect(()=>{Rt.current.instanceMatrix.needsUpdate=!0});let Kt=0,Ft=0;useFrame(()=>{if(ft===1/0||Kt<ft){Rt.current.updateMatrix(),Rt.current.updateMatrixWorld(),parentMatrix.copy(Rt.current.matrixWorld).invert(),Ft=Math.min($,e!==void 0?e:$,Dt.length),Rt.current.count=Ft,Rt.current.instanceMatrix.updateRange.count=Ft*16,Rt.current.instanceColor.updateRange.count=Ft*3;for(let cn=0;cn<Dt.length;cn++){const fn=Dt[cn].current;fn.matrixWorld.decompose(translation,rotation,scale),instanceMatrix.compose(translation,rotation,scale).premultiply(parentMatrix),instanceMatrix.toArray(Wt,cn*16),Rt.current.instanceMatrix.needsUpdate=!0,fn.color.toArray(Ht,cn*3),Rt.current.instanceColor.needsUpdate=!0}Kt++}});const tn=reactExports.useMemo(()=>({getParent:()=>Rt,subscribe:cn=>(Nt(fn=>[...fn,cn]),()=>Nt(fn=>fn.filter(ln=>ln.current!==cn.current)))}),[]);return reactExports.createElement("instancedMesh",_extends$1({userData:{instances:Dt},matrixAutoUpdate:!1,ref:mergeRefs([s,Rt]),args:[null,null,0],raycast:()=>null},vt),reactExports.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:Wt.length/16,array:Wt,itemSize:16,usage:DynamicDrawUsage}),reactExports.createElement("instancedBufferAttribute",{attach:"instanceColor",count:Ht.length/3,array:Ht,itemSize:3,usage:DynamicDrawUsage}),typeof lt=="function"?reactExports.createElement(Tt.Provider,{value:tn},lt(At)):reactExports.createElement(globalContext.Provider,{value:tn},lt))}),isOrthographicCamera=lt=>lt&&lt.isOrthographicCamera,col=new Color;function isNonLegacyCanvasSize(lt){return"top"in lt}function computeContainerPosition(lt,e){const{right:$,top:ft,left:vt,bottom:s,width:Tt,height:At}=e,Rt=e.bottom<0||ft>lt.height||$<0||e.left>lt.width;if(isNonLegacyCanvasSize(lt)){const Wt=lt.top+lt.height-s,Ht=vt-lt.left;return{position:{width:Tt,height:At,left:Ht,top:ft,bottom:Wt,right:$},isOffscreen:Rt}}const Dt=lt.height-s;return{position:{width:Tt,height:At,top:ft,left:vt,bottom:Dt,right:$},isOffscreen:Rt}}function Container({canvasSize:lt,scene:e,index:$,children:ft,frames:vt,rect:s,track:Tt}){const At=useThree(Ht=>Ht.get),Rt=useThree(Ht=>Ht.camera),Dt=useThree(Ht=>Ht.scene),Nt=useThree(Ht=>Ht.setEvents);let Wt=0;return useFrame(Ht=>{if(vt===1/0||Wt<=vt){var Kt;s.current=(Kt=Tt.current)==null?void 0:Kt.getBoundingClientRect(),Wt++}if(s.current){const{position:{left:Ft,bottom:tn,width:cn,height:fn},isOffscreen:ln}=computeContainerPosition(lt,s.current),dn=cn/fn;isOrthographicCamera(Rt)?(Rt.left!==cn/-2||Rt.right!==cn/2||Rt.top!==fn/2||Rt.bottom!==fn/-2)&&(Object.assign(Rt,{left:cn/-2,right:cn/2,top:fn/2,bottom:fn/-2}),Rt.updateProjectionMatrix()):Rt.aspect!==dn&&(Rt.aspect=dn,Rt.updateProjectionMatrix()),Ht.gl.setViewport(Ft,tn,cn,fn),Ht.gl.setScissor(Ft,tn,cn,fn),Ht.gl.setScissorTest(!0),ln?(Ht.gl.getClearColor(col),Ht.gl.setClearColor(col,Ht.gl.getClearAlpha()),Ht.gl.clear(!0,!0)):Ht.gl.render(ft?Dt:e,Rt),Ht.gl.setScissorTest(!0)}},$),reactExports.useEffect(()=>{const Ht=At().events.connected;return Nt({connected:Tt.current}),()=>Nt({connected:Ht})},[]),reactExports.useEffect(()=>{isNonLegacyCanvasSize(lt)||console.warn(`Detected @react-three/fiber canvas size does not include position information. <View /> may not work as expected. Upgrade to @react-three/fiber ^8.1.0 for support.
 See https://github.com/pmndrs/drei/issues/944`)},[]),reactExports.createElement(reactExports.Fragment,null,ft)}const View=({track:lt,index:e=1,frames:$=1/0,children:ft})=>{const vt=reactExports.useRef(null),{size:s,scene:Tt}=useThree(),[At]=reactExports.useState(()=>new Scene),Rt=reactExports.useCallback((Wt,Ht)=>{if(lt.current&&Wt.target===lt.current){const{width:Kt,height:Ft,left:tn,top:cn}=vt.current,fn=Wt.clientX-tn,ln=Wt.clientY-cn;Ht.pointer.set(fn/Kt*2-1,-(ln/Ft)*2+1),Ht.raycaster.setFromCamera(Ht.pointer,Ht.camera)}},[vt]),[Dt,Nt]=reactExports.useReducer(()=>!0,!1);return reactExports.useEffect(()=>{var Wt;vt.current=(Wt=lt.current)==null?void 0:Wt.getBoundingClientRect(),Nt()},[]),reactExports.createElement(reactExports.Fragment,null,Dt&&createPortal(reactExports.createElement(Container,{canvasSize:s,frames:$,scene:Tt,track:lt,rect:vt,index:e},ft),At,{events:{compute:Rt,priority:e},size:{width:vt.current.width,height:vt.current.height}}))};let keyCount=0;function atom(lt,e){const $=`atom${++keyCount}`,ft={toString:()=>$};return typeof lt=="function"?ft.read=lt:(ft.init=lt,ft.read=vt=>vt(ft),ft.write=(vt,s,Tt)=>s(ft,typeof Tt=="function"?Tt(vt(ft)):Tt)),e&&(ft.write=e),ft}const hasInitialValue=lt=>"init"in lt,isActuallyWritableAtom=lt=>!!lt.write,cancelPromiseMap=new WeakMap,registerCancelPromise=(lt,e)=>{cancelPromiseMap.set(lt,e),lt.catch(()=>{}).finally(()=>cancelPromiseMap.delete(lt))},cancelPromise=(lt,e)=>{const $=cancelPromiseMap.get(lt);$&&(cancelPromiseMap.delete(lt),$(e))},resolvePromise=(lt,e)=>{lt.status="fulfilled",lt.value=e},rejectPromise=(lt,e)=>{lt.status="rejected",lt.reason=e},isEqualAtomValue=(lt,e)=>"v"in lt&&"v"in e&&Object.is(lt.v,e.v),isEqualAtomError=(lt,e)=>"e"in lt&&"e"in e&&Object.is(lt.e,e.e),hasPromiseAtomValue=lt=>"v"in lt&&lt.v instanceof Promise,returnAtomValue=lt=>{if("e"in lt)throw lt.e;return lt.v},createStore=()=>{const lt=new WeakMap,e=new WeakMap,$=new Map;let ft,vt,s;({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&(ft=new Set,vt=new Set,s=new Set);const Tt=vn=>lt.get(vn),At=(vn,An)=>{({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&Object.freeze(An);const Pn=lt.get(vn);if(lt.set(vn,An),$.has(vn)||$.set(vn,Pn),Pn&&hasPromiseAtomValue(Pn)){const bn="v"in An?An.v instanceof Promise?An.v:Promise.resolve(An.v):Promise.reject(An.e);cancelPromise(Pn.v,bn)}},Rt=(vn,An,Pn)=>{const bn=new Map;let In=!1;Pn.forEach(On=>{const Nn=On===vn?An:Tt(On);Nn?(bn.set(On,Nn),An.d.get(On)!==Nn&&(In=!0)):({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] atom state not found")}),(In||An.d.size!==bn.size)&&(An.d=bn)},Dt=(vn,An,Pn)=>{const bn=Tt(vn),In={d:(bn==null?void 0:bn.d)||new Map,v:An};return Pn&&Rt(vn,In,Pn),bn&&isEqualAtomValue(bn,In)&&bn.d===In.d?bn:(At(vn,In),In)},Nt=(vn,An,Pn)=>{const bn=Tt(vn),In={d:(bn==null?void 0:bn.d)||new Map,e:An};return Pn&&Rt(vn,In,Pn),bn&&isEqualAtomError(bn,In)&&bn.d===In.d?bn:(At(vn,In),In)},Wt=vn=>{const An=Tt(vn);if(An&&(An.d.forEach((Xn,sr)=>{sr!==vn&&!e.has(sr)&&Wt(sr)}),Array.from(An.d).every(([Xn,sr])=>Xn===vn||Tt(Xn)===sr)))return An;const Pn=new Set;let bn=!0;const In=Xn=>{if(Pn.add(Xn),Xn===vn){const Un=Tt(Xn);if(Un)return returnAtomValue(Un);if(hasInitialValue(Xn))return Xn.init;throw new Error("no atom init")}const sr=Wt(Xn);return returnAtomValue(sr)};let On,Nn;const Yn={get signal(){return On||(On=new AbortController),On.signal},get setSelf(){return({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!isActuallyWritableAtom(vn)&&console.warn("setSelf function cannot be used with read-only atom"),!Nn&&isActuallyWritableAtom(vn)&&(Nn=(...Xn)=>{if(({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&bn&&console.warn("setSelf function cannot be called in sync"),!bn)return ln(vn,...Xn)}),Nn}};try{const Xn=vn.read(In,Yn);if(Xn instanceof Promise){let sr;const Un=new Promise((Gn,Wn)=>{let $n=!1;Xn.then(zn=>{$n||($n=!0,Dt(vn,Un,Pn),resolvePromise(Un,zn),Gn(zn))},zn=>{$n||($n=!0,Dt(vn,Un,Pn),rejectPromise(Un,zn),Wn(zn))}),sr=zn=>{$n||($n=!0,zn.then(Zn=>resolvePromise(Un,Zn),Zn=>rejectPromise(Un,Zn)),Gn(zn))}});return Un.status="pending",registerCancelPromise(Un,Gn=>{Gn&&sr(Gn),On==null||On.abort()}),Dt(vn,Un,Pn)}return Dt(vn,Xn,Pn)}catch(Xn){return Nt(vn,Xn,Pn)}finally{bn=!1}},Ht=vn=>returnAtomValue(Wt(vn)),Kt=vn=>{let An=e.get(vn);return An||(An=dn(vn)),An},Ft=(vn,An)=>!An.l.size&&(!An.t.size||An.t.size===1&&An.t.has(vn)),tn=vn=>{const An=e.get(vn);An&&Ft(vn,An)&&mn(vn)},cn=vn=>{const An=e.get(vn);An==null||An.t.forEach(Pn=>{if(Pn!==vn){const bn=Tt(Pn),In=Wt(Pn);(!bn||!isEqualAtomValue(bn,In))&&cn(Pn)}})},fn=(vn,...An)=>{let Pn=!0;const bn=Nn=>returnAtomValue(Wt(Nn)),In=(Nn,...Yn)=>{let Xn;if(Nn===vn){if(!hasInitialValue(Nn))throw new Error("atom not writable");const sr=Tt(Nn),Un=Dt(Nn,Yn[0]);(!sr||!isEqualAtomValue(sr,Un))&&cn(Nn)}else Xn=fn(Nn,...Yn);return Pn||Mn(),Xn},On=vn.write(bn,In,...An);return Pn=!1,On},ln=(vn,...An)=>{const Pn=fn(vn,...An);return Mn(),Pn},dn=(vn,An)=>{const Pn={t:new Set(An&&[An]),l:new Set};if(e.set(vn,Pn),({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&s.add(vn),Wt(vn).d.forEach((bn,In)=>{const On=e.get(In);On?On.t.add(vn):In!==vn&&dn(In,vn)}),Wt(vn),isActuallyWritableAtom(vn)&&vn.onMount){const bn=vn.onMount((...In)=>ln(vn,...In));bn&&(Pn.u=bn)}return Pn},mn=vn=>{var An;const Pn=(An=e.get(vn))==null?void 0:An.u;Pn&&Pn(),e.delete(vn),({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&s.delete(vn);const bn=Tt(vn);bn?(hasPromiseAtomValue(bn)&&cancelPromise(bn.v),bn.d.forEach((In,On)=>{if(On!==vn){const Nn=e.get(On);Nn&&(Nn.t.delete(vn),Ft(On,Nn)&&mn(On))}})):({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] could not find atom state to unmount",vn)},xn=(vn,An,Pn)=>{const bn=new Set(An.d.keys());Pn==null||Pn.forEach((In,On)=>{if(bn.has(On)){bn.delete(On);return}const Nn=e.get(On);Nn&&(Nn.t.delete(vn),Ft(On,Nn)&&mn(On))}),bn.forEach(In=>{const On=e.get(In);On?On.t.add(vn):e.has(vn)&&dn(In,vn)})},Mn=()=>{for(;$.size;){const vn=Array.from($);$.clear(),vn.forEach(([An,Pn])=>{const bn=Tt(An);if(bn){bn.d!==(Pn==null?void 0:Pn.d)&&xn(An,bn,Pn==null?void 0:Pn.d);const In=e.get(An);In&&!(Pn&&!hasPromiseAtomValue(Pn)&&(isEqualAtomValue(Pn,bn)||isEqualAtomError(Pn,bn)))&&In.l.forEach(On=>On())}else({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] no atom state to flush")})}({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&(ft.forEach(vn=>vn()),vt.forEach(vn=>vn("state")))},Tn=(vn,An)=>{const Pn=Kt(vn);Mn();const bn=Pn.l;return bn.add(An),({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&vt.forEach(In=>In("sub")),()=>{bn.delete(An),tn(vn),({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&vt.forEach(In=>In("unsub"))}};return({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"?{get:Ht,set:ln,sub:Tn,dev_subscribe_state:vn=>(console.warn("[DEPRECATED] dev_subscribe_state is deprecated and will be removed in the next minor version. use dev_subscribe_store instead."),ft.add(vn),()=>{ft.delete(vn)}),dev_subscribe_store:vn=>(vt.add(vn),()=>{vt.delete(vn)}),dev_get_mounted_atoms:()=>s.values(),dev_get_atom_state:vn=>lt.get(vn),dev_get_mounted:vn=>e.get(vn),dev_restore_atoms:vn=>{for(const[An,Pn]of vn)hasInitialValue(An)&&(Dt(An,Pn),cn(An));Mn()}}:{get:Ht,set:ln,sub:Tn}};let defaultStore;const getDefaultStore=()=>(defaultStore||(defaultStore=createStore()),defaultStore),StoreContext=reactExports.createContext(void 0),useStore=lt=>{const e=reactExports.useContext(StoreContext);return(lt==null?void 0:lt.store)||e||getDefaultStore()},isPromise=lt=>lt instanceof Promise,use=React.use||(lt=>{if(lt.status==="pending")throw lt;if(lt.status==="fulfilled")return lt.value;throw lt.status==="rejected"?lt.reason:(lt.status="pending",lt.then(e=>{lt.status="fulfilled",lt.value=e},e=>{lt.status="rejected",lt.reason=e}),lt)});function useAtomValue(lt,e){const $=useStore(e),[[ft,vt,s],Tt]=reactExports.useReducer(Dt=>{const Nt=$.get(lt);return Object.is(Dt[0],Nt)&&Dt[1]===$&&Dt[2]===lt?Dt:[Nt,$,lt]},void 0,()=>[$.get(lt),$,lt]);let At=ft;(vt!==$||s!==lt)&&(Tt(),At=$.get(lt));const Rt=e==null?void 0:e.delay;return reactExports.useEffect(()=>{const Dt=$.sub(lt,()=>{if(typeof Rt=="number"){setTimeout(Tt,Rt);return}Tt()});return Tt(),Dt},[$,lt,Rt]),reactExports.useDebugValue(At),isPromise(At)?use(At):At}function useSetAtom(lt,e){const $=useStore(e);return reactExports.useCallback((...vt)=>{if(({BASE_URL:"/furnis/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!("write"in lt))throw new Error("not writable atom");return $.set(lt,...vt)},[$,lt])}function useAtom(lt,e){return[useAtomValue(lt,e),useSetAtom(lt,e)]}var f$2=l$2(),n=lt=>c$2(lt,f$2),m$1=l$2();n.write=lt=>c$2(lt,m$1);var d$3=l$2();n.onStart=lt=>c$2(lt,d$3);var h$3=l$2();n.onFrame=lt=>c$2(lt,h$3);var p$2=l$2();n.onFinish=lt=>c$2(lt,p$2);var i=[];n.setTimeout=(lt,e)=>{let $=n.now()+e,ft=()=>{let s=i.findIndex(Tt=>Tt.cancel==ft);~s&&i.splice(s,1),u$2-=~s?1:0},vt={time:$,handler:lt,cancel:ft};return i.splice(w$2($),0,vt),u$2+=1,v$1(),vt};var w$2=lt=>~(~i.findIndex(e=>e.time>lt)||~i.length);n.cancel=lt=>{d$3.delete(lt),h$3.delete(lt),p$2.delete(lt),f$2.delete(lt),m$1.delete(lt)};n.sync=lt=>{T$1=!0,n.batchedUpdates(lt),T$1=!1};n.throttle=lt=>{let e;function $(){try{lt(...e)}finally{e=null}}function ft(...vt){e=vt,n.onStart($)}return ft.handler=lt,ft.cancel=()=>{d$3.delete($),e=null},ft};var y$3=typeof window<"u"?window.requestAnimationFrame:()=>{};n.use=lt=>y$3=lt;n.now=typeof performance<"u"?()=>performance.now():Date.now;n.batchedUpdates=lt=>lt();n.catch=console.error;n.frameLoop="always";n.advance=()=>{n.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):x$2()};var r=-1,u$2=0,T$1=!1;function c$2(lt,e){T$1?(e.delete(lt),lt(0)):(e.add(lt),v$1())}function v$1(){r<0&&(r=0,n.frameLoop!=="demand"&&y$3(b$3))}function R(){r=-1}function b$3(){~r&&(y$3(b$3),n.batchedUpdates(x$2))}function x$2(){let lt=r;r=n.now();let e=w$2(r);if(e&&(Q$2(i.splice(0,e),$=>$.handler()),u$2-=e),!u$2){R();return}d$3.flush(),f$2.flush(lt?Math.min(64,r-lt):16.667),h$3.flush(),m$1.flush(),p$2.flush()}function l$2(){let lt=new Set,e=lt;return{add($){u$2+=e==lt&&!lt.has($)?1:0,lt.add($)},delete($){return u$2-=e==lt&&lt.has($)?1:0,lt.delete($)},flush($){e.size&&(lt=new Set,u$2-=e.size,Q$2(e,ft=>ft($)&&lt.add(ft)),u$2+=lt.size,e=lt)}}}function Q$2(lt,e){lt.forEach($=>{try{e($)}catch(ft){n.catch(ft)}})}var ze$1=Object.defineProperty,Le$2=(lt,e)=>{for(var $ in e)ze$1(lt,$,{get:e[$],enumerable:!0})},p$1={};Le$2(p$1,{assign:()=>U,colors:()=>c$1,createStringInterpolator:()=>k$1,skipAnimation:()=>ee,to:()=>J$1,willAdvance:()=>S});function Y(){}var mt$1=(lt,e,$)=>Object.defineProperty(lt,e,{value:$,writable:!0,configurable:!0}),l$1={arr:Array.isArray,obj:lt=>!!lt&&lt.constructor.name==="Object",fun:lt=>typeof lt=="function",str:lt=>typeof lt=="string",num:lt=>typeof lt=="number",und:lt=>lt===void 0};function bt$1(lt,e){if(l$1.arr(lt)){if(!l$1.arr(e)||lt.length!==e.length)return!1;for(let $=0;$<lt.length;$++)if(lt[$]!==e[$])return!1;return!0}return lt===e}var Ve=(lt,e)=>lt.forEach(e);function xt(lt,e,$){if(l$1.arr(lt)){for(let ft=0;ft<lt.length;ft++)e.call($,lt[ft],`${ft}`);return}for(let ft in lt)lt.hasOwnProperty(ft)&&e.call($,lt[ft],ft)}var ht$1=lt=>l$1.und(lt)?[]:l$1.arr(lt)?lt:[lt];function Pe$1(lt,e){if(lt.size){let $=Array.from(lt);lt.clear(),Ve($,e)}}var yt$1=(lt,...e)=>Pe$1(lt,$=>$(...e)),h$2=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),k$1,J$1,c$1=null,ee=!1,S=Y,U=lt=>{lt.to&&(J$1=lt.to),lt.now&&(n.now=lt.now),lt.colors!==void 0&&(c$1=lt.colors),lt.skipAnimation!=null&&(ee=lt.skipAnimation),lt.createStringInterpolator&&(k$1=lt.createStringInterpolator),lt.requestAnimationFrame&&n.use(lt.requestAnimationFrame),lt.batchedUpdates&&(n.batchedUpdates=lt.batchedUpdates),lt.willAdvance&&(S=lt.willAdvance),lt.frameLoop&&(n.frameLoop=lt.frameLoop)},E$3=new Set,u$1=[],H$1=[],A$1=0,qe$1={get idle(){return!E$3.size&&!u$1.length},start(lt){A$1>lt.priority?(E$3.add(lt),n.onStart($e)):(te$1(lt),n(B$1))},advance:B$1,sort(lt){if(A$1)n.onFrame(()=>qe$1.sort(lt));else{let e=u$1.indexOf(lt);~e&&(u$1.splice(e,1),re(lt))}},clear(){u$1=[],E$3.clear()}};function $e(){E$3.forEach(te$1),E$3.clear(),n(B$1)}function te$1(lt){u$1.includes(lt)||re(lt)}function re(lt){u$1.splice(Ge$1(u$1,e=>e.priority>lt.priority),0,lt)}function B$1(lt){let e=H$1;for(let $=0;$<u$1.length;$++){let ft=u$1[$];A$1=ft.priority,ft.idle||(S(ft),ft.advance(lt),ft.idle||e.push(ft))}return A$1=0,H$1=u$1,H$1.length=0,u$1=e,u$1.length>0}function Ge$1(lt,e){let $=lt.findIndex(e);return $<0?lt.length:$}var ne$2=(lt,e,$)=>Math.min(Math.max($,lt),e),It={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},d$2="[-+]?\\d*\\.?\\d+",M=d$2+"%";function C$1(...lt){return"\\(\\s*("+lt.join(")\\s*,\\s*(")+")\\s*\\)"}var oe$1=new RegExp("rgb"+C$1(d$2,d$2,d$2)),fe$1=new RegExp("rgba"+C$1(d$2,d$2,d$2,d$2)),ae$1=new RegExp("hsl"+C$1(d$2,M,M)),ie=new RegExp("hsla"+C$1(d$2,M,M,d$2)),se$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ue$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,le$1=/^#([0-9a-fA-F]{6})$/,ce=/^#([0-9a-fA-F]{8})$/;function be$1(lt){let e;return typeof lt=="number"?lt>>>0===lt&&lt>=0&&lt<=4294967295?lt:null:(e=le$1.exec(lt))?parseInt(e[1]+"ff",16)>>>0:c$1&&c$1[lt]!==void 0?c$1[lt]:(e=oe$1.exec(lt))?(y$2(e[1])<<24|y$2(e[2])<<16|y$2(e[3])<<8|255)>>>0:(e=fe$1.exec(lt))?(y$2(e[1])<<24|y$2(e[2])<<16|y$2(e[3])<<8|me$1(e[4]))>>>0:(e=se$1.exec(lt))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=ce.exec(lt))?parseInt(e[1],16)>>>0:(e=ue$1.exec(lt))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=ae$1.exec(lt))?(de$1(pe(e[1]),z$1(e[2]),z$1(e[3]))|255)>>>0:(e=ie.exec(lt))?(de$1(pe(e[1]),z$1(e[2]),z$1(e[3]))|me$1(e[4]))>>>0:null}function j$1(lt,e,$){return $<0&&($+=1),$>1&&($-=1),$<1/6?lt+(e-lt)*6*$:$<1/2?e:$<2/3?lt+(e-lt)*(2/3-$)*6:lt}function de$1(lt,e,$){let ft=$<.5?$*(1+e):$+e-$*e,vt=2*$-ft,s=j$1(vt,ft,lt+1/3),Tt=j$1(vt,ft,lt),At=j$1(vt,ft,lt-1/3);return Math.round(s*255)<<24|Math.round(Tt*255)<<16|Math.round(At*255)<<8}function y$2(lt){let e=parseInt(lt,10);return e<0?0:e>255?255:e}function pe(lt){return(parseFloat(lt)%360+360)%360/360}function me$1(lt){let e=parseFloat(lt);return e<0?0:e>1?255:Math.round(e*255)}function z$1(lt){let e=parseFloat(lt);return e<0?0:e>100?1:e/100}function D$1(lt){let e=be$1(lt);if(e===null)return lt;e=e||0;let $=(e&4278190080)>>>24,ft=(e&16711680)>>>16,vt=(e&65280)>>>8,s=(e&255)/255;return`rgba(${$}, ${ft}, ${vt}, ${s})`}var W$1=(lt,e,$)=>{if(l$1.fun(lt))return lt;if(l$1.arr(lt))return W$1({range:lt,output:e,extrapolate:$});if(l$1.str(lt.output[0]))return k$1(lt);let ft=lt,vt=ft.output,s=ft.range||[0,1],Tt=ft.extrapolateLeft||ft.extrapolate||"extend",At=ft.extrapolateRight||ft.extrapolate||"extend",Rt=ft.easing||(Dt=>Dt);return Dt=>{let Nt=He$1(Dt,s);return Ue$1(Dt,s[Nt],s[Nt+1],vt[Nt],vt[Nt+1],Rt,Tt,At,ft.map)}};function Ue$1(lt,e,$,ft,vt,s,Tt,At,Rt){let Dt=Rt?Rt(lt):lt;if(Dt<e){if(Tt==="identity")return Dt;Tt==="clamp"&&(Dt=e)}if(Dt>$){if(At==="identity")return Dt;At==="clamp"&&(Dt=$)}return ft===vt?ft:e===$?lt<=e?ft:vt:(e===-1/0?Dt=-Dt:$===1/0?Dt=Dt-e:Dt=(Dt-e)/($-e),Dt=s(Dt),ft===-1/0?Dt=-Dt:vt===1/0?Dt=Dt+ft:Dt=Dt*(vt-ft)+ft,Dt)}function He$1(lt,e){for(var $=1;$<e.length-1&&!(e[$]>=lt);++$);return $-1}var Be=(lt,e="end")=>$=>{$=e==="end"?Math.min($,.999):Math.max($,.001);let ft=$*lt,vt=e==="end"?Math.floor(ft):Math.ceil(ft);return ne$2(0,1,vt/lt)},P=1.70158,L=P*1.525,xe$1=P+1,he$1=2*Math.PI/3,ye$1=2*Math.PI/4.5,V=lt=>lt<1/2.75?7.5625*lt*lt:lt<2/2.75?7.5625*(lt-=1.5/2.75)*lt+.75:lt<2.5/2.75?7.5625*(lt-=2.25/2.75)*lt+.9375:7.5625*(lt-=2.625/2.75)*lt+.984375,Lt$1={linear:lt=>lt,easeInQuad:lt=>lt*lt,easeOutQuad:lt=>1-(1-lt)*(1-lt),easeInOutQuad:lt=>lt<.5?2*lt*lt:1-Math.pow(-2*lt+2,2)/2,easeInCubic:lt=>lt*lt*lt,easeOutCubic:lt=>1-Math.pow(1-lt,3),easeInOutCubic:lt=>lt<.5?4*lt*lt*lt:1-Math.pow(-2*lt+2,3)/2,easeInQuart:lt=>lt*lt*lt*lt,easeOutQuart:lt=>1-Math.pow(1-lt,4),easeInOutQuart:lt=>lt<.5?8*lt*lt*lt*lt:1-Math.pow(-2*lt+2,4)/2,easeInQuint:lt=>lt*lt*lt*lt*lt,easeOutQuint:lt=>1-Math.pow(1-lt,5),easeInOutQuint:lt=>lt<.5?16*lt*lt*lt*lt*lt:1-Math.pow(-2*lt+2,5)/2,easeInSine:lt=>1-Math.cos(lt*Math.PI/2),easeOutSine:lt=>Math.sin(lt*Math.PI/2),easeInOutSine:lt=>-(Math.cos(Math.PI*lt)-1)/2,easeInExpo:lt=>lt===0?0:Math.pow(2,10*lt-10),easeOutExpo:lt=>lt===1?1:1-Math.pow(2,-10*lt),easeInOutExpo:lt=>lt===0?0:lt===1?1:lt<.5?Math.pow(2,20*lt-10)/2:(2-Math.pow(2,-20*lt+10))/2,easeInCirc:lt=>1-Math.sqrt(1-Math.pow(lt,2)),easeOutCirc:lt=>Math.sqrt(1-Math.pow(lt-1,2)),easeInOutCirc:lt=>lt<.5?(1-Math.sqrt(1-Math.pow(2*lt,2)))/2:(Math.sqrt(1-Math.pow(-2*lt+2,2))+1)/2,easeInBack:lt=>xe$1*lt*lt*lt-P*lt*lt,easeOutBack:lt=>1+xe$1*Math.pow(lt-1,3)+P*Math.pow(lt-1,2),easeInOutBack:lt=>lt<.5?Math.pow(2*lt,2)*((L+1)*2*lt-L)/2:(Math.pow(2*lt-2,2)*((L+1)*(lt*2-2)+L)+2)/2,easeInElastic:lt=>lt===0?0:lt===1?1:-Math.pow(2,10*lt-10)*Math.sin((lt*10-10.75)*he$1),easeOutElastic:lt=>lt===0?0:lt===1?1:Math.pow(2,-10*lt)*Math.sin((lt*10-.75)*he$1)+1,easeInOutElastic:lt=>lt===0?0:lt===1?1:lt<.5?-(Math.pow(2,20*lt-10)*Math.sin((20*lt-11.125)*ye$1))/2:Math.pow(2,-20*lt+10)*Math.sin((20*lt-11.125)*ye$1)/2+1,easeInBounce:lt=>1-V(1-lt),easeOutBounce:V,easeInOutBounce:lt=>lt<.5?(1-V(1-2*lt))/2:(1+V(2*lt-1))/2,steps:Be},g=Symbol.for("FluidValue.get"),m=Symbol.for("FluidValue.observers"),Pt=lt=>Boolean(lt&&lt[g]),ve=lt=>lt&&lt[g]?lt[g]():lt,qt=lt=>lt[m]||null;function je(lt,e){lt.eventObserved?lt.eventObserved(e):lt(e)}function $t(lt,e){let $=lt[m];$&&$.forEach(ft=>{je(ft,e)})}var PO,kO,VS,ge=(VS=class{constructor(lt){xo(this,PO);xo(this,kO);if(!lt&&!(lt=this.get))throw Error("Unknown getter");De$1(this,lt)}},PO=g,kO=m,VS),De$1=(lt,e)=>Ee$1(lt,g,e);function Gt(lt,e){if(lt[g]){let $=lt[m];$||Ee$1(lt,m,$=new Set),$.has(e)||($.add(e),lt.observerAdded&&lt.observerAdded($.size,e))}return e}function Qt(lt,e){let $=lt[m];if($&&$.has(e)){let ft=$.size-1;ft?$.delete(e):lt[m]=null,lt.observerRemoved&&lt.observerRemoved(ft,e)}}var Ee$1=(lt,e,$)=>Object.defineProperty(lt,e,{value:$,writable:!0,configurable:!0}),O=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Oe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,K=new RegExp(`(${O.source})(%|[a-z]+)`,"i"),we$1=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,b$2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,N=lt=>{let[e,$]=We(lt);if(!e||h$2())return lt;let ft=window.getComputedStyle(document.documentElement).getPropertyValue(e);return ft?ft.trim():$&&$.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue($)||lt:$&&b$2.test($)?N($):$||lt},We=lt=>{let e=b$2.exec(lt);if(!e)return[,];let[,$,ft]=e;return[$,ft]},_,Ke$1=(lt,e,$,ft,vt)=>`rgba(${Math.round(e)}, ${Math.round($)}, ${Math.round(ft)}, ${vt})`,Xt=lt=>{_||(_=c$1?new RegExp(`(${Object.keys(c$1).join("|")})(?!\\w)`,"g"):/^\b$/);let e=lt.output.map(vt=>ve(vt).replace(b$2,N).replace(Oe,D$1).replace(_,D$1)),$=e.map(vt=>vt.match(O).map(Number)),ft=$[0].map((vt,s)=>$.map(Tt=>{if(!(s in Tt))throw Error('The arity of each "output" value must be equal');return Tt[s]})).map(vt=>W$1({...lt,output:vt}));return vt=>{var At;let s=!K.test(e[0])&&((At=e.find(Rt=>K.test(Rt)))==null?void 0:At.replace(O,"")),Tt=0;return e[0].replace(O,()=>`${ft[Tt++](vt)}${s||""}`).replace(we$1,Ke$1)}},Z="react-spring: ",Te=lt=>{let e=lt,$=!1;if(typeof e!="function")throw new TypeError(`${Z}once requires a function parameter`);return(...ft)=>{$||(e(...ft),$=!0)}},Ne$1=Te(console.warn);function Jt(){Ne$1(`${Z}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var _e$1=Te(console.warn);function er(){_e$1(`${Z}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function or(lt){return l$1.str(lt)&&(lt[0]=="#"||/\d/.test(lt)||!h$2()&&b$2.test(lt)||lt in(c$1||{}))}var Q$1=h$2()?reactExports.useEffect:reactExports.useLayoutEffect,Ce$1=()=>{let lt=reactExports.useRef(!1);return Q$1(()=>(lt.current=!0,()=>{lt.current=!1}),[]),lt};function Mr(){let lt=reactExports.useState()[1],e=Ce$1();return()=>{e.current&&lt(Math.random())}}function Lr(lt,e){let[$]=reactExports.useState(()=>({inputs:e,result:lt()})),ft=reactExports.useRef(),vt=ft.current,s=vt;return s?Boolean(e&&s.inputs&&it$1(e,s.inputs))||(s={inputs:e,result:lt()}):s=$,reactExports.useEffect(()=>{ft.current=s,vt==$&&($.inputs=$.result=void 0)},[s]),s.result}function it$1(lt,e){if(lt.length!==e.length)return!1;for(let $=0;$<lt.length;$++)if(lt[$]!==e[$])return!1;return!0}var $r=lt=>reactExports.useEffect(lt,ut),ut=[];function Ur(lt){let e=reactExports.useRef();return reactExports.useEffect(()=>{e.current=lt}),e.current}var h$1=Symbol.for("Animated:node"),v=lt=>!!lt&&lt[h$1]===lt,k=lt=>lt&&lt[h$1],D=(lt,e)=>mt$1(lt,h$1,e),F$1=lt=>lt&&lt[h$1]&&lt[h$1].getPayload(),c=class{constructor(){xo(this,"payload");D(this,this)}getPayload(){return this.payload||[]}},l=class extends c{constructor(e){super();xo(this,"done",!0);xo(this,"elapsedTime");xo(this,"lastPosition");xo(this,"lastVelocity");xo(this,"v0");xo(this,"durationProgress",0);this._value=e,l$1.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new l(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,$){return l$1.num(e)&&(this.lastPosition=e,$&&(e=Math.round(e/$)*$,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,l$1.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},d$1=class extends l{constructor($){super(0);xo(this,"_string",null);xo(this,"_toString");this._toString=W$1({output:[$,$]})}static create($){return new d$1($)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue($){if(l$1.str($)){if($==this._string)return!1;this._string=$,this._value=1}else if(super.setValue($))this._string=null;else return!1;return!0}reset($){$&&(this._toString=W$1({output:[this.getValue(),$]})),this._value=0,super.reset()}},f$1={dependencies:null},u=class extends c{constructor(lt){super(),this.source=lt,this.setValue(lt)}getValue(lt){let e={};return xt(this.source,($,ft)=>{v($)?e[ft]=$.getValue(lt):Pt($)?e[ft]=ve($):lt||(e[ft]=$)}),e}setValue(lt){this.source=lt,this.payload=this._makePayload(lt)}reset(){this.payload&&Ve(this.payload,lt=>lt.reset())}_makePayload(lt){if(lt){let e=new Set;return xt(lt,this._addToPayload,e),Array.from(e)}}_addToPayload(lt){f$1.dependencies&&Pt(lt)&&f$1.dependencies.add(lt);let e=F$1(lt);e&&Ve(e,$=>this.add($))}},y$1=class extends u{constructor(e){super(e)}static create(e){return new y$1(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let $=this.getPayload();return e.length==$.length?$.map((ft,vt)=>ft.setValue(e[vt])).some(Boolean):(super.setValue(e.map(z)),!0)}};function z(lt){return(or(lt)?d$1:l).create(lt)}function Le$1(lt){let e=k(lt);return e?e.constructor:l$1.arr(lt)?y$1:or(lt)?d$1:l}var x$1=(lt,e)=>{let $=!l$1.fun(lt)||lt.prototype&&lt.prototype.isReactComponent;return reactExports.forwardRef((ft,vt)=>{let s=reactExports.useRef(null),Tt=$&&reactExports.useCallback(Ft=>{s.current=ae(vt,Ft)},[vt]),[At,Rt]=ne$1(ft,e),Dt=Mr(),Nt=()=>{let Ft=s.current;$&&!Ft||(Ft?e.applyAnimatedValues(Ft,At.getValue(!0)):!1)===!1&&Dt()},Wt=new b$1(Nt,Rt),Ht=reactExports.useRef();Q$1(()=>(Ht.current=Wt,Ve(Rt,Ft=>Gt(Ft,Wt)),()=>{Ht.current&&(Ve(Ht.current.deps,Ft=>Qt(Ft,Ht.current)),n.cancel(Ht.current.update))})),reactExports.useEffect(Nt,[]),$r(()=>()=>{let Ft=Ht.current;Ve(Ft.deps,tn=>Qt(tn,Ft))});let Kt=e.getComponentProps(At.getValue());return reactExports.createElement(lt,{...Kt,ref:Tt})})},b$1=class{constructor(e,$){this.update=e,this.deps=$}eventObserved(e){e.type=="change"&&n.write(this.update)}};function ne$1(lt,e){let $=new Set;return f$1.dependencies=$,lt.style&&(lt={...lt,style:e.createAnimatedStyle(lt.style)}),lt=new u(lt),f$1.dependencies=null,[lt,$]}function ae(lt,e){return lt&&(l$1.fun(lt)?lt(e):lt.current=e),e}var j=Symbol.for("AnimatedComponent"),Ke=(lt,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:$=vt=>new u(vt),getComponentProps:ft=vt=>vt}={})=>{let vt={applyAnimatedValues:e,createAnimatedStyle:$,getComponentProps:ft},s=Tt=>{let At=I$1(Tt)||"Anonymous";return l$1.str(Tt)?Tt=s[Tt]||(s[Tt]=x$1(Tt,vt)):Tt=Tt[j]||(Tt[j]=x$1(Tt,vt)),Tt.displayName=`Animated(${At})`,Tt};return xt(lt,(Tt,At)=>{l$1.arr(lt)&&(At=I$1(Tt)),s[At]=s(Tt)}),{animated:s}},I$1=lt=>l$1.str(lt)?lt:lt&&l$1.str(lt.displayName)?lt.displayName:l$1.fun(lt)&&lt.name||null;function I(lt,...e){return l$1.fun(lt)?lt(...e):lt}var te=(lt,e)=>lt===!0||!!(e&&lt&&(l$1.fun(lt)?lt(e):ht$1(lt).includes(e))),et=(lt,e)=>l$1.obj(lt)?e&&lt[e]:lt,ke=(lt,e)=>lt.default===!0?lt[e]:lt.default?lt.default[e]:void 0,nn=lt=>lt,ne=(lt,e=nn)=>{let $=rn;lt.default&&lt.default!==!0&&(lt=lt.default,$=Object.keys(lt));let ft={};for(let vt of $){let s=e(lt[vt],vt);l$1.und(s)||(ft[vt]=s)}return ft},rn=["config","onProps","onStart","onChange","onPause","onResume","onRest"],on={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function sn(lt){let e={},$=0;if(xt(lt,(ft,vt)=>{on[vt]||(e[vt]=ft,$++)}),$)return e}function de(lt){let e=sn(lt);if(e){let $={to:e};return xt(lt,(ft,vt)=>vt in e||($[vt]=ft)),$}return{...lt}}function me(lt){return lt=ve(lt),l$1.arr(lt)?lt.map(me):or(lt)?p$1.createStringInterpolator({range:[0,1],output:[lt,lt]})(1):lt}function Ue(lt){for(let e in lt)return!0;return!1}function Ee(lt){return l$1.fun(lt)||l$1.arr(lt)&&l$1.obj(lt[0])}function xe(lt,e){var $;($=lt.ref)==null||$.delete(lt),e==null||e.delete(lt)}function he(lt,e){var $;e&&lt.ref!==e&&(($=lt.ref)==null||$.delete(lt),e.add(lt),lt.ref=e)}var mt={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},tt={...mt.default,mass:1,damping:1,easing:Lt$1.linear,clamp:!1},we=class{constructor(){xo(this,"tension");xo(this,"friction");xo(this,"frequency");xo(this,"damping");xo(this,"mass");xo(this,"velocity",0);xo(this,"restVelocity");xo(this,"precision");xo(this,"progress");xo(this,"duration");xo(this,"easing");xo(this,"clamp");xo(this,"bounce");xo(this,"decay");xo(this,"round");Object.assign(this,tt)}};function gt(lt,e,$){$&&($={...$},ht($,e),e={...$,...e}),ht(lt,e),Object.assign(lt,e);for(let Tt in tt)lt[Tt]==null&&(lt[Tt]=tt[Tt]);let{mass:ft,frequency:vt,damping:s}=lt;return l$1.und(vt)||(vt<.01&&(vt=.01),s<0&&(s=0),lt.tension=Math.pow(2*Math.PI/vt,2)*ft,lt.friction=4*Math.PI*s*ft/vt),lt}function ht(lt,e){if(!l$1.und(e.decay))lt.duration=void 0;else{let $=!l$1.und(e.tension)||!l$1.und(e.friction);($||!l$1.und(e.frequency)||!l$1.und(e.damping)||!l$1.und(e.mass))&&(lt.duration=void 0,lt.decay=void 0),$&&(lt.frequency=void 0)}}var yt=[],Le=class{constructor(){xo(this,"changed",!1);xo(this,"values",yt);xo(this,"toValues",null);xo(this,"fromValues",yt);xo(this,"to");xo(this,"from");xo(this,"config",new we);xo(this,"immediate",!1)}};function Me(lt,{key:e,props:$,defaultProps:ft,state:vt,actions:s}){return new Promise((Tt,At)=>{let Rt,Dt,Nt=te($.cancel??(ft==null?void 0:ft.cancel),e);if(Nt)Kt();else{l$1.und($.pause)||(vt.paused=te($.pause,e));let Ft=ft==null?void 0:ft.pause;Ft!==!0&&(Ft=vt.paused||te(Ft,e)),Rt=I($.delay||0,e),Ft?(vt.resumeQueue.add(Ht),s.pause()):(s.resume(),Ht())}function Wt(){vt.resumeQueue.add(Ht),vt.timeouts.delete(Dt),Dt.cancel(),Rt=Dt.time-n.now()}function Ht(){Rt>0&&!p$1.skipAnimation?(vt.delayed=!0,Dt=n.setTimeout(Kt,Rt),vt.pauseQueue.add(Wt),vt.timeouts.add(Dt)):Kt()}function Kt(){vt.delayed&&(vt.delayed=!1),vt.pauseQueue.delete(Wt),vt.timeouts.delete(Dt),lt<=(vt.cancelId||0)&&(Nt=!0);try{s.start({...$,callId:lt,cancel:Nt},Tt)}catch(Ft){At(Ft)}}})}var be=(lt,e)=>e.length==1?e[0]:e.some($=>$.cancelled)?q(lt.get()):e.every($=>$.noop)?nt(lt.get()):E$2(lt.get(),e.every($=>$.finished)),nt=lt=>({value:lt,noop:!0,finished:!0,cancelled:!1}),E$2=(lt,e,$=!1)=>({value:lt,finished:e,cancelled:$}),q=lt=>({value:lt,cancelled:!0,finished:!1});function De(lt,e,$,ft){let{callId:vt,parentId:s,onRest:Tt}=e,{asyncTo:At,promise:Rt}=$;return!s&&lt===At&&!e.reset?Rt:$.promise=(async()=>{$.asyncId=vt,$.asyncTo=lt;let Dt=ne(e,(cn,fn)=>fn==="onRest"?void 0:cn),Nt,Wt,Ht=new Promise((cn,fn)=>(Nt=cn,Wt=fn)),Kt=cn=>{let fn=vt<=($.cancelId||0)&&q(ft)||vt!==$.asyncId&&E$2(ft,!1);if(fn)throw cn.result=fn,Wt(cn),cn},Ft=(cn,fn)=>{let ln=new Ae,dn=new Ne;return(async()=>{if(p$1.skipAnimation)throw oe($),dn.result=E$2(ft,!1),Wt(dn),dn;Kt(ln);let mn=l$1.obj(cn)?{...cn}:{...fn,to:cn};mn.parentId=vt,xt(Dt,(Mn,Tn)=>{l$1.und(mn[Tn])&&(mn[Tn]=Mn)});let xn=await ft.start(mn);return Kt(ln),$.paused&&await new Promise(Mn=>{$.resumeQueue.add(Mn)}),xn})()},tn;if(p$1.skipAnimation)return oe($),E$2(ft,!1);try{let cn;l$1.arr(lt)?cn=(async fn=>{for(let ln of fn)await Ft(ln)})(lt):cn=Promise.resolve(lt(Ft,ft.stop.bind(ft))),await Promise.all([cn.then(Nt),Ht]),tn=E$2(ft.get(),!0,!1)}catch(cn){if(cn instanceof Ae)tn=cn.result;else if(cn instanceof Ne)tn=cn.result;else throw cn}finally{vt==$.asyncId&&($.asyncId=s,$.asyncTo=s?At:void 0,$.promise=s?Rt:void 0)}return l$1.fun(Tt)&&n.batchedUpdates(()=>{Tt(tn,ft,ft.item)}),tn})()}function oe(lt,e){Pe$1(lt.timeouts,$=>$.cancel()),lt.pauseQueue.clear(),lt.resumeQueue.clear(),lt.asyncId=lt.asyncTo=lt.promise=void 0,e&&(lt.cancelId=e)}var Ae=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");xo(this,"result")}},Ne=class extends Error{constructor(){super("SkipAnimationSignal");xo(this,"result")}},Re=lt=>lt instanceof X,Sn=1,X=class extends ge{constructor(){super(...arguments);xo(this,"id",Sn++);xo(this,"_priority",0)}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=k(this);return e&&e.getValue()}to(...e){return p$1.to(this,e)}interpolate(...e){return Jt(),p$1.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,$=!1){$t(this,{type:"change",parent:this,value:e,idle:$})}_onPriorityChange(e){this.idle||qe$1.sort(this),$t(this,{type:"priority",parent:this,priority:e})}},se=Symbol.for("SpringPhase"),bt=1,rt=2,ot=4,qe=lt=>(lt[se]&bt)>0,Q=lt=>(lt[se]&rt)>0,ye=lt=>(lt[se]&ot)>0,st=(lt,e)=>e?lt[se]|=rt|bt:lt[se]&=~rt,it=(lt,e)=>e?lt[se]|=ot:lt[se]&=~ot,ue=class extends X{constructor(e,$){super();xo(this,"key");xo(this,"animation",new Le);xo(this,"queue");xo(this,"defaultProps",{});xo(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});xo(this,"_pendingCalls",new Set);xo(this,"_lastCallId",0);xo(this,"_lastToId",0);xo(this,"_memoizedDuration",0);if(!l$1.und(e)||!l$1.und($)){let ft=l$1.obj(e)?{...e}:{...$,from:e};l$1.und(ft.default)&&(ft.default=!0),this.start(ft)}}get idle(){return!(Q(this)||this._state.asyncTo)||ye(this)}get goal(){return ve(this.animation.to)}get velocity(){let e=k(this);return e instanceof l?e.lastVelocity||0:e.getPayload().map($=>$.lastVelocity||0)}get hasAnimated(){return qe(this)}get isAnimating(){return Q(this)}get isPaused(){return ye(this)}get isDelayed(){return this._state.delayed}advance(e){let $=!0,ft=!1,vt=this.animation,{config:s,toValues:Tt}=vt,At=F$1(vt.to);!At&&Pt(vt.to)&&(Tt=ht$1(ve(vt.to))),vt.values.forEach((Nt,Wt)=>{if(Nt.done)return;let Ht=Nt.constructor==d$1?1:At?At[Wt].lastPosition:Tt[Wt],Kt=vt.immediate,Ft=Ht;if(!Kt){if(Ft=Nt.lastPosition,s.tension<=0){Nt.done=!0;return}let tn=Nt.elapsedTime+=e,cn=vt.fromValues[Wt],fn=Nt.v0!=null?Nt.v0:Nt.v0=l$1.arr(s.velocity)?s.velocity[Wt]:s.velocity,ln,dn=s.precision||(cn==Ht?.005:Math.min(1,Math.abs(Ht-cn)*.001));if(l$1.und(s.duration))if(s.decay){let mn=s.decay===!0?.998:s.decay,xn=Math.exp(-(1-mn)*tn);Ft=cn+fn/(1-mn)*(1-xn),Kt=Math.abs(Nt.lastPosition-Ft)<=dn,ln=fn*xn}else{ln=Nt.lastVelocity==null?fn:Nt.lastVelocity;let mn=s.restVelocity||dn/10,xn=s.clamp?0:s.bounce,Mn=!l$1.und(xn),Tn=cn==Ht?Nt.v0>0:cn<Ht,vn,An=!1,Pn=1,bn=Math.ceil(e/Pn);for(let In=0;In<bn&&(vn=Math.abs(ln)>mn,!(!vn&&(Kt=Math.abs(Ht-Ft)<=dn,Kt)));++In){Mn&&(An=Ft==Ht||Ft>Ht==Tn,An&&(ln=-ln*xn,Ft=Ht));let On=-s.tension*1e-6*(Ft-Ht),Nn=-s.friction*.001*ln,Yn=(On+Nn)/s.mass;ln=ln+Yn*Pn,Ft=Ft+ln*Pn}}else{let mn=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,Nt.durationProgress>0&&(Nt.elapsedTime=s.duration*Nt.durationProgress,tn=Nt.elapsedTime+=e)),mn=(s.progress||0)+tn/this._memoizedDuration,mn=mn>1?1:mn<0?0:mn,Nt.durationProgress=mn),Ft=cn+s.easing(mn)*(Ht-cn),ln=(Ft-Nt.lastPosition)/e,Kt=mn==1}Nt.lastVelocity=ln,Number.isNaN(Ft)&&(console.warn("Got NaN while animating:",this),Kt=!0)}At&&!At[Wt].done&&(Kt=!1),Kt?Nt.done=!0:$=!1,Nt.setValue(Ft,s.round)&&(ft=!0)});let Rt=k(this),Dt=Rt.getValue();if($){let Nt=ve(vt.to);(Dt!==Nt||ft)&&!s.decay?(Rt.setValue(Nt),this._onChange(Nt)):ft&&s.decay&&this._onChange(Dt),this._stop()}else ft&&this._onChange(Dt)}set(e){return n.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Q(this)){let{to:e,config:$}=this.animation;n.batchedUpdates(()=>{this._onStart(),$.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,$){let ft;return l$1.und(e)?(ft=this.queue||[],this.queue=[]):ft=[l$1.obj(e)?e:{...$,to:e}],Promise.all(ft.map(vt=>this._update(vt))).then(vt=>be(this,vt))}stop(e){let{to:$}=this.animation;return this._focus(this.get()),oe(this._state,e&&this._lastCallId),n.batchedUpdates(()=>this._stop($,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){let $=this.key||"",{to:ft,from:vt}=e;ft=l$1.obj(ft)?ft[$]:ft,(ft==null||Ee(ft))&&(ft=void 0),vt=l$1.obj(vt)?vt[$]:vt,vt==null&&(vt=void 0);let s={to:ft,from:vt};return qe(this)||(e.reverse&&([ft,vt]=[vt,ft]),vt=ve(vt),l$1.und(vt)?k(this)||this._set(ft):this._set(vt)),s}_update({...e},$){let{key:ft,defaultProps:vt}=this;e.default&&Object.assign(vt,ne(e,(At,Rt)=>/^on/.test(Rt)?et(At,ft):At)),_t(this,e,"onProps"),Ie(this,"onProps",e,this);let s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let Tt=this._state;return Me(++this._lastCallId,{key:ft,props:e,defaultProps:vt,state:Tt,actions:{pause:()=>{ye(this)||(it(this,!0),yt$1(Tt.pauseQueue),Ie(this,"onPause",E$2(this,Ce(this,this.animation.to)),this))},resume:()=>{ye(this)&&(it(this,!1),Q(this)&&this._resume(),yt$1(Tt.resumeQueue),Ie(this,"onResume",E$2(this,Ce(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(At=>{if(e.loop&&At.finished&&!($&&At.noop)){let Rt=at(e);if(Rt)return this._update(Rt,!0)}return At})}_merge(e,$,ft){if($.cancel)return this.stop(!0),ft(q(this));let vt=!l$1.und(e.to),s=!l$1.und(e.from);if(vt||s)if($.callId>this._lastToId)this._lastToId=$.callId;else return ft(q(this));let{key:Tt,defaultProps:At,animation:Rt}=this,{to:Dt,from:Nt}=Rt,{to:Wt=Dt,from:Ht=Nt}=e;s&&!vt&&(!$.default||l$1.und(Wt))&&(Wt=Ht),$.reverse&&([Wt,Ht]=[Ht,Wt]);let Kt=!bt$1(Ht,Nt);Kt&&(Rt.from=Ht),Ht=ve(Ht);let Ft=!bt$1(Wt,Dt);Ft&&this._focus(Wt);let tn=Ee($.to),{config:cn}=Rt,{decay:fn,velocity:ln}=cn;(vt||s)&&(cn.velocity=0),$.config&&!tn&&gt(cn,I($.config,Tt),$.config!==At.config?I(At.config,Tt):void 0);let dn=k(this);if(!dn||l$1.und(Wt))return ft(E$2(this,!0));let mn=l$1.und($.reset)?s&&!$.default:!l$1.und(Ht)&&te($.reset,Tt),xn=mn?Ht:this.get(),Mn=me(Wt),Tn=l$1.num(Mn)||l$1.arr(Mn)||or(Mn),vn=!tn&&(!Tn||te(At.immediate||$.immediate,Tt));if(Ft){let In=Le$1(Wt);if(In!==dn.constructor)if(vn)dn=this._set(Mn);else throw Error(`Cannot animate between ${dn.constructor.name} and ${In.name}, as the "to" prop suggests`)}let An=dn.constructor,Pn=Pt(Wt),bn=!1;if(!Pn){let In=mn||!qe(this)&&Kt;(Ft||In)&&(bn=bt$1(me(xn),Mn),Pn=!bn),(!bt$1(Rt.immediate,vn)&&!vn||!bt$1(cn.decay,fn)||!bt$1(cn.velocity,ln))&&(Pn=!0)}if(bn&&Q(this)&&(Rt.changed&&!mn?Pn=!0:Pn||this._stop(Dt)),!tn&&((Pn||Pt(Dt))&&(Rt.values=dn.getPayload(),Rt.toValues=Pt(Wt)?null:An==d$1?[1]:ht$1(Mn)),Rt.immediate!=vn&&(Rt.immediate=vn,!vn&&!mn&&this._set(Dt)),Pn)){let{onRest:In}=Rt;Ve(_n,Nn=>_t(this,$,Nn));let On=E$2(this,Ce(this,Dt));yt$1(this._pendingCalls,On),this._pendingCalls.add(ft),Rt.changed&&n.batchedUpdates(()=>{var Nn;Rt.changed=!mn,In==null||In(On,this),mn?I(At.onRest,On):(Nn=Rt.onStart)==null||Nn.call(Rt,On,this)})}mn&&this._set(xn),tn?ft(De($.to,$,this._state,this)):Pn?this._start():Q(this)&&!Ft?this._pendingCalls.add(ft):ft(nt(xn))}_focus(e){let $=this.animation;e!==$.to&&(qt(this)&&this._detach(),$.to=e,qt(this)&&this._attach())}_attach(){let e=0,{to:$}=this.animation;Pt($)&&(Gt($,this),Re($)&&(e=$.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;Pt(e)&&Qt(e,this)}_set(e,$=!0){let ft=ve(e);if(!l$1.und(ft)){let vt=k(this);if(!vt||!bt$1(ft,vt.getValue())){let s=Le$1(ft);!vt||vt.constructor!=s?D(this,s.create(ft)):vt.setValue(ft),vt&&n.batchedUpdates(()=>{this._onChange(ft,$)})}}return k(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,Ie(this,"onStart",E$2(this,Ce(this,e.to)),this))}_onChange(e,$){$||(this._onStart(),I(this.animation.onChange,e,this)),I(this.defaultProps.onChange,e,this),super._onChange(e,$)}_start(){let e=this.animation;k(this).reset(ve(e.to)),e.immediate||(e.fromValues=e.values.map($=>$.lastPosition)),Q(this)||(st(this,!0),ye(this)||this._resume())}_resume(){p$1.skipAnimation?this.finish():qe$1.start(this)}_stop(e,$){if(Q(this)){st(this,!1);let ft=this.animation;Ve(ft.values,s=>{s.done=!0}),ft.toValues&&(ft.onChange=ft.onPause=ft.onResume=void 0),$t(this,{type:"idle",parent:this});let vt=$?q(this.get()):E$2(this.get(),Ce(this,e??ft.to));yt$1(this._pendingCalls,vt),ft.changed&&(ft.changed=!1,Ie(this,"onRest",vt,this))}}};function Ce(lt,e){let $=me(e),ft=me(lt.get());return bt$1(ft,$)}function at(lt,e=lt.loop,$=lt.to){let ft=I(e);if(ft){let vt=ft!==!0&&de(ft),s=(vt||lt).reverse,Tt=!vt||vt.reset;return Pe({...lt,loop:e,default:!1,pause:void 0,to:!s||Ee($)?$:void 0,from:Tt?lt.from:void 0,reset:Tt,...vt})}}function Pe(lt){let{to:e,from:$}=lt=de(lt),ft=new Set;return l$1.obj(e)&&Vt(e,ft),l$1.obj($)&&Vt($,ft),lt.keys=ft.size?Array.from(ft):null,lt}function Ot(lt){let e=Pe(lt);return l$1.und(e.default)&&(e.default=ne(e)),e}function Vt(lt,e){xt(lt,($,ft)=>$!=null&&e.add(ft))}var _n=["onStart","onRest","onChange","onPause","onResume"];function _t(lt,e,$){lt.animation[$]=e[$]!==ke(e,$)?et(e[$],lt.key):void 0}function Ie(lt,e,...$){var ft,vt,s,Tt;(vt=(ft=lt.animation)[e])==null||vt.call(ft,...$),(Tt=(s=lt.defaultProps)[e])==null||Tt.call(s,...$)}var Fn=["onStart","onChange","onRest"],kn=1,le=class{constructor(lt,e){xo(this,"id",kn++);xo(this,"springs",{});xo(this,"queue",[]);xo(this,"ref");xo(this,"_flush");xo(this,"_initialProps");xo(this,"_lastAsyncId",0);xo(this,"_active",new Set);xo(this,"_changed",new Set);xo(this,"_started",!1);xo(this,"_item");xo(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});xo(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),lt&&this.start({default:!0,...lt})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(lt=>lt.idle&&!lt.isDelayed&&!lt.isPaused)}get item(){return this._item}set item(lt){this._item=lt}get(){let lt={};return this.each((e,$)=>lt[$]=e.get()),lt}set(lt){for(let e in lt){let $=lt[e];l$1.und($)||this.springs[e].set($)}}update(lt){return lt&&this.queue.push(Pe(lt)),this}start(lt){let{queue:e}=this;return lt?e=ht$1(lt).map(Pe):this.queue=[],this._flush?this._flush(this,e):(jt(this,e),ze(this,e))}stop(lt,e){if(lt!==!!lt&&(e=lt),e){let $=this.springs;Ve(ht$1(e),ft=>$[ft].stop(!!lt))}else oe(this._state,this._lastAsyncId),this.each($=>$.stop(!!lt));return this}pause(lt){if(l$1.und(lt))this.start({pause:!0});else{let e=this.springs;Ve(ht$1(lt),$=>e[$].pause())}return this}resume(lt){if(l$1.und(lt))this.start({pause:!1});else{let e=this.springs;Ve(ht$1(lt),$=>e[$].resume())}return this}each(lt){xt(this.springs,lt)}_onFrame(){let{onStart:lt,onChange:e,onRest:$}=this._events,ft=this._active.size>0,vt=this._changed.size>0;(ft&&!this._started||vt&&!this._started)&&(this._started=!0,Pe$1(lt,([At,Rt])=>{Rt.value=this.get(),At(Rt,this,this._item)}));let s=!ft&&this._started,Tt=vt||s&&$.size?this.get():null;vt&&e.size&&Pe$1(e,([At,Rt])=>{Rt.value=Tt,At(Rt,this,this._item)}),s&&(this._started=!1,Pe$1($,([At,Rt])=>{Rt.value=Tt,At(Rt,this,this._item)}))}eventObserved(lt){if(lt.type=="change")this._changed.add(lt.parent),lt.idle||this._active.add(lt.parent);else if(lt.type=="idle")this._active.delete(lt.parent);else return;n.onFrame(this._onFrame)}};function ze(lt,e){return Promise.all(e.map($=>wt(lt,$))).then($=>be(lt,$))}async function wt(lt,e,$){let{keys:ft,to:vt,from:s,loop:Tt,onRest:At,onResolve:Rt}=e,Dt=l$1.obj(e.default)&&e.default;Tt&&(e.loop=!1),vt===!1&&(e.to=null),s===!1&&(e.from=null);let Nt=l$1.arr(vt)||l$1.fun(vt)?vt:void 0;Nt?(e.to=void 0,e.onRest=void 0,Dt&&(Dt.onRest=void 0)):Ve(Fn,tn=>{let cn=e[tn];if(l$1.fun(cn)){let fn=lt._events[tn];e[tn]=({finished:ln,cancelled:dn})=>{let mn=fn.get(cn);mn?(ln||(mn.finished=!1),dn&&(mn.cancelled=!0)):fn.set(cn,{value:null,finished:ln||!1,cancelled:dn||!1})},Dt&&(Dt[tn]=e[tn])}});let Wt=lt._state;e.pause===!Wt.paused?(Wt.paused=e.pause,yt$1(e.pause?Wt.pauseQueue:Wt.resumeQueue)):Wt.paused&&(e.pause=!0);let Ht=(ft||Object.keys(lt.springs)).map(tn=>lt.springs[tn].start(e)),Kt=e.cancel===!0||ke(e,"cancel")===!0;(Nt||Kt&&Wt.asyncId)&&Ht.push(Me(++lt._lastAsyncId,{props:e,state:Wt,actions:{pause:Y,resume:Y,start(tn,cn){Kt?(oe(Wt,lt._lastAsyncId),cn(q(lt))):(tn.onRest=At,cn(De(Nt,tn,Wt,lt)))}}})),Wt.paused&&await new Promise(tn=>{Wt.resumeQueue.add(tn)});let Ft=be(lt,await Promise.all(Ht));if(Tt&&Ft.finished&&!($&&Ft.noop)){let tn=at(e,Tt,vt);if(tn)return jt(lt,[tn]),wt(lt,tn,!0)}return Rt&&n.batchedUpdates(()=>Rt(Ft,lt,lt.item)),Ft}function _e(lt,e){let $={...lt.springs};return e&&Ve(ht$1(e),ft=>{l$1.und(ft.keys)&&(ft=Pe(ft)),l$1.obj(ft.to)||(ft={...ft,to:void 0}),Mt($,ft,vt=>Lt(vt))}),pt(lt,$),$}function pt(lt,e){xt(e,($,ft)=>{lt.springs[ft]||(lt.springs[ft]=$,Gt($,lt))})}function Lt(lt,e){let $=new ue;return $.key=lt,e&&Gt($,e),$}function Mt(lt,e,$){e.keys&&Ve(e.keys,ft=>{(lt[ft]||(lt[ft]=$(ft)))._prepareNode(e)})}function jt(lt,e){Ve(e,$=>{Mt(lt.springs,$,ft=>Lt(ft,lt))})}var H=({children:lt,...e})=>{let $=reactExports.useContext(Ge),ft=e.pause||!!$.pause,vt=e.immediate||!!$.immediate;e=Lr(()=>({pause:ft,immediate:vt}),[ft,vt]);let{Provider:s}=Ge;return reactExports.createElement(s,{value:e},lt)},Ge=wn(H,{});H.Provider=Ge.Provider;H.Consumer=Ge.Consumer;function wn(lt,e){return Object.assign(lt,reactExports.createContext(e)),lt.Provider._context=lt,lt.Consumer._context=lt,lt}var fe=()=>{let lt=[],e=function(ft){er();let vt=[];return Ve(lt,(s,Tt)=>{if(l$1.und(ft))vt.push(s.start());else{let At=$(ft,s,Tt);At&&vt.push(s.start(At))}}),vt};e.current=lt,e.add=function(ft){lt.includes(ft)||lt.push(ft)},e.delete=function(ft){let vt=lt.indexOf(ft);~vt&&lt.splice(vt,1)},e.pause=function(){return Ve(lt,ft=>ft.pause(...arguments)),this},e.resume=function(){return Ve(lt,ft=>ft.resume(...arguments)),this},e.set=function(ft){Ve(lt,(vt,s)=>{let Tt=l$1.fun(ft)?ft(s,vt):ft;Tt&&vt.set(Tt)})},e.start=function(ft){let vt=[];return Ve(lt,(s,Tt)=>{if(l$1.und(ft))vt.push(s.start());else{let At=this._getProps(ft,s,Tt);At&&vt.push(s.start(At))}}),vt},e.stop=function(){return Ve(lt,ft=>ft.stop(...arguments)),this},e.update=function(ft){return Ve(lt,(vt,s)=>vt.update(this._getProps(ft,vt,s))),this};let $=function(ft,vt,s){return l$1.fun(ft)?ft(s,vt):ft};return e._getProps=$,e};function He(lt,e,$){let ft=l$1.fun(e)&&e;ft&&!$&&($=[]);let vt=reactExports.useMemo(()=>ft||arguments.length==3?fe():void 0,[]),s=reactExports.useRef(0),Tt=Mr(),At=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(fn,ln){let dn=_e(fn,ln);return s.current>0&&!At.queue.length&&!Object.keys(dn).some(mn=>!fn.springs[mn])?ze(fn,ln):new Promise(mn=>{pt(fn,dn),At.queue.push(()=>{mn(ze(fn,ln))}),Tt()})}}),[]),Rt=reactExports.useRef([...At.ctrls]),Dt=[],Nt=Ur(lt)||0;reactExports.useMemo(()=>{Ve(Rt.current.slice(lt,Nt),fn=>{xe(fn,vt),fn.stop(!0)}),Rt.current.length=lt,Wt(Nt,lt)},[lt]),reactExports.useMemo(()=>{Wt(0,Math.min(Nt,lt))},$);function Wt(fn,ln){for(let dn=fn;dn<ln;dn++){let mn=Rt.current[dn]||(Rt.current[dn]=new le(null,At.flush)),xn=ft?ft(dn,mn):e[dn];xn&&(Dt[dn]=Ot(xn))}}let Ht=Rt.current.map((fn,ln)=>_e(fn,Dt[ln])),Kt=reactExports.useContext(H),Ft=Ur(Kt),tn=Kt!==Ft&&Ue(Kt);Q$1(()=>{s.current++,At.ctrls=Rt.current;let{queue:fn}=At;fn.length&&(At.queue=[],Ve(fn,ln=>ln())),Ve(Rt.current,(ln,dn)=>{vt==null||vt.add(ln),tn&&ln.start({default:Kt});let mn=Dt[dn];mn&&(he(ln,mn.ref),ln.ref?ln.queue.push(mn):ln.start(mn))})}),$r(()=>()=>{Ve(At.ctrls,fn=>fn.stop(!0))});let cn=Ht.map(fn=>({...fn}));return vt?[cn,vt]:cn}function J(lt,e){let $=l$1.fun(lt),[[ft],vt]=He(1,$?lt:[lt],$?e||[]:e);return $||arguments.length==2?[ft,vt]:ft}var W=class extends X{constructor(e,$){super();xo(this,"key");xo(this,"idle",!0);xo(this,"calc");xo(this,"_active",new Set);this.source=e,this.calc=W$1(...$);let ft=this._get(),vt=Le$1(ft);D(this,vt.create(ft))}advance(e){let $=this._get(),ft=this.get();bt$1($,ft)||(k(this).setValue($),this._onChange($,this.idle)),!this.idle&&Yt(this._active)&&ct(this)}_get(){let e=l$1.arr(this.source)?this.source.map(ve):ht$1(ve(this.source));return this.calc(...e)}_start(){this.idle&&!Yt(this._active)&&(this.idle=!1,Ve(F$1(this),e=>{e.done=!1}),p$1.skipAnimation?(n.batchedUpdates(()=>this.advance()),ct(this)):qe$1.start(this))}_attach(){let e=1;Ve(ht$1(this.source),$=>{Pt($)&&Gt($,this),Re($)&&($.idle||this._active.add($),e=Math.max(e,$.priority+1))}),this.priority=e,this._start()}_detach(){Ve(ht$1(this.source),e=>{Pt(e)&&Qt(e,this)}),this._active.clear(),ct(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=ht$1(this.source).reduce(($,ft)=>Math.max($,(Re(ft)?ft.priority:0)+1),0))}};function vr(lt){return lt.idle!==!1}function Yt(lt){return!lt.size||Array.from(lt).every(vr)}function ct(lt){lt.idle||(lt.idle=!0,Ve(F$1(lt),e=>{e.done=!0}),$t(lt,{type:"idle",parent:lt}))}var ui=(lt,...e)=>new W(lt,e);p$1.assign({createStringInterpolator:Xt,to:(lt,e)=>new W(lt,e)});var o=["primitive"].concat(Object.keys(r$1).filter(lt=>/^[A-Z]/.test(lt)).map(lt=>lt[0].toLowerCase()+lt.slice(1)));p$1.assign({createStringInterpolator:Xt,colors:It,frameLoop:"demand"});addEffect(()=>{n.advance()});var f=Ke(o,{applyAnimatedValues:applyProps}),E$1=f.animated,CONSTANTS$1={ALIGN_COUNT:8,ALIGN_AUTO:0,ALIGN_FLEX_START:1,ALIGN_CENTER:2,ALIGN_FLEX_END:3,ALIGN_STRETCH:4,ALIGN_BASELINE:5,ALIGN_SPACE_BETWEEN:6,ALIGN_SPACE_AROUND:7,DIMENSION_COUNT:2,DIMENSION_WIDTH:0,DIMENSION_HEIGHT:1,DIRECTION_COUNT:3,DIRECTION_INHERIT:0,DIRECTION_LTR:1,DIRECTION_RTL:2,DISPLAY_COUNT:2,DISPLAY_FLEX:0,DISPLAY_NONE:1,EDGE_COUNT:9,EDGE_LEFT:0,EDGE_TOP:1,EDGE_RIGHT:2,EDGE_BOTTOM:3,EDGE_START:4,EDGE_END:5,EDGE_HORIZONTAL:6,EDGE_VERTICAL:7,EDGE_ALL:8,EXPERIMENTAL_FEATURE_COUNT:1,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:0,FLEX_DIRECTION_COUNT:4,FLEX_DIRECTION_COLUMN:0,FLEX_DIRECTION_COLUMN_REVERSE:1,FLEX_DIRECTION_ROW:2,FLEX_DIRECTION_ROW_REVERSE:3,JUSTIFY_COUNT:6,JUSTIFY_FLEX_START:0,JUSTIFY_CENTER:1,JUSTIFY_FLEX_END:2,JUSTIFY_SPACE_BETWEEN:3,JUSTIFY_SPACE_AROUND:4,JUSTIFY_SPACE_EVENLY:5,LOG_LEVEL_COUNT:6,LOG_LEVEL_ERROR:0,LOG_LEVEL_WARN:1,LOG_LEVEL_INFO:2,LOG_LEVEL_DEBUG:3,LOG_LEVEL_VERBOSE:4,LOG_LEVEL_FATAL:5,MEASURE_MODE_COUNT:3,MEASURE_MODE_UNDEFINED:0,MEASURE_MODE_EXACTLY:1,MEASURE_MODE_AT_MOST:2,NODE_TYPE_COUNT:2,NODE_TYPE_DEFAULT:0,NODE_TYPE_TEXT:1,OVERFLOW_COUNT:3,OVERFLOW_VISIBLE:0,OVERFLOW_HIDDEN:1,OVERFLOW_SCROLL:2,POSITION_TYPE_COUNT:2,POSITION_TYPE_RELATIVE:0,POSITION_TYPE_ABSOLUTE:1,PRINT_OPTIONS_COUNT:3,PRINT_OPTIONS_LAYOUT:1,PRINT_OPTIONS_STYLE:2,PRINT_OPTIONS_CHILDREN:4,UNIT_COUNT:4,UNIT_UNDEFINED:0,UNIT_POINT:1,UNIT_PERCENT:2,UNIT_AUTO:3,WRAP_COUNT:3,WRAP_NO_WRAP:0,WRAP_WRAP:1,WRAP_WRAP_REVERSE:2},YGEnums=CONSTANTS$1,_extends=Object.assign||function(lt){for(var e=1;e<arguments.length;e++){var $=arguments[e];for(var ft in $)Object.prototype.hasOwnProperty.call($,ft)&&(lt[ft]=$[ft])}return lt},_createClass$1=function(){function lt(e,$){for(var ft=0;ft<$.length;ft++){var vt=$[ft];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(e,vt.key,vt)}}return function(e,$,ft){return $&&lt(e.prototype,$),ft&&lt(e,ft),e}}();function _defineProperty$2(lt,e,$){return e in lt?Object.defineProperty(lt,e,{value:$,enumerable:!0,configurable:!0,writable:!0}):lt[e]=$,lt}function _classCallCheck$1(lt,e){if(!(lt instanceof e))throw new TypeError("Cannot call a class as a function")}var CONSTANTS=YGEnums,Layout=function(){function lt(e,$,ft,vt,s,Tt){_classCallCheck$1(this,lt),this.left=e,this.right=$,this.top=ft,this.bottom=vt,this.width=s,this.height=Tt}return _createClass$1(lt,[{key:"fromJS",value:function($){$(this.left,this.right,this.top,this.bottom,this.width,this.height)}},{key:"toString",value:function(){return"<Layout#"+this.left+":"+this.right+";"+this.top+":"+this.bottom+";"+this.width+":"+this.height+">"}}]),lt}(),Size=function(){_createClass$1(lt,null,[{key:"fromJS",value:function($){var ft=$.width,vt=$.height;return new lt(ft,vt)}}]);function lt(e,$){_classCallCheck$1(this,lt),this.width=e,this.height=$}return _createClass$1(lt,[{key:"fromJS",value:function($){$(this.width,this.height)}},{key:"toString",value:function(){return"<Size#"+this.width+"x"+this.height+">"}}]),lt}(),Value=function(){function lt(e,$){_classCallCheck$1(this,lt),this.unit=e,this.value=$}return _createClass$1(lt,[{key:"fromJS",value:function($){$(this.unit,this.value)}},{key:"toString",value:function(){switch(this.unit){case CONSTANTS.UNIT_POINT:return String(this.value);case CONSTANTS.UNIT_PERCENT:return this.value+"%";case CONSTANTS.UNIT_AUTO:return"auto";default:return this.value+"?"}}},{key:"valueOf",value:function(){return this.value}}]),lt}(),entryCommon=function(lt,e){function $(Tt,At,Rt){var Dt=Tt[At];Tt[At]=function(){for(var Nt=arguments.length,Wt=Array(Nt),Ht=0;Ht<Nt;Ht++)Wt[Ht]=arguments[Ht];return Rt.call.apply(Rt,[this,Dt].concat(Wt))}}for(var ft=["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding"],vt=function(){var At,Rt=ft[s],Dt=(At={},_defineProperty$2(At,CONSTANTS.UNIT_POINT,e.Node.prototype[Rt]),_defineProperty$2(At,CONSTANTS.UNIT_PERCENT,e.Node.prototype[Rt+"Percent"]),_defineProperty$2(At,CONSTANTS.UNIT_AUTO,e.Node.prototype[Rt+"Auto"]),At);$(e.Node.prototype,Rt,function(Nt){for(var Wt=arguments.length,Ht=Array(Wt>1?Wt-1:0),Kt=1;Kt<Wt;Kt++)Ht[Kt-1]=arguments[Kt];var Ft=Ht.pop(),tn=void 0,cn=void 0;if(Ft==="auto")tn=CONSTANTS.UNIT_AUTO,cn=void 0;else if(Ft instanceof Value)tn=Ft.unit,cn=Ft.valueOf();else if(tn=typeof Ft=="string"&&Ft.endsWith("%")?CONSTANTS.UNIT_PERCENT:CONSTANTS.UNIT_POINT,cn=parseFloat(Ft),!Number.isNaN(Ft)&&Number.isNaN(cn))throw new Error("Invalid value "+Ft+" for "+Rt);if(!Dt[tn])throw new Error('Failed to execute "'+Rt+`": Unsupported unit '`+Ft+"'");if(cn!==void 0){var fn;return(fn=Dt[tn]).call.apply(fn,[this].concat(Ht,[cn]))}else{var ln;return(ln=Dt[tn]).call.apply(ln,[this].concat(Ht))}})},s=0;s<ft.length;s++)vt();return $(e.Config.prototype,"free",function(){e.Config.destroy(this)}),$(e.Node,"create",function(Tt,At){return At?e.Node.createWithConfig(At):e.Node.createDefault()}),$(e.Node.prototype,"free",function(){e.Node.destroy(this)}),$(e.Node.prototype,"freeRecursive",function(){for(var Tt=0,At=this.getChildCount();Tt<At;++Tt)this.getChild(0).freeRecursive();this.free()}),$(e.Node.prototype,"setMeasureFunc",function(Tt,At){return At?Tt.call(this,function(){return Size.fromJS(At.apply(void 0,arguments))}):this.unsetMeasureFunc()}),$(e.Node.prototype,"calculateLayout",function(Tt){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN,Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN,Dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:CONSTANTS.DIRECTION_LTR;return Tt.call(this,At,Rt,Dt)}),_extends({Config:e.Config,Node:e.Node,Layout:lt("Layout",Layout),Size:lt("Size",Size),Value:lt("Value",Value),getInstanceCount:function(){return e.getInstanceCount.apply(e,arguments)}},CONSTANTS)};function commonjsRequire(lt){throw new Error('Could not dynamically require "'+lt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nbindExports={},nbind$1={get exports(){return nbindExports},set exports(lt){nbindExports=lt}};(function(module){(function(lt,e){module.exports?module.exports=e:(lt.nbind=lt.nbind||{}).init=e})(commonjsGlobal,function(Module,cb){typeof Module=="function"&&(cb=Module,Module={}),Module.onRuntimeInitialized=function(lt,e){return function(){lt&&lt.apply(this,arguments);try{Module.ccall("nbind_init")}catch($){e($);return}e(null,{bind:Module._nbind_value,reflect:Module.NBind.reflect,queryType:Module.NBind.queryType,toggleLightGC:Module.toggleLightGC,lib:Module})}}(Module.onRuntimeInitialized,cb);var Module;Module||(Module=(typeof Module<"u"?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;if(Module.ENVIRONMENT)if(Module.ENVIRONMENT==="WEB")ENVIRONMENT_IS_WEB=!0;else if(Module.ENVIRONMENT==="WORKER")ENVIRONMENT_IS_WORKER=!0;else if(Module.ENVIRONMENT==="NODE")ENVIRONMENT_IS_NODE=!0;else if(Module.ENVIRONMENT==="SHELL")ENVIRONMENT_IS_SHELL=!0;else throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");else ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof commonjsRequire=="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=console.log),Module.printErr||(Module.printErr=console.warn);var nodeFS,nodePath;Module.read=function(e,$){nodeFS||(nodeFS={}("")),nodePath||(nodePath={}("")),e=nodePath.normalize(e);var ft=nodeFS.readFileSync(e);return $?ft:ft.toString()},Module.readBinary=function(e){var $=Module.read(e,!0);return $.buffer||($=new Uint8Array($)),assert($.buffer),$},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(lt){if(!(lt instanceof ExitStatus))throw lt}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),typeof printErr<"u"&&(Module.printErr=printErr),typeof read<"u"?Module.read=read:Module.read=function(){throw"no read() available"},Module.readBinary=function(e){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(e));var $=read(e,"binary");return assert(typeof $=="object"),$},typeof scriptArgs<"u"?Module.arguments=scriptArgs:typeof arguments<"u"&&(Module.arguments=arguments),typeof quit=="function"&&(Module.quit=function(lt,e){quit(lt)});else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(Module.read=function(e){var $=new XMLHttpRequest;return $.open("GET",e,!1),$.send(null),$.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(e){var $=new XMLHttpRequest;return $.open("GET",e,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),Module.readAsync=function(e,$,ft){var vt=new XMLHttpRequest;vt.open("GET",e,!0),vt.responseType="arraybuffer",vt.onload=function(){vt.status==200||vt.status==0&&vt.response?$(vt.response):ft()},vt.onerror=ft,vt.send(null)},typeof arguments<"u"&&(Module.arguments=arguments),typeof console<"u")Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.warn(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&typeof dump<"u"?function(lt){dump(lt)}:function(lt){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),typeof Module.setWindowTitle>"u"&&(Module.setWindowTitle=function(lt){document.title=lt})}else throw"Unknown runtime environment. Where are we?";function globalEval(lt){eval.call(null,lt)}!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.quit||(Module.quit=function(lt,e){throw e}),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var Runtime={setTempRet0:function(lt){return tempRet0=lt,lt},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(lt){STACKTOP=lt},getNativeTypeSize:function(lt){switch(lt){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(lt[lt.length-1]==="*")return Runtime.QUANTUM_SIZE;if(lt[0]==="i"){var e=parseInt(lt.substr(1));return assert(e%8===0),e/8}else return 0}}},getNativeFieldSize:function(lt){return Math.max(Runtime.getNativeTypeSize(lt),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(lt,e){return e==="double"||e==="i64"?lt&7&&(assert((lt&7)===4),lt+=4):assert((lt&3)===0),lt},getAlignSize:function(lt,e,$){return!$&&(lt=="i64"||lt=="double")?8:lt?Math.min(e||(lt?Runtime.getNativeFieldSize(lt):0),Runtime.QUANTUM_SIZE):Math.min(e,8)},dynCall:function(lt,e,$){return $&&$.length?Module["dynCall_"+lt].apply(null,[e].concat($)):Module["dynCall_"+lt].call(null,e)},functionPointers:[],addFunction:function(lt){for(var e=0;e<Runtime.functionPointers.length;e++)if(!Runtime.functionPointers[e])return Runtime.functionPointers[e]=lt,2*(1+e);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(lt){Runtime.functionPointers[(lt-2)/2]=null},warnOnce:function(lt){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[lt]||(Runtime.warnOnce.shown[lt]=1,Module.printErr(lt))},funcWrappers:{},getFuncWrapper:function(lt,e){if(lt){assert(e),Runtime.funcWrappers[e]||(Runtime.funcWrappers[e]={});var $=Runtime.funcWrappers[e];return $[lt]||(e.length===1?$[lt]=function(){return Runtime.dynCall(e,lt)}:e.length===2?$[lt]=function(vt){return Runtime.dynCall(e,lt,[vt])}:$[lt]=function(){return Runtime.dynCall(e,lt,Array.prototype.slice.call(arguments))}),$[lt]}},getCompilerSetting:function(lt){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(lt){var e=STACKTOP;return STACKTOP=STACKTOP+lt|0,STACKTOP=STACKTOP+15&-16,e},staticAlloc:function(lt){var e=STATICTOP;return STATICTOP=STATICTOP+lt|0,STATICTOP=STATICTOP+15&-16,e},dynamicAlloc:function(lt){var e=HEAP32[DYNAMICTOP_PTR>>2],$=(e+lt+15|0)&-16;if(HEAP32[DYNAMICTOP_PTR>>2]=$,$>=TOTAL_MEMORY){var ft=enlargeMemory();if(!ft)return HEAP32[DYNAMICTOP_PTR>>2]=e,0}return e},alignMemory:function(lt,e){var $=lt=Math.ceil(lt/(e||16))*(e||16);return $},makeBigInt:function(lt,e,$){var ft=$?+(lt>>>0)+ +(e>>>0)*4294967296:+(lt>>>0)+ +(e|0)*4294967296;return ft},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=0;function assert(lt,e){lt||abort("Assertion failed: "+e)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(lt){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}var cwrap,ccall;(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(lt){var e=Runtime.stackAlloc(lt.length);return writeArrayToMemory(lt,e),e},stringToC:function(lt){var e=0;if(lt!=null&&lt!==0){var $=(lt.length<<2)+1;e=Runtime.stackAlloc($),stringToUTF8(lt,e,$)}return e}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,$,ft,vt,s){var Tt=getCFunc(e),At=[],Rt=0;if(vt)for(var Dt=0;Dt<vt.length;Dt++){var Nt=toC[ft[Dt]];Nt?(Rt===0&&(Rt=Runtime.stackSave()),At[Dt]=Nt(vt[Dt])):At[Dt]=vt[Dt]}var Wt=Tt.apply(null,At);if($==="string"&&(Wt=Pointer_stringify(Wt)),Rt!==0){if(s&&s.async){EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(Rt)});return}Runtime.stackRestore(Rt)}return Wt};var sourceRegex=/^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(lt){var e=lt.toString().match(sourceRegex).slice(1);return{arguments:e[0],body:e[1],returnValue:e[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource){JSsource={};for(var lt in JSfuncs)JSfuncs.hasOwnProperty(lt)&&(JSsource[lt]=parseJSFunc(JSfuncs[lt]))}}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(lt){return lt==="number"}),numericRet=returnType!=="string";if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(lt,e){return"$"+e}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){ensureJSsource(),funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type!=="number"){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"=("+convertCode.returnValue+");"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(ensureJSsource(),funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}})(),Module.ccall=ccall,Module.cwrap=cwrap;function setValue(lt,e,$,ft){switch($=$||"i8",$.charAt($.length-1)==="*"&&($="i32"),$){case"i1":HEAP8[lt>>0]=e;break;case"i8":HEAP8[lt>>0]=e;break;case"i16":HEAP16[lt>>1]=e;break;case"i32":HEAP32[lt>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[lt>>2]=tempI64[0],HEAP32[lt+4>>2]=tempI64[1];break;case"float":HEAPF32[lt>>2]=e;break;case"double":HEAPF64[lt>>3]=e;break;default:abort("invalid type for setValue: "+$)}}Module.setValue=setValue;function getValue(lt,e,$){switch(e=e||"i8",e.charAt(e.length-1)==="*"&&(e="i32"),e){case"i1":return HEAP8[lt>>0];case"i8":return HEAP8[lt>>0];case"i16":return HEAP16[lt>>1];case"i32":return HEAP32[lt>>2];case"i64":return HEAP32[lt>>2];case"float":return HEAPF32[lt>>2];case"double":return HEAPF64[lt>>3];default:abort("invalid type for setValue: "+e)}return null}Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE;function allocate(lt,e,$,ft){var vt,s;typeof lt=="number"?(vt=!0,s=lt):(vt=!1,s=lt.length);var Tt=typeof e=="string"?e:null,At;if($==ALLOC_NONE?At=ft:At=[typeof _malloc=="function"?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][$===void 0?ALLOC_STATIC:$](Math.max(s,Tt?1:e.length)),vt){var ft=At,Rt;for(assert((At&3)==0),Rt=At+(s&-4);ft<Rt;ft+=4)HEAP32[ft>>2]=0;for(Rt=At+s;ft<Rt;)HEAP8[ft++>>0]=0;return At}if(Tt==="i8")return lt.subarray||lt.slice?HEAPU8.set(lt,At):HEAPU8.set(new Uint8Array(lt),At),At;for(var Dt=0,Nt,Wt,Ht;Dt<s;){var Kt=lt[Dt];if(typeof Kt=="function"&&(Kt=Runtime.getFunctionIndex(Kt)),Nt=Tt||e[Dt],Nt===0){Dt++;continue}Nt=="i64"&&(Nt="i32"),setValue(At+Dt,Kt,Nt),Ht!==Nt&&(Wt=Runtime.getNativeTypeSize(Nt),Ht=Nt),Dt+=Wt}return At}Module.allocate=allocate;function getMemory(lt){return staticSealed?runtimeInitialized?_malloc(lt):Runtime.dynamicAlloc(lt):Runtime.staticAlloc(lt)}Module.getMemory=getMemory;function Pointer_stringify(lt,e){if(e===0||!lt)return"";for(var $=0,ft,vt=0;ft=HEAPU8[lt+vt>>0],$|=ft,!(ft==0&&!e||(vt++,e&&vt==e)););e||(e=vt);var s="";if($<128){for(var Tt=1024,At;e>0;)At=String.fromCharCode.apply(String,HEAPU8.subarray(lt,lt+Math.min(e,Tt))),s=s?s+At:At,lt+=Tt,e-=Tt;return s}return Module.UTF8ToString(lt)}Module.Pointer_stringify=Pointer_stringify;function AsciiToString(lt){for(var e="";;){var $=HEAP8[lt++>>0];if(!$)return e;e+=String.fromCharCode($)}}Module.AsciiToString=AsciiToString;function stringToAscii(lt,e){return writeAsciiToMemory(lt,e,!1)}Module.stringToAscii=stringToAscii;var UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(lt,e){for(var $=e;lt[$];)++$;if($-e>16&&lt.subarray&&UTF8Decoder)return UTF8Decoder.decode(lt.subarray(e,$));for(var ft,vt,s,Tt,At,Rt,Dt="";;){if(ft=lt[e++],!ft)return Dt;if(!(ft&128)){Dt+=String.fromCharCode(ft);continue}if(vt=lt[e++]&63,(ft&224)==192){Dt+=String.fromCharCode((ft&31)<<6|vt);continue}if(s=lt[e++]&63,(ft&240)==224?ft=(ft&15)<<12|vt<<6|s:(Tt=lt[e++]&63,(ft&248)==240?ft=(ft&7)<<18|vt<<12|s<<6|Tt:(At=lt[e++]&63,(ft&252)==248?ft=(ft&3)<<24|vt<<18|s<<12|Tt<<6|At:(Rt=lt[e++]&63,ft=(ft&1)<<30|vt<<24|s<<18|Tt<<12|At<<6|Rt))),ft<65536)Dt+=String.fromCharCode(ft);else{var Nt=ft-65536;Dt+=String.fromCharCode(55296|Nt>>10,56320|Nt&1023)}}}Module.UTF8ArrayToString=UTF8ArrayToString;function UTF8ToString(lt){return UTF8ArrayToString(HEAPU8,lt)}Module.UTF8ToString=UTF8ToString;function stringToUTF8Array(lt,e,$,ft){if(!(ft>0))return 0;for(var vt=$,s=$+ft-1,Tt=0;Tt<lt.length;++Tt){var At=lt.charCodeAt(Tt);if(At>=55296&&At<=57343&&(At=65536+((At&1023)<<10)|lt.charCodeAt(++Tt)&1023),At<=127){if($>=s)break;e[$++]=At}else if(At<=2047){if($+1>=s)break;e[$++]=192|At>>6,e[$++]=128|At&63}else if(At<=65535){if($+2>=s)break;e[$++]=224|At>>12,e[$++]=128|At>>6&63,e[$++]=128|At&63}else if(At<=2097151){if($+3>=s)break;e[$++]=240|At>>18,e[$++]=128|At>>12&63,e[$++]=128|At>>6&63,e[$++]=128|At&63}else if(At<=67108863){if($+4>=s)break;e[$++]=248|At>>24,e[$++]=128|At>>18&63,e[$++]=128|At>>12&63,e[$++]=128|At>>6&63,e[$++]=128|At&63}else{if($+5>=s)break;e[$++]=252|At>>30,e[$++]=128|At>>24&63,e[$++]=128|At>>18&63,e[$++]=128|At>>12&63,e[$++]=128|At>>6&63,e[$++]=128|At&63}}return e[$]=0,$-vt}Module.stringToUTF8Array=stringToUTF8Array;function stringToUTF8(lt,e,$){return stringToUTF8Array(lt,HEAPU8,e,$)}Module.stringToUTF8=stringToUTF8;function lengthBytesUTF8(lt){for(var e=0,$=0;$<lt.length;++$){var ft=lt.charCodeAt($);ft>=55296&&ft<=57343&&(ft=65536+((ft&1023)<<10)|lt.charCodeAt(++$)&1023),ft<=127?++e:ft<=2047?e+=2:ft<=65535?e+=3:ft<=2097151?e+=4:ft<=67108863?e+=5:e+=6}return e}Module.lengthBytesUTF8=lengthBytesUTF8,typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function demangle(lt){var e=Module.___cxa_demangle||Module.__cxa_demangle;if(e){try{var $=lt.substr(1),ft=lengthBytesUTF8($)+1,vt=_malloc(ft);stringToUTF8($,vt,ft);var s=_malloc(4),Tt=e(vt,0,0,s);if(getValue(s,"i32")===0&&Tt)return Pointer_stringify(Tt)}catch{}finally{vt&&_free(vt),s&&_free(s),Tt&&_free(Tt)}return lt}return Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),lt}function demangleAll(lt){var e=/__Z[\w\d_]+/g;return lt.replace(e,function($){var ft=demangle($);return $===ft?$:$+" ["+ft+"]"})}function jsStackTrace(){var lt=new Error;if(!lt.stack){try{throw new Error(0)}catch(e){lt=e}if(!lt.stack)return"(no stack trace available)"}return lt.stack.toString()}function stackTrace(){var lt=jsStackTrace();return Module.extraStackTrace&&(lt+=`
`+Module.extraStackTrace()),demangleAll(lt)}Module.stackTrace=stackTrace;var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||268435456;TOTAL_MEMORY<TOTAL_STACK&&Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),Module.buffer?buffer=Module.buffer:buffer=new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}if(HEAP32[0]=1668509029,HEAP16[1]=25459,HEAPU8[2]!==115||HEAPU8[3]!==99)throw"Runtime error: expected the system to be little-endian!";Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(lt){for(;lt.length>0;){var e=lt.shift();if(typeof e=="function"){e();continue}var $=e.func;typeof $=="number"?e.arg===void 0?Module.dynCall_v($):Module.dynCall_vi($,e.arg):$(e.arg===void 0?null:e.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(lt){__ATPRERUN__.unshift(lt)}Module.addOnPreRun=addOnPreRun;function addOnInit(lt){__ATINIT__.unshift(lt)}Module.addOnInit=addOnInit;function addOnPreMain(lt){__ATMAIN__.unshift(lt)}Module.addOnPreMain=addOnPreMain;function addOnExit(lt){__ATEXIT__.unshift(lt)}Module.addOnExit=addOnExit;function addOnPostRun(lt){__ATPOSTRUN__.unshift(lt)}Module.addOnPostRun=addOnPostRun;function intArrayFromString(lt,e,$){var ft=$>0?$:lengthBytesUTF8(lt)+1,vt=new Array(ft),s=stringToUTF8Array(lt,vt,0,vt.length);return e&&(vt.length=s),vt}Module.intArrayFromString=intArrayFromString;function intArrayToString(lt){for(var e=[],$=0;$<lt.length;$++){var ft=lt[$];ft>255&&(ft&=255),e.push(String.fromCharCode(ft))}return e.join("")}Module.intArrayToString=intArrayToString;function writeStringToMemory(lt,e,$){Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var ft,vt;$&&(vt=e+lengthBytesUTF8(lt),ft=HEAP8[vt]),stringToUTF8(lt,e,1/0),$&&(HEAP8[vt]=ft)}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(lt,e){HEAP8.set(lt,e)}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(lt,e,$){for(var ft=0;ft<lt.length;++ft)HEAP8[e++>>0]=lt.charCodeAt(ft);$||(HEAP8[e>>0]=0)}if(Module.writeAsciiToMemory=writeAsciiToMemory,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function lt(e,$){var ft=e>>>16,vt=e&65535,s=$>>>16,Tt=$&65535;return vt*Tt+(ft*Tt+vt*s<<16)|0}),Math.imul=Math.imul,!Math.fround){var froundBuffer=new Float32Array(1);Math.fround=function(lt){return froundBuffer[0]=lt,froundBuffer[0]}}Math.fround=Math.fround,Math.clz32||(Math.clz32=function(lt){lt=lt>>>0;for(var e=0;e<32;e++)if(lt&1<<31-e)return e;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(lt){return lt<0?Math.ceil(lt):Math.floor(lt)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,dependenciesFulfilled=null;function getUniqueRunDependency(lt){return lt}function addRunDependency(lt){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(lt){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&dependenciesFulfilled){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var ASM_CONSTS=[function(lt,e,$,ft,vt,s,Tt,At){return _nbind.callbackSignatureList[lt].apply(this,arguments)}];function _emscripten_asm_const_iiiiiiii(lt,e,$,ft,vt,s,Tt,At){return ASM_CONSTS[lt](e,$,ft,vt,s,Tt,At)}function _emscripten_asm_const_iiiii(lt,e,$,ft,vt){return ASM_CONSTS[lt](e,$,ft,vt)}function _emscripten_asm_const_iiidddddd(lt,e,$,ft,vt,s,Tt,At,Rt){return ASM_CONSTS[lt](e,$,ft,vt,s,Tt,At,Rt)}function _emscripten_asm_const_iiididi(lt,e,$,ft,vt,s,Tt){return ASM_CONSTS[lt](e,$,ft,vt,s,Tt)}function _emscripten_asm_const_iiii(lt,e,$,ft){return ASM_CONSTS[lt](e,$,ft)}function _emscripten_asm_const_iiiid(lt,e,$,ft,vt){return ASM_CONSTS[lt](e,$,ft,vt)}function _emscripten_asm_const_iiiiii(lt,e,$,ft,vt,s){return ASM_CONSTS[lt](e,$,ft,vt,s)}STATIC_BASE=Runtime.GLOBAL_BASE,STATICTOP=STATIC_BASE+12800,__ATINIT__.push({func:function(){__GLOBAL__sub_I_Yoga_cpp()}},{func:function(){__GLOBAL__sub_I_nbind_cc()}},{func:function(){__GLOBAL__sub_I_common_cc()}},{func:function(){__GLOBAL__sub_I_Binding_cc()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,192,127,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,128,191,0,0,128,191,0,0,192,127,0,0,0,0,0,0,0,0,0,0,128,63,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,190,12,0,0,200,12,0,0,208,12,0,0,216,12,0,0,230,12,0,0,242,12,0,0,1,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,192,127,3,0,0,0,180,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,182,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,4,0,0,0,183,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,184,45,0,0,185,45,0,0,181,45,0,0,181,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,148,4,0,0,3,0,0,0,187,45,0,0,164,4,0,0,188,45,0,0,2,0,0,0,189,45,0,0,164,4,0,0,188,45,0,0,185,45,0,0,164,4,0,0,185,45,0,0,164,4,0,0,188,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,183,45,0,0,182,45,0,0,181,45,0,0,190,45,0,0,190,45,0,0,182,45,0,0,182,45,0,0,185,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,185,45,0,0,48,5,0,0,3,0,0,0,56,5,0,0,1,0,0,0,189,45,0,0,185,45,0,0,164,4,0,0,76,5,0,0,2,0,0,0,191,45,0,0,186,45,0,0,182,45,0,0,185,45,0,0,192,45,0,0,185,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,76,5,0,0,76,5,0,0,136,5,0,0,182,45,0,0,181,45,0,0,2,0,0,0,190,45,0,0,136,5,0,0,56,19,0,0,156,5,0,0,2,0,0,0,184,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,9,0,0,0,1,0,0,0,10,0,0,0,204,5,0,0,181,45,0,0,181,45,0,0,2,0,0,0,180,45,0,0,204,5,0,0,2,0,0,0,195,45,0,0,236,5,0,0,97,19,0,0,198,45,0,0,211,45,0,0,212,45,0,0,213,45,0,0,214,45,0,0,215,45,0,0,188,45,0,0,182,45,0,0,216,45,0,0,217,45,0,0,218,45,0,0,219,45,0,0,192,45,0,0,181,45,0,0,0,0,0,0,185,45,0,0,110,19,0,0,186,45,0,0,115,19,0,0,221,45,0,0,120,19,0,0,148,4,0,0,132,19,0,0,96,6,0,0,145,19,0,0,222,45,0,0,164,19,0,0,223,45,0,0,173,19,0,0,0,0,0,0,3,0,0,0,104,6,0,0,1,0,0,0,187,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,12,0,0,0,1,0,0,0,13,0,0,0,185,45,0,0,224,45,0,0,164,6,0,0,188,45,0,0,172,6,0,0,180,6,0,0,2,0,0,0,188,6,0,0,7,0,0,0,224,45,0,0,7,0,0,0,164,6,0,0,1,0,0,0,213,45,0,0,185,45,0,0,224,45,0,0,172,6,0,0,185,45,0,0,224,45,0,0,164,6,0,0,185,45,0,0,224,45,0,0,211,45,0,0,211,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,172,6,0,0,222,45,0,0,211,45,0,0,224,45,0,0,188,45,0,0,222,45,0,0,211,45,0,0,40,7,0,0,188,45,0,0,2,0,0,0,224,45,0,0,185,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,222,45,0,0,224,45,0,0,148,4,0,0,185,45,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,185,45,0,0,164,6,0,0,148,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,15,0,0,0,1,0,0,0,16,0,0,0,148,7,0,0,2,0,0,0,225,45,0,0,183,45,0,0,188,45,0,0,168,7,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,234,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,148,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,9,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,242,45,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,110,111,100,101,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,119,104,105,99,104,32,115,116,105,108,108,32,104,97,115,32,99,104,105,108,100,114,101,110,32,97,116,116,97,99,104,101,100,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,115,116,105,108,108,32,97,116,116,97,99,104,101,100,32,116,111,32,97,32,112,97,114,101,110,116,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,99,111,110,102,105,103,0,67,97,110,110,111,116,32,115,101,116,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,67,104,105,108,100,32,97,108,114,101,97,100,121,32,104,97,115,32,97,32,112,97,114,101,110,116,44,32,105,116,32,109,117,115,116,32,98,101,32,114,101,109,111,118,101,100,32,102,105,114,115,116,46,0,67,97,110,110,111,116,32,97,100,100,32,99,104,105,108,100,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,79,110,108,121,32,108,101,97,102,32,110,111,100,101,115,32,119,105,116,104,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,115,104,111,117,108,100,32,109,97,110,117,97,108,108,121,32,109,97,114,107,32,116,104,101,109,115,101,108,118,101,115,32,97,115,32,100,105,114,116,121,0,67,97,110,110,111,116,32,103,101,116,32,108,97,121,111,117,116,32,112,114,111,112,101,114,116,105,101,115,32,111,102,32,109,117,108,116,105,45,101,100,103,101,32,115,104,111,114,116,104,97,110,100,115,0,37,115,37,100,46,123,91,115,107,105,112,112,101,100,93,32,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,61,62,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,37,115,37,100,46,123,37,115,0,42,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,37,115,10,0,37,115,37,100,46,125,37,115,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,79,117,116,32,111,102,32,99,97,99,104,101,32,101,110,116,114,105,101,115,33,10,0,83,99,97,108,101,32,102,97,99,116,111,114,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,108,101,115,115,32,116,104,97,110,32,122,101,114,111,0,105,110,105,116,105,97,108,0,37,115,10,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,85,78,68,69,70,73,78,69,68,0,69,88,65,67,84,76,89,0,65,84,95,77,79,83,84,0,76,65,89,95,85,78,68,69,70,73,78,69,68,0,76,65,89,95,69,88,65,67,84,76,89,0,76,65,89,95,65,84,95,77,79,83,84,0,97,118,97,105,108,97,98,108,101,87,105,100,116,104,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,119,105,100,116,104,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,97,118,97,105,108,97,98,108,101,72,101,105,103,104,116,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,104,101,105,103,104,116,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,102,108,101,120,0,115,116,114,101,116,99,104,0,109,117,108,116,105,108,105,110,101,45,115,116,114,101,116,99,104,0,69,120,112,101,99,116,101,100,32,110,111,100,101,32,116,111,32,104,97,118,101,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,0,109,101,97,115,117,114,101,0,69,120,112,101,99,116,32,99,117,115,116,111,109,32,98,97,115,101,108,105,110,101,32,102,117,110,99,116,105,111,110,32,116,111,32,110,111,116,32,114,101,116,117,114,110,32,78,97,78,0,97,98,115,45,109,101,97,115,117,114,101,0,97,98,115,45,108,97,121,111,117,116,0,78,111,100,101,0,99,114,101,97,116,101,68,101,102,97,117,108,116,0,99,114,101,97,116,101,87,105,116,104,67,111,110,102,105,103,0,100,101,115,116,114,111,121,0,114,101,115,101,116,0,99,111,112,121,83,116,121,108,101,0,115,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,115,101,116,80,111,115,105,116,105,111,110,0,115,101,116,80,111,115,105,116,105,111,110,80,101,114,99,101,110,116,0,115,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,115,101,116,65,108,105,103,110,73,116,101,109,115,0,115,101,116,65,108,105,103,110,83,101,108,102,0,115,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,115,101,116,70,108,101,120,87,114,97,112,0,115,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,115,101,116,77,97,114,103,105,110,0,115,101,116,77,97,114,103,105,110,80,101,114,99,101,110,116,0,115,101,116,77,97,114,103,105,110,65,117,116,111,0,115,101,116,79,118,101,114,102,108,111,119,0,115,101,116,68,105,115,112,108,97,121,0,115,101,116,70,108,101,120,0,115,101,116,70,108,101,120,66,97,115,105,115,0,115,101,116,70,108,101,120,66,97,115,105,115,80,101,114,99,101,110,116,0,115,101,116,70,108,101,120,71,114,111,119,0,115,101,116,70,108,101,120,83,104,114,105,110,107,0,115,101,116,87,105,100,116,104,0,115,101,116,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,87,105,100,116,104,65,117,116,111,0,115,101,116,72,101,105,103,104,116,0,115,101,116,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,72,101,105,103,104,116,65,117,116,111,0,115,101,116,77,105,110,87,105,100,116,104,0,115,101,116,77,105,110,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,105,110,72,101,105,103,104,116,0,115,101,116,77,105,110,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,77,97,120,87,105,100,116,104,0,115,101,116,77,97,120,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,97,120,72,101,105,103,104,116,0,115,101,116,77,97,120,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,65,115,112,101,99,116,82,97,116,105,111,0,115,101,116,66,111,114,100,101,114,0,115,101,116,80,97,100,100,105,110,103,0,115,101,116,80,97,100,100,105,110,103,80,101,114,99,101,110,116,0,103,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,103,101,116,80,111,115,105,116,105,111,110,0,103,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,103,101,116,65,108,105,103,110,73,116,101,109,115,0,103,101,116,65,108,105,103,110,83,101,108,102,0,103,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,103,101,116,70,108,101,120,87,114,97,112,0,103,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,103,101,116,77,97,114,103,105,110,0,103,101,116,70,108,101,120,66,97,115,105,115,0,103,101,116,70,108,101,120,71,114,111,119,0,103,101,116,70,108,101,120,83,104,114,105,110,107,0,103,101,116,87,105,100,116,104,0,103,101,116,72,101,105,103,104,116,0,103,101,116,77,105,110,87,105,100,116,104,0,103,101,116,77,105,110,72,101,105,103,104,116,0,103,101,116,77,97,120,87,105,100,116,104,0,103,101,116,77,97,120,72,101,105,103,104,116,0,103,101,116,65,115,112,101,99,116,82,97,116,105,111,0,103,101,116,66,111,114,100,101,114,0,103,101,116,79,118,101,114,102,108,111,119,0,103,101,116,68,105,115,112,108,97,121,0,103,101,116,80,97,100,100,105,110,103,0,105,110,115,101,114,116,67,104,105,108,100,0,114,101,109,111,118,101,67,104,105,108,100,0,103,101,116,67,104,105,108,100,67,111,117,110,116,0,103,101,116,80,97,114,101,110,116,0,103,101,116,67,104,105,108,100,0,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,117,110,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,109,97,114,107,68,105,114,116,121,0,105,115,68,105,114,116,121,0,99,97,108,99,117,108,97,116,101,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,76,101,102,116,0,103,101,116,67,111,109,112,117,116,101,100,82,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,84,111,112,0,103,101,116,67,111,109,112,117,116,101,100,66,111,116,116,111,109,0,103,101,116,67,111,109,112,117,116,101,100,87,105,100,116,104,0,103,101,116,67,111,109,112,117,116,101,100,72,101,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,77,97,114,103,105,110,0,103,101,116,67,111,109,112,117,116,101,100,66,111,114,100,101,114,0,103,101,116,67,111,109,112,117,116,101,100,80,97,100,100,105,110,103,0,67,111,110,102,105,103,0,99,114,101,97,116,101,0,115,101,116,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,115,101,116,80,111,105,110,116,83,99,97,108,101,70,97,99,116,111,114,0,105,115,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,86,97,108,117,101,0,76,97,121,111,117,116,0,83,105,122,101,0,103,101,116,73,110,115,116,97,110,99,101,67,111,117,110,116,0,73,110,116,54,52,0,1,1,1,2,2,4,4,4,4,8,8,4,8,118,111,105,100,0,98,111,111,108,0,115,116,100,58,58,115,116,114,105,110,103,0,99,98,70,117,110,99,116,105,111,110,32,38,0,99,111,110,115,116,32,99,98,70,117,110,99,116,105,111,110,32,38,0,69,120,116,101,114,110,97,108,0,66,117,102,102,101,114,0,78,66,105,110,100,73,68,0,78,66,105,110,100,0,98,105,110,100,95,118,97,108,117,101,0,114,101,102,108,101,99,116,0,113,117,101,114,121,84,121,112,101,0,108,97,108,108,111,99,0,108,114,101,115,101,116,0,123,114,101,116,117,114,110,40,95,110,98,105,110,100,46,99,97,108,108,98,97,99,107,83,105,103,110,97,116,117,114,101,76,105,115,116,91,36,48,93,46,97,112,112,108,121,40,116,104,105,115,44,97,114,103,117,109,101,110,116,115,41,41,59,125,0,95,110,98,105,110,100,95,110,101,119,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;STATICTOP+=16;function _atexit(lt,e){__ATEXIT__.unshift({func:lt,arg:e})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function _abort(){Module.abort()}function __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj(){Module.printErr("missing function: _ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj"),abort(-1)}function __decorate(lt,e,$,ft){var vt=arguments.length,s=vt<3?e:ft===null?ft=Object.getOwnPropertyDescriptor(e,$):ft,Tt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(lt,e,$,ft);else for(var At=lt.length-1;At>=0;At--)(Tt=lt[At])&&(s=(vt<3?Tt(s):vt>3?Tt(e,$,s):Tt(e,$))||s);return vt>3&&s&&Object.defineProperty(e,$,s),s}function _defineHidden(lt){return function(e,$){Object.defineProperty(e,$,{configurable:!1,enumerable:!1,value:lt,writable:!0})}}var _nbind={};function __nbind_free_external(lt){_nbind.externalList[lt].dereference(lt)}function __nbind_reference_external(lt){_nbind.externalList[lt].reference()}function _llvm_stackrestore(lt){var e=_llvm_stacksave,$=e.LLVM_SAVEDSTACKS[lt];e.LLVM_SAVEDSTACKS.splice(lt,1),Runtime.stackRestore($)}function __nbind_register_pool(lt,e,$,ft){_nbind.Pool.pageSize=lt,_nbind.Pool.usedPtr=e/4,_nbind.Pool.rootPtr=$,_nbind.Pool.pagePtr=ft/4,HEAP32[e/4]=16909060,HEAP8[e]==1&&(_nbind.bigEndian=!0),HEAP32[e/4]=0,_nbind.makeTypeKindTbl=(s={},s[1024]=_nbind.PrimitiveType,s[64]=_nbind.Int64Type,s[2048]=_nbind.BindClass,s[3072]=_nbind.BindClassPtr,s[4096]=_nbind.SharedClassPtr,s[5120]=_nbind.ArrayType,s[6144]=_nbind.ArrayType,s[7168]=_nbind.CStringType,s[9216]=_nbind.CallbackType,s[10240]=_nbind.BindType,s),_nbind.makeTypeNameTbl={Buffer:_nbind.BufferType,External:_nbind.ExternalType,Int64:_nbind.Int64Type,_nbind_new:_nbind.CreateValueType,bool:_nbind.BooleanType,"cbFunction &":_nbind.CallbackType,"const cbFunction &":_nbind.CallbackType,"const std::string &":_nbind.StringType,"std::string":_nbind.StringType},Module.toggleLightGC=_nbind.toggleLightGC,_nbind.callUpcast=Module.dynCall_ii;var vt=_nbind.makeType(_nbind.constructType,{flags:2048,id:0,name:""});vt.proto=Module,_nbind.BindClass.list.push(vt);var s}function _emscripten_set_main_loop_timing(lt,e){if(Browser.mainLoop.timingMode=lt,Browser.mainLoop.timingValue=e,!Browser.mainLoop.func)return 1;if(lt==0)Browser.mainLoop.scheduler=function(){var Tt=Math.max(0,Browser.mainLoop.tickStartTime+e-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,Tt)},Browser.mainLoop.method="timeout";else if(lt==1)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(lt==2){if(!window.setImmediate){let s=function(Tt){Tt.source===window&&Tt.data===ft&&(Tt.stopPropagation(),$.shift()())};var vt=s,$=[],ft="setimmediate";window.addEventListener("message",s,!0),window.setImmediate=function(At){$.push(At),ENVIRONMENT_IS_WORKER?(Module.setImmediates===void 0&&(Module.setImmediates=[]),Module.setImmediates.push(At),window.postMessage({target:ft})):window.postMessage(ft,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_get_now(){abort()}function _emscripten_set_main_loop(lt,e,$,ft,vt){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=lt,Browser.mainLoop.arg=ft;var s;typeof ft<"u"?s=function(){Module.dynCall_vi(lt,ft)}:s=function(){Module.dynCall_v(lt)};var Tt=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var Rt=Date.now(),Dt=Browser.mainLoop.queue.shift();if(Dt.func(Dt.arg),Browser.mainLoop.remainingBlockers){var Nt=Browser.mainLoop.remainingBlockers,Wt=Nt%1==0?Nt-1:Math.floor(Nt);Dt.counted?Browser.mainLoop.remainingBlockers=Wt:(Wt=Wt+.5,Browser.mainLoop.remainingBlockers=(8*Nt+Wt)/9)}if(console.log('main loop blocker "'+Dt.name+'" took '+(Date.now()-Rt)+" ms"),Browser.mainLoop.updateStatus(),Tt<Browser.mainLoop.currentlyRunningMainloop)return;setTimeout(Browser.mainLoop.runner,0);return}if(!(Tt<Browser.mainLoop.currentlyRunningMainloop)){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else Browser.mainLoop.timingMode==0&&(Browser.mainLoop.tickStartTime=_emscripten_get_now());Browser.mainLoop.method==="timeout"&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(s),!(Tt<Browser.mainLoop.currentlyRunningMainloop)&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},vt||(e&&e>0?_emscripten_set_main_loop_timing(0,1e3/e):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),$)throw"SimulateInfiniteLoop"}var Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var lt=Browser.mainLoop.timingMode,e=Browser.mainLoop.timingValue,$=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop($,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(lt,e),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var lt=Module.statusMessage||"Please wait...",e=Browser.mainLoop.remainingBlockers,$=Browser.mainLoop.expectedBlockers;e?e<$?Module.setStatus(lt+" ("+($-e)+"/"+$+")"):Module.setStatus(lt):Module.setStatus("")}},runIter:function(lt){if(!ABORT){if(Module.preMainLoop){var e=Module.preMainLoop();if(e===!1)return}try{lt()}catch($){if($ instanceof ExitStatus)return;throw $&&typeof $=="object"&&$.stack&&Module.printErr("exception thrown: "+[$,$.stack]),$}Module.postMainLoop&&Module.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),Browser.initted)return;Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch{Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!Module.noImageDecoding&&typeof Browser.URLObject>"u"&&(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var lt={};lt.canHandle=function(s){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(s)},lt.handle=function(s,Tt,At,Rt){var Dt=null;if(Browser.hasBlobConstructor)try{Dt=new Blob([s],{type:Browser.getMimetype(Tt)}),Dt.size!==s.length&&(Dt=new Blob([new Uint8Array(s).buffer],{type:Browser.getMimetype(Tt)}))}catch(Kt){Runtime.warnOnce("Blob constructor present but fails: "+Kt+"; falling back to blob builder")}if(!Dt){var Nt=new Browser.BlobBuilder;Nt.append(new Uint8Array(s).buffer),Dt=Nt.getBlob()}var Wt=Browser.URLObject.createObjectURL(Dt),Ht=new Image;Ht.onload=function(){assert(Ht.complete,"Image "+Tt+" could not be decoded");var Ft=document.createElement("canvas");Ft.width=Ht.width,Ft.height=Ht.height;var tn=Ft.getContext("2d");tn.drawImage(Ht,0,0),Module.preloadedImages[Tt]=Ft,Browser.URLObject.revokeObjectURL(Wt),At&&At(s)},Ht.onerror=function(Ft){console.log("Image "+Wt+" could not be decoded"),Rt&&Rt()},Ht.src=Wt},Module.preloadPlugins.push(lt);var e={};e.canHandle=function(s){return!Module.noAudioDecoding&&s.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},e.handle=function(s,Tt,At,Rt){var Dt=!1;function Nt(tn){Dt||(Dt=!0,Module.preloadedAudios[Tt]=tn,At&&At(s))}function Wt(){Dt||(Dt=!0,Module.preloadedAudios[Tt]=new Audio,Rt&&Rt())}if(Browser.hasBlobConstructor){try{var Ht=new Blob([s],{type:Browser.getMimetype(Tt)})}catch{return Wt()}var Kt=Browser.URLObject.createObjectURL(Ht),Ft=new Audio;Ft.addEventListener("canplaythrough",function(){Nt(Ft)},!1),Ft.onerror=function(cn){if(Dt)return;console.log("warning: browser could not fully decode audio "+Tt+", trying slower base64 approach");function fn(ln){for(var dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mn="=",xn="",Mn=0,Tn=0,vn=0;vn<ln.length;vn++)for(Mn=Mn<<8|ln[vn],Tn+=8;Tn>=6;){var An=Mn>>Tn-6&63;Tn-=6,xn+=dn[An]}return Tn==2?(xn+=dn[(Mn&3)<<4],xn+=mn+mn):Tn==4&&(xn+=dn[(Mn&15)<<2],xn+=mn),xn}Ft.src="data:audio/x-"+Tt.substr(-3)+";base64,"+fn(s),Nt(Ft)},Ft.src=Kt,Browser.safeSetTimeout(function(){Nt(Ft)},1e4)}else return Wt()},Module.preloadPlugins.push(e);function $(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}var ft=Module.canvas;ft&&(ft.requestPointerLock=ft.requestPointerLock||ft.mozRequestPointerLock||ft.webkitRequestPointerLock||ft.msRequestPointerLock||function(){},ft.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},ft.exitPointerLock=ft.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",$,!1),document.addEventListener("mozpointerlockchange",$,!1),document.addEventListener("webkitpointerlockchange",$,!1),document.addEventListener("mspointerlockchange",$,!1),Module.elementPointerLock&&ft.addEventListener("click",function(vt){!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),vt.preventDefault())},!1))},createContext:function(lt,e,$,ft){if(e&&Module.ctx&&lt==Module.canvas)return Module.ctx;var vt,s;if(e){var Tt={antialias:!1,alpha:!1};if(ft)for(var At in ft)Tt[At]=ft[At];s=GL.createContext(lt,Tt),s&&(vt=GL.getContext(s).GLctx)}else vt=lt.getContext("2d");return vt?($&&(e||assert(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=vt,e&&GL.makeContextCurrent(s),Module.useWebGL=e,Browser.moduleContextCreatedCallbacks.forEach(function(Rt){Rt()}),Browser.init()),vt):null},destroyContext:function(lt,e,$){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(lt,e,$){Browser.lockPointer=lt,Browser.resizeCanvas=e,Browser.vrDevice=$,typeof Browser.lockPointer>"u"&&(Browser.lockPointer=!0),typeof Browser.resizeCanvas>"u"&&(Browser.resizeCanvas=!1),typeof Browser.vrDevice>"u"&&(Browser.vrDevice=null);var ft=Module.canvas;function vt(){Browser.isFullscreen=!1;var Tt=ft.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===Tt?(ft.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},ft.exitFullscreen=ft.exitFullscreen.bind(document),Browser.lockPointer&&ft.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas&&Browser.setFullscreenCanvasSize()):(Tt.parentNode.insertBefore(ft,Tt),Tt.parentNode.removeChild(Tt),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullscreen),Module.onFullscreen&&Module.onFullscreen(Browser.isFullscreen),Browser.updateCanvasDimensions(ft)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",vt,!1),document.addEventListener("mozfullscreenchange",vt,!1),document.addEventListener("webkitfullscreenchange",vt,!1),document.addEventListener("MSFullscreenChange",vt,!1));var s=document.createElement("div");ft.parentNode.insertBefore(s,ft),s.appendChild(ft),s.requestFullscreen=s.requestFullscreen||s.mozRequestFullScreen||s.msRequestFullscreen||(s.webkitRequestFullscreen?function(){s.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(s.webkitRequestFullScreen?function(){s.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),$?s.requestFullscreen({vrDisplay:$}):s.requestFullscreen()},requestFullScreen:function(lt,e,$){return Module.printErr("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),Browser.requestFullScreen=function(ft,vt,s){return Browser.requestFullscreen(ft,vt,s)},Browser.requestFullscreen(lt,e,$)},nextRAF:0,fakeRequestAnimationFrame:function(lt){var e=Date.now();if(Browser.nextRAF===0)Browser.nextRAF=e+1e3/60;else for(;e+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var $=Math.max(Browser.nextRAF-e,0);setTimeout(lt,$)},requestAnimationFrame:function lt(e){typeof window>"u"?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(lt){return function(){if(!ABORT)return lt.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var lt=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],lt.forEach(function(e){e()})}},safeRequestAnimationFrame:function(lt){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?lt():Browser.queuedAsyncCallbacks.push(lt))})},safeSetTimeout:function(lt,e){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?lt():Browser.queuedAsyncCallbacks.push(lt))},e)},safeSetInterval:function(lt,e){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&lt()},e)},getMimetype:function(lt){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[lt.substr(lt.lastIndexOf(".")+1)]},getUserMedia:function(lt){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(lt)},getMovementX:function(lt){return lt.movementX||lt.mozMovementX||lt.webkitMovementX||0},getMovementY:function(lt){return lt.movementY||lt.mozMovementY||lt.webkitMovementY||0},getMouseWheelDelta:function(lt){var e=0;switch(lt.type){case"DOMMouseScroll":e=lt.detail;break;case"mousewheel":e=lt.wheelDelta;break;case"wheel":e=lt.deltaY;break;default:throw"unrecognized mouse wheel event: "+lt.type}return e},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(lt){if(Browser.pointerLock)lt.type!="mousemove"&&"mozMovementX"in lt?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(lt),Browser.mouseMovementY=Browser.getMovementY(lt)),typeof SDL<"u"?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var e=Module.canvas.getBoundingClientRect(),$=Module.canvas.width,ft=Module.canvas.height,vt=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,s=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(lt.type==="touchstart"||lt.type==="touchend"||lt.type==="touchmove"){var Tt=lt.touch;if(Tt===void 0)return;var At=Tt.pageX-(vt+e.left),Rt=Tt.pageY-(s+e.top);At=At*($/e.width),Rt=Rt*(ft/e.height);var Dt={x:At,y:Rt};if(lt.type==="touchstart")Browser.lastTouches[Tt.identifier]=Dt,Browser.touches[Tt.identifier]=Dt;else if(lt.type==="touchend"||lt.type==="touchmove"){var Nt=Browser.touches[Tt.identifier];Nt||(Nt=Dt),Browser.lastTouches[Tt.identifier]=Nt,Browser.touches[Tt.identifier]=Dt}return}var Wt=lt.pageX-(vt+e.left),Ht=lt.pageY-(s+e.top);Wt=Wt*($/e.width),Ht=Ht*(ft/e.height),Browser.mouseMovementX=Wt-Browser.mouseX,Browser.mouseMovementY=Ht-Browser.mouseY,Browser.mouseX=Wt,Browser.mouseY=Ht}},asyncLoad:function(lt,e,$,ft){var vt=ft?"":"al "+lt;Module.readAsync(lt,function(s){assert(s,'Loading data file "'+lt+'" failed (no arrayBuffer).'),e(new Uint8Array(s)),vt&&removeRunDependency()},function(s){if($)$();else throw'Loading data file "'+lt+'" failed.'}),vt&&addRunDependency()},resizeListeners:[],updateResizeListeners:function(){var lt=Module.canvas;Browser.resizeListeners.forEach(function(e){e(lt.width,lt.height)})},setCanvasSize:function(lt,e,$){var ft=Module.canvas;Browser.updateCanvasDimensions(ft,lt,e),$||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var lt=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];lt=lt|8388608,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=lt}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var lt=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];lt=lt&-8388609,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=lt}Browser.updateResizeListeners()},updateCanvasDimensions:function(lt,e,$){e&&$?(lt.widthNative=e,lt.heightNative=$):(e=lt.widthNative,$=lt.heightNative);var ft=e,vt=$;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(ft/vt<Module.forcedAspectRatio?ft=Math.round(vt*Module.forcedAspectRatio):vt=Math.round(ft/Module.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===lt.parentNode&&typeof screen<"u"){var s=Math.min(screen.width/ft,screen.height/vt);ft=Math.round(ft*s),vt=Math.round(vt*s)}Browser.resizeCanvas?(lt.width!=ft&&(lt.width=ft),lt.height!=vt&&(lt.height=vt),typeof lt.style<"u"&&(lt.style.removeProperty("width"),lt.style.removeProperty("height"))):(lt.width!=e&&(lt.width=e),lt.height!=$&&(lt.height=$),typeof lt.style<"u"&&(ft!=e||vt!=$?(lt.style.setProperty("width",ft+"px","important"),lt.style.setProperty("height",vt+"px","important")):(lt.style.removeProperty("width"),lt.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var lt=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,lt}},SYSCALLS={varargs:0,get:function(lt){SYSCALLS.varargs+=4;var e=HEAP32[SYSCALLS.varargs-4>>2];return e},getStr:function(){var lt=Pointer_stringify(SYSCALLS.get());return lt},get64:function(){var lt=SYSCALLS.get(),e=SYSCALLS.get();return lt>=0?assert(e===0):assert(e===-1),lt},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall6(lt,e){SYSCALLS.varargs=e;try{var $=SYSCALLS.getStreamFromFD();return FS.close($),0}catch(ft){return(typeof FS>"u"||!(ft instanceof FS.ErrnoError))&&abort(ft),-ft.errno}}function ___syscall54(lt,e){SYSCALLS.varargs=e;try{return 0}catch($){return(typeof FS>"u"||!($ instanceof FS.ErrnoError))&&abort($),-$.errno}}function _typeModule(lt){var e=[[0,1,"X"],[1,1,"const X"],[128,1,"X *"],[256,1,"X &"],[384,1,"X &&"],[512,1,"std::shared_ptr<X>"],[640,1,"std::unique_ptr<X>"],[5120,1,"std::vector<X>"],[6144,2,"std::array<X, Y>"],[9216,-1,"std::function<X (Y)>"]];function $(Rt,Dt,Nt,Wt,Ht,Kt){if(Dt==1){var Ft=Wt&896;(Ft==128||Ft==256||Ft==384)&&(Rt="X const")}var tn;return Kt?tn=Nt.replace("X",Rt).replace("Y",Ht):tn=Rt.replace("X",Nt).replace("Y",Ht),tn.replace(/([*&]) (?=[*&])/g,"$1")}function ft(Rt,Dt,Nt,Wt,Ht){throw new Error(Rt+" type "+Nt.replace("X",Dt+"?")+(Wt?" with flag "+Wt:"")+" in "+Ht)}function vt(Rt,Dt,Nt,Wt,Ht,Kt,Ft,tn){Kt===void 0&&(Kt="X"),tn===void 0&&(tn=1);var cn=Nt(Rt);if(cn)return cn;var fn=Wt(Rt),ln=fn.placeholderFlag,dn=e[ln];Ft&&dn&&(Kt=$(Ft[2],Ft[0],Kt,dn[0],"?",!0));var mn;ln==0&&(mn="Unbound"),ln>=10&&(mn="Corrupt"),tn>20&&(mn="Deeply nested"),mn&&ft(mn,Rt,Kt,ln,Ht||"?");var xn=fn.paramList[0],Mn=vt(xn,Dt,Nt,Wt,Ht,Kt,dn,tn+1),Tn,vn={flags:dn[0],id:Rt,name:"",paramList:[Mn]},An=[],Pn="?";switch(fn.placeholderFlag){case 1:Tn=Mn.spec;break;case 2:if((Mn.flags&15360)==1024&&Mn.spec.ptrSize==1){vn.flags=7168;break}case 3:case 6:case 5:Tn=Mn.spec,Mn.flags&15360;break;case 8:Pn=""+fn.paramList[1],vn.paramList.push(fn.paramList[1]);break;case 9:for(var bn=0,In=fn.paramList[1];bn<In.length;bn++){var On=In[bn],Nn=vt(On,Dt,Nt,Wt,Ht,Kt,dn,tn+1);An.push(Nn.name),vn.paramList.push(Nn)}Pn=An.join(", ");break}if(vn.name=$(dn[2],dn[0],Mn.name,Mn.flags,Pn),Tn){for(var Yn=0,Xn=Object.keys(Tn);Yn<Xn.length;Yn++){var sr=Xn[Yn];vn[sr]=vn[sr]||Tn[sr]}vn.flags|=Tn.flags}return s(Dt,vn)}function s(Rt,Dt){var Nt=Dt.flags,Wt=Nt&896,Ht=Nt&15360;return!Dt.name&&Ht==1024&&(Dt.ptrSize==1?Dt.name=(Nt&16?"":(Nt&8?"un":"")+"signed ")+"char":Dt.name=(Nt&8?"u":"")+(Nt&32?"float":"int")+(Dt.ptrSize*8+"_t")),Dt.ptrSize==8&&!(Nt&32)&&(Ht=64),Ht==2048&&(Wt==512||Wt==640?Ht=4096:Wt&&(Ht=3072)),Rt(Ht,Dt)}var Tt=function(){function Rt(Dt){this.id=Dt.id,this.name=Dt.name,this.flags=Dt.flags,this.spec=Dt}return Rt.prototype.toString=function(){return this.name},Rt}(),At={Type:Tt,getComplexType:vt,makeType:s,structureList:e};return lt.output=At,lt.output||At}function __nbind_register_type(lt,e){var $=_nbind.readAsciiString(e),ft={flags:10240,id:lt,name:$};_nbind.makeType(_nbind.constructType,ft)}function __nbind_register_callback_signature(lt,e){var $=_nbind.readTypeIdList(lt,e),ft=_nbind.callbackSignatureList.length;return _nbind.callbackSignatureList[ft]=_nbind.makeJSCaller($),ft}function __extends(lt,e){for(var $ in e)e.hasOwnProperty($)&&(lt[$]=e[$]);function ft(){this.constructor=lt}ft.prototype=e.prototype,lt.prototype=new ft}function __nbind_register_class(lt,e,$,ft,vt,s,Tt){var At=_nbind.readAsciiString(Tt),Rt=_nbind.readPolicyList(e),Dt=HEAPU32.subarray(lt/4,lt/4+2),Nt={flags:2048|(Rt.Value?2:0),id:Dt[0],name:At},Wt=_nbind.makeType(_nbind.constructType,Nt);Wt.ptrType=_nbind.getComplexType(Dt[1],_nbind.constructType,_nbind.getType,_nbind.queryType),Wt.destroy=_nbind.makeMethodCaller(Wt.ptrType,{boundID:Nt.id,flags:0,name:"destroy",num:0,ptr:s,title:Wt.name+".free",typeList:["void","uint32_t","uint32_t"]}),vt&&(Wt.superIdList=Array.prototype.slice.call(HEAPU32.subarray($/4,$/4+vt)),Wt.upcastList=Array.prototype.slice.call(HEAPU32.subarray(ft/4,ft/4+vt))),Module[Wt.name]=Wt.makeBound(Rt),_nbind.BindClass.list.push(Wt)}function _removeAccessorPrefix(lt){var e=/^[Gg]et_?([A-Z]?([A-Z]?))/;return lt.replace(e,function($,ft,vt){return vt?ft:ft.toLowerCase()})}function __nbind_register_function(lt,e,$,ft,vt,s,Tt,At,Rt,Dt){var Nt=_nbind.getType(lt),Wt=_nbind.readPolicyList(e),Ht=_nbind.readTypeIdList($,ft),Kt;if(Tt==5)Kt=[{direct:vt,name:"__nbindConstructor",ptr:0,title:Nt.name+" constructor",typeList:["uint32_t"].concat(Ht.slice(1))},{direct:s,name:"__nbindValueConstructor",ptr:0,title:Nt.name+" value constructor",typeList:["void","uint32_t"].concat(Ht.slice(1))}];else{var Ft=_nbind.readAsciiString(At),tn=(Nt.name&&Nt.name+".")+Ft;(Tt==3||Tt==4)&&(Ft=_removeAccessorPrefix(Ft)),Kt=[{boundID:lt,direct:s,name:Ft,ptr:vt,title:tn,typeList:Ht}]}for(var cn=0,fn=Kt;cn<fn.length;cn++){var ln=fn[cn];ln.signatureType=Tt,ln.policyTbl=Wt,ln.num=Rt,ln.flags=Dt,Nt.addMethod(ln)}}function _nbind_value(lt,e){_nbind.typeNameTbl[lt]||_nbind.throwError("Unknown value type "+lt),Module.NBind.bind_value(lt,e),_defineHidden(_nbind.typeNameTbl[lt].proto.prototype.__nbindValueConstructor)(e.prototype,"__nbindValueConstructor")}Module._nbind_value=_nbind_value;function __nbind_get_value_object(lt,e){var $=_nbind.popValue(lt);if(!$.fromJS)throw new Error("Object "+$+" has no fromJS function");$.fromJS(function(){$.__nbindValueConstructor.apply(this,Array.prototype.concat.apply([e],arguments))})}function _emscripten_memcpy_big(lt,e,$){return HEAPU8.set(HEAPU8.subarray(e,e+$),lt),lt}function __nbind_register_primitive(lt,e,$){var ft={flags:1024|$,id:lt,ptrSize:e};_nbind.makeType(_nbind.constructType,ft)}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_STATIC);function ___setErrNo(lt){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=lt),lt}function _llvm_stacksave(){var lt=_llvm_stacksave;return lt.LLVM_SAVEDSTACKS||(lt.LLVM_SAVEDSTACKS=[]),lt.LLVM_SAVEDSTACKS.push(Runtime.stackSave()),lt.LLVM_SAVEDSTACKS.length-1}function ___syscall140(lt,e){SYSCALLS.varargs=e;try{var $=SYSCALLS.getStreamFromFD(),ft=SYSCALLS.get(),vt=SYSCALLS.get(),s=SYSCALLS.get(),Tt=SYSCALLS.get(),At=vt;return FS.llseek($,At,Tt),HEAP32[s>>2]=$.position,$.getdents&&At===0&&Tt===0&&($.getdents=null),0}catch(Rt){return(typeof FS>"u"||!(Rt instanceof FS.ErrnoError))&&abort(Rt),-Rt.errno}}function ___syscall146(lt,e){SYSCALLS.varargs=e;try{var $=SYSCALLS.get(),ft=SYSCALLS.get(),vt=SYSCALLS.get(),s=0;___syscall146.buffer||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(Nt,Wt){var Ht=___syscall146.buffers[Nt];assert(Ht),Wt===0||Wt===10?((Nt===1?Module.print:Module.printErr)(UTF8ArrayToString(Ht,0)),Ht.length=0):Ht.push(Wt)});for(var Tt=0;Tt<vt;Tt++){for(var At=HEAP32[ft+Tt*8>>2],Rt=HEAP32[ft+(Tt*8+4)>>2],Dt=0;Dt<Rt;Dt++)___syscall146.printChar($,HEAPU8[At+Dt]);s+=Rt}return s}catch(Nt){return(typeof FS>"u"||!(Nt instanceof FS.ErrnoError))&&abort(Nt),-Nt.errno}}function __nbind_finish(){for(var lt=0,e=_nbind.BindClass.list;lt<e.length;lt++){var $=e[lt];$.finish()}}var ___dso_handle=STATICTOP;STATICTOP+=16,function(_nbind){var typeIdTbl={};_nbind.typeNameTbl={};var Pool=function(){function lt(){}return lt.lalloc=function(e){e=e+7&-8;var $=HEAPU32[lt.usedPtr];if(e>lt.pageSize/2||e>lt.pageSize-$){var ft=_nbind.typeNameTbl.NBind.proto;return ft.lalloc(e)}else return HEAPU32[lt.usedPtr]=$+e,lt.rootPtr+$},lt.lreset=function(e,$){var ft=HEAPU32[lt.pagePtr];if(ft){var vt=_nbind.typeNameTbl.NBind.proto;vt.lreset(e,$)}else HEAPU32[lt.usedPtr]=e},lt}();_nbind.Pool=Pool;function constructType(lt,e){var $=lt==10240?_nbind.makeTypeNameTbl[e.name]||_nbind.BindType:_nbind.makeTypeKindTbl[lt],ft=new $(e);return typeIdTbl[e.id]=ft,_nbind.typeNameTbl[e.name]=ft,ft}_nbind.constructType=constructType;function getType(lt){return typeIdTbl[lt]}_nbind.getType=getType;function queryType(lt){var e=HEAPU8[lt],$=_nbind.structureList[e][1];lt/=4,$<0&&(++lt,$=HEAPU32[lt]+1);var ft=Array.prototype.slice.call(HEAPU32.subarray(lt+1,lt+1+$));return e==9&&(ft=[ft[0],ft.slice(1)]),{paramList:ft,placeholderFlag:e}}_nbind.queryType=queryType;function getTypes(lt,e){return lt.map(function($){return typeof $=="number"?_nbind.getComplexType($,constructType,getType,queryType,e):_nbind.typeNameTbl[$]})}_nbind.getTypes=getTypes;function readTypeIdList(lt,e){return Array.prototype.slice.call(HEAPU32,lt/4,lt/4+e)}_nbind.readTypeIdList=readTypeIdList;function readAsciiString(lt){for(var e=lt;HEAPU8[e++];);return String.fromCharCode.apply("",HEAPU8.subarray(lt,e-1))}_nbind.readAsciiString=readAsciiString;function readPolicyList(lt){var e={};if(lt)for(;;){var $=HEAPU32[lt/4];if(!$)break;e[readAsciiString($)]=!0,lt+=4}return e}_nbind.readPolicyList=readPolicyList;function getDynCall(lt,e){var $={float32_t:"d",float64_t:"d",int64_t:"d",uint64_t:"d",void:"v"},ft=lt.map(function(s){return $[s.name]||"i"}).join(""),vt=Module["dynCall_"+ft];if(!vt)throw new Error("dynCall_"+ft+" not found for "+e+"("+lt.map(function(s){return s.name}).join(", ")+")");return vt}_nbind.getDynCall=getDynCall;function addMethod(lt,e,$,ft){var vt=lt[e];lt.hasOwnProperty(e)&&vt?((vt.arity||vt.arity===0)&&(vt=_nbind.makeOverloader(vt,vt.arity),lt[e]=vt),vt.addMethod($,ft)):($.arity=ft,lt[e]=$)}_nbind.addMethod=addMethod;function throwError(lt){throw new Error(lt)}_nbind.throwError=throwError,_nbind.bigEndian=!1;var _a=_typeModule(_typeModule);_nbind.Type=_a.Type,_nbind.makeType=_a.makeType,_nbind.getComplexType=_a.getComplexType,_nbind.structureList=_a.structureList;var BindType=function(lt){__extends(e,lt);function e(){var $=lt!==null&&lt.apply(this,arguments)||this;return $.heap=HEAPU32,$.ptrSize=4,$}return e.prototype.needsWireRead=function($){return!!this.wireRead||!!this.makeWireRead},e.prototype.needsWireWrite=function($){return!!this.wireWrite||!!this.makeWireWrite},e}(_nbind.Type);_nbind.BindType=BindType;var PrimitiveType=function(lt){__extends(e,lt);function e($){var ft=lt.call(this,$)||this,vt=$.flags&32?{32:HEAPF32,64:HEAPF64}:$.flags&8?{8:HEAPU8,16:HEAPU16,32:HEAPU32}:{8:HEAP8,16:HEAP16,32:HEAP32};return ft.heap=vt[$.ptrSize*8],ft.ptrSize=$.ptrSize,ft}return e.prototype.needsWireWrite=function($){return!!$&&!!$.Strict},e.prototype.makeWireWrite=function($,ft){return ft&&ft.Strict&&function(vt){if(typeof vt=="number")return vt;throw new Error("Type mismatch")}},e}(BindType);_nbind.PrimitiveType=PrimitiveType;function pushCString(lt,e){if(lt==null){if(e&&e.Nullable)return 0;throw new Error("Type mismatch")}if(e&&e.Strict){if(typeof lt!="string")throw new Error("Type mismatch")}else lt=lt.toString();var $=Module.lengthBytesUTF8(lt)+1,ft=_nbind.Pool.lalloc($);return Module.stringToUTF8Array(lt,HEAPU8,ft,$),ft}_nbind.pushCString=pushCString;function popCString(lt){return lt===0?null:Module.Pointer_stringify(lt)}_nbind.popCString=popCString;var CStringType=function(lt){__extends(e,lt);function e(){var $=lt!==null&&lt.apply(this,arguments)||this;return $.wireRead=popCString,$.wireWrite=pushCString,$.readResources=[_nbind.resources.pool],$.writeResources=[_nbind.resources.pool],$}return e.prototype.makeWireWrite=function($,ft){return function(vt){return pushCString(vt,ft)}},e}(BindType);_nbind.CStringType=CStringType;var BooleanType=function(lt){__extends(e,lt);function e(){var $=lt!==null&&lt.apply(this,arguments)||this;return $.wireRead=function(ft){return!!ft},$}return e.prototype.needsWireWrite=function($){return!!$&&!!$.Strict},e.prototype.makeWireRead=function($){return"!!("+$+")"},e.prototype.makeWireWrite=function($,ft){return ft&&ft.Strict&&function(vt){if(typeof vt=="boolean")return vt;throw new Error("Type mismatch")}||$},e}(BindType);_nbind.BooleanType=BooleanType;var Wrapper=function(){function lt(){}return lt.prototype.persist=function(){this.__nbindState|=1},lt}();_nbind.Wrapper=Wrapper;function makeBound(lt,e){var $=function(ft){__extends(vt,ft);function vt(s,Tt,At,Rt){var Dt=ft.call(this)||this;if(!(Dt instanceof vt))return new(Function.prototype.bind.apply(vt,Array.prototype.concat.apply([null],arguments)));var Nt=Tt,Wt=At,Ht=Rt;if(s!==_nbind.ptrMarker){var Kt=Dt.__nbindConstructor.apply(Dt,arguments);Nt=4608,Ht=HEAPU32[Kt/4],Wt=HEAPU32[Kt/4+1]}var Ft={configurable:!0,enumerable:!1,value:null,writable:!1},tn={__nbindFlags:Nt,__nbindPtr:Wt};Ht&&(tn.__nbindShared=Ht,_nbind.mark(Dt));for(var cn=0,fn=Object.keys(tn);cn<fn.length;cn++){var ln=fn[cn];Ft.value=tn[ln],Object.defineProperty(Dt,ln,Ft)}return _defineHidden(0)(Dt,"__nbindState"),Dt}return vt.prototype.free=function(){e.destroy.call(this,this.__nbindShared,this.__nbindFlags),this.__nbindState|=2,disableMember(this,"__nbindShared"),disableMember(this,"__nbindPtr")},vt}(Wrapper);return __decorate([_defineHidden()],$.prototype,"__nbindConstructor",void 0),__decorate([_defineHidden()],$.prototype,"__nbindValueConstructor",void 0),__decorate([_defineHidden(lt)],$.prototype,"__nbindPolicies",void 0),$}_nbind.makeBound=makeBound;function disableMember(lt,e){function $(){throw new Error("Accessing deleted object")}Object.defineProperty(lt,e,{configurable:!1,enumerable:!1,get:$,set:$})}_nbind.ptrMarker={};var BindClass=function(lt){__extends(e,lt);function e($){var ft=lt.call(this,$)||this;return ft.wireRead=function(vt){return _nbind.popValue(vt,ft.ptrType)},ft.wireWrite=function(vt){return pushPointer(vt,ft.ptrType,!0)},ft.pendingSuperCount=0,ft.ready=!1,ft.methodTbl={},$.paramList?(ft.classType=$.paramList[0].classType,ft.proto=ft.classType.proto):ft.classType=ft,ft}return e.prototype.makeBound=function($){var ft=_nbind.makeBound($,this);return this.proto=ft,this.ptrType.proto=ft,ft},e.prototype.addMethod=function($){var ft=this.methodTbl[$.name]||[];ft.push($),this.methodTbl[$.name]=ft},e.prototype.registerMethods=function($,ft){for(var vt,s=0,Tt=Object.keys($.methodTbl);s<Tt.length;s++)for(var At=Tt[s],Rt=$.methodTbl[At],Dt=0,Nt=Rt;Dt<Nt.length;Dt++){var Wt=Nt[Dt],Ht=void 0,Kt=void 0;if(Ht=this.proto.prototype,!(ft&&Wt.signatureType!=1))switch(Wt.signatureType){case 1:Ht=this.proto;case 5:Kt=_nbind.makeCaller(Wt),_nbind.addMethod(Ht,Wt.name,Kt,Wt.typeList.length-1);break;case 4:vt=_nbind.makeMethodCaller($.ptrType,Wt);break;case 3:Object.defineProperty(Ht,Wt.name,{configurable:!0,enumerable:!1,get:_nbind.makeMethodCaller($.ptrType,Wt),set:vt});break;case 2:Kt=_nbind.makeMethodCaller($.ptrType,Wt),_nbind.addMethod(Ht,Wt.name,Kt,Wt.typeList.length-1);break}}},e.prototype.registerSuperMethods=function($,ft,vt){if(!vt[$.name]){vt[$.name]=!0;for(var s=0,Tt,At=0,Rt=$.superIdList||[];At<Rt.length;At++){var Dt=Rt[At],Nt=_nbind.getType(Dt);s++<ft||ft<0?Tt=-1:Tt=0,this.registerSuperMethods(Nt,Tt,vt)}this.registerMethods($,ft<0)}},e.prototype.finish=function(){if(this.ready)return this;this.ready=!0,this.superList=(this.superIdList||[]).map(function(vt){return _nbind.getType(vt).finish()});var $=this.proto;if(this.superList.length){var ft=function(){this.constructor=$};ft.prototype=this.superList[0].proto.prototype,$.prototype=new ft}return $!=Module&&($.prototype.__nbindType=this),this.registerSuperMethods(this,1,{}),this},e.prototype.upcastStep=function($,ft){if($==this)return ft;for(var vt=0;vt<this.superList.length;++vt){var s=this.superList[vt].upcastStep($,_nbind.callUpcast(this.upcastList[vt],ft));if(s)return s}return 0},e}(_nbind.BindType);BindClass.list=[],_nbind.BindClass=BindClass;function popPointer(lt,e){return lt?new e.proto(_nbind.ptrMarker,e.flags,lt):null}_nbind.popPointer=popPointer;function pushPointer(lt,e,$){if(!(lt instanceof _nbind.Wrapper)){if($)return _nbind.pushValue(lt);throw new Error("Type mismatch")}var ft=lt.__nbindPtr,vt=lt.__nbindType.classType,s=e.classType;if(lt instanceof e.proto)for(;vt!=s;)ft=_nbind.callUpcast(vt.upcastList[0],ft),vt=vt.superList[0];else if(ft=vt.upcastStep(s,ft),!ft)throw new Error("Type mismatch");return ft}_nbind.pushPointer=pushPointer;function pushMutablePointer(lt,e){var $=pushPointer(lt,e);if(lt.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return $}var BindClassPtr=function(lt){__extends(e,lt);function e($){var ft=lt.call(this,$)||this;ft.classType=$.paramList[0].classType,ft.proto=ft.classType.proto;var vt=$.flags&1,s=(ft.flags&896)==256&&$.flags&2,Tt=vt?pushPointer:pushMutablePointer,At=s?_nbind.popValue:popPointer;return ft.makeWireWrite=function(Rt,Dt){return Dt.Nullable?function(Nt){return Nt?Tt(Nt,ft):0}:function(Nt){return Tt(Nt,ft)}},ft.wireRead=function(Rt){return At(Rt,ft)},ft.wireWrite=function(Rt){return Tt(Rt,ft)},ft}return e}(_nbind.BindType);_nbind.BindClassPtr=BindClassPtr;function popShared(lt,e){var $=HEAPU32[lt/4],ft=HEAPU32[lt/4+1];return ft?new e.proto(_nbind.ptrMarker,e.flags,ft,$):null}_nbind.popShared=popShared;function pushShared(lt,e){if(!(lt instanceof e.proto))throw new Error("Type mismatch");return lt.__nbindShared}function pushMutableShared(lt,e){if(!(lt instanceof e.proto))throw new Error("Type mismatch");if(lt.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return lt.__nbindShared}var SharedClassPtr=function(lt){__extends(e,lt);function e($){var ft=lt.call(this,$)||this;ft.readResources=[_nbind.resources.pool],ft.classType=$.paramList[0].classType,ft.proto=ft.classType.proto;var vt=$.flags&1,s=vt?pushShared:pushMutableShared;return ft.wireRead=function(Tt){return popShared(Tt,ft)},ft.wireWrite=function(Tt){return s(Tt,ft)},ft}return e}(_nbind.BindType);_nbind.SharedClassPtr=SharedClassPtr,_nbind.externalList=[0];var firstFreeExternal=0,External=function(){function lt(e){this.refCount=1,this.data=e}return lt.prototype.register=function(){var e=firstFreeExternal;return e?firstFreeExternal=_nbind.externalList[e]:e=_nbind.externalList.length,_nbind.externalList[e]=this,e},lt.prototype.reference=function(){++this.refCount},lt.prototype.dereference=function(e){--this.refCount==0&&(this.free&&this.free(),_nbind.externalList[e]=firstFreeExternal,firstFreeExternal=e)},lt}();_nbind.External=External;function popExternal(lt){var e=_nbind.externalList[lt];return e.dereference(lt),e.data}function pushExternal(lt){var e=new External(lt);return e.reference(),e.register()}var ExternalType=function(lt){__extends(e,lt);function e(){var $=lt!==null&&lt.apply(this,arguments)||this;return $.wireRead=popExternal,$.wireWrite=pushExternal,$}return e}(_nbind.BindType);_nbind.ExternalType=ExternalType,_nbind.callbackSignatureList=[];var CallbackType=function(lt){__extends(e,lt);function e(){var $=lt!==null&&lt.apply(this,arguments)||this;return $.wireWrite=function(ft){return typeof ft!="function"&&_nbind.throwError("Type mismatch"),new _nbind.External(ft).register()},$}return e}(_nbind.BindType);_nbind.CallbackType=CallbackType,_nbind.valueList=[0];var firstFreeValue=0;function pushValue(lt){var e=firstFreeValue;return e?firstFreeValue=_nbind.valueList[e]:e=_nbind.valueList.length,_nbind.valueList[e]=lt,e*2+1}_nbind.pushValue=pushValue;function popValue(lt,e){if(lt||_nbind.throwError("Value type JavaScript class is missing or not registered"),lt&1){lt>>=1;var $=_nbind.valueList[lt];return _nbind.valueList[lt]=firstFreeValue,firstFreeValue=lt,$}else{if(e)return _nbind.popShared(lt,e);throw new Error("Invalid value slot "+lt)}}_nbind.popValue=popValue;var valueBase=18446744073709552e3;function push64(lt){return typeof lt=="number"?lt:pushValue(lt)*4096+valueBase}function pop64(lt){return lt<valueBase?lt:popValue((lt-valueBase)/4096)}var CreateValueType=function(lt){__extends(e,lt);function e(){return lt!==null&&lt.apply(this,arguments)||this}return e.prototype.makeWireWrite=function($){return"(_nbind.pushValue(new "+$+"))"},e}(_nbind.BindType);_nbind.CreateValueType=CreateValueType;var Int64Type=function(lt){__extends(e,lt);function e(){var $=lt!==null&&lt.apply(this,arguments)||this;return $.wireWrite=push64,$.wireRead=pop64,$}return e}(_nbind.BindType);_nbind.Int64Type=Int64Type;function pushArray(lt,e){if(!lt)return 0;var $=lt.length;if((e.size||e.size===0)&&$<e.size)throw new Error("Type mismatch");var ft=e.memberType.ptrSize,vt=_nbind.Pool.lalloc(4+$*ft);HEAPU32[vt/4]=$;var s=e.memberType.heap,Tt=(vt+4)/ft,At=e.memberType.wireWrite,Rt=0;if(At)for(;Rt<$;)s[Tt++]=At(lt[Rt++]);else for(;Rt<$;)s[Tt++]=lt[Rt++];return vt}_nbind.pushArray=pushArray;function popArray(lt,e){if(lt===0)return null;var $=HEAPU32[lt/4],ft=new Array($),vt=e.memberType.heap;lt=(lt+4)/e.memberType.ptrSize;var s=e.memberType.wireRead,Tt=0;if(s)for(;Tt<$;)ft[Tt++]=s(vt[lt++]);else for(;Tt<$;)ft[Tt++]=vt[lt++];return ft}_nbind.popArray=popArray;var ArrayType=function(lt){__extends(e,lt);function e($){var ft=lt.call(this,$)||this;return ft.wireRead=function(vt){return popArray(vt,ft)},ft.wireWrite=function(vt){return pushArray(vt,ft)},ft.readResources=[_nbind.resources.pool],ft.writeResources=[_nbind.resources.pool],ft.memberType=$.paramList[0],$.paramList[1]&&(ft.size=$.paramList[1]),ft}return e}(_nbind.BindType);_nbind.ArrayType=ArrayType;function pushString(lt,e){if(lt==null)if(e&&e.Nullable)lt="";else throw new Error("Type mismatch");if(e&&e.Strict){if(typeof lt!="string")throw new Error("Type mismatch")}else lt=lt.toString();var $=Module.lengthBytesUTF8(lt),ft=_nbind.Pool.lalloc(4+$+1);return HEAPU32[ft/4]=$,Module.stringToUTF8Array(lt,HEAPU8,ft+4,$+1),ft}_nbind.pushString=pushString;function popString(lt){if(lt===0)return null;var e=HEAPU32[lt/4];return Module.Pointer_stringify(lt+4,e)}_nbind.popString=popString;var StringType=function(lt){__extends(e,lt);function e(){var $=lt!==null&&lt.apply(this,arguments)||this;return $.wireRead=popString,$.wireWrite=pushString,$.readResources=[_nbind.resources.pool],$.writeResources=[_nbind.resources.pool],$}return e.prototype.makeWireWrite=function($,ft){return function(vt){return pushString(vt,ft)}},e}(_nbind.BindType);_nbind.StringType=StringType;function makeArgList(lt){return Array.apply(null,Array(lt)).map(function(e,$){return"a"+($+1)})}function anyNeedsWireWrite(lt,e){return lt.reduce(function($,ft){return $||ft.needsWireWrite(e)},!1)}function anyNeedsWireRead(lt,e){return lt.reduce(function($,ft){return $||!!ft.needsWireRead(e)},!1)}function makeWireRead(lt,e,$,ft){var vt=lt.length;return $.makeWireRead?$.makeWireRead(ft,lt,vt):$.wireRead?(lt[vt]=$.wireRead,"(convertParamList["+vt+"]("+ft+"))"):ft}function makeWireWrite(lt,e,$,ft){var vt,s=lt.length;return $.makeWireWrite?vt=$.makeWireWrite(ft,e,lt,s):vt=$.wireWrite,vt?typeof vt=="string"?vt:(lt[s]=vt,"(convertParamList["+s+"]("+ft+"))"):ft}function buildCallerFunction(dynCall,ptrType,ptr,num,policyTbl,needsWireWrite,prefix,returnType,argTypeList,mask,err){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireRead(convertParamList,policyTbl,returnType,"dynCall("+[prefix].concat(argList.map(function(lt,e){return makeWireWrite(convertParamList,policyTbl,argTypeList[e],lt)})).join(",")+")"),resourceSet=_nbind.listResources([returnType],argTypeList),sourceCode="function("+argList.join(",")+"){"+(mask?"this.__nbindFlags&mask&&err();":"")+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}function buildJSCallerFunction(returnType,argTypeList){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireWrite(convertParamList,null,returnType,"_nbind.externalList[num].data("+argList.map(function(lt,e){return makeWireRead(convertParamList,null,argTypeList[e],lt)}).join(",")+")"),resourceSet=_nbind.listResources(argTypeList,[returnType]);resourceSet.remove(_nbind.resources.pool);var sourceCode="function("+["dummy","num"].concat(argList).join(",")+"){"+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}_nbind.buildJSCallerFunction=buildJSCallerFunction;function makeJSCaller(lt){var e=lt.length-1,$=_nbind.getTypes(lt,"callback"),ft=$[0],vt=$.slice(1),s=anyNeedsWireRead(vt,null),Tt=ft.needsWireWrite(null);if(!Tt&&!s)switch(e){case 0:return function(At,Rt){return _nbind.externalList[Rt].data()};case 1:return function(At,Rt,Dt){return _nbind.externalList[Rt].data(Dt)};case 2:return function(At,Rt,Dt,Nt){return _nbind.externalList[Rt].data(Dt,Nt)};case 3:return function(At,Rt,Dt,Nt,Wt){return _nbind.externalList[Rt].data(Dt,Nt,Wt)}}return buildJSCallerFunction(ft,vt)}_nbind.makeJSCaller=makeJSCaller;function makeMethodCaller(lt,e){var $=e.typeList.length-1,ft=e.typeList.slice(0);ft.splice(1,0,"uint32_t",e.boundID);var vt=_nbind.getTypes(ft,e.title),s=vt[0],Tt=vt.slice(3),At=s.needsWireRead(e.policyTbl),Rt=anyNeedsWireWrite(Tt,e.policyTbl),Dt=e.ptr,Nt=e.num,Wt=_nbind.getDynCall(vt,e.title),Ht=~e.flags&1;function Kt(){throw new Error("Calling a non-const method on a const object")}if(!At&&!Rt)switch($){case 0:return function(){return this.__nbindFlags&Ht?Kt():Wt(Dt,Nt,_nbind.pushPointer(this,lt))};case 1:return function(Ft){return this.__nbindFlags&Ht?Kt():Wt(Dt,Nt,_nbind.pushPointer(this,lt),Ft)};case 2:return function(Ft,tn){return this.__nbindFlags&Ht?Kt():Wt(Dt,Nt,_nbind.pushPointer(this,lt),Ft,tn)};case 3:return function(Ft,tn,cn){return this.__nbindFlags&Ht?Kt():Wt(Dt,Nt,_nbind.pushPointer(this,lt),Ft,tn,cn)}}return buildCallerFunction(Wt,lt,Dt,Nt,e.policyTbl,Rt,"ptr,num,pushPointer(this,ptrType)",s,Tt,Ht)}_nbind.makeMethodCaller=makeMethodCaller;function makeCaller(lt){var e=lt.typeList.length-1,$=_nbind.getTypes(lt.typeList,lt.title),ft=$[0],vt=$.slice(1),s=ft.needsWireRead(lt.policyTbl),Tt=anyNeedsWireWrite(vt,lt.policyTbl),At=lt.direct,Rt=lt.ptr;if(lt.direct&&!s&&!Tt){var Dt=_nbind.getDynCall($,lt.title);switch(e){case 0:return function(){return Dt(At)};case 1:return function(Kt){return Dt(At,Kt)};case 2:return function(Kt,Ft){return Dt(At,Kt,Ft)};case 3:return function(Kt,Ft,tn){return Dt(At,Kt,Ft,tn)}}Rt=0}var Nt;if(Rt){var Wt=lt.typeList.slice(0);Wt.splice(1,0,"uint32_t"),$=_nbind.getTypes(Wt,lt.title),Nt="ptr,num"}else Rt=At,Nt="ptr";var Ht=_nbind.getDynCall($,lt.title);return buildCallerFunction(Ht,null,Rt,lt.num,lt.policyTbl,Tt,Nt,ft,vt)}_nbind.makeCaller=makeCaller;function makeOverloader(lt,e){var $=[];function ft(){return $[arguments.length].apply(this,arguments)}return ft.addMethod=function(vt,s){$[s]=vt},ft.addMethod(lt,e),ft}_nbind.makeOverloader=makeOverloader;var Resource=function(){function lt(e,$){var ft=this;this.makeOpen=function(){return Object.keys(ft.openTbl).join("")},this.makeClose=function(){return Object.keys(ft.closeTbl).join("")},this.openTbl={},this.closeTbl={},e&&(this.openTbl[e]=!0),$&&(this.closeTbl[$]=!0)}return lt.prototype.add=function(e){for(var $=0,ft=Object.keys(e.openTbl);$<ft.length;$++){var vt=ft[$];this.openTbl[vt]=!0}for(var s=0,Tt=Object.keys(e.closeTbl);s<Tt.length;s++){var vt=Tt[s];this.closeTbl[vt]=!0}},lt.prototype.remove=function(e){for(var $=0,ft=Object.keys(e.openTbl);$<ft.length;$++){var vt=ft[$];delete this.openTbl[vt]}for(var s=0,Tt=Object.keys(e.closeTbl);s<Tt.length;s++){var vt=Tt[s];delete this.closeTbl[vt]}},lt}();_nbind.Resource=Resource;function listResources(lt,e){for(var $=new Resource,ft=0,vt=lt;ft<vt.length;ft++)for(var s=vt[ft],Tt=0,At=s.readResources||[];Tt<At.length;Tt++){var Rt=At[Tt];$.add(Rt)}for(var Dt=0,Nt=e;Dt<Nt.length;Dt++)for(var s=Nt[Dt],Wt=0,Ht=s.writeResources||[];Wt<Ht.length;Wt++){var Rt=Ht[Wt];$.add(Rt)}return $}_nbind.listResources=listResources,_nbind.resources={pool:new Resource("var used=HEAPU32[_nbind.Pool.usedPtr],page=HEAPU32[_nbind.Pool.pagePtr];","_nbind.Pool.lreset(used,page);")};var ExternalBuffer=function(lt){__extends(e,lt);function e($,ft){var vt=lt.call(this,$)||this;return vt.ptr=ft,vt}return e.prototype.free=function(){_free(this.ptr)},e}(_nbind.External);function getBuffer(lt){return lt instanceof ArrayBuffer?new Uint8Array(lt):lt instanceof DataView?new Uint8Array(lt.buffer,lt.byteOffset,lt.byteLength):lt}function pushBuffer(lt,e){if(lt==null&&e&&e.Nullable&&(lt=[]),typeof lt!="object")throw new Error("Type mismatch");var $=lt,ft=$.byteLength||$.length;if(!ft&&ft!==0&&$.byteLength!==0)throw new Error("Type mismatch");var vt=_nbind.Pool.lalloc(8),s=_malloc(ft),Tt=vt/4;return HEAPU32[Tt++]=ft,HEAPU32[Tt++]=s,HEAPU32[Tt++]=new ExternalBuffer(lt,s).register(),HEAPU8.set(getBuffer(lt),s),vt}var BufferType=function(lt){__extends(e,lt);function e(){var $=lt!==null&&lt.apply(this,arguments)||this;return $.wireWrite=pushBuffer,$.readResources=[_nbind.resources.pool],$.writeResources=[_nbind.resources.pool],$}return e.prototype.makeWireWrite=function($,ft){return function(vt){return pushBuffer(vt,ft)}},e}(_nbind.BindType);_nbind.BufferType=BufferType;function commitBuffer(lt,e,$){var ft=_nbind.externalList[lt].data,vt=Buffer;if(typeof Buffer!="function"&&(vt=function(){}),!(ft instanceof Array)){var s=HEAPU8.subarray(e,e+$);if(ft instanceof vt){var Tt=void 0;typeof Buffer.from=="function"&&Buffer.from.length>=3,Tt=Buffer.from(s),Tt.copy(ft)}else getBuffer(ft).set(s)}}_nbind.commitBuffer=commitBuffer;var dirtyList=[],gcTimer=0;function sweep(){for(var lt=0,e=dirtyList;lt<e.length;lt++){var $=e[lt];$.__nbindState&3||$.free()}dirtyList=[],gcTimer=0}_nbind.mark=function(lt){};function toggleLightGC(lt){lt?_nbind.mark=function(e){dirtyList.push(e),gcTimer||(gcTimer=setTimeout(sweep,0))}:_nbind.mark=function(e){}}_nbind.toggleLightGC=toggleLightGC}(_nbind),Module.requestFullScreen=function lt(e,$,ft){Module.printErr("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),Module.requestFullScreen=Module.requestFullscreen,Browser.requestFullScreen(e,$,ft)},Module.requestFullscreen=function lt(e,$,ft){Browser.requestFullscreen(e,$,ft)},Module.requestAnimationFrame=function lt(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function lt(e,$,ft){Browser.setCanvasSize(e,$,ft)},Module.pauseMainLoop=function lt(){Browser.mainLoop.pause()},Module.resumeMainLoop=function lt(){Browser.mainLoop.resume()},Module.getUserMedia=function lt(){Browser.getUserMedia()},Module.createContext=function lt(e,$,ft,vt){return Browser.createContext(e,$,ft,vt)},ENVIRONMENT_IS_NODE?_emscripten_get_now=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof dateNow<"u"?_emscripten_get_now=dateNow:typeof self=="object"&&self.performance&&typeof self.performance.now=="function"?_emscripten_get_now=function(){return self.performance.now()}:typeof performance=="object"&&typeof performance.now=="function"?_emscripten_get_now=function(){return performance.now()}:_emscripten_get_now=Date.now,__ATEXIT__.push(function(){var lt=Module._fflush;lt&&lt(0);var e=___syscall146.printChar;if(e){var $=___syscall146.buffers;$[1].length&&e(1,10),$[2].length&&e(2,10)}}),DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;function invoke_viiiii(lt,e,$,ft,vt,s){try{Module.dynCall_viiiii(lt,e,$,ft,vt,s)}catch(Tt){if(typeof Tt!="number"&&Tt!=="longjmp")throw Tt;Module.setThrew(1,0)}}function invoke_vif(lt,e,$){try{Module.dynCall_vif(lt,e,$)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_vid(lt,e,$){try{Module.dynCall_vid(lt,e,$)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_fiff(lt,e,$,ft){try{return Module.dynCall_fiff(lt,e,$,ft)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;Module.setThrew(1,0)}}function invoke_vi(lt,e){try{Module.dynCall_vi(lt,e)}catch($){if(typeof $!="number"&&$!=="longjmp")throw $;Module.setThrew(1,0)}}function invoke_vii(lt,e,$){try{Module.dynCall_vii(lt,e,$)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_ii(lt,e){try{return Module.dynCall_ii(lt,e)}catch($){if(typeof $!="number"&&$!=="longjmp")throw $;Module.setThrew(1,0)}}function invoke_viddi(lt,e,$,ft,vt){try{Module.dynCall_viddi(lt,e,$,ft,vt)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_vidd(lt,e,$,ft){try{Module.dynCall_vidd(lt,e,$,ft)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;Module.setThrew(1,0)}}function invoke_iiii(lt,e,$,ft){try{return Module.dynCall_iiii(lt,e,$,ft)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;Module.setThrew(1,0)}}function invoke_diii(lt,e,$,ft){try{return Module.dynCall_diii(lt,e,$,ft)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;Module.setThrew(1,0)}}function invoke_di(lt,e){try{return Module.dynCall_di(lt,e)}catch($){if(typeof $!="number"&&$!=="longjmp")throw $;Module.setThrew(1,0)}}function invoke_iid(lt,e,$){try{return Module.dynCall_iid(lt,e,$)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_iii(lt,e,$){try{return Module.dynCall_iii(lt,e,$)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_viiddi(lt,e,$,ft,vt,s){try{Module.dynCall_viiddi(lt,e,$,ft,vt,s)}catch(Tt){if(typeof Tt!="number"&&Tt!=="longjmp")throw Tt;Module.setThrew(1,0)}}function invoke_viiiiii(lt,e,$,ft,vt,s,Tt){try{Module.dynCall_viiiiii(lt,e,$,ft,vt,s,Tt)}catch(At){if(typeof At!="number"&&At!=="longjmp")throw At;Module.setThrew(1,0)}}function invoke_dii(lt,e,$){try{return Module.dynCall_dii(lt,e,$)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_i(lt){try{return Module.dynCall_i(lt)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_iiiiii(lt,e,$,ft,vt,s){try{return Module.dynCall_iiiiii(lt,e,$,ft,vt,s)}catch(Tt){if(typeof Tt!="number"&&Tt!=="longjmp")throw Tt;Module.setThrew(1,0)}}function invoke_viiid(lt,e,$,ft,vt){try{Module.dynCall_viiid(lt,e,$,ft,vt)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_viififi(lt,e,$,ft,vt,s,Tt){try{Module.dynCall_viififi(lt,e,$,ft,vt,s,Tt)}catch(At){if(typeof At!="number"&&At!=="longjmp")throw At;Module.setThrew(1,0)}}function invoke_viii(lt,e,$,ft){try{Module.dynCall_viii(lt,e,$,ft)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;Module.setThrew(1,0)}}function invoke_v(lt){try{Module.dynCall_v(lt)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viid(lt,e,$,ft){try{Module.dynCall_viid(lt,e,$,ft)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;Module.setThrew(1,0)}}function invoke_idd(lt,e,$){try{return Module.dynCall_idd(lt,e,$)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_viiii(lt,e,$,ft,vt){try{Module.dynCall_viiii(lt,e,$,ft,vt)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}Module.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort,assert,enlargeMemory,getTotalMemory,abortOnCannotGrowMemory,invoke_viiiii,invoke_vif,invoke_vid,invoke_fiff,invoke_vi,invoke_vii,invoke_ii,invoke_viddi,invoke_vidd,invoke_iiii,invoke_diii,invoke_di,invoke_iid,invoke_iii,invoke_viiddi,invoke_viiiiii,invoke_dii,invoke_i,invoke_iiiiii,invoke_viiid,invoke_viififi,invoke_viii,invoke_v,invoke_viid,invoke_idd,invoke_viiii,_emscripten_asm_const_iiiii,_emscripten_asm_const_iiidddddd,_emscripten_asm_const_iiiid,__nbind_reference_external,_emscripten_asm_const_iiiiiiii,_removeAccessorPrefix,_typeModule,__nbind_register_pool,__decorate,_llvm_stackrestore,___cxa_atexit,__extends,__nbind_get_value_object,__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,_emscripten_set_main_loop_timing,__nbind_register_primitive,__nbind_register_type,_emscripten_memcpy_big,__nbind_register_function,___setErrNo,__nbind_register_class,__nbind_finish,_abort,_nbind_value,_llvm_stacksave,___syscall54,_defineHidden,_emscripten_set_main_loop,_emscripten_get_now,__nbind_register_callback_signature,_emscripten_asm_const_iiiiii,__nbind_free_external,_emscripten_asm_const_iiii,_emscripten_asm_const_iiididi,___syscall6,_atexit,___syscall140,___syscall146,DYNAMICTOP_PTR,tempDoublePtr,ABORT,STACKTOP,STACK_MAX,cttz_i8,___dso_handle};var asm=function(lt,e,$){var ft=new lt.Int8Array($),vt=new lt.Int16Array($),s=new lt.Int32Array($),Tt=new lt.Uint8Array($),At=new lt.Uint16Array($),Rt=new lt.Uint32Array($),Dt=new lt.Float32Array($),Nt=new lt.Float64Array($),Wt=e.DYNAMICTOP_PTR|0,Ht=e.tempDoublePtr|0,Kt=e.ABORT|0,Ft=e.STACKTOP|0,tn=e.STACK_MAX|0,cn=e.cttz_i8|0,fn=e.___dso_handle|0,ln=0,dn=0,mn=0,xn=0,Mn=lt.NaN,Tn=lt.Infinity,vn=0,An=0,Pn=0,bn=0,In=0,On=0,Nn=lt.Math.floor,Yn=lt.Math.abs,Xn=lt.Math.sqrt,sr=lt.Math.pow,Un=lt.Math.cos,Gn=lt.Math.sin,Wn=lt.Math.tan,$n=lt.Math.acos,zn=lt.Math.asin,Zn=lt.Math.atan,tr=lt.Math.atan2,Hn=lt.Math.exp,dr=lt.Math.log,nr=lt.Math.ceil,hr=lt.Math.imul,Pr=lt.Math.min,Vr=lt.Math.max,kr=lt.Math.clz32,Zt=lt.Math.fround,ur=e.abort,Br=e.assert,zr=e.enlargeMemory,Dr=e.getTotalMemory,Jr=e.abortOnCannotGrowMemory,xr=e.invoke_viiiii,jr=e.invoke_vif,qr=e.invoke_vid,Tr=e.invoke_fiff,Bn=e.invoke_vi,Ln=e.invoke_vii,Jn=e.invoke_ii,yr=e.invoke_viddi,Wr=e.invoke_vidd,Yr=e.invoke_iiii,Xr=e.invoke_diii,Kr=e.invoke_di,Cr=e.invoke_iid,eo=e.invoke_iii,jn=e.invoke_viiddi,gr=e.invoke_viiiiii,Ar=e.invoke_dii,Rr=e.invoke_i,Qr=e.invoke_iiiiii,po=e.invoke_viiid,_o=e.invoke_viififi,qn=e.invoke_viii,mr=e.invoke_v,Nr=e.invoke_viid,to=e.invoke_idd,oo=e.invoke_viiii,Vo=e._emscripten_asm_const_iiiii,qo=e._emscripten_asm_const_iiidddddd,Yo=e._emscripten_asm_const_iiiid,Fo=e.__nbind_reference_external,Zo=e._emscripten_asm_const_iiiiiiii,Uo=e._removeAccessorPrefix,No=e._typeModule,ws=e.__nbind_register_pool,Ls=e.__decorate,rs=e._llvm_stackrestore,Dn=e.___cxa_atexit,pr=e.__extends,Sr=e.__nbind_get_value_object,ar=e.__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,br=e._emscripten_set_main_loop_timing,yo=e.__nbind_register_primitive,wo=e.__nbind_register_type,Io=e._emscripten_memcpy_big,zo=e.__nbind_register_function,Qo=e.___setErrNo,Ho=e.__nbind_register_class,Xo=e.__nbind_finish,go=e._abort,Gs=e._nbind_value,Ks=e._llvm_stacksave,Xl=e.___syscall54,gs=e._defineHidden,Zr=e._emscripten_set_main_loop,Dl=e._emscripten_get_now,_s=e.__nbind_register_callback_signature,Us=e._emscripten_asm_const_iiiiii,h0=e.__nbind_free_external,Ol=e._emscripten_asm_const_iiii,Ml=e._emscripten_asm_const_iiididi,us=e.___syscall6,os=e._atexit,ss=e.___syscall140,ps=e.___syscall146,Ms=Zt(0);const Hr=Zt(0);function Zs(a){a=a|0;var dt=0;return dt=Ft,Ft=Ft+a|0,Ft=Ft+15&-16,dt|0}function bu(){return Ft|0}function Cs(a){a=a|0,Ft=a}function p0(a,dt){a=a|0,dt=dt|0,Ft=a,tn=dt}function mp(a,dt){a=a|0,dt=dt|0,ln||(ln=a,dn=dt)}function gp(a){a=a|0,On=a}function Iu(){return On|0}function O1(){var a=0,dt=0;Ro(8104,8,400)|0,Ro(8504,408,540)|0,a=9044,dt=a+44|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));ft[9088]=0,ft[9089]=1,s[2273]=0,s[2274]=948,s[2275]=948,Dn(17,8104,fn|0)|0}function Qs(a){a=a|0,o1(a+948|0)}function ro(a){return a=Zt(a),((Bm(a)|0)&2147483647)>>>0>2139095040|0}function Rs(a,dt,St){a=a|0,dt=dt|0,St=St|0;e:do if(s[a+(dt<<3)+4>>2]|0)a=a+(dt<<3)|0;else{if((dt|2|0)==3&&s[a+60>>2]|0){a=a+56|0;break}switch(dt|0){case 0:case 2:case 4:case 5:{if(s[a+52>>2]|0){a=a+48|0;break e}break}default:}if(s[a+68>>2]|0){a=a+64|0;break}else{a=(dt|1|0)==5?948:St;break}}while(0);return a|0}function t1(a){a=a|0;var dt=0;return dt=Cv(1e3)|0,_u(a,(dt|0)!=0,2456),s[2276]=(s[2276]|0)+1,Ro(dt|0,8104,1e3)|0,ft[a+2>>0]|0&&(s[dt+4>>2]=2,s[dt+12>>2]=4),s[dt+976>>2]=a,dt|0}function _u(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0;Ct=Ft,Ft=Ft+16|0,Et=Ct,dt||(s[Et>>2]=St,D2(a,5,3197,Et)),Ft=Ct}function Qu(){return t1(956)|0}function Du(a){a=a|0;var dt=0;return dt=uo(1e3)|0,D0(dt,a),_u(s[a+976>>2]|0,1,2456),s[2276]=(s[2276]|0)+1,s[dt+944>>2]=0,dt|0}function D0(a,dt){a=a|0,dt=dt|0;var St=0;Ro(a|0,dt|0,948)|0,r0(a+948|0,dt+948|0),St=a+960|0,a=dt+960|0,dt=St+40|0;do s[St>>2]=s[a>>2],St=St+4|0,a=a+4|0;while((St|0)<(dt|0))}function F1(a){a=a|0;var dt=0,St=0,Et=0,Ct=0;if(dt=a+944|0,St=s[dt>>2]|0,St|0&&(vp(St+948|0,a)|0,s[dt>>2]=0),St=Ws(a)|0,St|0){dt=0;do s[(Fl(a,dt)|0)+944>>2]=0,dt=dt+1|0;while((dt|0)!=(St|0))}St=a+948|0,Et=s[St>>2]|0,Ct=a+952|0,dt=s[Ct>>2]|0,(dt|0)!=(Et|0)&&(s[Ct>>2]=dt+(~((dt+-4-Et|0)>>>2)<<2)),yu(St),Pv(a),s[2276]=(s[2276]|0)+-1}function vp(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0;Et=s[a>>2]|0,en=a+4|0,St=s[en>>2]|0,kt=St;e:do if((Et|0)==(St|0))Ct=Et,Ut=4;else for(a=Et;;){if((s[a>>2]|0)==(dt|0)){Ct=a,Ut=4;break e}if(a=a+4|0,(a|0)==(St|0)){a=0;break}}while(0);return(Ut|0)==4&&((Ct|0)!=(St|0)?(Et=Ct+4|0,a=kt-Et|0,dt=a>>2,dt&&(ym(Ct|0,Et|0,a|0)|0,St=s[en>>2]|0),a=Ct+(dt<<2)|0,(St|0)==(a|0)||(s[en>>2]=St+(~((St+-4-a|0)>>>2)<<2)),a=1):a=0),a|0}function Ws(a){return a=a|0,(s[a+952>>2]|0)-(s[a+948>>2]|0)>>2|0}function Fl(a,dt){a=a|0,dt=dt|0;var St=0;return St=s[a+948>>2]|0,(s[a+952>>2]|0)-St>>2>>>0>dt>>>0?a=s[St+(dt<<2)>>2]|0:a=0,a|0}function yu(a){a=a|0;var dt=0,St=0,Et=0,Ct=0;Et=Ft,Ft=Ft+32|0,dt=Et,Ct=s[a>>2]|0,St=(s[a+4>>2]|0)-Ct|0,((s[a+8>>2]|0)-Ct|0)>>>0>St>>>0&&(Ct=St>>2,X0(dt,Ct,Ct,a+8|0),v1(a,dt),Ip(dt)),Ft=Et}function m0(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0;gn=Ws(a)|0;do if(gn|0){if((s[(Fl(a,0)|0)+944>>2]|0)==(a|0)){if(!(vp(a+948|0,dt)|0))break;Ro(dt+400|0,8504,540)|0,s[dt+944>>2]=0,Co(a);break}Ut=s[(s[a+976>>2]|0)+12>>2]|0,en=a+948|0,un=(Ut|0)==0,St=0,kt=0;do Et=s[(s[en>>2]|0)+(kt<<2)>>2]|0,(Et|0)==(dt|0)?Co(a):(Ct=Du(Et)|0,s[(s[en>>2]|0)+(St<<2)>>2]=Ct,s[Ct+944>>2]=a,un||uy[Ut&15](Et,Ct,a,St),St=St+1|0),kt=kt+1|0;while((kt|0)!=(gn|0));if(St>>>0<gn>>>0){un=a+948|0,en=a+952|0,Ut=St,St=s[en>>2]|0;do kt=(s[un>>2]|0)+(Ut<<2)|0,Et=kt+4|0,Ct=St-Et|0,dt=Ct>>2,dt&&(ym(kt|0,Et|0,Ct|0)|0,St=s[en>>2]|0),Ct=St,Et=kt+(dt<<2)|0,(Ct|0)!=(Et|0)&&(St=Ct+(~((Ct+-4-Et|0)>>>2)<<2)|0,s[en>>2]=St),Ut=Ut+1|0;while((Ut|0)!=(gn|0))}}while(0)}function Ou(a){a=a|0;var dt=0,St=0,Et=0,Ct=0;Lo(a,(Ws(a)|0)==0,2491),Lo(a,(s[a+944>>2]|0)==0,2545),dt=a+948|0,St=s[dt>>2]|0,Et=a+952|0,Ct=s[Et>>2]|0,(Ct|0)!=(St|0)&&(s[Et>>2]=Ct+(~((Ct+-4-St|0)>>>2)<<2)),yu(dt),dt=a+976|0,St=s[dt>>2]|0,Ro(a|0,8104,1e3)|0,ft[St+2>>0]|0&&(s[a+4>>2]=2,s[a+12>>2]=4),s[dt>>2]=St}function Lo(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0;Ct=Ft,Ft=Ft+16|0,Et=Ct,dt||(s[Et>>2]=St,cu(a,5,3197,Et)),Ft=Ct}function n1(){return s[2276]|0}function Ju(){var a=0;return a=Cv(20)|0,_p((a|0)!=0,2592),s[2277]=(s[2277]|0)+1,s[a>>2]=s[239],s[a+4>>2]=s[240],s[a+8>>2]=s[241],s[a+12>>2]=s[242],s[a+16>>2]=s[243],a|0}function _p(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;Et=Ft,Ft=Ft+16|0,St=Et,a||(s[St>>2]=dt,cu(0,5,3197,St)),Ft=Et}function r1(a){a=a|0,Pv(a),s[2277]=(s[2277]|0)+-1}function i1(a,dt){a=a|0,dt=dt|0;var St=0;dt?(Lo(a,(Ws(a)|0)==0,2629),St=1):(St=0,dt=0),s[a+964>>2]=dt,s[a+988>>2]=St}function ys(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+16|0,kt=Et+8|0,Ct=Et+4|0,Ut=Et,s[Ct>>2]=dt,Lo(a,(s[dt+944>>2]|0)==0,2709),Lo(a,(s[a+964>>2]|0)==0,2763),Fu(a),dt=a+948|0,s[Ut>>2]=(s[dt>>2]|0)+(St<<2),s[kt>>2]=s[Ut>>2],N1(dt,kt,Ct)|0,s[(s[Ct>>2]|0)+944>>2]=a,Co(a),Ft=Et}function Fu(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0;if(St=Ws(a)|0,St|0&&(s[(Fl(a,0)|0)+944>>2]|0)!=(a|0)){Et=s[(s[a+976>>2]|0)+12>>2]|0,Ct=a+948|0,kt=(Et|0)==0,dt=0;do Ut=s[(s[Ct>>2]|0)+(dt<<2)>>2]|0,en=Du(Ut)|0,s[(s[Ct>>2]|0)+(dt<<2)>>2]=en,s[en+944>>2]=a,kt||uy[Et&15](Ut,en,a,dt),dt=dt+1|0;while((dt|0)!=(St|0))}}function N1(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0,Kn=0,Er=0,_r=0;Er=Ft,Ft=Ft+64|0,En=Er+52|0,en=Er+48|0,Rn=Er+28|0,cr=Er+24|0,Qn=Er+20|0,Kn=Er,Et=s[a>>2]|0,kt=Et,dt=Et+((s[dt>>2]|0)-kt>>2<<2)|0,Et=a+4|0,Ct=s[Et>>2]|0,Ut=a+8|0;do if(Ct>>>0<(s[Ut>>2]|0)>>>0){if((dt|0)==(Ct|0)){s[dt>>2]=s[St>>2],s[Et>>2]=(s[Et>>2]|0)+4;break}Z1(a,dt,Ct,dt+4|0),dt>>>0<=St>>>0&&(St=(s[Et>>2]|0)>>>0>St>>>0?St+4|0:St),s[dt>>2]=s[St>>2]}else{Et=(Ct-kt>>2)+1|0,Ct=h1(a)|0,Ct>>>0<Et>>>0&&ts(a),pn=s[a>>2]|0,gn=(s[Ut>>2]|0)-pn|0,kt=gn>>1,X0(Kn,gn>>2>>>0<Ct>>>1>>>0?kt>>>0<Et>>>0?Et:kt:Ct,dt-pn>>2,a+8|0),pn=Kn+8|0,Et=s[pn>>2]|0,kt=Kn+12|0,gn=s[kt>>2]|0,Ut=gn,un=Et;do if((Et|0)==(gn|0)){if(gn=Kn+4|0,Et=s[gn>>2]|0,_r=s[Kn>>2]|0,Ct=_r,Et>>>0<=_r>>>0){Et=Ut-Ct>>1,Et=Et|0?Et:1,X0(Rn,Et,Et>>>2,s[Kn+16>>2]|0),s[cr>>2]=s[gn>>2],s[Qn>>2]=s[pn>>2],s[en>>2]=s[cr>>2],s[En>>2]=s[Qn>>2],_1(Rn,en,En),Et=s[Kn>>2]|0,s[Kn>>2]=s[Rn>>2],s[Rn>>2]=Et,Et=Rn+4|0,_r=s[gn>>2]|0,s[gn>>2]=s[Et>>2],s[Et>>2]=_r,Et=Rn+8|0,_r=s[pn>>2]|0,s[pn>>2]=s[Et>>2],s[Et>>2]=_r,Et=Rn+12|0,_r=s[kt>>2]|0,s[kt>>2]=s[Et>>2],s[Et>>2]=_r,Ip(Rn),Et=s[pn>>2]|0;break}kt=Et,Ut=((kt-Ct>>2)+1|0)/-2|0,en=Et+(Ut<<2)|0,Ct=un-kt|0,kt=Ct>>2,kt&&(ym(en|0,Et|0,Ct|0)|0,Et=s[gn>>2]|0),_r=en+(kt<<2)|0,s[pn>>2]=_r,s[gn>>2]=Et+(Ut<<2),Et=_r}while(0);s[Et>>2]=s[St>>2],s[pn>>2]=(s[pn>>2]|0)+4,dt=Um(a,Kn,dt)|0,Ip(Kn)}while(0);return Ft=Er,dt|0}function Co(a){a=a|0;var dt=0;do{if(dt=a+984|0,ft[dt>>0]|0)break;ft[dt>>0]=1,Dt[a+504>>2]=Zt(Mn),a=s[a+944>>2]|0}while(a|0)}function o1(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-4-Et|0)>>>2)<<2)),Gr(St))}function g0(a){return a=a|0,s[a+944>>2]|0}function Kl(a){a=a|0,Lo(a,(s[a+964>>2]|0)!=0,2832),Co(a)}function s1(a){return a=a|0,(ft[a+984>>0]|0)!=0|0}function yp(a,dt){a=a|0,dt=dt|0,oD(a,dt,400)|0&&(Ro(a|0,dt|0,400)|0,Co(a))}function Zl(a){a=a|0;var dt=Hr;return dt=Zt(Dt[a+44>>2]),a=ro(dt)|0,Zt(a?Zt(0):dt)}function El(a){a=a|0;var dt=Hr;return dt=Zt(Dt[a+48>>2]),ro(dt)|0&&(dt=ft[(s[a+976>>2]|0)+2>>0]|0?Zt(1):Zt(0)),Zt(dt)}function Nu(a,dt){a=a|0,dt=dt|0,s[a+980>>2]=dt}function Ql(a){return a=a|0,s[a+980>>2]|0}function a1(a,dt){a=a|0,dt=dt|0;var St=0;St=a+4|0,(s[St>>2]|0)!=(dt|0)&&(s[St>>2]=dt,Co(a))}function l1(a){return a=a|0,s[a+4>>2]|0}function Nl(a,dt){a=a|0,dt=dt|0;var St=0;St=a+8|0,(s[St>>2]|0)!=(dt|0)&&(s[St>>2]=dt,Co(a))}function O0(a){return a=a|0,s[a+8>>2]|0}function F0(a,dt){a=a|0,dt=dt|0;var St=0;St=a+12|0,(s[St>>2]|0)!=(dt|0)&&(s[St>>2]=dt,Co(a))}function N0(a){return a=a|0,s[a+12>>2]|0}function Js(a,dt){a=a|0,dt=dt|0;var St=0;St=a+16|0,(s[St>>2]|0)!=(dt|0)&&(s[St>>2]=dt,Co(a))}function zs(a){return a=a|0,s[a+16>>2]|0}function xp(a,dt){a=a|0,dt=dt|0;var St=0;St=a+20|0,(s[St>>2]|0)!=(dt|0)&&(s[St>>2]=dt,Co(a))}function xu(a){return a=a|0,s[a+20>>2]|0}function v0(a,dt){a=a|0,dt=dt|0;var St=0;St=a+24|0,(s[St>>2]|0)!=(dt|0)&&(s[St>>2]=dt,Co(a))}function Sp(a){return a=a|0,s[a+24>>2]|0}function B1(a,dt){a=a|0,dt=dt|0;var St=0;St=a+28|0,(s[St>>2]|0)!=(dt|0)&&(s[St>>2]=dt,Co(a))}function Bu(a){return a=a|0,s[a+28>>2]|0}function bs(a,dt){a=a|0,dt=dt|0;var St=0;St=a+32|0,(s[St>>2]|0)!=(dt|0)&&(s[St>>2]=dt,Co(a))}function $s(a){return a=a|0,s[a+32>>2]|0}function ds(a,dt){a=a|0,dt=dt|0;var St=0;St=a+36|0,(s[St>>2]|0)!=(dt|0)&&(s[St>>2]=dt,Co(a))}function Fs(a){return a=a|0,s[a+36>>2]|0}function Su(a,dt){a=a|0,dt=Zt(dt);var St=0;St=a+40|0,Zt(Dt[St>>2])!=dt&&(Dt[St>>2]=dt,Co(a))}function E2(a,dt){a=a|0,dt=Zt(dt);var St=0;St=a+44|0,Zt(Dt[St>>2])!=dt&&(Dt[St>>2]=dt,Co(a))}function Mm(a,dt){a=a|0,dt=Zt(dt);var St=0;St=a+48|0,Zt(Dt[St>>2])!=dt&&(Dt[St>>2]=dt,Co(a))}function e0(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=(kt^1)&1,Et=a+52|0,Ct=a+56|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function _0(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0;Et=a+52|0,St=a+56|0,Zt(Dt[Et>>2])==dt&&(s[St>>2]|0)==2||(Dt[Et>>2]=dt,Et=ro(dt)|0,s[St>>2]=Et?3:2,Co(a))}function U1(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;Et=dt+52|0,St=s[Et+4>>2]|0,dt=a,s[dt>>2]=s[Et>>2],s[dt+4>>2]=St}function Em(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0,Ct=0,kt=0;kt=ro(St)|0,Et=(kt^1)&1,Ct=a+132+(dt<<3)|0,dt=a+132+(dt<<3)+4|0,kt|Zt(Dt[Ct>>2])==St&&(s[dt>>2]|0)==(Et|0)||(Dt[Ct>>2]=St,s[dt>>2]=Et,Co(a))}function z1(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0,Ct=0,kt=0;kt=ro(St)|0,Et=kt?0:2,Ct=a+132+(dt<<3)|0,dt=a+132+(dt<<3)+4|0,kt|Zt(Dt[Ct>>2])==St&&(s[dt>>2]|0)==(Et|0)||(Dt[Ct>>2]=St,s[dt>>2]=Et,Co(a))}function Tm(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=dt+132+(St<<3)|0,dt=s[Et+4>>2]|0,St=a,s[St>>2]=s[Et>>2],s[St+4>>2]=dt}function Am(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0,Ct=0,kt=0;kt=ro(St)|0,Et=(kt^1)&1,Ct=a+60+(dt<<3)|0,dt=a+60+(dt<<3)+4|0,kt|Zt(Dt[Ct>>2])==St&&(s[dt>>2]|0)==(Et|0)||(Dt[Ct>>2]=St,s[dt>>2]=Et,Co(a))}function T2(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0,Ct=0,kt=0;kt=ro(St)|0,Et=kt?0:2,Ct=a+60+(dt<<3)|0,dt=a+60+(dt<<3)+4|0,kt|Zt(Dt[Ct>>2])==St&&(s[dt>>2]|0)==(Et|0)||(Dt[Ct>>2]=St,s[dt>>2]=Et,Co(a))}function $1(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=dt+60+(St<<3)|0,dt=s[Et+4>>2]|0,St=a,s[St>>2]=s[Et>>2],s[St+4>>2]=dt}function Cm(a,dt){a=a|0,dt=dt|0;var St=0;St=a+60+(dt<<3)+4|0,(s[St>>2]|0)!=3&&(Dt[a+60+(dt<<3)>>2]=Zt(Mn),s[St>>2]=3,Co(a))}function Pm(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0,Ct=0,kt=0;kt=ro(St)|0,Et=(kt^1)&1,Ct=a+204+(dt<<3)|0,dt=a+204+(dt<<3)+4|0,kt|Zt(Dt[Ct>>2])==St&&(s[dt>>2]|0)==(Et|0)||(Dt[Ct>>2]=St,s[dt>>2]=Et,Co(a))}function km(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0,Ct=0,kt=0;kt=ro(St)|0,Et=kt?0:2,Ct=a+204+(dt<<3)|0,dt=a+204+(dt<<3)+4|0,kt|Zt(Dt[Ct>>2])==St&&(s[dt>>2]|0)==(Et|0)||(Dt[Ct>>2]=St,s[dt>>2]=Et,Co(a))}function A2(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=dt+204+(St<<3)|0,dt=s[Et+4>>2]|0,St=a,s[St>>2]=s[Et>>2],s[St+4>>2]=dt}function wp(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0,Ct=0,kt=0;kt=ro(St)|0,Et=(kt^1)&1,Ct=a+276+(dt<<3)|0,dt=a+276+(dt<<3)+4|0,kt|Zt(Dt[Ct>>2])==St&&(s[dt>>2]|0)==(Et|0)||(Dt[Ct>>2]=St,s[dt>>2]=Et,Co(a))}function Mp(a,dt){return a=a|0,dt=dt|0,Zt(Dt[a+276+(dt<<3)>>2])}function V1(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=(kt^1)&1,Et=a+348|0,Ct=a+352|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function G1(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0;Et=a+348|0,St=a+352|0,Zt(Dt[Et>>2])==dt&&(s[St>>2]|0)==2||(Dt[Et>>2]=dt,Et=ro(dt)|0,s[St>>2]=Et?3:2,Co(a))}function su(a){a=a|0;var dt=0;dt=a+352|0,(s[dt>>2]|0)!=3&&(Dt[a+348>>2]=Zt(Mn),s[dt>>2]=3,Co(a))}function au(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;Et=dt+348|0,St=s[Et+4>>2]|0,dt=a,s[dt>>2]=s[Et>>2],s[dt+4>>2]=St}function B0(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=(kt^1)&1,Et=a+356|0,Ct=a+360|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function t0(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0;Et=a+356|0,St=a+360|0,Zt(Dt[Et>>2])==dt&&(s[St>>2]|0)==2||(Dt[Et>>2]=dt,Et=ro(dt)|0,s[St>>2]=Et?3:2,Co(a))}function n0(a){a=a|0;var dt=0;dt=a+360|0,(s[dt>>2]|0)!=3&&(Dt[a+356>>2]=Zt(Mn),s[dt>>2]=3,Co(a))}function U0(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;Et=dt+356|0,St=s[Et+4>>2]|0,dt=a,s[dt>>2]=s[Et>>2],s[dt+4>>2]=St}function Lm(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=(kt^1)&1,Et=a+364|0,Ct=a+368|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function C2(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=kt?0:2,Et=a+364|0,Ct=a+368|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function P2(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;Et=dt+364|0,St=s[Et+4>>2]|0,dt=a,s[dt>>2]=s[Et>>2],s[dt+4>>2]=St}function Jl(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=(kt^1)&1,Et=a+372|0,Ct=a+376|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function eu(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=kt?0:2,Et=a+372|0,Ct=a+376|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function xs(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;Et=dt+372|0,St=s[Et+4>>2]|0,dt=a,s[dt>>2]=s[Et>>2],s[dt+4>>2]=St}function u1(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=(kt^1)&1,Et=a+380|0,Ct=a+384|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function wu(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=kt?0:2,Et=a+380|0,Ct=a+384|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function Rm(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;Et=dt+380|0,St=s[Et+4>>2]|0,dt=a,s[dt>>2]=s[Et>>2],s[dt+4>>2]=St}function bm(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=(kt^1)&1,Et=a+388|0,Ct=a+392|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function k2(a,dt){a=a|0,dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0;kt=ro(dt)|0,St=kt?0:2,Et=a+388|0,Ct=a+392|0,kt|Zt(Dt[Et>>2])==dt&&(s[Ct>>2]|0)==(St|0)||(Dt[Et>>2]=dt,s[Ct>>2]=St,Co(a))}function L2(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;Et=dt+388|0,St=s[Et+4>>2]|0,dt=a,s[dt>>2]=s[Et>>2],s[dt+4>>2]=St}function Im(a,dt){a=a|0,dt=Zt(dt);var St=0;St=a+396|0,Zt(Dt[St>>2])!=dt&&(Dt[St>>2]=dt,Co(a))}function c1(a){return a=a|0,Zt(Dt[a+396>>2])}function z0(a){return a=a|0,Zt(Dt[a+400>>2])}function W1(a){return a=a|0,Zt(Dt[a+404>>2])}function Ep(a){return a=a|0,Zt(Dt[a+408>>2])}function f1(a){return a=a|0,Zt(Dt[a+412>>2])}function R2(a){return a=a|0,Zt(Dt[a+416>>2])}function b2(a){return a=a|0,Zt(Dt[a+420>>2])}function Tp(a,dt){switch(a=a|0,dt=dt|0,Lo(a,(dt|0)<6,2918),dt|0){case 0:{dt=(s[a+496>>2]|0)==2?5:4;break}case 2:{dt=(s[a+496>>2]|0)==2?4:5;break}default:}return Zt(Dt[a+424+(dt<<2)>>2])}function Dm(a,dt){switch(a=a|0,dt=dt|0,Lo(a,(dt|0)<6,2918),dt|0){case 0:{dt=(s[a+496>>2]|0)==2?5:4;break}case 2:{dt=(s[a+496>>2]|0)==2?4:5;break}default:}return Zt(Dt[a+448+(dt<<2)>>2])}function d1(a,dt){switch(a=a|0,dt=dt|0,Lo(a,(dt|0)<6,2918),dt|0){case 0:{dt=(s[a+496>>2]|0)==2?5:4;break}case 2:{dt=(s[a+496>>2]|0)==2?4:5;break}default:}return Zt(Dt[a+472+(dt<<2)>>2])}function lu(a,dt){a=a|0,dt=dt|0;var St=0,Et=Hr;return St=s[a+4>>2]|0,(St|0)==(s[dt+4>>2]|0)?St?(Et=Zt(Dt[a>>2]),a=Zt(Yn(Zt(Et-Zt(Dt[dt>>2]))))<Zt(999999974e-13)):a=1:a=0,a|0}function Ts(a,dt){a=Zt(a),dt=Zt(dt);var St=0;return ro(a)|0?St=ro(dt)|0:St=Zt(Yn(Zt(a-dt)))<Zt(999999974e-13),St|0}function Ap(a,dt){a=a|0,dt=dt|0,Uu(a,dt)}function Uu(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St+4|0,s[Et>>2]=0,s[Et+4>>2]=0,s[Et+8>>2]=0,ar(Et|0,a|0,dt|0,0),cu(a,3,(ft[Et+11>>0]|0)<0?s[Et>>2]|0:Et,St),PD(Et),Ft=St}function uu(a,dt,St,Et){a=Zt(a),dt=Zt(dt),St=St|0,Et=Et|0;var Ct=Hr;a=Zt(a*dt),Ct=Zt(ry(a,Zt(1)));do if(Ts(Ct,Zt(0))|0)a=Zt(a-Ct);else{if(a=Zt(a-Ct),Ts(Ct,Zt(1))|0){a=Zt(a+Zt(1));break}if(St){a=Zt(a+Zt(1));break}Et||(Ct>Zt(.5)?Ct=Zt(1):(Et=Ts(Ct,Zt(.5))|0,Ct=Zt(Et?1:0)),a=Zt(a+Ct))}while(0);return Zt(a/dt)}function $0(a,dt,St,Et,Ct,kt,Ut,en,un,gn,pn,En,Rn){a=a|0,dt=Zt(dt),St=St|0,Et=Zt(Et),Ct=Ct|0,kt=Zt(kt),Ut=Ut|0,en=Zt(en),un=Zt(un),gn=Zt(gn),pn=Zt(pn),En=Zt(En),Rn=Rn|0;var cr=0,Qn=Hr,Kn=Hr,Er=Hr,_r=Hr,Or=Hr,rr=Hr;return un<Zt(0)|gn<Zt(0)?Rn=0:(Rn|0&&(Qn=Zt(Dt[Rn+4>>2]),Qn!=Zt(0))?(Er=Zt(uu(dt,Qn,0,0)),_r=Zt(uu(Et,Qn,0,0)),Kn=Zt(uu(kt,Qn,0,0)),Qn=Zt(uu(en,Qn,0,0))):(Kn=kt,Er=dt,Qn=en,_r=Et),(Ct|0)==(a|0)?cr=Ts(Kn,Er)|0:cr=0,(Ut|0)==(St|0)?Rn=Ts(Qn,_r)|0:Rn=0,!cr&&(Or=Zt(dt-pn),!(I2(a,Or,un)|0))&&!(H1(a,Or,Ct,un)|0)?cr=Ss(a,Or,Ct,kt,un)|0:cr=1,!Rn&&(rr=Zt(Et-En),!(I2(St,rr,gn)|0))&&!(H1(St,rr,Ut,gn)|0)?Rn=Ss(St,rr,Ut,en,gn)|0:Rn=1,Rn=cr&Rn),Rn|0}function I2(a,dt,St){return a=a|0,dt=Zt(dt),St=Zt(St),(a|0)==1?a=Ts(dt,St)|0:a=0,a|0}function H1(a,dt,St,Et){return a=a|0,dt=Zt(dt),St=St|0,Et=Zt(Et),(a|0)==2&(St|0)==0?dt>=Et?a=1:a=Ts(dt,Et)|0:a=0,a|0}function Ss(a,dt,St,Et,Ct){return a=a|0,dt=Zt(dt),St=St|0,Et=Zt(Et),Ct=Zt(Ct),(a|0)==2&(St|0)==2&Et>dt?Ct<=dt?a=1:a=Ts(dt,Ct)|0:a=0,a|0}function zu(a,dt,St,Et,Ct,kt,Ut,en,un,gn,pn){a=a|0,dt=Zt(dt),St=Zt(St),Et=Et|0,Ct=Ct|0,kt=kt|0,Ut=Zt(Ut),en=Zt(en),un=un|0,gn=gn|0,pn=pn|0;var En=0,Rn=0,cr=0,Qn=0,Kn=Hr,Er=Hr,_r=0,Or=0,rr=0,lr=0,no=0,Wo=0,Mo=0,ho=0,bo=0,$o=0,So=0,cs=Hr,$l=Hr,Vl=Hr,Gl=0,vu=0;So=Ft,Ft=Ft+160|0,ho=So+152|0,Mo=So+120|0,Wo=So+104|0,rr=So+72|0,Qn=So+56|0,no=So+8|0,Or=So,lr=(s[2279]|0)+1|0,s[2279]=lr,bo=a+984|0,ft[bo>>0]|0&&(s[a+512>>2]|0)!=(s[2278]|0)?_r=4:(s[a+516>>2]|0)==(Et|0)?$o=0:_r=4,(_r|0)==4&&(s[a+520>>2]=0,s[a+924>>2]=-1,s[a+928>>2]=-1,Dt[a+932>>2]=Zt(-1),Dt[a+936>>2]=Zt(-1),$o=1);e:do if(s[a+964>>2]|0)if(Kn=Zt(as(a,2,Ut)),Er=Zt(as(a,0,Ut)),En=a+916|0,Vl=Zt(Dt[En>>2]),$l=Zt(Dt[a+920>>2]),cs=Zt(Dt[a+932>>2]),$0(Ct,dt,kt,St,s[a+924>>2]|0,Vl,s[a+928>>2]|0,$l,cs,Zt(Dt[a+936>>2]),Kn,Er,pn)|0)_r=22;else if(cr=s[a+520>>2]|0,!cr)_r=21;else for(Rn=0;;){if(En=a+524+(Rn*24|0)|0,cs=Zt(Dt[En>>2]),$l=Zt(Dt[a+524+(Rn*24|0)+4>>2]),Vl=Zt(Dt[a+524+(Rn*24|0)+16>>2]),$0(Ct,dt,kt,St,s[a+524+(Rn*24|0)+8>>2]|0,cs,s[a+524+(Rn*24|0)+12>>2]|0,$l,Vl,Zt(Dt[a+524+(Rn*24|0)+20>>2]),Kn,Er,pn)|0){_r=22;break e}if(Rn=Rn+1|0,Rn>>>0>=cr>>>0){_r=21;break}}else{if(un){if(En=a+916|0,!(Ts(Zt(Dt[En>>2]),dt)|0)){_r=21;break}if(!(Ts(Zt(Dt[a+920>>2]),St)|0)){_r=21;break}if((s[a+924>>2]|0)!=(Ct|0)){_r=21;break}En=(s[a+928>>2]|0)==(kt|0)?En:0,_r=22;break}if(cr=s[a+520>>2]|0,!cr)_r=21;else for(Rn=0;;){if(En=a+524+(Rn*24|0)|0,Ts(Zt(Dt[En>>2]),dt)|0&&Ts(Zt(Dt[a+524+(Rn*24|0)+4>>2]),St)|0&&(s[a+524+(Rn*24|0)+8>>2]|0)==(Ct|0)&&(s[a+524+(Rn*24|0)+12>>2]|0)==(kt|0)){_r=22;break e}if(Rn=Rn+1|0,Rn>>>0>=cr>>>0){_r=21;break}}}while(0);do if((_r|0)==21)ft[11697]|0?(En=0,_r=28):(En=0,_r=31);else if((_r|0)==22){if(Rn=(ft[11697]|0)!=0,!((En|0)!=0&($o^1)))if(Rn){_r=28;break}else{_r=31;break}Qn=En+16|0,s[a+908>>2]=s[Qn>>2],cr=En+20|0,s[a+912>>2]=s[cr>>2],(ft[11698]|0)==0|Rn^1||(s[Or>>2]=Cp(lr)|0,s[Or+4>>2]=lr,cu(a,4,2972,Or),Rn=s[a+972>>2]|0,Rn|0&&np[Rn&127](a),Ct=Hs(Ct,un)|0,kt=Hs(kt,un)|0,vu=+Zt(Dt[Qn>>2]),Gl=+Zt(Dt[cr>>2]),s[no>>2]=Ct,s[no+4>>2]=kt,Nt[no+8>>3]=+dt,Nt[no+16>>3]=+St,Nt[no+24>>3]=vu,Nt[no+32>>3]=Gl,s[no+40>>2]=gn,cu(a,4,2989,no))}while(0);return(_r|0)==28&&(Rn=Cp(lr)|0,s[Qn>>2]=Rn,s[Qn+4>>2]=lr,s[Qn+8>>2]=$o?3047:11699,cu(a,4,3038,Qn),Rn=s[a+972>>2]|0,Rn|0&&np[Rn&127](a),no=Hs(Ct,un)|0,_r=Hs(kt,un)|0,s[rr>>2]=no,s[rr+4>>2]=_r,Nt[rr+8>>3]=+dt,Nt[rr+16>>3]=+St,s[rr+24>>2]=gn,cu(a,4,3049,rr),_r=31),(_r|0)==31&&(Pp(a,dt,St,Et,Ct,kt,Ut,en,un,pn),ft[11697]|0&&(Rn=s[2279]|0,no=Cp(Rn)|0,s[Wo>>2]=no,s[Wo+4>>2]=Rn,s[Wo+8>>2]=$o?3047:11699,cu(a,4,3083,Wo),Rn=s[a+972>>2]|0,Rn|0&&np[Rn&127](a),no=Hs(Ct,un)|0,Wo=Hs(kt,un)|0,Gl=+Zt(Dt[a+908>>2]),vu=+Zt(Dt[a+912>>2]),s[Mo>>2]=no,s[Mo+4>>2]=Wo,Nt[Mo+8>>3]=Gl,Nt[Mo+16>>3]=vu,s[Mo+24>>2]=gn,cu(a,4,3092,Mo)),s[a+516>>2]=Et,En||(Rn=a+520|0,En=s[Rn>>2]|0,(En|0)==16&&(ft[11697]|0&&cu(a,4,3124,ho),s[Rn>>2]=0,En=0),un?En=a+916|0:(s[Rn>>2]=En+1,En=a+524+(En*24|0)|0),Dt[En>>2]=dt,Dt[En+4>>2]=St,s[En+8>>2]=Ct,s[En+12>>2]=kt,s[En+16>>2]=s[a+908>>2],s[En+20>>2]=s[a+912>>2],En=0)),un&&(s[a+416>>2]=s[a+908>>2],s[a+420>>2]=s[a+912>>2],ft[a+985>>0]=1,ft[bo>>0]=0),s[2279]=(s[2279]|0)+-1,s[a+512>>2]=s[2278],Ft=So,$o|(En|0)==0|0}function as(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=Hr;return Et=Zt(Tl(a,dt,St)),Zt(Et+Zt(Vu(a,dt,St)))}function cu(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=Ft,Ft=Ft+16|0,Ct=kt,s[Ct>>2]=Et,a?Et=s[a+976>>2]|0:Et=0,j1(Et,a,dt,St,Ct),Ft=kt}function Cp(a){return a=a|0,(a>>>0>60?3201:3201+(60-a)|0)|0}function Hs(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0;return Ct=Ft,Ft=Ft+32|0,St=Ct+12|0,Et=Ct,s[St>>2]=s[254],s[St+4>>2]=s[255],s[St+8>>2]=s[256],s[Et>>2]=s[257],s[Et+4>>2]=s[258],s[Et+8>>2]=s[259],(a|0)>2?a=11699:a=s[(dt?Et:St)+(a<<2)>>2]|0,Ft=Ct,a|0}function Pp(a,dt,St,Et,Ct,kt,Ut,en,un,gn){a=a|0,dt=Zt(dt),St=Zt(St),Et=Et|0,Ct=Ct|0,kt=kt|0,Ut=Zt(Ut),en=Zt(en),un=un|0,gn=gn|0;var pn=0,En=0,Rn=0,cr=0,Qn=Hr,Kn=Hr,Er=Hr,_r=Hr,Or=Hr,rr=Hr,lr=Hr,no=0,Wo=0,Mo=0,ho=Hr,bo=Hr,$o=0,So=Hr,cs=0,$l=0,Vl=0,Gl=0,vu=0,jp=0,Yp=0,ju=0,Xp=0,k0=0,L0=0,qp=0,Kp=0,Zp=0,ns=0,Yu=0,Qp=0,l0=0,Jp=Hr,e1=Hr,R0=Hr,b0=Hr,u0=Hr,Pl=0,Ru=0,ou=0,Xu=0,ip=0,op=Hr,I0=Hr,sp=Hr,ap=Hr,Ll=Hr,xl=Hr,qu=0,fs=Hr,lp=Hr,Wl=Hr,c0=Hr,Hl=Hr,f0=Hr,up=0,cp=0,d0=Hr,Rl=Hr,Ku=0,fp=0,dp=0,hp=0,Do=Hr,vs=0,Sl=0,Yl=0,Il=0,Bo=0,Eo=0,Zu=0,co=Hr,pp=0,Es=0;Zu=Ft,Ft=Ft+16|0,Pl=Zu+12|0,Ru=Zu+8|0,ou=Zu+4|0,Xu=Zu,Lo(a,(Ct|0)==0|(ro(dt)|0)^1,3326),Lo(a,(kt|0)==0|(ro(St)|0)^1,3406),Sl=N2(a,Et)|0,s[a+496>>2]=Sl,Bo=y0(2,Sl)|0,Eo=y0(0,Sl)|0,Dt[a+440>>2]=Zt(Tl(a,Bo,Ut)),Dt[a+444>>2]=Zt(Vu(a,Bo,Ut)),Dt[a+428>>2]=Zt(Tl(a,Eo,Ut)),Dt[a+436>>2]=Zt(Vu(a,Eo,Ut)),Dt[a+464>>2]=Zt(Gu(a,Bo)),Dt[a+468>>2]=Zt(i0(a,Bo)),Dt[a+452>>2]=Zt(Gu(a,Eo)),Dt[a+460>>2]=Zt(i0(a,Eo)),Dt[a+488>>2]=Zt(G0(a,Bo,Ut)),Dt[a+492>>2]=Zt(Y1(a,Bo,Ut)),Dt[a+476>>2]=Zt(G0(a,Eo,Ut)),Dt[a+484>>2]=Zt(Y1(a,Eo,Ut));do if(s[a+964>>2]|0)X1(a,dt,St,Ct,kt,Ut,en);else{if(Yl=a+948|0,Il=(s[a+952>>2]|0)-(s[Yl>>2]|0)>>2,!Il){q1(a,dt,St,Ct,kt,Ut,en);break}if(!un&&B2(a,dt,St,Ct,kt,Ut,en)|0)break;Fu(a),Yu=a+508|0,ft[Yu>>0]=0,Bo=y0(s[a+4>>2]|0,Sl)|0,Eo=W0(Bo,Sl)|0,vs=js(Bo)|0,Qp=s[a+8>>2]|0,fp=a+28|0,l0=(s[fp>>2]|0)!=0,Hl=vs?Ut:en,d0=vs?en:Ut,Jp=Zt(K1(a,Bo,Ut)),e1=Zt(U2(a,Bo,Ut)),Qn=Zt(K1(a,Eo,Ut)),f0=Zt(fu(a,Bo,Ut)),Rl=Zt(fu(a,Eo,Ut)),Mo=vs?Ct:kt,Ku=vs?kt:Ct,Do=vs?f0:Rl,Or=vs?Rl:f0,c0=Zt(as(a,2,Ut)),_r=Zt(as(a,0,Ut)),Kn=Zt(Zt(es(a+364|0,Ut))-Do),Er=Zt(Zt(es(a+380|0,Ut))-Do),rr=Zt(Zt(es(a+372|0,en))-Or),lr=Zt(Zt(es(a+388|0,en))-Or),R0=vs?Kn:rr,b0=vs?Er:lr,c0=Zt(dt-c0),dt=Zt(c0-Do),ro(dt)|0?Do=dt:Do=Zt(ms(Zt(b1(dt,Er)),Kn)),lp=Zt(St-_r),dt=Zt(lp-Or),ro(dt)|0?Wl=dt:Wl=Zt(ms(Zt(b1(dt,lr)),rr)),Kn=vs?Do:Wl,fs=vs?Wl:Do;e:do if((Mo|0)==1)for(Et=0,En=0;;){if(pn=Fl(a,En)|0,!Et)Zt(x0(pn))>Zt(0)&&Zt(Lp(pn))>Zt(0)?Et=pn:Et=0;else if(z2(pn)|0){cr=0;break e}if(En=En+1|0,En>>>0>=Il>>>0){cr=Et;break}}else cr=0;while(0);no=cr+500|0,Wo=cr+504|0,Et=0,pn=0,dt=Zt(0),Rn=0;do{if(En=s[(s[Yl>>2]|0)+(Rn<<2)>>2]|0,(s[En+36>>2]|0)==1)$2(En),ft[En+985>>0]=1,ft[En+984>>0]=0;else{Ns(En),un&&kp(En,N2(En,Sl)|0,Kn,fs,Do);do if((s[En+24>>2]|0)!=1)if((En|0)==(cr|0)){s[no>>2]=s[2278],Dt[Wo>>2]=Zt(0);break}else{Ov(a,En,Do,Ct,Wl,Do,Wl,kt,Sl,gn);break}else pn|0&&(s[pn+960>>2]=En),s[En+960>>2]=0,pn=En,Et=Et|0?Et:En;while(0);xl=Zt(Dt[En+504>>2]),dt=Zt(dt+Zt(xl+Zt(as(En,Bo,Do))))}Rn=Rn+1|0}while((Rn|0)!=(Il|0));for(Vl=dt>Kn,qu=l0&((Mo|0)==2&Vl)?1:Mo,cs=(Ku|0)==1,vu=cs&(un^1),jp=(qu|0)==1,Yp=(qu|0)==2,ju=976+(Bo<<2)|0,Xp=(Ku|2|0)==2,Zp=cs&(l0^1),k0=1040+(Eo<<2)|0,L0=1040+(Bo<<2)|0,qp=976+(Eo<<2)|0,Kp=(Ku|0)!=1,Vl=l0&((Mo|0)!=0&Vl),$l=a+976|0,cs=cs^1,dt=Kn,$o=0,Gl=0,xl=Zt(0),u0=Zt(0);;){e:do if($o>>>0<Il>>>0)for(Wo=s[Yl>>2]|0,Rn=0,lr=Zt(0),rr=Zt(0),Er=Zt(0),Kn=Zt(0),En=0,pn=0,cr=$o;;){if(no=s[Wo+(cr<<2)>>2]|0,(s[no+36>>2]|0)!=1&&(s[no+940>>2]=Gl,(s[no+24>>2]|0)!=1)){if(_r=Zt(as(no,Bo,Do)),ns=s[ju>>2]|0,St=Zt(es(no+380+(ns<<3)|0,Hl)),Or=Zt(Dt[no+504>>2]),St=Zt(b1(St,Or)),St=Zt(ms(Zt(es(no+364+(ns<<3)|0,Hl)),St)),l0&(Rn|0)!=0&Zt(_r+Zt(rr+St))>dt){kt=Rn,_r=lr,Mo=cr;break e}_r=Zt(_r+St),St=Zt(rr+_r),_r=Zt(lr+_r),z2(no)|0&&(Er=Zt(Er+Zt(x0(no))),Kn=Zt(Kn-Zt(Or*Zt(Lp(no))))),pn|0&&(s[pn+960>>2]=no),s[no+960>>2]=0,Rn=Rn+1|0,pn=no,En=En|0?En:no}else _r=lr,St=rr;if(cr=cr+1|0,cr>>>0<Il>>>0)lr=_r,rr=St;else{kt=Rn,Mo=cr;break}}else kt=0,_r=Zt(0),Er=Zt(0),Kn=Zt(0),En=0,Mo=$o;while(0);ns=Er>Zt(0)&Er<Zt(1),ho=ns?Zt(1):Er,ns=Kn>Zt(0)&Kn<Zt(1),lr=ns?Zt(1):Kn;do if(jp)ns=51;else if(_r<R0&((ro(R0)|0)^1))dt=R0,ns=51;else if(_r>b0&((ro(b0)|0)^1))dt=b0,ns=51;else if(ft[(s[$l>>2]|0)+3>>0]|0)ns=51;else{if(ho!=Zt(0)&&Zt(x0(a))!=Zt(0)){ns=53;break}dt=_r,ns=53}while(0);if((ns|0)==51&&(ns=0,ro(dt)|0?ns=53:(bo=Zt(dt-_r),So=dt)),(ns|0)==53&&(ns=0,_r<Zt(0)?(bo=Zt(-_r),So=dt):(bo=Zt(0),So=dt)),!vu&&(ip=(En|0)==0,!ip)){Rn=s[ju>>2]|0,cr=bo<Zt(0),Or=Zt(bo/lr),no=bo>Zt(0),rr=Zt(bo/ho),Er=Zt(0),_r=Zt(0),dt=Zt(0),pn=En;do St=Zt(es(pn+380+(Rn<<3)|0,Hl)),Kn=Zt(es(pn+364+(Rn<<3)|0,Hl)),Kn=Zt(b1(St,Zt(ms(Kn,Zt(Dt[pn+504>>2]))))),cr?(St=Zt(Kn*Zt(Lp(pn))),St!=Zt(-0)&&(co=Zt(Kn-Zt(Or*St)),op=Zt(Ps(pn,Bo,co,So,Do)),co!=op)&&(Er=Zt(Er-Zt(op-Kn)),dt=Zt(dt+St))):no&&(I0=Zt(x0(pn)),I0!=Zt(0))&&(co=Zt(Kn+Zt(rr*I0)),sp=Zt(Ps(pn,Bo,co,So,Do)),co!=sp)&&(Er=Zt(Er-Zt(sp-Kn)),_r=Zt(_r-I0)),pn=s[pn+960>>2]|0;while(pn|0);if(dt=Zt(lr+dt),Kn=Zt(bo+Er),ip)dt=Zt(0);else{Or=Zt(ho+_r),cr=s[ju>>2]|0,no=Kn<Zt(0),Wo=dt==Zt(0),rr=Zt(Kn/dt),Rn=Kn>Zt(0),Or=Zt(Kn/Or),dt=Zt(0);do{co=Zt(es(En+380+(cr<<3)|0,Hl)),Er=Zt(es(En+364+(cr<<3)|0,Hl)),Er=Zt(b1(co,Zt(ms(Er,Zt(Dt[En+504>>2]))))),no?(co=Zt(Er*Zt(Lp(En))),Kn=Zt(-co),co!=Zt(-0)?(co=Zt(rr*Kn),Kn=Zt(Ps(En,Bo,Zt(Er+(Wo?Kn:co)),So,Do))):Kn=Er):Rn&&(ap=Zt(x0(En)),ap!=Zt(0))?Kn=Zt(Ps(En,Bo,Zt(Er+Zt(Or*ap)),So,Do)):Kn=Er,dt=Zt(dt-Zt(Kn-Er)),_r=Zt(as(En,Bo,Do)),St=Zt(as(En,Eo,Do)),Kn=Zt(Kn+_r),Dt[Ru>>2]=Kn,s[Xu>>2]=1,Er=Zt(Dt[En+396>>2]);e:do if(ro(Er)|0){pn=ro(fs)|0;do if(!pn){if(Vl|(Bl(En,Eo,fs)|0|cs)||(o0(a,En)|0)!=4||(s[(H0(En,Eo)|0)+4>>2]|0)==3||(s[(S0(En,Eo)|0)+4>>2]|0)==3)break;Dt[Pl>>2]=fs,s[ou>>2]=1;break e}while(0);if(Bl(En,Eo,fs)|0){pn=s[En+992+(s[qp>>2]<<2)>>2]|0,co=Zt(St+Zt(es(pn,fs))),Dt[Pl>>2]=co,pn=Kp&(s[pn+4>>2]|0)==2,s[ou>>2]=((ro(co)|0|pn)^1)&1;break}else{Dt[Pl>>2]=fs,s[ou>>2]=pn?0:2;break}}else co=Zt(Kn-_r),ho=Zt(co/Er),co=Zt(Er*co),s[ou>>2]=1,Dt[Pl>>2]=Zt(St+(vs?ho:co));while(0);j0(En,Bo,So,Do,Xu,Ru),j0(En,Eo,fs,Do,ou,Pl);do if(!(Bl(En,Eo,fs)|0)&&(o0(a,En)|0)==4){if((s[(H0(En,Eo)|0)+4>>2]|0)==3){pn=0;break}pn=(s[(S0(En,Eo)|0)+4>>2]|0)!=3}else pn=0;while(0);co=Zt(Dt[Ru>>2]),ho=Zt(Dt[Pl>>2]),pp=s[Xu>>2]|0,Es=s[ou>>2]|0,zu(En,vs?co:ho,vs?ho:co,Sl,vs?pp:Es,vs?Es:pp,Do,Wl,un&(pn^1),3488,gn)|0,ft[Yu>>0]=ft[Yu>>0]|ft[En+508>>0],En=s[En+960>>2]|0}while(En|0)}}else dt=Zt(0);if(dt=Zt(bo+dt),Es=dt<Zt(0)&1,ft[Yu>>0]=Es|Tt[Yu>>0],Yp&dt>Zt(0)?(pn=s[ju>>2]|0,s[a+364+(pn<<3)+4>>2]|0&&(Ll=Zt(es(a+364+(pn<<3)|0,Hl)),Ll>=Zt(0))?Kn=Zt(ms(Zt(0),Zt(Ll-Zt(So-dt)))):Kn=Zt(0)):Kn=dt,no=$o>>>0<Mo>>>0,no){cr=s[Yl>>2]|0,Rn=$o,pn=0;do En=s[cr+(Rn<<2)>>2]|0,s[En+24>>2]|0||(pn=((s[(H0(En,Bo)|0)+4>>2]|0)==3&1)+pn|0,pn=pn+((s[(S0(En,Bo)|0)+4>>2]|0)==3&1)|0),Rn=Rn+1|0;while((Rn|0)!=(Mo|0));pn?(_r=Zt(0),St=Zt(0)):ns=101}else ns=101;e:do if((ns|0)==101)switch(ns=0,Qp|0){case 1:{pn=0,_r=Zt(Kn*Zt(.5)),St=Zt(0);break e}case 2:{pn=0,_r=Kn,St=Zt(0);break e}case 3:{if(kt>>>0<=1){pn=0,_r=Zt(0),St=Zt(0);break e}St=Zt((kt+-1|0)>>>0),pn=0,_r=Zt(0),St=Zt(Zt(ms(Kn,Zt(0)))/St);break e}case 5:{St=Zt(Kn/Zt((kt+1|0)>>>0)),pn=0,_r=St;break e}case 4:{St=Zt(Kn/Zt(kt>>>0)),pn=0,_r=Zt(St*Zt(.5));break e}default:{pn=0,_r=Zt(0),St=Zt(0);break e}}while(0);if(dt=Zt(Jp+_r),no){Er=Zt(Kn/Zt(pn|0)),Rn=s[Yl>>2]|0,En=$o,Kn=Zt(0);do{pn=s[Rn+(En<<2)>>2]|0;e:do if((s[pn+36>>2]|0)!=1){switch(s[pn+24>>2]|0){case 1:{if(Mu(pn,Bo)|0){if(!un)break e;co=Zt(Y0(pn,Bo,So)),co=Zt(co+Zt(Gu(a,Bo))),co=Zt(co+Zt(Tl(pn,Bo,Do))),Dt[pn+400+(s[L0>>2]<<2)>>2]=co;break e}break}case 0:if(Es=(s[(H0(pn,Bo)|0)+4>>2]|0)==3,co=Zt(Er+dt),dt=Es?co:dt,un&&(Es=pn+400+(s[L0>>2]<<2)|0,Dt[Es>>2]=Zt(dt+Zt(Dt[Es>>2]))),Es=(s[(S0(pn,Bo)|0)+4>>2]|0)==3,co=Zt(Er+dt),dt=Es?co:dt,vu){co=Zt(St+Zt(as(pn,Bo,Do))),Kn=fs,dt=Zt(dt+Zt(co+Zt(Dt[pn+504>>2])));break e}else{dt=Zt(dt+Zt(St+Zt(Rp(pn,Bo,Do)))),Kn=Zt(ms(Kn,Zt(Rp(pn,Eo,Do))));break e}default:}un&&(co=Zt(_r+Zt(Gu(a,Bo))),Es=pn+400+(s[L0>>2]<<2)|0,Dt[Es>>2]=Zt(co+Zt(Dt[Es>>2])))}while(0);En=En+1|0}while((En|0)!=(Mo|0))}else Kn=Zt(0);if(St=Zt(e1+dt),Xp?_r=Zt(Zt(Ps(a,Eo,Zt(Rl+Kn),d0,Ut))-Rl):_r=fs,Er=Zt(Zt(Ps(a,Eo,Zt(Rl+(Zp?fs:Kn)),d0,Ut))-Rl),no&un){En=$o;do{Rn=s[(s[Yl>>2]|0)+(En<<2)>>2]|0;do if((s[Rn+36>>2]|0)!=1){if((s[Rn+24>>2]|0)==1){if(Mu(Rn,Eo)|0){if(co=Zt(Y0(Rn,Eo,fs)),co=Zt(co+Zt(Gu(a,Eo))),co=Zt(co+Zt(Tl(Rn,Eo,Do))),pn=s[k0>>2]|0,Dt[Rn+400+(pn<<2)>>2]=co,!(ro(co)|0))break}else pn=s[k0>>2]|0;co=Zt(Gu(a,Eo)),Dt[Rn+400+(pn<<2)>>2]=Zt(co+Zt(Tl(Rn,Eo,Do)));break}pn=o0(a,Rn)|0;do if((pn|0)==4){if((s[(H0(Rn,Eo)|0)+4>>2]|0)==3){ns=139;break}if((s[(S0(Rn,Eo)|0)+4>>2]|0)==3){ns=139;break}if(Bl(Rn,Eo,fs)|0){dt=Qn;break}pp=s[Rn+908+(s[ju>>2]<<2)>>2]|0,s[Pl>>2]=pp,dt=Zt(Dt[Rn+396>>2]),Es=ro(dt)|0,Kn=(s[Ht>>2]=pp,Zt(Dt[Ht>>2])),Es?dt=Er:(bo=Zt(as(Rn,Eo,Do)),co=Zt(Kn/dt),dt=Zt(dt*Kn),dt=Zt(bo+(vs?co:dt))),Dt[Ru>>2]=dt,Dt[Pl>>2]=Zt(Zt(as(Rn,Bo,Do))+Kn),s[ou>>2]=1,s[Xu>>2]=1,j0(Rn,Bo,So,Do,ou,Pl),j0(Rn,Eo,fs,Do,Xu,Ru),dt=Zt(Dt[Pl>>2]),bo=Zt(Dt[Ru>>2]),co=vs?dt:bo,dt=vs?bo:dt,Es=((ro(co)|0)^1)&1,zu(Rn,co,dt,Sl,Es,((ro(dt)|0)^1)&1,Do,Wl,1,3493,gn)|0,dt=Qn}else ns=139;while(0);e:do if((ns|0)==139){ns=0,dt=Zt(_r-Zt(Rp(Rn,Eo,Do)));do if((s[(H0(Rn,Eo)|0)+4>>2]|0)==3){if((s[(S0(Rn,Eo)|0)+4>>2]|0)!=3)break;dt=Zt(Qn+Zt(ms(Zt(0),Zt(dt*Zt(.5)))));break e}while(0);if((s[(S0(Rn,Eo)|0)+4>>2]|0)==3){dt=Qn;break}if((s[(H0(Rn,Eo)|0)+4>>2]|0)==3){dt=Zt(Qn+Zt(ms(Zt(0),dt)));break}switch(pn|0){case 1:{dt=Qn;break e}case 2:{dt=Zt(Qn+Zt(dt*Zt(.5)));break e}default:{dt=Zt(Qn+dt);break e}}}while(0);co=Zt(xl+dt),Es=Rn+400+(s[k0>>2]<<2)|0,Dt[Es>>2]=Zt(co+Zt(Dt[Es>>2]))}while(0);En=En+1|0}while((En|0)!=(Mo|0))}if(xl=Zt(xl+Er),u0=Zt(ms(u0,St)),kt=Gl+1|0,Mo>>>0>=Il>>>0)break;dt=So,$o=Mo,Gl=kt}do if(un){if(pn=kt>>>0>1,!pn&&!(Fv(a)|0))break;if(!(ro(fs)|0)){dt=Zt(fs-xl);e:do switch(s[a+12>>2]|0){case 3:{Qn=Zt(Qn+dt),rr=Zt(0);break}case 2:{Qn=Zt(Qn+Zt(dt*Zt(.5))),rr=Zt(0);break}case 4:{fs>xl?rr=Zt(dt/Zt(kt>>>0)):rr=Zt(0);break}case 7:if(fs>xl){Qn=Zt(Qn+Zt(dt/Zt(kt<<1>>>0))),rr=Zt(dt/Zt(kt>>>0)),rr=pn?rr:Zt(0);break e}else{Qn=Zt(Qn+Zt(dt*Zt(.5))),rr=Zt(0);break e}case 6:{rr=Zt(dt/Zt(Gl>>>0)),rr=fs>xl&pn?rr:Zt(0);break}default:rr=Zt(0)}while(0);if(kt|0)for(no=1040+(Eo<<2)|0,Wo=976+(Eo<<2)|0,cr=0,En=0;;){e:do if(En>>>0<Il>>>0)for(Kn=Zt(0),Er=Zt(0),dt=Zt(0),Rn=En;;){pn=s[(s[Yl>>2]|0)+(Rn<<2)>>2]|0;do if((s[pn+36>>2]|0)!=1&&!(s[pn+24>>2]|0)){if((s[pn+940>>2]|0)!=(cr|0))break e;if(Nv(pn,Eo)|0&&(co=Zt(Dt[pn+908+(s[Wo>>2]<<2)>>2]),dt=Zt(ms(dt,Zt(co+Zt(as(pn,Eo,Do)))))),(o0(a,pn)|0)!=5)break;Ll=Zt(V2(pn)),Ll=Zt(Ll+Zt(Tl(pn,0,Do))),co=Zt(Dt[pn+912>>2]),co=Zt(Zt(co+Zt(as(pn,0,Do)))-Ll),Ll=Zt(ms(Er,Ll)),co=Zt(ms(Kn,co)),Kn=co,Er=Ll,dt=Zt(ms(dt,Zt(Ll+co)))}while(0);if(pn=Rn+1|0,pn>>>0<Il>>>0)Rn=pn;else{Rn=pn;break}}else Er=Zt(0),dt=Zt(0),Rn=En;while(0);if(Or=Zt(rr+dt),St=Qn,Qn=Zt(Qn+Or),En>>>0<Rn>>>0){_r=Zt(St+Er),pn=En;do{En=s[(s[Yl>>2]|0)+(pn<<2)>>2]|0;e:do if((s[En+36>>2]|0)!=1&&!(s[En+24>>2]|0))switch(o0(a,En)|0){case 1:{co=Zt(St+Zt(Tl(En,Eo,Do))),Dt[En+400+(s[no>>2]<<2)>>2]=co;break e}case 3:{co=Zt(Zt(Qn-Zt(Vu(En,Eo,Do)))-Zt(Dt[En+908+(s[Wo>>2]<<2)>>2])),Dt[En+400+(s[no>>2]<<2)>>2]=co;break e}case 2:{co=Zt(St+Zt(Zt(Or-Zt(Dt[En+908+(s[Wo>>2]<<2)>>2]))*Zt(.5))),Dt[En+400+(s[no>>2]<<2)>>2]=co;break e}case 4:{if(co=Zt(St+Zt(Tl(En,Eo,Do))),Dt[En+400+(s[no>>2]<<2)>>2]=co,Bl(En,Eo,fs)|0||(vs?(Kn=Zt(Dt[En+908>>2]),dt=Zt(Kn+Zt(as(En,Bo,Do))),Er=Or):(Er=Zt(Dt[En+912>>2]),Er=Zt(Er+Zt(as(En,Eo,Do))),dt=Or,Kn=Zt(Dt[En+908>>2])),Ts(dt,Kn)|0&&Ts(Er,Zt(Dt[En+912>>2]))|0))break e;zu(En,dt,Er,Sl,1,1,Do,Wl,1,3501,gn)|0;break e}case 5:{Dt[En+404>>2]=Zt(Zt(_r-Zt(V2(En)))+Zt(Y0(En,0,fs)));break e}default:break e}while(0);pn=pn+1|0}while((pn|0)!=(Rn|0))}if(cr=cr+1|0,(cr|0)==(kt|0))break;En=Rn}}}while(0);if(Dt[a+908>>2]=Zt(Ps(a,2,c0,Ut,Ut)),Dt[a+912>>2]=Zt(Ps(a,0,lp,en,Ut)),qu|0&&(up=s[a+32>>2]|0,cp=(qu|0)==2,!(cp&(up|0)!=2))?cp&(up|0)==2&&(dt=Zt(f0+So),dt=Zt(ms(Zt(b1(dt,Zt(p1(a,Bo,u0,Hl)))),f0)),ns=198):(dt=Zt(Ps(a,Bo,u0,Hl,Ut)),ns=198),(ns|0)==198&&(Dt[a+908+(s[976+(Bo<<2)>>2]<<2)>>2]=dt),Ku|0&&(dp=s[a+32>>2]|0,hp=(Ku|0)==2,!(hp&(dp|0)!=2))?hp&(dp|0)==2&&(dt=Zt(Rl+fs),dt=Zt(ms(Zt(b1(dt,Zt(p1(a,Eo,Zt(Rl+xl),d0)))),Rl)),ns=204):(dt=Zt(Ps(a,Eo,Zt(Rl+xl),d0,Ut)),ns=204),(ns|0)==204&&(Dt[a+908+(s[976+(Eo<<2)>>2]<<2)>>2]=dt),un){if((s[fp>>2]|0)==2){En=976+(Eo<<2)|0,Rn=1040+(Eo<<2)|0,pn=0;do cr=Fl(a,pn)|0,s[cr+24>>2]|0||(pp=s[En>>2]|0,co=Zt(Dt[a+908+(pp<<2)>>2]),Es=cr+400+(s[Rn>>2]<<2)|0,co=Zt(co-Zt(Dt[Es>>2])),Dt[Es>>2]=Zt(co-Zt(Dt[cr+908+(pp<<2)>>2]))),pn=pn+1|0;while((pn|0)!=(Il|0))}if(Et|0){pn=vs?qu:Ct;do G2(a,Et,Do,pn,Wl,Sl,gn),Et=s[Et+960>>2]|0;while(Et|0)}if(pn=(Bo|2|0)==3,En=(Eo|2|0)==3,pn|En){Et=0;do Rn=s[(s[Yl>>2]|0)+(Et<<2)>>2]|0,(s[Rn+36>>2]|0)!=1&&(pn&&Fm(a,Rn,Bo),En&&Fm(a,Rn,Eo)),Et=Et+1|0;while((Et|0)!=(Il|0))}}}while(0);Ft=Zu}function As(a,dt){a=a|0,dt=Zt(dt);var St=0;_u(a,dt>=Zt(0),3147),St=dt==Zt(0),Dt[a+4>>2]=St?Zt(0):dt}function na(a,dt,St,Et){a=a|0,dt=Zt(dt),St=Zt(St),Et=Et|0;var Ct=Hr,kt=Hr,Ut=0,en=0,un=0;s[2278]=(s[2278]|0)+1,Ns(a),Bl(a,2,dt)|0?(Ct=Zt(es(s[a+992>>2]|0,dt)),un=1,Ct=Zt(Ct+Zt(as(a,2,dt)))):(Ct=Zt(es(a+380|0,dt)),Ct>=Zt(0)?un=2:(un=((ro(dt)|0)^1)&1,Ct=dt)),Bl(a,0,St)|0?(kt=Zt(es(s[a+996>>2]|0,St)),en=1,kt=Zt(kt+Zt(as(a,0,dt)))):(kt=Zt(es(a+388|0,St)),kt>=Zt(0)?en=2:(en=((ro(St)|0)^1)&1,kt=St)),Ut=a+976|0,zu(a,Ct,kt,Et,un,en,dt,St,1,3189,s[Ut>>2]|0)|0&&(kp(a,s[a+496>>2]|0,dt,St,dt),Om(a,Zt(Dt[(s[Ut>>2]|0)+4>>2]),Zt(0),Zt(0)),ft[11696]|0)&&Ap(a,7)}function Ns(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;en=Ft,Ft=Ft+32|0,Ut=en+24|0,kt=en+16|0,Et=en+8|0,Ct=en,St=0;do dt=a+380+(St<<3)|0,s[a+380+(St<<3)+4>>2]|0&&(un=dt,gn=s[un+4>>2]|0,pn=Et,s[pn>>2]=s[un>>2],s[pn+4>>2]=gn,pn=a+364+(St<<3)|0,gn=s[pn+4>>2]|0,un=Ct,s[un>>2]=s[pn>>2],s[un+4>>2]=gn,s[kt>>2]=s[Et>>2],s[kt+4>>2]=s[Et+4>>2],s[Ut>>2]=s[Ct>>2],s[Ut+4>>2]=s[Ct+4>>2],lu(kt,Ut)|0)||(dt=a+348+(St<<3)|0),s[a+992+(St<<2)>>2]=dt,St=St+1|0;while((St|0)!=2);Ft=en}function Bl(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0;switch(a=s[a+992+(s[976+(dt<<2)>>2]<<2)>>2]|0,s[a+4>>2]|0){case 0:case 3:{a=0;break}case 1:{Zt(Dt[a>>2])<Zt(0)?a=0:Et=5;break}case 2:{Zt(Dt[a>>2])<Zt(0)?a=0:a=(ro(St)|0)^1;break}default:Et=5}return(Et|0)==5&&(a=1),a|0}function es(a,dt){switch(a=a|0,dt=Zt(dt),s[a+4>>2]|0){case 2:{dt=Zt(Zt(Zt(Dt[a>>2])*dt)/Zt(100));break}case 1:{dt=Zt(Dt[a>>2]);break}default:dt=Zt(Mn)}return Zt(dt)}function kp(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=Zt(St),Et=Zt(Et),Ct=Zt(Ct);var kt=0,Ut=Hr;dt=s[a+944>>2]|0?dt:1,kt=y0(s[a+4>>2]|0,dt)|0,dt=W0(kt,dt)|0,St=Zt(Eu(a,kt,St)),Et=Zt(Eu(a,dt,Et)),Ut=Zt(St+Zt(Tl(a,kt,Ct))),Dt[a+400+(s[1040+(kt<<2)>>2]<<2)>>2]=Ut,St=Zt(St+Zt(Vu(a,kt,Ct))),Dt[a+400+(s[1e3+(kt<<2)>>2]<<2)>>2]=St,St=Zt(Et+Zt(Tl(a,dt,Ct))),Dt[a+400+(s[1040+(dt<<2)>>2]<<2)>>2]=St,Ct=Zt(Et+Zt(Vu(a,dt,Ct))),Dt[a+400+(s[1e3+(dt<<2)>>2]<<2)>>2]=Ct}function Om(a,dt,St,Et){a=a|0,dt=Zt(dt),St=Zt(St),Et=Zt(Et);var Ct=0,kt=0,Ut=Hr,en=Hr,un=0,gn=0,pn=Hr,En=0,Rn=Hr,cr=Hr,Qn=Hr,Kn=Hr;if(dt!=Zt(0)&&(Ct=a+400|0,Kn=Zt(Dt[Ct>>2]),kt=a+404|0,Qn=Zt(Dt[kt>>2]),En=a+416|0,cr=Zt(Dt[En>>2]),gn=a+420|0,Ut=Zt(Dt[gn>>2]),Rn=Zt(Kn+St),pn=Zt(Qn+Et),Et=Zt(Rn+cr),en=Zt(pn+Ut),un=(s[a+988>>2]|0)==1,Dt[Ct>>2]=Zt(uu(Kn,dt,0,un)),Dt[kt>>2]=Zt(uu(Qn,dt,0,un)),St=Zt(ry(Zt(cr*dt),Zt(1))),Ts(St,Zt(0))|0?kt=0:kt=(Ts(St,Zt(1))|0)^1,St=Zt(ry(Zt(Ut*dt),Zt(1))),Ts(St,Zt(0))|0?Ct=0:Ct=(Ts(St,Zt(1))|0)^1,Kn=Zt(uu(Et,dt,un&kt,un&(kt^1))),Dt[En>>2]=Zt(Kn-Zt(uu(Rn,dt,0,un))),Kn=Zt(uu(en,dt,un&Ct,un&(Ct^1))),Dt[gn>>2]=Zt(Kn-Zt(uu(pn,dt,0,un))),kt=(s[a+952>>2]|0)-(s[a+948>>2]|0)>>2,kt|0)){Ct=0;do Om(Fl(a,Ct)|0,dt,Rn,pn),Ct=Ct+1|0;while((Ct|0)!=(kt|0))}}function ga(a,dt,St,Et,Ct){switch(a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,St|0){case 5:case 0:{a=gS(s[489]|0,Et,Ct)|0;break}default:a=ED(Et,Ct)|0}return a|0}function D2(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;Ct=Ft,Ft=Ft+16|0,kt=Ct,s[kt>>2]=Et,j1(a,0,dt,St,kt),Ft=Ct}function j1(a,dt,St,Et,Ct){if(a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,a=a|0?a:956,BS[s[a+8>>2]&1](a,dt,St,Et,Ct)|0,(St|0)==5)go();else return}function O2(a,dt,St){a=a|0,dt=dt|0,St=St|0,ft[a+dt>>0]=St&1}function r0(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;s[a>>2]=0,s[a+4>>2]=0,s[a+8>>2]=0,St=dt+4|0,Et=(s[St>>2]|0)-(s[dt>>2]|0)>>2,Et|0&&($u(a,Et),V0(a,s[dt>>2]|0,s[St>>2]|0,Et))}function $u(a,dt){a=a|0,dt=dt|0;var St=0;if((h1(a)|0)>>>0<dt>>>0&&ts(a),dt>>>0>1073741823)go();else{St=uo(dt<<2)|0,s[a+4>>2]=St,s[a>>2]=St,s[a+8>>2]=St+(dt<<2);return}}function V0(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Et=a+4|0,a=St-dt|0,(a|0)>0&&(Ro(s[Et>>2]|0,dt|0,a|0)|0,s[Et>>2]=(s[Et>>2]|0)+(a>>>2<<2))}function h1(a){return a=a|0,1073741823}function Tl(a,dt,St){return a=a|0,dt=dt|0,St=Zt(St),js(dt)|0&&s[a+96>>2]|0?a=a+92|0:a=Rs(a+60|0,s[1040+(dt<<2)>>2]|0,992)|0,Zt(F2(a,St))}function Vu(a,dt,St){return a=a|0,dt=dt|0,St=Zt(St),js(dt)|0&&s[a+104>>2]|0?a=a+100|0:a=Rs(a+60|0,s[1e3+(dt<<2)>>2]|0,992)|0,Zt(F2(a,St))}function js(a){return a=a|0,(a|1|0)==3|0}function F2(a,dt){return a=a|0,dt=Zt(dt),(s[a+4>>2]|0)==3?dt=Zt(0):dt=Zt(es(a,dt)),Zt(dt)}function N2(a,dt){return a=a|0,dt=dt|0,a=s[a>>2]|0,(a|0?a:(dt|0)>1?dt:1)|0}function y0(a,dt){a=a|0,dt=dt|0;var St=0;e:do if((dt|0)==2){switch(a|0){case 2:{a=3;break e}case 3:break;default:{St=4;break e}}a=2}else St=4;while(0);return a|0}function Gu(a,dt){a=a|0,dt=dt|0;var St=Hr;return js(dt)|0&&s[a+312>>2]|0&&(St=Zt(Dt[a+308>>2]),St>=Zt(0))||(St=Zt(ms(Zt(Dt[(Rs(a+276|0,s[1040+(dt<<2)>>2]|0,992)|0)>>2]),Zt(0)))),Zt(St)}function i0(a,dt){a=a|0,dt=dt|0;var St=Hr;return js(dt)|0&&s[a+320>>2]|0&&(St=Zt(Dt[a+316>>2]),St>=Zt(0))||(St=Zt(ms(Zt(Dt[(Rs(a+276|0,s[1e3+(dt<<2)>>2]|0,992)|0)>>2]),Zt(0)))),Zt(St)}function G0(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=Hr;return js(dt)|0&&s[a+240>>2]|0&&(Et=Zt(es(a+236|0,St)),Et>=Zt(0))||(Et=Zt(ms(Zt(es(Rs(a+204|0,s[1040+(dt<<2)>>2]|0,992)|0,St)),Zt(0)))),Zt(Et)}function Y1(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=Hr;return js(dt)|0&&s[a+248>>2]|0&&(Et=Zt(es(a+244|0,St)),Et>=Zt(0))||(Et=Zt(ms(Zt(es(Rs(a+204|0,s[1e3+(dt<<2)>>2]|0,992)|0,St)),Zt(0)))),Zt(Et)}function X1(a,dt,St,Et,Ct,kt,Ut){a=a|0,dt=Zt(dt),St=Zt(St),Et=Et|0,Ct=Ct|0,kt=Zt(kt),Ut=Zt(Ut);var en=Hr,un=Hr,gn=Hr,pn=Hr,En=Hr,Rn=Hr,cr=0,Qn=0,Kn=0;Kn=Ft,Ft=Ft+16|0,cr=Kn,Qn=a+964|0,Lo(a,(s[Qn>>2]|0)!=0,3519),en=Zt(fu(a,2,dt)),un=Zt(fu(a,0,dt)),gn=Zt(as(a,2,dt)),pn=Zt(as(a,0,dt)),ro(dt)|0?En=dt:En=Zt(ms(Zt(0),Zt(Zt(dt-gn)-en))),ro(St)|0?Rn=St:Rn=Zt(ms(Zt(0),Zt(Zt(St-pn)-un))),(Et|0)==1&(Ct|0)==1?(Dt[a+908>>2]=Zt(Ps(a,2,Zt(dt-gn),kt,kt)),dt=Zt(Ps(a,0,Zt(St-pn),Ut,kt))):(US[s[Qn>>2]&1](cr,a,En,Et,Rn,Ct),En=Zt(en+Zt(Dt[cr>>2])),Rn=Zt(dt-gn),Dt[a+908>>2]=Zt(Ps(a,2,(Et|2|0)==2?En:Rn,kt,kt)),Rn=Zt(un+Zt(Dt[cr+4>>2])),dt=Zt(St-pn),dt=Zt(Ps(a,0,(Ct|2|0)==2?Rn:dt,Ut,kt))),Dt[a+912>>2]=dt,Ft=Kn}function q1(a,dt,St,Et,Ct,kt,Ut){a=a|0,dt=Zt(dt),St=Zt(St),Et=Et|0,Ct=Ct|0,kt=Zt(kt),Ut=Zt(Ut);var en=Hr,un=Hr,gn=Hr,pn=Hr;gn=Zt(fu(a,2,kt)),en=Zt(fu(a,0,kt)),pn=Zt(as(a,2,kt)),un=Zt(as(a,0,kt)),dt=Zt(dt-pn),Dt[a+908>>2]=Zt(Ps(a,2,(Et|2|0)==2?gn:dt,kt,kt)),St=Zt(St-un),Dt[a+912>>2]=Zt(Ps(a,0,(Ct|2|0)==2?en:St,Ut,kt))}function B2(a,dt,St,Et,Ct,kt,Ut){a=a|0,dt=Zt(dt),St=Zt(St),Et=Et|0,Ct=Ct|0,kt=Zt(kt),Ut=Zt(Ut);var en=0,un=Hr,gn=Hr;return en=(Et|0)==2,!(dt<=Zt(0)&en)&&!(St<=Zt(0)&(Ct|0)==2)&&!((Et|0)==1&(Ct|0)==1)?a=0:(un=Zt(as(a,0,kt)),gn=Zt(as(a,2,kt)),en=dt<Zt(0)&en|(ro(dt)|0),dt=Zt(dt-gn),Dt[a+908>>2]=Zt(Ps(a,2,en?Zt(0):dt,kt,kt)),dt=Zt(St-un),en=St<Zt(0)&(Ct|0)==2|(ro(St)|0),Dt[a+912>>2]=Zt(Ps(a,0,en?Zt(0):dt,Ut,kt)),a=1),a|0}function W0(a,dt){return a=a|0,dt=dt|0,m1(a)|0?a=y0(2,dt)|0:a=0,a|0}function K1(a,dt,St){return a=a|0,dt=dt|0,St=Zt(St),St=Zt(G0(a,dt,St)),Zt(St+Zt(Gu(a,dt)))}function U2(a,dt,St){return a=a|0,dt=dt|0,St=Zt(St),St=Zt(Y1(a,dt,St)),Zt(St+Zt(i0(a,dt)))}function fu(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=Hr;return Et=Zt(K1(a,dt,St)),Zt(Et+Zt(U2(a,dt,St)))}function z2(a){return a=a|0,s[a+24>>2]|0?a=0:Zt(x0(a))!=Zt(0)?a=1:a=Zt(Lp(a))!=Zt(0),a|0}function x0(a){a=a|0;var dt=Hr;if(s[a+944>>2]|0){if(dt=Zt(Dt[a+44>>2]),ro(dt)|0)return dt=Zt(Dt[a+40>>2]),a=dt>Zt(0)&((ro(dt)|0)^1),Zt(a?dt:Zt(0))}else dt=Zt(0);return Zt(dt)}function Lp(a){a=a|0;var dt=Hr,St=0,Et=Hr;do if(s[a+944>>2]|0){if(dt=Zt(Dt[a+48>>2]),ro(dt)|0){if(St=ft[(s[a+976>>2]|0)+2>>0]|0,!(St<<24>>24)&&(Et=Zt(Dt[a+40>>2]),Et<Zt(0)&((ro(Et)|0)^1))){dt=Zt(-Et);break}dt=St<<24>>24?Zt(1):Zt(0)}}else dt=Zt(0);while(0);return Zt(dt)}function $2(a){a=a|0;var dt=0,St=0;if(S2(a+400|0,0,540)|0,ft[a+985>>0]=1,Fu(a),St=Ws(a)|0,St|0){dt=a+948|0,a=0;do $2(s[(s[dt>>2]|0)+(a<<2)>>2]|0),a=a+1|0;while((a|0)!=(St|0))}}function Ov(a,dt,St,Et,Ct,kt,Ut,en,un,gn){a=a|0,dt=dt|0,St=Zt(St),Et=Et|0,Ct=Zt(Ct),kt=Zt(kt),Ut=Zt(Ut),en=en|0,un=un|0,gn=gn|0;var pn=0,En=Hr,Rn=0,cr=0,Qn=Hr,Kn=Hr,Er=0,_r=Hr,Or=0,rr=Hr,lr=0,no=0,Wo=0,Mo=0,ho=0,bo=0,$o=0,So=0,cs=0,$l=0;cs=Ft,Ft=Ft+16|0,Wo=cs+12|0,Mo=cs+8|0,ho=cs+4|0,bo=cs,So=y0(s[a+4>>2]|0,un)|0,lr=js(So)|0,En=Zt(es(Nm(dt)|0,lr?kt:Ut)),no=Bl(dt,2,kt)|0,$o=Bl(dt,0,Ut)|0;do if(!(ro(En)|0)&&!(ro(lr?St:Ct)|0)){if(pn=dt+504|0,!(ro(Zt(Dt[pn>>2]))|0)&&(!(W2(s[dt+976>>2]|0,0)|0)||(s[dt+500>>2]|0)==(s[2278]|0)))break;Dt[pn>>2]=Zt(ms(En,Zt(fu(dt,So,kt))))}else Rn=7;while(0);do if((Rn|0)==7){if(Or=lr^1,!(Or|no^1)){Ut=Zt(es(s[dt+992>>2]|0,kt)),Dt[dt+504>>2]=Zt(ms(Ut,Zt(fu(dt,2,kt))));break}if(!(lr|$o^1)){Ut=Zt(es(s[dt+996>>2]|0,Ut)),Dt[dt+504>>2]=Zt(ms(Ut,Zt(fu(dt,0,kt))));break}Dt[Wo>>2]=Zt(Mn),Dt[Mo>>2]=Zt(Mn),s[ho>>2]=0,s[bo>>2]=0,_r=Zt(as(dt,2,kt)),rr=Zt(as(dt,0,kt)),no?(Qn=Zt(_r+Zt(es(s[dt+992>>2]|0,kt))),Dt[Wo>>2]=Qn,s[ho>>2]=1,cr=1):(cr=0,Qn=Zt(Mn)),$o?(En=Zt(rr+Zt(es(s[dt+996>>2]|0,Ut))),Dt[Mo>>2]=En,s[bo>>2]=1,pn=1):(pn=0,En=Zt(Mn)),Rn=s[a+32>>2]|0,lr&(Rn|0)==2?Rn=2:ro(Qn)|0&&!(ro(St)|0)&&(Dt[Wo>>2]=St,s[ho>>2]=2,cr=2,Qn=St),!((Rn|0)==2&Or)&&ro(En)|0&&!(ro(Ct)|0)&&(Dt[Mo>>2]=Ct,s[bo>>2]=2,pn=2,En=Ct),Kn=Zt(Dt[dt+396>>2]),Er=ro(Kn)|0;do if(Er)Rn=cr;else{if((cr|0)==1&Or){Dt[Mo>>2]=Zt(Zt(Qn-_r)/Kn),s[bo>>2]=1,pn=1,Rn=1;break}lr&(pn|0)==1?(Dt[Wo>>2]=Zt(Kn*Zt(En-rr)),s[ho>>2]=1,pn=1,Rn=1):Rn=cr}while(0);$l=ro(St)|0,cr=(o0(a,dt)|0)!=4,!(lr|no|((Et|0)!=1|$l)|(cr|(Rn|0)==1))&&(Dt[Wo>>2]=St,s[ho>>2]=1,!Er)&&(Dt[Mo>>2]=Zt(Zt(St-_r)/Kn),s[bo>>2]=1,pn=1),!($o|Or|((en|0)!=1|(ro(Ct)|0))|(cr|(pn|0)==1))&&(Dt[Mo>>2]=Ct,s[bo>>2]=1,!Er)&&(Dt[Wo>>2]=Zt(Kn*Zt(Ct-rr)),s[ho>>2]=1),j0(dt,2,kt,kt,ho,Wo),j0(dt,0,Ut,kt,bo,Mo),St=Zt(Dt[Wo>>2]),Ct=Zt(Dt[Mo>>2]),zu(dt,St,Ct,un,s[ho>>2]|0,s[bo>>2]|0,kt,Ut,0,3565,gn)|0,Ut=Zt(Dt[dt+908+(s[976+(So<<2)>>2]<<2)>>2]),Dt[dt+504>>2]=Zt(ms(Ut,Zt(fu(dt,So,kt))))}while(0);s[dt+500>>2]=s[2278],Ft=cs}function Ps(a,dt,St,Et,Ct){return a=a|0,dt=dt|0,St=Zt(St),Et=Zt(Et),Ct=Zt(Ct),Et=Zt(p1(a,dt,St,Et)),Zt(ms(Et,Zt(fu(a,dt,Ct))))}function o0(a,dt){return a=a|0,dt=dt|0,dt=dt+20|0,dt=s[(s[dt>>2]|0?dt:a+16|0)>>2]|0,(dt|0)==5&&m1(s[a+4>>2]|0)|0&&(dt=1),dt|0}function H0(a,dt){return a=a|0,dt=dt|0,js(dt)|0&&s[a+96>>2]|0?dt=4:dt=s[1040+(dt<<2)>>2]|0,a+60+(dt<<3)|0}function S0(a,dt){return a=a|0,dt=dt|0,js(dt)|0&&s[a+104>>2]|0?dt=5:dt=s[1e3+(dt<<2)>>2]|0,a+60+(dt<<3)|0}function j0(a,dt,St,Et,Ct,kt){switch(a=a|0,dt=dt|0,St=Zt(St),Et=Zt(Et),Ct=Ct|0,kt=kt|0,St=Zt(es(a+380+(s[976+(dt<<2)>>2]<<3)|0,St)),St=Zt(St+Zt(as(a,dt,Et))),s[Ct>>2]|0){case 2:case 1:{Ct=ro(St)|0,Et=Zt(Dt[kt>>2]),Dt[kt>>2]=Ct|Et<St?Et:St;break}case 0:{ro(St)|0||(s[Ct>>2]=2,Dt[kt>>2]=St);break}default:}}function Mu(a,dt){return a=a|0,dt=dt|0,a=a+132|0,js(dt)|0&&s[(Rs(a,4,948)|0)+4>>2]|0?a=1:a=(s[(Rs(a,s[1040+(dt<<2)>>2]|0,948)|0)+4>>2]|0)!=0,a|0}function Y0(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0,Ct=0;return a=a+132|0,js(dt)|0&&(Et=Rs(a,4,948)|0,(s[Et+4>>2]|0)!=0)?Ct=4:(Et=Rs(a,s[1040+(dt<<2)>>2]|0,948)|0,s[Et+4>>2]|0?Ct=4:St=Zt(0)),(Ct|0)==4&&(St=Zt(es(Et,St))),Zt(St)}function Rp(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=Hr;return Et=Zt(Dt[a+908+(s[976+(dt<<2)>>2]<<2)>>2]),Et=Zt(Et+Zt(Tl(a,dt,St))),Zt(Et+Zt(Vu(a,dt,St)))}function Fv(a){a=a|0;var dt=0,St=0,Et=0;e:do if(m1(s[a+4>>2]|0)|0)dt=0;else if((s[a+16>>2]|0)!=5)if(St=Ws(a)|0,!St)dt=0;else for(dt=0;;){if(Et=Fl(a,dt)|0,!(s[Et+24>>2]|0)&&(s[Et+20>>2]|0)==5){dt=1;break e}if(dt=dt+1|0,dt>>>0>=St>>>0){dt=0;break}}else dt=1;while(0);return dt|0}function Nv(a,dt){a=a|0,dt=dt|0;var St=Hr;return St=Zt(Dt[a+908+(s[976+(dt<<2)>>2]<<2)>>2]),St>=Zt(0)&((ro(St)|0)^1)|0}function V2(a){a=a|0;var dt=Hr,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=Hr;if(St=s[a+968>>2]|0,St)un=Zt(Dt[a+908>>2]),dt=Zt(Dt[a+912>>2]),dt=Zt(IS[St&0](a,un,dt)),Lo(a,(ro(dt)|0)^1,3573);else{kt=Ws(a)|0;do if(kt|0){for(St=0,Ct=0;;){if(Et=Fl(a,Ct)|0,s[Et+940>>2]|0){Ut=8;break}if((s[Et+24>>2]|0)!=1)if(en=(o0(a,Et)|0)==5,en){St=Et;break}else St=St|0?St:Et;if(Ct=Ct+1|0,Ct>>>0>=kt>>>0){Ut=8;break}}if((Ut|0)==8&&!St)break;return dt=Zt(V2(St)),Zt(dt+Zt(Dt[St+404>>2]))}while(0);dt=Zt(Dt[a+912>>2])}return Zt(dt)}function p1(a,dt,St,Et){a=a|0,dt=dt|0,St=Zt(St),Et=Zt(Et);var Ct=Hr,kt=0;return m1(dt)|0?(dt=1,kt=3):js(dt)|0?(dt=0,kt=3):(Et=Zt(Mn),Ct=Zt(Mn)),(kt|0)==3&&(Ct=Zt(es(a+364+(dt<<3)|0,Et)),Et=Zt(es(a+380+(dt<<3)|0,Et))),kt=Et<St&(Et>=Zt(0)&((ro(Et)|0)^1)),St=kt?Et:St,kt=Ct>=Zt(0)&((ro(Ct)|0)^1)&St<Ct,Zt(kt?Ct:St)}function G2(a,dt,St,Et,Ct,kt,Ut){a=a|0,dt=dt|0,St=Zt(St),Et=Et|0,Ct=Zt(Ct),kt=kt|0,Ut=Ut|0;var en=Hr,un=Hr,gn=0,pn=0,En=Hr,Rn=Hr,cr=Hr,Qn=0,Kn=0,Er=0,_r=0,Or=Hr,rr=0;Er=y0(s[a+4>>2]|0,kt)|0,Qn=W0(Er,kt)|0,Kn=js(Er)|0,En=Zt(as(dt,2,St)),Rn=Zt(as(dt,0,St)),Bl(dt,2,St)|0?en=Zt(En+Zt(es(s[dt+992>>2]|0,St))):Mu(dt,2)|0&&g1(dt,2)|0?(en=Zt(Dt[a+908>>2]),un=Zt(Gu(a,2)),un=Zt(en-Zt(un+Zt(i0(a,2)))),en=Zt(Y0(dt,2,St)),en=Zt(Ps(dt,2,Zt(un-Zt(en+Zt(bp(dt,2,St)))),St,St))):en=Zt(Mn),Bl(dt,0,Ct)|0?un=Zt(Rn+Zt(es(s[dt+996>>2]|0,Ct))):Mu(dt,0)|0&&g1(dt,0)|0?(un=Zt(Dt[a+912>>2]),Or=Zt(Gu(a,0)),Or=Zt(un-Zt(Or+Zt(i0(a,0)))),un=Zt(Y0(dt,0,Ct)),un=Zt(Ps(dt,0,Zt(Or-Zt(un+Zt(bp(dt,0,Ct)))),Ct,St))):un=Zt(Mn),gn=ro(en)|0,pn=ro(un)|0;do if(gn^pn&&(cr=Zt(Dt[dt+396>>2]),!(ro(cr)|0)))if(gn){en=Zt(En+Zt(Zt(un-Rn)*cr));break}else{Or=Zt(Rn+Zt(Zt(en-En)/cr)),un=pn?Or:un;break}while(0);pn=ro(en)|0,gn=ro(un)|0,pn|gn&&(rr=(pn^1)&1,Et=St>Zt(0)&((Et|0)!=0&pn),en=Kn?en:Et?St:en,zu(dt,en,un,kt,Kn?rr:Et?2:rr,pn&(gn^1)&1,en,un,0,3623,Ut)|0,en=Zt(Dt[dt+908>>2]),en=Zt(en+Zt(as(dt,2,St))),un=Zt(Dt[dt+912>>2]),un=Zt(un+Zt(as(dt,0,St)))),zu(dt,en,un,kt,1,1,en,un,1,3635,Ut)|0,g1(dt,Er)|0&&!(Mu(dt,Er)|0)?(rr=s[976+(Er<<2)>>2]|0,Or=Zt(Dt[a+908+(rr<<2)>>2]),Or=Zt(Or-Zt(Dt[dt+908+(rr<<2)>>2])),Or=Zt(Or-Zt(i0(a,Er))),Or=Zt(Or-Zt(Vu(dt,Er,St))),Or=Zt(Or-Zt(bp(dt,Er,Kn?St:Ct))),Dt[dt+400+(s[1040+(Er<<2)>>2]<<2)>>2]=Or):_r=21;do if((_r|0)==21){if(!(Mu(dt,Er)|0)&&(s[a+8>>2]|0)==1){rr=s[976+(Er<<2)>>2]|0,Or=Zt(Dt[a+908+(rr<<2)>>2]),Or=Zt(Zt(Or-Zt(Dt[dt+908+(rr<<2)>>2]))*Zt(.5)),Dt[dt+400+(s[1040+(Er<<2)>>2]<<2)>>2]=Or;break}!(Mu(dt,Er)|0)&&(s[a+8>>2]|0)==2&&(rr=s[976+(Er<<2)>>2]|0,Or=Zt(Dt[a+908+(rr<<2)>>2]),Or=Zt(Or-Zt(Dt[dt+908+(rr<<2)>>2])),Dt[dt+400+(s[1040+(Er<<2)>>2]<<2)>>2]=Or)}while(0);g1(dt,Qn)|0&&!(Mu(dt,Qn)|0)?(rr=s[976+(Qn<<2)>>2]|0,Or=Zt(Dt[a+908+(rr<<2)>>2]),Or=Zt(Or-Zt(Dt[dt+908+(rr<<2)>>2])),Or=Zt(Or-Zt(i0(a,Qn))),Or=Zt(Or-Zt(Vu(dt,Qn,St))),Or=Zt(Or-Zt(bp(dt,Qn,Kn?Ct:St))),Dt[dt+400+(s[1040+(Qn<<2)>>2]<<2)>>2]=Or):_r=30;do if((_r|0)==30&&!(Mu(dt,Qn)|0)){if((o0(a,dt)|0)==2){rr=s[976+(Qn<<2)>>2]|0,Or=Zt(Dt[a+908+(rr<<2)>>2]),Or=Zt(Zt(Or-Zt(Dt[dt+908+(rr<<2)>>2]))*Zt(.5)),Dt[dt+400+(s[1040+(Qn<<2)>>2]<<2)>>2]=Or;break}rr=(o0(a,dt)|0)==3,rr^(s[a+28>>2]|0)==2&&(rr=s[976+(Qn<<2)>>2]|0,Or=Zt(Dt[a+908+(rr<<2)>>2]),Or=Zt(Or-Zt(Dt[dt+908+(rr<<2)>>2])),Dt[dt+400+(s[1040+(Qn<<2)>>2]<<2)>>2]=Or)}while(0)}function Fm(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=Hr,Ct=0;Ct=s[976+(St<<2)>>2]|0,Et=Zt(Dt[dt+908+(Ct<<2)>>2]),Et=Zt(Zt(Dt[a+908+(Ct<<2)>>2])-Et),Et=Zt(Et-Zt(Dt[dt+400+(s[1040+(St<<2)>>2]<<2)>>2])),Dt[dt+400+(s[1e3+(St<<2)>>2]<<2)>>2]=Et}function m1(a){return a=a|0,(a|1|0)==1|0}function Nm(a){a=a|0;var dt=Hr;switch(s[a+56>>2]|0){case 0:case 3:{dt=Zt(Dt[a+40>>2]),dt>Zt(0)&((ro(dt)|0)^1)?a=ft[(s[a+976>>2]|0)+2>>0]|0?1056:992:a=1056;break}default:a=a+52|0}return a|0}function W2(a,dt){return a=a|0,dt=dt|0,(ft[a+dt>>0]|0)!=0|0}function g1(a,dt){return a=a|0,dt=dt|0,a=a+132|0,js(dt)|0&&s[(Rs(a,5,948)|0)+4>>2]|0?a=1:a=(s[(Rs(a,s[1e3+(dt<<2)>>2]|0,948)|0)+4>>2]|0)!=0,a|0}function bp(a,dt,St){a=a|0,dt=dt|0,St=Zt(St);var Et=0,Ct=0;return a=a+132|0,js(dt)|0&&(Et=Rs(a,5,948)|0,(s[Et+4>>2]|0)!=0)?Ct=4:(Et=Rs(a,s[1e3+(dt<<2)>>2]|0,948)|0,s[Et+4>>2]|0?Ct=4:St=Zt(0)),(Ct|0)==4&&(St=Zt(es(Et,St))),Zt(St)}function Eu(a,dt,St){return a=a|0,dt=dt|0,St=Zt(St),Mu(a,dt)|0?St=Zt(Y0(a,dt,St)):St=Zt(-Zt(bp(a,dt,St))),Zt(St)}function Bm(a){return a=Zt(a),Dt[Ht>>2]=a,s[Ht>>2]|0|0}function X0(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>1073741823)go();else{Ct=uo(dt<<2)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<2)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<2)}function v1(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>2)<<2)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function Ip(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-4-dt|0)>>>2)<<2)),a=s[a>>2]|0,a|0&&Gr(a)}function Z1(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0;if(Ut=a+4|0,en=s[Ut>>2]|0,Ct=en-Et|0,kt=Ct>>2,a=dt+(kt<<2)|0,a>>>0<St>>>0){Et=en;do s[Et>>2]=s[a>>2],a=a+4|0,Et=(s[Ut>>2]|0)+4|0,s[Ut>>2]=Et;while(a>>>0<St>>>0)}kt|0&&ym(en+(0-kt<<2)|0,dt|0,Ct|0)|0}function Um(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=dt+4|0,un=s[en>>2]|0,Ct=s[a>>2]|0,Ut=St,kt=Ut-Ct|0,Et=un+(0-(kt>>2)<<2)|0,s[en>>2]=Et,(kt|0)>0&&Ro(Et|0,Ct|0,kt|0)|0,Ct=a+4|0,kt=dt+8|0,Et=(s[Ct>>2]|0)-Ut|0,(Et|0)>0&&(Ro(s[kt>>2]|0,St|0,Et|0)|0,s[kt>>2]=(s[kt>>2]|0)+(Et>>>2<<2)),Ut=s[a>>2]|0,s[a>>2]=s[en>>2],s[en>>2]=Ut,Ut=s[Ct>>2]|0,s[Ct>>2]=s[kt>>2],s[kt>>2]=Ut,Ut=a+8|0,St=dt+12|0,a=s[Ut>>2]|0,s[Ut>>2]=s[St>>2],s[St>>2]=a,s[dt>>2]=s[en>>2],un|0}function _1(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;if(Ut=s[dt>>2]|0,kt=s[St>>2]|0,(Ut|0)!=(kt|0)){Ct=a+8|0,St=((kt+-4-Ut|0)>>>2)+1|0,a=Ut,Et=s[Ct>>2]|0;do s[Et>>2]=s[a>>2],Et=(s[Ct>>2]|0)+4|0,s[Ct>>2]=Et,a=a+4|0;while((a|0)!=(kt|0));s[dt>>2]=Ut+(St<<2)}}function xa(){O1()}function Bv(){var a=0;return a=uo(4)|0,Uv(a),a|0}function Uv(a){a=a|0,s[a>>2]=Ju()|0}function tu(a){a=a|0,a|0&&(ba(a),Gr(a))}function ba(a){a=a|0,r1(s[a>>2]|0)}function zm(a,dt,St){a=a|0,dt=dt|0,St=St|0,O2(s[a>>2]|0,dt,St)}function $m(a,dt){a=a|0,dt=Zt(dt),As(s[a>>2]|0,dt)}function Vm(a,dt){return a=a|0,dt=dt|0,W2(s[a>>2]|0,dt)|0}function Gm(){var a=0;return a=uo(8)|0,H2(a,0),a|0}function H2(a,dt){a=a|0,dt=dt|0,dt?dt=t1(s[dt>>2]|0)|0:dt=Qu()|0,s[a>>2]=dt,s[a+4>>2]=0,Nu(dt,a)}function j2(a){a=a|0;var dt=0;return dt=uo(8)|0,H2(dt,a),dt|0}function Wm(a){a=a|0,a|0&&(Q1(a),Gr(a))}function Q1(a){a=a|0;var dt=0;F1(s[a>>2]|0),dt=a+4|0,a=s[dt>>2]|0,s[dt>>2]=0,a|0&&(q0(a),Gr(a))}function q0(a){a=a|0,K0(a)}function K0(a){a=a|0,a=s[a>>2]|0,a|0&&h0(a|0)}function y1(a){return a=a|0,Ql(a)|0}function J1(a){a=a|0;var dt=0,St=0;St=a+4|0,dt=s[St>>2]|0,s[St>>2]=0,dt|0&&(q0(dt),Gr(dt)),Ou(s[a>>2]|0)}function Hm(a,dt){a=a|0,dt=dt|0,yp(s[a>>2]|0,s[dt>>2]|0)}function Y2(a,dt){a=a|0,dt=dt|0,v0(s[a>>2]|0,dt)}function jm(a,dt,St){a=a|0,dt=dt|0,St=+St,Em(s[a>>2]|0,dt,Zt(St))}function Ym(a,dt,St){a=a|0,dt=dt|0,St=+St,z1(s[a>>2]|0,dt,Zt(St))}function e2(a,dt){a=a|0,dt=dt|0,F0(s[a>>2]|0,dt)}function Xm(a,dt){a=a|0,dt=dt|0,Js(s[a>>2]|0,dt)}function X2(a,dt){a=a|0,dt=dt|0,xp(s[a>>2]|0,dt)}function qm(a,dt){a=a|0,dt=dt|0,a1(s[a>>2]|0,dt)}function s0(a,dt){a=a|0,dt=dt|0,B1(s[a>>2]|0,dt)}function zv(a,dt){a=a|0,dt=dt|0,Nl(s[a>>2]|0,dt)}function $v(a,dt,St){a=a|0,dt=dt|0,St=+St,Am(s[a>>2]|0,dt,Zt(St))}function t2(a,dt,St){a=a|0,dt=dt|0,St=+St,T2(s[a>>2]|0,dt,Zt(St))}function Z0(a,dt){a=a|0,dt=dt|0,Cm(s[a>>2]|0,dt)}function Vv(a,dt){a=a|0,dt=dt|0,bs(s[a>>2]|0,dt)}function ao(a,dt){a=a|0,dt=dt|0,ds(s[a>>2]|0,dt)}function n2(a,dt){a=a|0,dt=+dt,Su(s[a>>2]|0,Zt(dt))}function q2(a,dt){a=a|0,dt=+dt,e0(s[a>>2]|0,Zt(dt))}function Km(a,dt){a=a|0,dt=+dt,_0(s[a>>2]|0,Zt(dt))}function Gv(a,dt){a=a|0,dt=+dt,E2(s[a>>2]|0,Zt(dt))}function Q0(a,dt){a=a|0,dt=+dt,Mm(s[a>>2]|0,Zt(dt))}function x1(a,dt){a=a|0,dt=+dt,V1(s[a>>2]|0,Zt(dt))}function K2(a,dt){a=a|0,dt=+dt,G1(s[a>>2]|0,Zt(dt))}function Zm(a){a=a|0,su(s[a>>2]|0)}function Qm(a,dt){a=a|0,dt=+dt,B0(s[a>>2]|0,Zt(dt))}function Jm(a,dt){a=a|0,dt=+dt,t0(s[a>>2]|0,Zt(dt))}function _g(a){a=a|0,n0(s[a>>2]|0)}function ev(a,dt){a=a|0,dt=+dt,Lm(s[a>>2]|0,Zt(dt))}function tv(a,dt){a=a|0,dt=+dt,C2(s[a>>2]|0,Zt(dt))}function Z2(a,dt){a=a|0,dt=+dt,Jl(s[a>>2]|0,Zt(dt))}function Q2(a,dt){a=a|0,dt=+dt,eu(s[a>>2]|0,Zt(dt))}function nv(a,dt){a=a|0,dt=+dt,u1(s[a>>2]|0,Zt(dt))}function J2(a,dt){a=a|0,dt=+dt,wu(s[a>>2]|0,Zt(dt))}function r2(a,dt){a=a|0,dt=+dt,bm(s[a>>2]|0,Zt(dt))}function Wv(a,dt){a=a|0,dt=+dt,k2(s[a>>2]|0,Zt(dt))}function Hv(a,dt){a=a|0,dt=+dt,Im(s[a>>2]|0,Zt(dt))}function rv(a,dt,St){a=a|0,dt=dt|0,St=+St,wp(s[a>>2]|0,dt,Zt(St))}function iv(a,dt,St){a=a|0,dt=dt|0,St=+St,Pm(s[a>>2]|0,dt,Zt(St))}function ov(a,dt,St){a=a|0,dt=dt|0,St=+St,km(s[a>>2]|0,dt,Zt(St))}function sv(a){return a=a|0,Sp(s[a>>2]|0)|0}function i2(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0;Et=Ft,Ft=Ft+16|0,Ct=Et,Tm(Ct,s[dt>>2]|0,St),nu(a,Ct),Ft=Et}function nu(a,dt){a=a|0,dt=dt|0,Dp(a,s[dt+4>>2]|0,+Zt(Dt[dt>>2]))}function Dp(a,dt,St){a=a|0,dt=dt|0,St=+St,s[a>>2]=dt,Nt[a+8>>3]=St}function o2(a){return a=a|0,N0(s[a>>2]|0)|0}function s2(a){return a=a|0,zs(s[a>>2]|0)|0}function S1(a){return a=a|0,xu(s[a>>2]|0)|0}function em(a){return a=a|0,l1(s[a>>2]|0)|0}function tm(a){return a=a|0,Bu(s[a>>2]|0)|0}function nm(a){return a=a|0,O0(s[a>>2]|0)|0}function av(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0;Et=Ft,Ft=Ft+16|0,Ct=Et,$1(Ct,s[dt>>2]|0,St),nu(a,Ct),Ft=Et}function rm(a){return a=a|0,$s(s[a>>2]|0)|0}function jv(a){return a=a|0,Fs(s[a>>2]|0)|0}function a2(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,U1(Et,s[dt>>2]|0),nu(a,Et),Ft=St}function im(a){return a=a|0,+ +Zt(Zl(s[a>>2]|0))}function ks(a){return a=a|0,+ +Zt(El(s[a>>2]|0))}function Ko(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,au(Et,s[dt>>2]|0),nu(a,Et),Ft=St}function Is(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,U0(Et,s[dt>>2]|0),nu(a,Et),Ft=St}function Ds(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,P2(Et,s[dt>>2]|0),nu(a,Et),Ft=St}function Ys(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,xs(Et,s[dt>>2]|0),nu(a,Et),Ft=St}function ru(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,Rm(Et,s[dt>>2]|0),nu(a,Et),Ft=St}function Op(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,L2(Et,s[dt>>2]|0),nu(a,Et),Ft=St}function Bs(a){return a=a|0,+ +Zt(c1(s[a>>2]|0))}function w1(a,dt){return a=a|0,dt=dt|0,+ +Zt(Mp(s[a>>2]|0,dt))}function Fp(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0;Et=Ft,Ft=Ft+16|0,Ct=Et,A2(Ct,s[dt>>2]|0,St),nu(a,Ct),Ft=Et}function l2(a,dt,St){a=a|0,dt=dt|0,St=St|0,ys(s[a>>2]|0,s[dt>>2]|0,St)}function om(a,dt){a=a|0,dt=dt|0,m0(s[a>>2]|0,s[dt>>2]|0)}function M1(a){return a=a|0,Ws(s[a>>2]|0)|0}function Ul(a){return a=a|0,a=g0(s[a>>2]|0)|0,a?a=y1(a)|0:a=0,a|0}function sm(a,dt){return a=a|0,dt=dt|0,a=Fl(s[a>>2]|0,dt)|0,a?a=y1(a)|0:a=0,a|0}function am(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;Et=uo(4)|0,J0(Et,dt),St=a+4|0,dt=s[St>>2]|0,s[St>>2]=Et,dt|0&&(q0(dt),Gr(dt)),i1(s[a>>2]|0,1)}function J0(a,dt){a=a|0,dt=dt|0,T0(a,dt)}function u2(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=Zt(St),Et=Et|0,Ct=Zt(Ct),kt=kt|0;var Ut=0,en=0;Ut=Ft,Ft=Ft+16|0,en=Ut,lm(en,Ql(dt)|0,+St,Et,+Ct,kt),Dt[a>>2]=Zt(+Nt[en>>3]),Dt[a+4>>2]=Zt(+Nt[en+8>>3]),Ft=Ut}function lm(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=+St,Et=Et|0,Ct=+Ct,kt=kt|0;var Ut=0,en=0,un=0,gn=0,pn=0;Ut=Ft,Ft=Ft+32|0,pn=Ut+8|0,gn=Ut+20|0,un=Ut,en=Ut+16|0,Nt[pn>>3]=St,s[gn>>2]=Et,Nt[un>>3]=Ct,s[en>>2]=kt,w0(a,s[dt+4>>2]|0,pn,gn,un,en),Ft=Ut}function w0(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0;var Ut=0,en=0;Ut=Ft,Ft=Ft+16|0,en=Ut,Pu(en),dt=Xs(dt)|0,M0(a,dt,+Nt[St>>3],s[Et>>2]|0,+Nt[Ct>>3],s[kt>>2]|0),ku(en),Ft=Ut}function Xs(a){return a=a|0,s[a>>2]|0}function M0(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=+St,Et=Et|0,Ct=+Ct,kt=kt|0;var Ut=0;Ut=$a(c2()|0)|0,St=+Tu(St),Et=Np(Et)|0,Ct=+Tu(Ct),f2(a,Ml(0,Ut|0,dt|0,+St,Et|0,+Ct,Np(kt)|0)|0)}function c2(){var a=0;return ft[7608]|0||(um(9120),a=7608,s[a>>2]=1,s[a+4>>2]=0),9120}function $a(a){return a=a|0,s[a+8>>2]|0}function Tu(a){return a=+a,+ +d2(a)}function Np(a){return a=a|0,Cl(a)|0}function f2(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0;Ct=Ft,Ft=Ft+32|0,St=Ct,Et=dt,Et&1?(Al(St,0),Sr(Et|0,St|0)|0,E0(a,St),du(St)):(s[a>>2]=s[dt>>2],s[a+4>>2]=s[dt+4>>2],s[a+8>>2]=s[dt+8>>2],s[a+12>>2]=s[dt+12>>2]),Ft=Ct}function Al(a,dt){a=a|0,dt=dt|0,E1(a,dt),s[a+8>>2]=0,ft[a+24>>0]=0}function E0(a,dt){a=a|0,dt=dt|0,dt=dt+8|0,s[a>>2]=s[dt>>2],s[a+4>>2]=s[dt+4>>2],s[a+8>>2]=s[dt+8>>2],s[a+12>>2]=s[dt+12>>2]}function du(a){a=a|0,ft[a+24>>0]=0}function E1(a,dt){a=a|0,dt=dt|0,s[a>>2]=dt}function Cl(a){return a=a|0,a|0}function d2(a){return a=+a,+a}function um(a){a=a|0,hu(a,cm()|0,4)}function cm(){return 1064}function hu(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St,s[a+8>>2]=_s(dt|0,St+1|0)|0}function T0(a,dt){a=a|0,dt=dt|0,dt=s[dt>>2]|0,s[a>>2]=dt,Fo(dt|0)}function lv(a){a=a|0;var dt=0,St=0;St=a+4|0,dt=s[St>>2]|0,s[St>>2]=0,dt|0&&(q0(dt),Gr(dt)),i1(s[a>>2]|0,0)}function uv(a){a=a|0,Kl(s[a>>2]|0)}function fm(a){return a=a|0,s1(s[a>>2]|0)|0}function _c(a,dt,St,Et){a=a|0,dt=+dt,St=+St,Et=Et|0,na(s[a>>2]|0,Zt(dt),Zt(St),Et)}function cv(a){return a=a|0,+ +Zt(z0(s[a>>2]|0))}function fv(a){return a=a|0,+ +Zt(Ep(s[a>>2]|0))}function dm(a){return a=a|0,+ +Zt(W1(s[a>>2]|0))}function h2(a){return a=a|0,+ +Zt(f1(s[a>>2]|0))}function Yv(a){return a=a|0,+ +Zt(R2(s[a>>2]|0))}function Xv(a){return a=a|0,+ +Zt(b2(s[a>>2]|0))}function dv(a,dt){a=a|0,dt=dt|0,Nt[a>>3]=+Zt(z0(s[dt>>2]|0)),Nt[a+8>>3]=+Zt(Ep(s[dt>>2]|0)),Nt[a+16>>3]=+Zt(W1(s[dt>>2]|0)),Nt[a+24>>3]=+Zt(f1(s[dt>>2]|0)),Nt[a+32>>3]=+Zt(R2(s[dt>>2]|0)),Nt[a+40>>3]=+Zt(b2(s[dt>>2]|0))}function hv(a,dt){return a=a|0,dt=dt|0,+ +Zt(Tp(s[a>>2]|0,dt))}function _f(a,dt){return a=a|0,dt=dt|0,+ +Zt(Dm(s[a>>2]|0,dt))}function qv(a,dt){return a=a|0,dt=dt|0,+ +Zt(d1(s[a>>2]|0,dt))}function _d(){return n1()|0}function pv(){zl(),Kv(),mv(),Zv(),Qv(),gv()}function zl(){fR(11713,4938,1)}function Kv(){kL(10448)}function mv(){cL(10408)}function Zv(){DP(10324)}function Qv(){VA(10096)}function gv(){vv(9132)}function vv(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0,Kn=0,Er=0,_r=0,Or=0,rr=0,lr=0,no=0,Wo=0,Mo=0,ho=0,bo=0,$o=0,So=0,cs=0,$l=0,Vl=0,Gl=0,vu=0,jp=0,Yp=0,ju=0,Xp=0,k0=0,L0=0,qp=0,Kp=0,Zp=0,ns=0,Yu=0,Qp=0,l0=0,Jp=0,e1=0,R0=0,b0=0,u0=0,Pl=0,Ru=0,ou=0,Xu=0,ip=0,op=0,I0=0,sp=0,ap=0,Ll=0,xl=0,qu=0,fs=0,lp=0,Wl=0,c0=0,Hl=0,f0=0,up=0,cp=0,d0=0,Rl=0,Ku=0,fp=0,dp=0,hp=0,Do=0,vs=0,Sl=0,Yl=0,Il=0,Bo=0,Eo=0,Zu=0;dt=Ft,Ft=Ft+672|0,St=dt+656|0,Zu=dt+648|0,Eo=dt+640|0,Bo=dt+632|0,Il=dt+624|0,Yl=dt+616|0,Sl=dt+608|0,vs=dt+600|0,Do=dt+592|0,hp=dt+584|0,dp=dt+576|0,fp=dt+568|0,Ku=dt+560|0,Rl=dt+552|0,d0=dt+544|0,cp=dt+536|0,up=dt+528|0,f0=dt+520|0,Hl=dt+512|0,c0=dt+504|0,Wl=dt+496|0,lp=dt+488|0,fs=dt+480|0,qu=dt+472|0,xl=dt+464|0,Ll=dt+456|0,ap=dt+448|0,sp=dt+440|0,I0=dt+432|0,op=dt+424|0,ip=dt+416|0,Xu=dt+408|0,ou=dt+400|0,Ru=dt+392|0,Pl=dt+384|0,u0=dt+376|0,b0=dt+368|0,R0=dt+360|0,e1=dt+352|0,Jp=dt+344|0,l0=dt+336|0,Qp=dt+328|0,Yu=dt+320|0,ns=dt+312|0,Zp=dt+304|0,Kp=dt+296|0,qp=dt+288|0,L0=dt+280|0,k0=dt+272|0,Xp=dt+264|0,ju=dt+256|0,Yp=dt+248|0,jp=dt+240|0,vu=dt+232|0,Gl=dt+224|0,Vl=dt+216|0,$l=dt+208|0,cs=dt+200|0,So=dt+192|0,$o=dt+184|0,bo=dt+176|0,ho=dt+168|0,Mo=dt+160|0,Wo=dt+152|0,no=dt+144|0,lr=dt+136|0,rr=dt+128|0,Or=dt+120|0,_r=dt+112|0,Er=dt+104|0,Kn=dt+96|0,Qn=dt+88|0,cr=dt+80|0,Rn=dt+72|0,En=dt+64|0,pn=dt+56|0,gn=dt+48|0,un=dt+40|0,en=dt+32|0,Ut=dt+24|0,kt=dt+16|0,Ct=dt+8|0,Et=dt,Jv(a,3646),pu(a,3651,2)|0,hm(a,3665,2)|0,e_(a,3682,18)|0,s[Zu>>2]=19,s[Zu+4>>2]=0,s[St>>2]=s[Zu>>2],s[St+4>>2]=s[Zu+4>>2],mu(a,3690,St)|0,s[Eo>>2]=1,s[Eo+4>>2]=0,s[St>>2]=s[Eo>>2],s[St+4>>2]=s[Eo+4>>2],p2(a,3696,St)|0,s[Bo>>2]=2,s[Bo+4>>2]=0,s[St>>2]=s[Bo>>2],s[St+4>>2]=s[Bo+4>>2],_l(a,3706,St)|0,s[Il>>2]=1,s[Il+4>>2]=0,s[St>>2]=s[Il>>2],s[St+4>>2]=s[Il+4>>2],Wu(a,3722,St)|0,s[Yl>>2]=2,s[Yl+4>>2]=0,s[St>>2]=s[Yl>>2],s[St+4>>2]=s[Yl+4>>2],Wu(a,3734,St)|0,s[Sl>>2]=3,s[Sl+4>>2]=0,s[St>>2]=s[Sl>>2],s[St+4>>2]=s[Sl+4>>2],_l(a,3753,St)|0,s[vs>>2]=4,s[vs+4>>2]=0,s[St>>2]=s[vs>>2],s[St+4>>2]=s[vs+4>>2],_l(a,3769,St)|0,s[Do>>2]=5,s[Do+4>>2]=0,s[St>>2]=s[Do>>2],s[St+4>>2]=s[Do+4>>2],_l(a,3783,St)|0,s[hp>>2]=6,s[hp+4>>2]=0,s[St>>2]=s[hp>>2],s[St+4>>2]=s[hp+4>>2],_l(a,3796,St)|0,s[dp>>2]=7,s[dp+4>>2]=0,s[St>>2]=s[dp>>2],s[St+4>>2]=s[dp+4>>2],_l(a,3813,St)|0,s[fp>>2]=8,s[fp+4>>2]=0,s[St>>2]=s[fp>>2],s[St+4>>2]=s[fp+4>>2],_l(a,3825,St)|0,s[Ku>>2]=3,s[Ku+4>>2]=0,s[St>>2]=s[Ku>>2],s[St+4>>2]=s[Ku+4>>2],Wu(a,3843,St)|0,s[Rl>>2]=4,s[Rl+4>>2]=0,s[St>>2]=s[Rl>>2],s[St+4>>2]=s[Rl+4>>2],Wu(a,3853,St)|0,s[d0>>2]=9,s[d0+4>>2]=0,s[St>>2]=s[d0>>2],s[St+4>>2]=s[d0+4>>2],_l(a,3870,St)|0,s[cp>>2]=10,s[cp+4>>2]=0,s[St>>2]=s[cp>>2],s[St+4>>2]=s[cp+4>>2],_l(a,3884,St)|0,s[up>>2]=11,s[up+4>>2]=0,s[St>>2]=s[up>>2],s[St+4>>2]=s[up+4>>2],_l(a,3896,St)|0,s[f0>>2]=1,s[f0+4>>2]=0,s[St>>2]=s[f0>>2],s[St+4>>2]=s[f0+4>>2],Os(a,3907,St)|0,s[Hl>>2]=2,s[Hl+4>>2]=0,s[St>>2]=s[Hl>>2],s[St+4>>2]=s[Hl+4>>2],Os(a,3915,St)|0,s[c0>>2]=3,s[c0+4>>2]=0,s[St>>2]=s[c0>>2],s[St+4>>2]=s[c0+4>>2],Os(a,3928,St)|0,s[Wl>>2]=4,s[Wl+4>>2]=0,s[St>>2]=s[Wl>>2],s[St+4>>2]=s[Wl+4>>2],Os(a,3948,St)|0,s[lp>>2]=5,s[lp+4>>2]=0,s[St>>2]=s[lp>>2],s[St+4>>2]=s[lp+4>>2],Os(a,3960,St)|0,s[fs>>2]=6,s[fs+4>>2]=0,s[St>>2]=s[fs>>2],s[St+4>>2]=s[fs+4>>2],Os(a,3974,St)|0,s[qu>>2]=7,s[qu+4>>2]=0,s[St>>2]=s[qu>>2],s[St+4>>2]=s[qu+4>>2],Os(a,3983,St)|0,s[xl>>2]=20,s[xl+4>>2]=0,s[St>>2]=s[xl>>2],s[St+4>>2]=s[xl+4>>2],mu(a,3999,St)|0,s[Ll>>2]=8,s[Ll+4>>2]=0,s[St>>2]=s[Ll>>2],s[St+4>>2]=s[Ll+4>>2],Os(a,4012,St)|0,s[ap>>2]=9,s[ap+4>>2]=0,s[St>>2]=s[ap>>2],s[St+4>>2]=s[ap+4>>2],Os(a,4022,St)|0,s[sp>>2]=21,s[sp+4>>2]=0,s[St>>2]=s[sp>>2],s[St+4>>2]=s[sp+4>>2],mu(a,4039,St)|0,s[I0>>2]=10,s[I0+4>>2]=0,s[St>>2]=s[I0>>2],s[St+4>>2]=s[I0+4>>2],Os(a,4053,St)|0,s[op>>2]=11,s[op+4>>2]=0,s[St>>2]=s[op>>2],s[St+4>>2]=s[op+4>>2],Os(a,4065,St)|0,s[ip>>2]=12,s[ip+4>>2]=0,s[St>>2]=s[ip>>2],s[St+4>>2]=s[ip+4>>2],Os(a,4084,St)|0,s[Xu>>2]=13,s[Xu+4>>2]=0,s[St>>2]=s[Xu>>2],s[St+4>>2]=s[Xu+4>>2],Os(a,4097,St)|0,s[ou>>2]=14,s[ou+4>>2]=0,s[St>>2]=s[ou>>2],s[St+4>>2]=s[ou+4>>2],Os(a,4117,St)|0,s[Ru>>2]=15,s[Ru+4>>2]=0,s[St>>2]=s[Ru>>2],s[St+4>>2]=s[Ru+4>>2],Os(a,4129,St)|0,s[Pl>>2]=16,s[Pl+4>>2]=0,s[St>>2]=s[Pl>>2],s[St+4>>2]=s[Pl+4>>2],Os(a,4148,St)|0,s[u0>>2]=17,s[u0+4>>2]=0,s[St>>2]=s[u0>>2],s[St+4>>2]=s[u0+4>>2],Os(a,4161,St)|0,s[b0>>2]=18,s[b0+4>>2]=0,s[St>>2]=s[b0>>2],s[St+4>>2]=s[b0+4>>2],Os(a,4181,St)|0,s[R0>>2]=5,s[R0+4>>2]=0,s[St>>2]=s[R0>>2],s[St+4>>2]=s[R0+4>>2],Wu(a,4196,St)|0,s[e1>>2]=6,s[e1+4>>2]=0,s[St>>2]=s[e1>>2],s[St+4>>2]=s[e1+4>>2],Wu(a,4206,St)|0,s[Jp>>2]=7,s[Jp+4>>2]=0,s[St>>2]=s[Jp>>2],s[St+4>>2]=s[Jp+4>>2],Wu(a,4217,St)|0,s[l0>>2]=3,s[l0+4>>2]=0,s[St>>2]=s[l0>>2],s[St+4>>2]=s[l0+4>>2],Au(a,4235,St)|0,s[Qp>>2]=1,s[Qp+4>>2]=0,s[St>>2]=s[Qp>>2],s[St+4>>2]=s[Qp+4>>2],pm(a,4251,St)|0,s[Yu>>2]=4,s[Yu+4>>2]=0,s[St>>2]=s[Yu>>2],s[St+4>>2]=s[Yu+4>>2],Au(a,4263,St)|0,s[ns>>2]=5,s[ns+4>>2]=0,s[St>>2]=s[ns>>2],s[St+4>>2]=s[ns+4>>2],Au(a,4279,St)|0,s[Zp>>2]=6,s[Zp+4>>2]=0,s[St>>2]=s[Zp>>2],s[St+4>>2]=s[Zp+4>>2],Au(a,4293,St)|0,s[Kp>>2]=7,s[Kp+4>>2]=0,s[St>>2]=s[Kp>>2],s[St+4>>2]=s[Kp+4>>2],Au(a,4306,St)|0,s[qp>>2]=8,s[qp+4>>2]=0,s[St>>2]=s[qp>>2],s[St+4>>2]=s[qp+4>>2],Au(a,4323,St)|0,s[L0>>2]=9,s[L0+4>>2]=0,s[St>>2]=s[L0>>2],s[St+4>>2]=s[L0+4>>2],Au(a,4335,St)|0,s[k0>>2]=2,s[k0+4>>2]=0,s[St>>2]=s[k0>>2],s[St+4>>2]=s[k0+4>>2],pm(a,4353,St)|0,s[Xp>>2]=12,s[Xp+4>>2]=0,s[St>>2]=s[Xp>>2],s[St+4>>2]=s[Xp+4>>2],A0(a,4363,St)|0,s[ju>>2]=1,s[ju+4>>2]=0,s[St>>2]=s[ju>>2],s[St+4>>2]=s[ju+4>>2],Hu(a,4376,St)|0,s[Yp>>2]=2,s[Yp+4>>2]=0,s[St>>2]=s[Yp>>2],s[St+4>>2]=s[Yp+4>>2],Hu(a,4388,St)|0,s[jp>>2]=13,s[jp+4>>2]=0,s[St>>2]=s[jp>>2],s[St+4>>2]=s[jp+4>>2],A0(a,4402,St)|0,s[vu>>2]=14,s[vu+4>>2]=0,s[St>>2]=s[vu>>2],s[St+4>>2]=s[vu+4>>2],A0(a,4411,St)|0,s[Gl>>2]=15,s[Gl+4>>2]=0,s[St>>2]=s[Gl>>2],s[St+4>>2]=s[Gl+4>>2],A0(a,4421,St)|0,s[Vl>>2]=16,s[Vl+4>>2]=0,s[St>>2]=s[Vl>>2],s[St+4>>2]=s[Vl+4>>2],A0(a,4433,St)|0,s[$l>>2]=17,s[$l+4>>2]=0,s[St>>2]=s[$l>>2],s[St+4>>2]=s[$l+4>>2],A0(a,4446,St)|0,s[cs>>2]=18,s[cs+4>>2]=0,s[St>>2]=s[cs>>2],s[St+4>>2]=s[cs+4>>2],A0(a,4458,St)|0,s[So>>2]=3,s[So+4>>2]=0,s[St>>2]=s[So>>2],s[St+4>>2]=s[So+4>>2],Hu(a,4471,St)|0,s[$o>>2]=1,s[$o+4>>2]=0,s[St>>2]=s[$o>>2],s[St+4>>2]=s[$o+4>>2],T1(a,4486,St)|0,s[bo>>2]=10,s[bo+4>>2]=0,s[St>>2]=s[bo>>2],s[St+4>>2]=s[bo+4>>2],Au(a,4496,St)|0,s[ho>>2]=11,s[ho+4>>2]=0,s[St>>2]=s[ho>>2],s[St+4>>2]=s[ho+4>>2],Au(a,4508,St)|0,s[Mo>>2]=3,s[Mo+4>>2]=0,s[St>>2]=s[Mo>>2],s[St+4>>2]=s[Mo+4>>2],pm(a,4519,St)|0,s[Wo>>2]=4,s[Wo+4>>2]=0,s[St>>2]=s[Wo>>2],s[St+4>>2]=s[Wo+4>>2],_v(a,4530,St)|0,s[no>>2]=19,s[no+4>>2]=0,s[St>>2]=s[no>>2],s[St+4>>2]=s[no+4>>2],mm(a,4542,St)|0,s[lr>>2]=12,s[lr+4>>2]=0,s[St>>2]=s[lr>>2],s[St+4>>2]=s[lr+4>>2],t_(a,4554,St)|0,s[rr>>2]=13,s[rr+4>>2]=0,s[St>>2]=s[rr>>2],s[St+4>>2]=s[rr+4>>2],n_(a,4568,St)|0,s[Or>>2]=2,s[Or+4>>2]=0,s[St>>2]=s[Or>>2],s[St+4>>2]=s[Or+4>>2],Bt(a,4578,St)|0,s[_r>>2]=20,s[_r+4>>2]=0,s[St>>2]=s[_r>>2],s[St+4>>2]=s[_r+4>>2],zt(a,4587,St)|0,s[Er>>2]=22,s[Er+4>>2]=0,s[St>>2]=s[Er>>2],s[St+4>>2]=s[Er+4>>2],mu(a,4602,St)|0,s[Kn>>2]=23,s[Kn+4>>2]=0,s[St>>2]=s[Kn>>2],s[St+4>>2]=s[Kn+4>>2],mu(a,4619,St)|0,s[Qn>>2]=14,s[Qn+4>>2]=0,s[St>>2]=s[Qn>>2],s[St+4>>2]=s[Qn+4>>2],an(a,4629,St)|0,s[cr>>2]=1,s[cr+4>>2]=0,s[St>>2]=s[cr>>2],s[St+4>>2]=s[cr+4>>2],hn(a,4637,St)|0,s[Rn>>2]=4,s[Rn+4>>2]=0,s[St>>2]=s[Rn>>2],s[St+4>>2]=s[Rn+4>>2],Hu(a,4653,St)|0,s[En>>2]=5,s[En+4>>2]=0,s[St>>2]=s[En>>2],s[St+4>>2]=s[En+4>>2],Hu(a,4669,St)|0,s[pn>>2]=6,s[pn+4>>2]=0,s[St>>2]=s[pn>>2],s[St+4>>2]=s[pn+4>>2],Hu(a,4686,St)|0,s[gn>>2]=7,s[gn+4>>2]=0,s[St>>2]=s[gn>>2],s[St+4>>2]=s[gn+4>>2],Hu(a,4701,St)|0,s[un>>2]=8,s[un+4>>2]=0,s[St>>2]=s[un>>2],s[St+4>>2]=s[un+4>>2],Hu(a,4719,St)|0,s[en>>2]=9,s[en+4>>2]=0,s[St>>2]=s[en>>2],s[St+4>>2]=s[en+4>>2],Hu(a,4736,St)|0,s[Ut>>2]=21,s[Ut+4>>2]=0,s[St>>2]=s[Ut>>2],s[St+4>>2]=s[Ut+4>>2],yn(a,4754,St)|0,s[kt>>2]=2,s[kt+4>>2]=0,s[St>>2]=s[kt>>2],s[St+4>>2]=s[kt+4>>2],T1(a,4772,St)|0,s[Ct>>2]=3,s[Ct+4>>2]=0,s[St>>2]=s[Ct>>2],s[St+4>>2]=s[Ct+4>>2],T1(a,4790,St)|0,s[Et>>2]=4,s[Et+4>>2]=0,s[St>>2]=s[Et>>2],s[St+4>>2]=s[Et+4>>2],T1(a,4808,St)|0,Ft=dt}function Jv(a,dt){a=a|0,dt=dt|0;var St=0;St=IA()|0,s[a>>2]=St,DA(St,dt),Gp(s[a>>2]|0)}function pu(a,dt,St){return a=a|0,dt=dt|0,St=St|0,yA(a,Vn(dt)|0,St,0),a|0}function hm(a,dt,St){return a=a|0,dt=dt|0,St=St|0,rA(a,Vn(dt)|0,St,0),a|0}function e_(a,dt,St){return a=a|0,dt=dt|0,St=St|0,GT(a,Vn(dt)|0,St,0),a|0}function mu(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],CT(a,dt,Ct),Ft=Et,a|0}function p2(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],lT(a,dt,Ct),Ft=Et,a|0}function _l(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],jE(a,dt,Ct),Ft=Et,a|0}function Wu(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],LE(a,dt,Ct),Ft=Et,a|0}function Os(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],pE(a,dt,Ct),Ft=Et,a|0}function Au(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],QM(a,dt,Ct),Ft=Et,a|0}function pm(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],FM(a,dt,Ct),Ft=Et,a|0}function A0(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],lM(a,dt,Ct),Ft=Et,a|0}function Hu(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],j4(a,dt,Ct),Ft=Et,a|0}function T1(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],L4(a,dt,Ct),Ft=Et,a|0}function _v(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],p4(a,dt,Ct),Ft=Et,a|0}function mm(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],Qw(a,dt,Ct),Ft=Et,a|0}function t_(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],Nw(a,dt,Ct),Ft=Et,a|0}function n_(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],ww(a,dt,Ct),Ft=Et,a|0}function Bt(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],ow(a,dt,Ct),Ft=Et,a|0}function zt(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],V3(a,dt,Ct),Ft=Et,a|0}function an(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],A3(a,dt,Ct),Ft=Et,a|0}function hn(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],l3(a,dt,Ct),Ft=Et,a|0}function yn(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],Cn(a,dt,Ct),Ft=Et,a|0}function Cn(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],ir(a,St,Ct,1),Ft=Et}function Vn(a){return a=a|0,a|0}function ir(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=Fr()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=_i(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,vo(kt,Et)|0,Et),Ft=Ct}function Fr(){var a=0,dt=0;if(ft[7616]|0||(jo(9136),Dn(24,9136,fn|0)|0,dt=7616,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9136)|0)){a=9136,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));jo(9136)}return 9136}function _i(a){return a=a|0,0}function vo(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=Fr()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],iu(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(wr(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function so(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0;var Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0;Ut=Ft,Ft=Ft+32|0,Rn=Ut+24|0,En=Ut+20|0,un=Ut+16|0,pn=Ut+12|0,gn=Ut+8|0,en=Ut+4|0,cr=Ut,s[En>>2]=dt,s[un>>2]=St,s[pn>>2]=Et,s[gn>>2]=Ct,s[en>>2]=kt,kt=a+28|0,s[cr>>2]=s[kt>>2],s[Rn>>2]=s[cr>>2],ko(a+24|0,Rn,En,pn,gn,un,en)|0,s[kt>>2]=s[s[kt>>2]>>2],Ft=Ut}function ko(a,dt,St,Et,Ct,kt,Ut){return a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,Ut=Ut|0,a=hs(dt)|0,dt=uo(24)|0,To(dt+4|0,s[St>>2]|0,s[Et>>2]|0,s[Ct>>2]|0,s[kt>>2]|0,s[Ut>>2]|0),s[dt>>2]=s[a>>2],s[a>>2]=dt,dt|0}function hs(a){return a=a|0,s[a>>2]|0}function To(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,s[a>>2]=dt,s[a+4>>2]=St,s[a+8>>2]=Et,s[a+12>>2]=Ct,s[a+16>>2]=kt}function lo(a,dt){return a=a|0,dt=dt|0,dt|a|0}function iu(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function wr(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=fr(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,Ir(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],iu(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,fo(a,en),Ao(en),Ft=gn;return}}function fr(a){return a=a|0,357913941}function Ir(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function fo(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function Ao(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function jo(a){a=a|0,ls(a)}function Go(a){a=a|0,Vs(a+24|0)}function io(a){return a=a|0,s[a>>2]|0}function Vs(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function ls(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,3,dt,r_()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function Oo(){return 9228}function r_(){return 1140}function GS(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0;return St=Ft,Ft=Ft+16|0,Et=St+8|0,Ct=St,kt=WS(a)|0,a=s[kt+4>>2]|0,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=a,s[Et>>2]=s[Ct>>2],s[Et+4>>2]=s[Ct+4>>2],dt=HS(dt,Et)|0,Ft=St,dt|0}function Jo(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,s[a>>2]=dt,s[a+4>>2]=St,s[a+8>>2]=Et,s[a+12>>2]=Ct,s[a+16>>2]=kt}function WS(a){return a=a|0,(s[(Fr()|0)+24>>2]|0)+(a*12|0)|0}function HS(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0;return Ct=Ft,Ft=Ft+48|0,Et=Ct,St=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(St=s[(s[a>>2]|0)+St>>2]|0),rp[St&31](Et,a),Et=jS(Et)|0,Ft=Ct,Et|0}function jS(a){a=a|0;var dt=0,St=0,Et=0,Ct=0;return Ct=Ft,Ft=Ft+32|0,dt=Ct+12|0,St=Ct,Et=i_(cy()|0)|0,Et?(o_(dt,Et),s_(St,dt),YS(a,St),a=a_(dt)|0):a=XS(a)|0,Ft=Ct,a|0}function cy(){var a=0;return ft[7632]|0||(i3(9184),Dn(25,9184,fn|0)|0,a=7632,s[a>>2]=1,s[a+4>>2]=0),9184}function i_(a){return a=a|0,s[a+36>>2]|0}function o_(a,dt){a=a|0,dt=dt|0,s[a>>2]=dt,s[a+4>>2]=a,s[a+8>>2]=0}function s_(a,dt){a=a|0,dt=dt|0,s[a>>2]=s[dt>>2],s[a+4>>2]=s[dt+4>>2],s[a+8>>2]=0}function YS(a,dt){a=a|0,dt=dt|0,QS(dt,a,a+8|0,a+16|0,a+24|0,a+32|0,a+40|0)|0}function a_(a){return a=a|0,s[(s[a+4>>2]|0)+8>>2]|0}function XS(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;un=Ft,Ft=Ft+16|0,St=un+4|0,Et=un,Ct=Cu(8)|0,kt=Ct,Ut=uo(48)|0,en=Ut,dt=en+48|0;do s[en>>2]=s[a>>2],en=en+4|0,a=a+4|0;while((en|0)<(dt|0));return dt=kt+4|0,s[dt>>2]=Ut,en=uo(8)|0,Ut=s[dt>>2]|0,s[Et>>2]=0,s[St>>2]=s[Et>>2],fy(en,Ut,St),s[Ct>>2]=en,Ft=un,kt|0}function fy(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,St=uo(16)|0,s[St+4>>2]=0,s[St+8>>2]=0,s[St>>2]=1092,s[St+12>>2]=dt,s[a+4>>2]=St}function qS(a){a=a|0,x2(a),Gr(a)}function KS(a){a=a|0,a=s[a+12>>2]|0,a|0&&Gr(a)}function ZS(a){a=a|0,Gr(a)}function QS(a,dt,St,Et,Ct,kt,Ut){return a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,Ut=Ut|0,kt=JS(s[a>>2]|0,dt,St,Et,Ct,kt,Ut)|0,Ut=a+4|0,s[(s[Ut>>2]|0)+8>>2]=kt,s[(s[Ut>>2]|0)+8>>2]|0}function JS(a,dt,St,Et,Ct,kt,Ut){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,Ut=Ut|0;var en=0,un=0;return en=Ft,Ft=Ft+16|0,un=en,Pu(un),a=Xs(a)|0,Ut=e3(a,+Nt[dt>>3],+Nt[St>>3],+Nt[Et>>3],+Nt[Ct>>3],+Nt[kt>>3],+Nt[Ut>>3])|0,ku(un),Ft=en,Ut|0}function e3(a,dt,St,Et,Ct,kt,Ut){a=a|0,dt=+dt,St=+St,Et=+Et,Ct=+Ct,kt=+kt,Ut=+Ut;var en=0;return en=$a(t3()|0)|0,dt=+Tu(dt),St=+Tu(St),Et=+Tu(Et),Ct=+Tu(Ct),kt=+Tu(kt),qo(0,en|0,a|0,+dt,+St,+Et,+Ct,+kt,+ +Tu(Ut))|0}function t3(){var a=0;return ft[7624]|0||(n3(9172),a=7624,s[a>>2]=1,s[a+4>>2]=0),9172}function n3(a){a=a|0,hu(a,r3()|0,6)}function r3(){return 1112}function i3(a){a=a|0,Bp(a)}function o3(a){a=a|0,dy(a+24|0),hy(a+16|0)}function dy(a){a=a|0,a3(a)}function hy(a){a=a|0,s3(a)}function s3(a){a=a|0;var dt=0,St=0;if(dt=s[a>>2]|0,dt|0)do St=dt,dt=s[dt>>2]|0,Gr(St);while(dt|0);s[a>>2]=0}function a3(a){a=a|0;var dt=0,St=0;if(dt=s[a>>2]|0,dt|0)do St=dt,dt=s[dt>>2]|0,Gr(St);while(dt|0);s[a>>2]=0}function Bp(a){a=a|0;var dt=0;s[a+16>>2]=0,s[a+20>>2]=0,dt=a+24|0,s[dt>>2]=0,s[a+28>>2]=dt,s[a+36>>2]=0,ft[a+40>>0]=0,ft[a+41>>0]=0}function l3(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],u3(a,St,Ct,0),Ft=Et}function u3(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=l_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=c3(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,f3(kt,Et)|0,Et),Ft=Ct}function l_(){var a=0,dt=0;if(ft[7640]|0||(gy(9232),Dn(26,9232,fn|0)|0,dt=7640,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9232)|0)){a=9232,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));gy(9232)}return 9232}function c3(a){return a=a|0,0}function f3(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=l_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],my(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(d3(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function my(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function d3(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=h3(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,p3(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],my(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,m3(a,en),g3(en),Ft=gn;return}}function h3(a){return a=a|0,357913941}function p3(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function m3(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function g3(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function gy(a){a=a|0,y3(a)}function v3(a){a=a|0,_3(a+24|0)}function _3(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function y3(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,1,dt,x3()|0,3),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function x3(){return 1144}function S3(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=+St,Et=+Et,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0;kt=Ft,Ft=Ft+16|0,Ut=kt+8|0,en=kt,un=w3(a)|0,a=s[un+4>>2]|0,s[en>>2]=s[un>>2],s[en+4>>2]=a,s[Ut>>2]=s[en>>2],s[Ut+4>>2]=s[en+4>>2],M3(dt,Ut,St,Et,Ct),Ft=kt}function w3(a){return a=a|0,(s[(l_()|0)+24>>2]|0)+(a*12|0)|0}function M3(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=+St,Et=+Et,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0,gn=0;gn=Ft,Ft=Ft+16|0,Ut=gn+2|0,en=gn+1|0,un=gn,kt=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(kt=s[(s[a>>2]|0)+kt>>2]|0),C0(Ut,St),St=+P0(Ut,St),C0(en,Et),Et=+P0(en,Et),_h(un,Ct),un=ep(un,Ct)|0,DS[kt&1](a,St,Et,un),Ft=gn}function C0(a,dt){a=a|0,dt=+dt}function P0(a,dt){return a=a|0,dt=+dt,+ +T3(dt)}function _h(a,dt){a=a|0,dt=dt|0}function ep(a,dt){return a=a|0,dt=dt|0,E3(dt)|0}function E3(a){return a=a|0,a|0}function T3(a){return a=+a,+a}function A3(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],C3(a,St,Ct,1),Ft=Et}function C3(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=u_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=P3(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,k3(kt,Et)|0,Et),Ft=Ct}function u_(){var a=0,dt=0;if(ft[7648]|0||(yy(9268),Dn(27,9268,fn|0)|0,dt=7648,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9268)|0)){a=9268,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));yy(9268)}return 9268}function P3(a){return a=a|0,0}function k3(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=u_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],vy(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(L3(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function vy(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function L3(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=R3(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,b3(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],vy(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,I3(a,en),D3(en),Ft=gn;return}}function R3(a){return a=a|0,357913941}function b3(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function I3(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function D3(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function yy(a){a=a|0,N3(a)}function O3(a){a=a|0,F3(a+24|0)}function F3(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function N3(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,4,dt,B3()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function B3(){return 1160}function U3(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0;return St=Ft,Ft=Ft+16|0,Et=St+8|0,Ct=St,kt=z3(a)|0,a=s[kt+4>>2]|0,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=a,s[Et>>2]=s[Ct>>2],s[Et+4>>2]=s[Ct+4>>2],dt=$3(dt,Et)|0,Ft=St,dt|0}function z3(a){return a=a|0,(s[(u_()|0)+24>>2]|0)+(a*12|0)|0}function $3(a,dt){a=a|0,dt=dt|0;var St=0;return St=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(St=s[(s[a>>2]|0)+St>>2]|0),xy(D1[St&31](a)|0)|0}function xy(a){return a=a|0,a&1|0}function V3(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],G3(a,St,Ct,0),Ft=Et}function G3(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=c_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=W3(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,H3(kt,Et)|0,Et),Ft=Ct}function c_(){var a=0,dt=0;if(ft[7656]|0||(wy(9304),Dn(28,9304,fn|0)|0,dt=7656,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9304)|0)){a=9304,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));wy(9304)}return 9304}function W3(a){return a=a|0,0}function H3(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=c_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Sy(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(j3(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Sy(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function j3(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=Y3(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,X3(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Sy(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,q3(a,en),K3(en),Ft=gn;return}}function Y3(a){return a=a|0,357913941}function X3(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function q3(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function K3(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function wy(a){a=a|0,J3(a)}function Z3(a){a=a|0,Q3(a+24|0)}function Q3(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function J3(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,5,dt,ew()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function ew(){return 1164}function tw(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=nw(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],rw(dt,Ct,St),Ft=Et}function nw(a){return a=a|0,(s[(c_()|0)+24>>2]|0)+(a*12|0)|0}function rw(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;kt=Ft,Ft=Ft+16|0,Ct=kt,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),Up(Ct,St),St=zp(Ct,St)|0,rp[Et&31](a,St),$p(Ct),Ft=kt}function Up(a,dt){a=a|0,dt=dt|0,iw(a,dt)}function zp(a,dt){return a=a|0,dt=dt|0,a|0}function $p(a){a=a|0,q0(a)}function iw(a,dt){a=a|0,dt=dt|0,f_(a,dt)}function f_(a,dt){a=a|0,dt=dt|0,s[a>>2]=dt}function ow(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],sw(a,St,Ct,0),Ft=Et}function sw(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=d_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=aw(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,lw(kt,Et)|0,Et),Ft=Ct}function d_(){var a=0,dt=0;if(ft[7664]|0||(Ey(9340),Dn(29,9340,fn|0)|0,dt=7664,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9340)|0)){a=9340,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Ey(9340)}return 9340}function aw(a){return a=a|0,0}function lw(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=d_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],My(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(uw(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function My(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function uw(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=cw(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,fw(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],My(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,dw(a,en),hw(en),Ft=gn;return}}function cw(a){return a=a|0,357913941}function fw(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function dw(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function hw(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function Ey(a){a=a|0,gw(a)}function pw(a){a=a|0,mw(a+24|0)}function mw(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function gw(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,4,dt,vw()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function vw(){return 1180}function _w(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=yw(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],St=xw(dt,Ct,St)|0,Ft=Et,St|0}function yw(a){return a=a|0,(s[(d_()|0)+24>>2]|0)+(a*12|0)|0}function xw(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;return kt=Ft,Ft=Ft+16|0,Ct=kt,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),A1(Ct,St),Ct=C1(Ct,St)|0,Ct=yv(ly[Et&15](a,Ct)|0)|0,Ft=kt,Ct|0}function A1(a,dt){a=a|0,dt=dt|0}function C1(a,dt){return a=a|0,dt=dt|0,Sw(dt)|0}function yv(a){return a=a|0,a|0}function Sw(a){return a=a|0,a|0}function ww(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],Mw(a,St,Ct,0),Ft=Et}function Mw(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=h_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=Ew(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,Tw(kt,Et)|0,Et),Ft=Ct}function h_(){var a=0,dt=0;if(ft[7672]|0||(Ay(9376),Dn(30,9376,fn|0)|0,dt=7672,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9376)|0)){a=9376,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Ay(9376)}return 9376}function Ew(a){return a=a|0,0}function Tw(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=h_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Ty(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(Aw(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Ty(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function Aw(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=Cw(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,Pw(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Ty(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,kw(a,en),Lw(en),Ft=gn;return}}function Cw(a){return a=a|0,357913941}function Pw(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function kw(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function Lw(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function Ay(a){a=a|0,Iw(a)}function Rw(a){a=a|0,bw(a+24|0)}function bw(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function Iw(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,5,dt,Cy()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function Cy(){return 1196}function Dw(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0;return St=Ft,Ft=Ft+16|0,Et=St+8|0,Ct=St,kt=Ow(a)|0,a=s[kt+4>>2]|0,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=a,s[Et>>2]=s[Ct>>2],s[Et+4>>2]=s[Ct+4>>2],dt=Fw(dt,Et)|0,Ft=St,dt|0}function Ow(a){return a=a|0,(s[(h_()|0)+24>>2]|0)+(a*12|0)|0}function Fw(a,dt){a=a|0,dt=dt|0;var St=0;return St=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(St=s[(s[a>>2]|0)+St>>2]|0),yv(D1[St&31](a)|0)|0}function Nw(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],Bw(a,St,Ct,1),Ft=Et}function Bw(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=p_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=Uw(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,zw(kt,Et)|0,Et),Ft=Ct}function p_(){var a=0,dt=0;if(ft[7680]|0||(ky(9412),Dn(31,9412,fn|0)|0,dt=7680,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9412)|0)){a=9412,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));ky(9412)}return 9412}function Uw(a){return a=a|0,0}function zw(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=p_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Py(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):($w(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Py(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function $w(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=Vw(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,Gw(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Py(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,Ww(a,en),Hw(en),Ft=gn;return}}function Vw(a){return a=a|0,357913941}function Gw(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function Ww(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function Hw(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function ky(a){a=a|0,Xw(a)}function jw(a){a=a|0,Yw(a+24|0)}function Yw(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function Xw(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,6,dt,Ly()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function Ly(){return 1200}function qw(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0;return St=Ft,Ft=Ft+16|0,Et=St+8|0,Ct=St,kt=Kw(a)|0,a=s[kt+4>>2]|0,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=a,s[Et>>2]=s[Ct>>2],s[Et+4>>2]=s[Ct+4>>2],dt=Zw(dt,Et)|0,Ft=St,dt|0}function Kw(a){return a=a|0,(s[(p_()|0)+24>>2]|0)+(a*12|0)|0}function Zw(a,dt){a=a|0,dt=dt|0;var St=0;return St=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(St=s[(s[a>>2]|0)+St>>2]|0),xv(D1[St&31](a)|0)|0}function xv(a){return a=a|0,a|0}function Qw(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],Jw(a,St,Ct,0),Ft=Et}function Jw(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=m_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=e4(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,t4(kt,Et)|0,Et),Ft=Ct}function m_(){var a=0,dt=0;if(ft[7688]|0||(by(9448),Dn(32,9448,fn|0)|0,dt=7688,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9448)|0)){a=9448,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));by(9448)}return 9448}function e4(a){return a=a|0,0}function t4(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=m_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Ry(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(n4(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Ry(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function n4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=r4(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,i4(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Ry(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,o4(a,en),s4(en),Ft=gn;return}}function r4(a){return a=a|0,357913941}function i4(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function o4(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function s4(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function by(a){a=a|0,u4(a)}function a4(a){a=a|0,l4(a+24|0)}function l4(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function u4(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,6,dt,Iy()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function Iy(){return 1204}function c4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=f4(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],d4(dt,Ct,St),Ft=Et}function f4(a){return a=a|0,(s[(m_()|0)+24>>2]|0)+(a*12|0)|0}function d4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;kt=Ft,Ft=Ft+16|0,Ct=kt,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),g_(Ct,St),Ct=v_(Ct,St)|0,rp[Et&31](a,Ct),Ft=kt}function g_(a,dt){a=a|0,dt=dt|0}function v_(a,dt){return a=a|0,dt=dt|0,h4(dt)|0}function h4(a){return a=a|0,a|0}function p4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],m4(a,St,Ct,0),Ft=Et}function m4(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=__()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=g4(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,v4(kt,Et)|0,Et),Ft=Ct}function __(){var a=0,dt=0;if(ft[7696]|0||(Oy(9484),Dn(33,9484,fn|0)|0,dt=7696,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9484)|0)){a=9484,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Oy(9484)}return 9484}function g4(a){return a=a|0,0}function v4(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=__()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Dy(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(_4(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Dy(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function _4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=y4(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,x4(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Dy(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,S4(a,en),w4(en),Ft=gn;return}}function y4(a){return a=a|0,357913941}function x4(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function S4(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function w4(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function Oy(a){a=a|0,T4(a)}function M4(a){a=a|0,E4(a+24|0)}function E4(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function T4(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,1,dt,A4()|0,2),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function A4(){return 1212}function C4(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0;Ct=Ft,Ft=Ft+16|0,kt=Ct+8|0,Ut=Ct,en=P4(a)|0,a=s[en+4>>2]|0,s[Ut>>2]=s[en>>2],s[Ut+4>>2]=a,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=s[Ut+4>>2],k4(dt,kt,St,Et),Ft=Ct}function P4(a){return a=a|0,(s[(__()|0)+24>>2]|0)+(a*12|0)|0}function k4(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0;en=Ft,Ft=Ft+16|0,kt=en+1|0,Ut=en,Ct=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Ct=s[(s[a>>2]|0)+Ct>>2]|0),g_(kt,St),kt=v_(kt,St)|0,A1(Ut,Et),Ut=C1(Ut,Et)|0,wm[Ct&15](a,kt,Ut),Ft=en}function L4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],R4(a,St,Ct,1),Ft=Et}function R4(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=y_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=b4(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,I4(kt,Et)|0,Et),Ft=Ct}function y_(){var a=0,dt=0;if(ft[7704]|0||(Ny(9520),Dn(34,9520,fn|0)|0,dt=7704,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9520)|0)){a=9520,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Ny(9520)}return 9520}function b4(a){return a=a|0,0}function I4(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=y_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Fy(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(D4(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Fy(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function D4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=O4(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,F4(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Fy(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,N4(a,en),B4(en),Ft=gn;return}}function O4(a){return a=a|0,357913941}function F4(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function N4(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function B4(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function Ny(a){a=a|0,$4(a)}function U4(a){a=a|0,z4(a+24|0)}function z4(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function $4(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,1,dt,V4()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function V4(){return 1224}function G4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;return Ct=Ft,Ft=Ft+16|0,kt=Ct+8|0,Ut=Ct,en=W4(a)|0,a=s[en+4>>2]|0,s[Ut>>2]=s[en>>2],s[Ut+4>>2]=a,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=s[Ut+4>>2],Et=+H4(dt,kt,St),Ft=Ct,+Et}function W4(a){return a=a|0,(s[(y_()|0)+24>>2]|0)+(a*12|0)|0}function H4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return kt=Ft,Ft=Ft+16|0,Ct=kt,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),_h(Ct,St),Ct=ep(Ct,St)|0,Ut=+d2(+NS[Et&7](a,Ct)),Ft=kt,+Ut}function j4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],Y4(a,St,Ct,1),Ft=Et}function Y4(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=x_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=X4(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,q4(kt,Et)|0,Et),Ft=Ct}function x_(){var a=0,dt=0;if(ft[7712]|0||(Uy(9556),Dn(35,9556,fn|0)|0,dt=7712,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9556)|0)){a=9556,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Uy(9556)}return 9556}function X4(a){return a=a|0,0}function q4(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=x_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],By(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(K4(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function By(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function K4(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=Z4(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,Q4(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],By(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,J4(a,en),eM(en),Ft=gn;return}}function Z4(a){return a=a|0,357913941}function Q4(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function J4(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function eM(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function Uy(a){a=a|0,rM(a)}function tM(a){a=a|0,nM(a+24|0)}function nM(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function rM(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,5,dt,iM()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function iM(){return 1232}function oM(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=sM(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],St=+aM(dt,Ct),Ft=Et,+St}function sM(a){return a=a|0,(s[(x_()|0)+24>>2]|0)+(a*12|0)|0}function aM(a,dt){a=a|0,dt=dt|0;var St=0;return St=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(St=s[(s[a>>2]|0)+St>>2]|0),+ +d2(+OS[St&15](a))}function lM(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],uM(a,St,Ct,1),Ft=Et}function uM(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=S_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=cM(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,fM(kt,Et)|0,Et),Ft=Ct}function S_(){var a=0,dt=0;if(ft[7720]|0||($y(9592),Dn(36,9592,fn|0)|0,dt=7720,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9592)|0)){a=9592,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));$y(9592)}return 9592}function cM(a){return a=a|0,0}function fM(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=S_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],zy(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(dM(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function zy(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function dM(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=hM(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,pM(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],zy(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,mM(a,en),gM(en),Ft=gn;return}}function hM(a){return a=a|0,357913941}function pM(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function mM(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function gM(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function $y(a){a=a|0,yM(a)}function vM(a){a=a|0,_M(a+24|0)}function _M(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function yM(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,7,dt,xM()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function xM(){return 1276}function SM(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0;return St=Ft,Ft=Ft+16|0,Et=St+8|0,Ct=St,kt=wM(a)|0,a=s[kt+4>>2]|0,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=a,s[Et>>2]=s[Ct>>2],s[Et+4>>2]=s[Ct+4>>2],dt=MM(dt,Et)|0,Ft=St,dt|0}function wM(a){return a=a|0,(s[(S_()|0)+24>>2]|0)+(a*12|0)|0}function MM(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0;return Ct=Ft,Ft=Ft+16|0,Et=Ct,St=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(St=s[(s[a>>2]|0)+St>>2]|0),rp[St&31](Et,a),Et=Vy(Et)|0,Ft=Ct,Et|0}function Vy(a){a=a|0;var dt=0,St=0,Et=0,Ct=0;return Ct=Ft,Ft=Ft+32|0,dt=Ct+12|0,St=Ct,Et=i_(Gy()|0)|0,Et?(o_(dt,Et),s_(St,dt),EM(a,St),a=a_(dt)|0):a=TM(a)|0,Ft=Ct,a|0}function Gy(){var a=0;return ft[7736]|0||(OM(9640),Dn(25,9640,fn|0)|0,a=7736,s[a>>2]=1,s[a+4>>2]=0),9640}function EM(a,dt){a=a|0,dt=dt|0,kM(dt,a,a+8|0)|0}function TM(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0;return St=Ft,Ft=Ft+16|0,Ct=St+4|0,Ut=St,Et=Cu(8)|0,dt=Et,en=uo(16)|0,s[en>>2]=s[a>>2],s[en+4>>2]=s[a+4>>2],s[en+8>>2]=s[a+8>>2],s[en+12>>2]=s[a+12>>2],kt=dt+4|0,s[kt>>2]=en,a=uo(8)|0,kt=s[kt>>2]|0,s[Ut>>2]=0,s[Ct>>2]=s[Ut>>2],w_(a,kt,Ct),s[Et>>2]=a,Ft=St,dt|0}function w_(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,St=uo(16)|0,s[St+4>>2]=0,s[St+8>>2]=0,s[St>>2]=1244,s[St+12>>2]=dt,s[a+4>>2]=St}function AM(a){a=a|0,x2(a),Gr(a)}function CM(a){a=a|0,a=s[a+12>>2]|0,a|0&&Gr(a)}function PM(a){a=a|0,Gr(a)}function kM(a,dt,St){return a=a|0,dt=dt|0,St=St|0,dt=LM(s[a>>2]|0,dt,St)|0,St=a+4|0,s[(s[St>>2]|0)+8>>2]=dt,s[(s[St>>2]|0)+8>>2]|0}function LM(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0;return Et=Ft,Ft=Ft+16|0,Ct=Et,Pu(Ct),a=Xs(a)|0,St=RM(a,s[dt>>2]|0,+Nt[St>>3])|0,ku(Ct),Ft=Et,St|0}function RM(a,dt,St){a=a|0,dt=dt|0,St=+St;var Et=0;return Et=$a(bM()|0)|0,dt=Np(dt)|0,Yo(0,Et|0,a|0,dt|0,+ +Tu(St))|0}function bM(){var a=0;return ft[7728]|0||(IM(9628),a=7728,s[a>>2]=1,s[a+4>>2]=0),9628}function IM(a){a=a|0,hu(a,DM()|0,2)}function DM(){return 1264}function OM(a){a=a|0,Bp(a)}function FM(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],NM(a,St,Ct,1),Ft=Et}function NM(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=M_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=BM(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,UM(kt,Et)|0,Et),Ft=Ct}function M_(){var a=0,dt=0;if(ft[7744]|0||(Hy(9684),Dn(37,9684,fn|0)|0,dt=7744,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9684)|0)){a=9684,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Hy(9684)}return 9684}function BM(a){return a=a|0,0}function UM(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=M_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Wy(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(zM(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Wy(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function zM(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=$M(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,VM(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Wy(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,GM(a,en),WM(en),Ft=gn;return}}function $M(a){return a=a|0,357913941}function VM(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function GM(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function WM(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function Hy(a){a=a|0,YM(a)}function HM(a){a=a|0,jM(a+24|0)}function jM(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function YM(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,5,dt,XM()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function XM(){return 1280}function qM(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=KM(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],St=ZM(dt,Ct,St)|0,Ft=Et,St|0}function KM(a){return a=a|0,(s[(M_()|0)+24>>2]|0)+(a*12|0)|0}function ZM(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Ut=Ft,Ft=Ft+32|0,Ct=Ut,kt=Ut+16|0,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),_h(kt,St),kt=ep(kt,St)|0,wm[Et&15](Ct,a,kt),kt=Vy(Ct)|0,Ft=Ut,kt|0}function QM(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],JM(a,St,Ct,1),Ft=Et}function JM(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=E_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=eE(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,tE(kt,Et)|0,Et),Ft=Ct}function E_(){var a=0,dt=0;if(ft[7752]|0||(Yy(9720),Dn(38,9720,fn|0)|0,dt=7752,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9720)|0)){a=9720,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Yy(9720)}return 9720}function eE(a){return a=a|0,0}function tE(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=E_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],jy(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(nE(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function jy(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function nE(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=rE(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,iE(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],jy(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,oE(a,en),sE(en),Ft=gn;return}}function rE(a){return a=a|0,357913941}function iE(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function oE(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function sE(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function Yy(a){a=a|0,uE(a)}function aE(a){a=a|0,lE(a+24|0)}function lE(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function uE(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,8,dt,cE()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function cE(){return 1288}function fE(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0;return St=Ft,Ft=Ft+16|0,Et=St+8|0,Ct=St,kt=dE(a)|0,a=s[kt+4>>2]|0,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=a,s[Et>>2]=s[Ct>>2],s[Et+4>>2]=s[Ct+4>>2],dt=hE(dt,Et)|0,Ft=St,dt|0}function dE(a){return a=a|0,(s[(E_()|0)+24>>2]|0)+(a*12|0)|0}function hE(a,dt){a=a|0,dt=dt|0;var St=0;return St=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(St=s[(s[a>>2]|0)+St>>2]|0),Cl(D1[St&31](a)|0)|0}function pE(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],mE(a,St,Ct,0),Ft=Et}function mE(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=T_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=gE(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,vE(kt,Et)|0,Et),Ft=Ct}function T_(){var a=0,dt=0;if(ft[7760]|0||(qy(9756),Dn(39,9756,fn|0)|0,dt=7760,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9756)|0)){a=9756,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));qy(9756)}return 9756}function gE(a){return a=a|0,0}function vE(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=T_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Xy(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(_E(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Xy(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function _E(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=yE(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,xE(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Xy(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,SE(a,en),wE(en),Ft=gn;return}}function yE(a){return a=a|0,357913941}function xE(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function SE(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function wE(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function qy(a){a=a|0,TE(a)}function ME(a){a=a|0,EE(a+24|0)}function EE(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function TE(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,8,dt,AE()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function AE(){return 1292}function CE(a,dt,St){a=a|0,dt=dt|0,St=+St;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=PE(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],kE(dt,Ct,St),Ft=Et}function PE(a){return a=a|0,(s[(T_()|0)+24>>2]|0)+(a*12|0)|0}function kE(a,dt,St){a=a|0,dt=dt|0,St=+St;var Et=0,Ct=0,kt=0;kt=Ft,Ft=Ft+16|0,Ct=kt,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),C0(Ct,St),St=+P0(Ct,St),bS[Et&31](a,St),Ft=kt}function LE(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],RE(a,St,Ct,0),Ft=Et}function RE(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=A_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=bE(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,IE(kt,Et)|0,Et),Ft=Ct}function A_(){var a=0,dt=0;if(ft[7768]|0||(Zy(9792),Dn(40,9792,fn|0)|0,dt=7768,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9792)|0)){a=9792,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Zy(9792)}return 9792}function bE(a){return a=a|0,0}function IE(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=A_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Ky(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(DE(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Ky(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function DE(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=OE(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,FE(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Ky(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,NE(a,en),BE(en),Ft=gn;return}}function OE(a){return a=a|0,357913941}function FE(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function NE(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function BE(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function Zy(a){a=a|0,$E(a)}function UE(a){a=a|0,zE(a+24|0)}function zE(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function $E(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,1,dt,VE()|0,2),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function VE(){return 1300}function GE(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=+Et;var Ct=0,kt=0,Ut=0,en=0;Ct=Ft,Ft=Ft+16|0,kt=Ct+8|0,Ut=Ct,en=WE(a)|0,a=s[en+4>>2]|0,s[Ut>>2]=s[en>>2],s[Ut+4>>2]=a,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=s[Ut+4>>2],HE(dt,kt,St,Et),Ft=Ct}function WE(a){return a=a|0,(s[(A_()|0)+24>>2]|0)+(a*12|0)|0}function HE(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=+Et;var Ct=0,kt=0,Ut=0,en=0;en=Ft,Ft=Ft+16|0,kt=en+1|0,Ut=en,Ct=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Ct=s[(s[a>>2]|0)+Ct>>2]|0),_h(kt,St),kt=ep(kt,St)|0,C0(Ut,Et),Et=+P0(Ut,Et),$S[Ct&15](a,kt,Et),Ft=en}function jE(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],YE(a,St,Ct,0),Ft=Et}function YE(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=C_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=XE(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,qE(kt,Et)|0,Et),Ft=Ct}function C_(){var a=0,dt=0;if(ft[7776]|0||(Jy(9828),Dn(41,9828,fn|0)|0,dt=7776,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9828)|0)){a=9828,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Jy(9828)}return 9828}function XE(a){return a=a|0,0}function qE(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=C_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],Qy(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(KE(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function Qy(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function KE(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=ZE(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,QE(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],Qy(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,JE(a,en),eT(en),Ft=gn;return}}function ZE(a){return a=a|0,357913941}function QE(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function JE(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function eT(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function Jy(a){a=a|0,rT(a)}function tT(a){a=a|0,nT(a+24|0)}function nT(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function rT(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,7,dt,iT()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function iT(){return 1312}function oT(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=sT(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],aT(dt,Ct,St),Ft=Et}function sT(a){return a=a|0,(s[(C_()|0)+24>>2]|0)+(a*12|0)|0}function aT(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;kt=Ft,Ft=Ft+16|0,Ct=kt,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),_h(Ct,St),Ct=ep(Ct,St)|0,rp[Et&31](a,Ct),Ft=kt}function lT(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],uT(a,St,Ct,0),Ft=Et}function uT(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=P_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=cT(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,fT(kt,Et)|0,Et),Ft=Ct}function P_(){var a=0,dt=0;if(ft[7784]|0||(tx(9864),Dn(42,9864,fn|0)|0,dt=7784,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9864)|0)){a=9864,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));tx(9864)}return 9864}function cT(a){return a=a|0,0}function fT(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=P_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],ex(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(dT(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function ex(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function dT(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=hT(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,pT(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],ex(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,mT(a,en),gT(en),Ft=gn;return}}function hT(a){return a=a|0,357913941}function pT(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function mT(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function gT(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function tx(a){a=a|0,yT(a)}function vT(a){a=a|0,_T(a+24|0)}function _T(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function yT(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,8,dt,xT()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function xT(){return 1320}function ST(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=wT(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],MT(dt,Ct,St),Ft=Et}function wT(a){return a=a|0,(s[(P_()|0)+24>>2]|0)+(a*12|0)|0}function MT(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;kt=Ft,Ft=Ft+16|0,Ct=kt,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),ET(Ct,St),Ct=TT(Ct,St)|0,rp[Et&31](a,Ct),Ft=kt}function ET(a,dt){a=a|0,dt=dt|0}function TT(a,dt){return a=a|0,dt=dt|0,AT(dt)|0}function AT(a){return a=a|0,a|0}function CT(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],PT(a,St,Ct,0),Ft=Et}function PT(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=k_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=kT(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,LT(kt,Et)|0,Et),Ft=Ct}function k_(){var a=0,dt=0;if(ft[7792]|0||(rx(9900),Dn(43,9900,fn|0)|0,dt=7792,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9900)|0)){a=9900,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));rx(9900)}return 9900}function kT(a){return a=a|0,0}function LT(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=k_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],nx(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(RT(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function nx(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function RT(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=bT(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,IT(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],nx(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,DT(a,en),OT(en),Ft=gn;return}}function bT(a){return a=a|0,357913941}function IT(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function DT(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function OT(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function rx(a){a=a|0,BT(a)}function FT(a){a=a|0,NT(a+24|0)}function NT(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function BT(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,22,dt,UT()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function UT(){return 1344}function zT(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0;St=Ft,Ft=Ft+16|0,Et=St+8|0,Ct=St,kt=$T(a)|0,a=s[kt+4>>2]|0,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=a,s[Et>>2]=s[Ct>>2],s[Et+4>>2]=s[Ct+4>>2],VT(dt,Et),Ft=St}function $T(a){return a=a|0,(s[(k_()|0)+24>>2]|0)+(a*12|0)|0}function VT(a,dt){a=a|0,dt=dt|0;var St=0;St=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(St=s[(s[a>>2]|0)+St>>2]|0),np[St&127](a)}function GT(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=L_()|0,a=WT(St)|0,so(kt,dt,Ct,a,HT(St,Et)|0,Et)}function L_(){var a=0,dt=0;if(ft[7800]|0||(ox(9936),Dn(44,9936,fn|0)|0,dt=7800,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9936)|0)){a=9936,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));ox(9936)}return 9936}function WT(a){return a=a|0,a|0}function HT(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=L_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(ix(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(jT(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function ix(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function jT(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=YT(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,XT(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,ix(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,qT(a,Ct),KT(Ct),Ft=en;return}}function YT(a){return a=a|0,536870911}function XT(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function qT(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function KT(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function ox(a){a=a|0,JT(a)}function ZT(a){a=a|0,QT(a+24|0)}function QT(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function JT(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,23,dt,Iy()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function eA(a,dt){a=a|0,dt=dt|0,nA(s[(tA(a)|0)>>2]|0,dt)}function tA(a){return a=a|0,(s[(L_()|0)+24>>2]|0)+(a<<3)|0}function nA(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,g_(Et,dt),dt=v_(Et,dt)|0,np[a&127](dt),Ft=St}function rA(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=R_()|0,a=iA(St)|0,so(kt,dt,Ct,a,oA(St,Et)|0,Et)}function R_(){var a=0,dt=0;if(ft[7808]|0||(ax(9972),Dn(45,9972,fn|0)|0,dt=7808,s[dt>>2]=1,s[dt+4>>2]=0),!(io(9972)|0)){a=9972,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));ax(9972)}return 9972}function iA(a){return a=a|0,a|0}function oA(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=R_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(sx(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(sA(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function sx(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function sA(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=aA(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,lA(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,sx(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,uA(a,Ct),cA(Ct),Ft=en;return}}function aA(a){return a=a|0,536870911}function lA(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function uA(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function cA(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function ax(a){a=a|0,hA(a)}function fA(a){a=a|0,dA(a+24|0)}function dA(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function hA(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,9,dt,pA()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function pA(){return 1348}function mA(a,dt){return a=a|0,dt=dt|0,vA(s[(gA(a)|0)>>2]|0,dt)|0}function gA(a){return a=a|0,(s[(R_()|0)+24>>2]|0)+(a<<3)|0}function vA(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;return St=Ft,Ft=Ft+16|0,Et=St,lx(Et,dt),dt=ux(Et,dt)|0,dt=yv(D1[a&31](dt)|0)|0,Ft=St,dt|0}function lx(a,dt){a=a|0,dt=dt|0}function ux(a,dt){return a=a|0,dt=dt|0,_A(dt)|0}function _A(a){return a=a|0,a|0}function yA(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=b_()|0,a=xA(St)|0,so(kt,dt,Ct,a,SA(St,Et)|0,Et)}function b_(){var a=0,dt=0;if(ft[7816]|0||(fx(10008),Dn(46,10008,fn|0)|0,dt=7816,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10008)|0)){a=10008,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));fx(10008)}return 10008}function xA(a){return a=a|0,a|0}function SA(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=b_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(cx(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(wA(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function cx(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function wA(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=MA(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,EA(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,cx(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,TA(a,Ct),AA(Ct),Ft=en;return}}function MA(a){return a=a|0,536870911}function EA(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function TA(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function AA(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function fx(a){a=a|0,kA(a)}function CA(a){a=a|0,PA(a+24|0)}function PA(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function kA(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,15,dt,Cy()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function LA(a){return a=a|0,bA(s[(RA(a)|0)>>2]|0)|0}function RA(a){return a=a|0,(s[(b_()|0)+24>>2]|0)+(a<<3)|0}function bA(a){return a=a|0,yv(Dv[a&7]()|0)|0}function IA(){var a=0;return ft[7832]|0||($A(10052),Dn(25,10052,fn|0)|0,a=7832,s[a>>2]=1,s[a+4>>2]=0),10052}function DA(a,dt){a=a|0,dt=dt|0,s[a>>2]=OA()|0,s[a+4>>2]=FA()|0,s[a+12>>2]=dt,s[a+8>>2]=NA()|0,s[a+32>>2]=2}function OA(){return 11709}function FA(){return 1188}function NA(){return Sv()|0}function BA(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,(Vp(Et,896)|0)==512?St|0&&(UA(St),Gr(St)):dt|0&&(Q1(dt),Gr(dt))}function Vp(a,dt){return a=a|0,dt=dt|0,dt&a|0}function UA(a){a=a|0,a=s[a+4>>2]|0,a|0&&Wp(a)}function Sv(){var a=0;return ft[7824]|0||(s[2511]=zA()|0,s[2512]=0,a=7824,s[a>>2]=1,s[a+4>>2]=0),10044}function zA(){return 0}function $A(a){a=a|0,Bp(a)}function VA(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0;dt=Ft,Ft=Ft+32|0,St=dt+24|0,kt=dt+16|0,Ct=dt+8|0,Et=dt,GA(a,4827),WA(a,4834,3)|0,HA(a,3682,47)|0,s[kt>>2]=9,s[kt+4>>2]=0,s[St>>2]=s[kt>>2],s[St+4>>2]=s[kt+4>>2],jA(a,4841,St)|0,s[Ct>>2]=1,s[Ct+4>>2]=0,s[St>>2]=s[Ct>>2],s[St+4>>2]=s[Ct+4>>2],YA(a,4871,St)|0,s[Et>>2]=10,s[Et+4>>2]=0,s[St>>2]=s[Et>>2],s[St+4>>2]=s[Et+4>>2],XA(a,4891,St)|0,Ft=dt}function GA(a,dt){a=a|0,dt=dt|0;var St=0;St=AP()|0,s[a>>2]=St,CP(St,dt),Gp(s[a>>2]|0)}function WA(a,dt,St){return a=a|0,dt=dt|0,St=St|0,cP(a,Vn(dt)|0,St,0),a|0}function HA(a,dt,St){return a=a|0,dt=dt|0,St=St|0,qC(a,Vn(dt)|0,St,0),a|0}function jA(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],LC(a,dt,Ct),Ft=Et,a|0}function YA(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],fC(a,dt,Ct),Ft=Et,a|0}function XA(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=s[St+4>>2]|0,s[kt>>2]=s[St>>2],s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],qA(a,dt,Ct),Ft=Et,a|0}function qA(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],KA(a,St,Ct,1),Ft=Et}function KA(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=I_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=ZA(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,QA(kt,Et)|0,Et),Ft=Ct}function I_(){var a=0,dt=0;if(ft[7840]|0||(hx(10100),Dn(48,10100,fn|0)|0,dt=7840,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10100)|0)){a=10100,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));hx(10100)}return 10100}function ZA(a){return a=a|0,0}function QA(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=I_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],dx(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(JA(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function dx(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function JA(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=eC(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,tC(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],dx(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,nC(a,en),rC(en),Ft=gn;return}}function eC(a){return a=a|0,357913941}function tC(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function nC(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function rC(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function hx(a){a=a|0,sC(a)}function iC(a){a=a|0,oC(a+24|0)}function oC(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function sC(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,6,dt,aC()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function aC(){return 1364}function lC(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;return Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=uC(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],St=cC(dt,Ct,St)|0,Ft=Et,St|0}function uC(a){return a=a|0,(s[(I_()|0)+24>>2]|0)+(a*12|0)|0}function cC(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;return kt=Ft,Ft=Ft+16|0,Ct=kt,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),_h(Ct,St),Ct=ep(Ct,St)|0,Ct=xy(ly[Et&15](a,Ct)|0)|0,Ft=kt,Ct|0}function fC(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],dC(a,St,Ct,0),Ft=Et}function dC(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=D_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=hC(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,pC(kt,Et)|0,Et),Ft=Ct}function D_(){var a=0,dt=0;if(ft[7848]|0||(gx(10136),Dn(49,10136,fn|0)|0,dt=7848,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10136)|0)){a=10136,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));gx(10136)}return 10136}function hC(a){return a=a|0,0}function pC(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=D_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],mx(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(mC(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function mx(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function mC(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=gC(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,vC(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],mx(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,_C(a,en),yC(en),Ft=gn;return}}function gC(a){return a=a|0,357913941}function vC(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function _C(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function yC(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function gx(a){a=a|0,wC(a)}function xC(a){a=a|0,SC(a+24|0)}function SC(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function wC(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,9,dt,MC()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function MC(){return 1372}function EC(a,dt,St){a=a|0,dt=dt|0,St=+St;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,Ut=TC(a)|0,a=s[Ut+4>>2]|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=a,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],AC(dt,Ct,St),Ft=Et}function TC(a){return a=a|0,(s[(D_()|0)+24>>2]|0)+(a*12|0)|0}function AC(a,dt,St){a=a|0,dt=dt|0,St=+St;var Et=0,Ct=0,kt=0,Ut=Hr;kt=Ft,Ft=Ft+16|0,Ct=kt,Et=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Et=s[(s[a>>2]|0)+Et>>2]|0),CC(Ct,St),Ut=Zt(PC(Ct,St)),RS[Et&1](a,Ut),Ft=kt}function CC(a,dt){a=a|0,dt=+dt}function PC(a,dt){return a=a|0,dt=+dt,Zt(kC(dt))}function kC(a){return a=+a,Zt(a)}function LC(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,Ct=Et+8|0,kt=Et,en=s[St>>2]|0,Ut=s[St+4>>2]|0,St=Vn(dt)|0,s[kt>>2]=en,s[kt+4>>2]=Ut,s[Ct>>2]=s[kt>>2],s[Ct+4>>2]=s[kt+4>>2],RC(a,St,Ct,0),Ft=Et}function RC(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;Ct=Ft,Ft=Ft+32|0,kt=Ct+16|0,pn=Ct+8|0,en=Ct,gn=s[St>>2]|0,un=s[St+4>>2]|0,Ut=s[a>>2]|0,a=O_()|0,s[pn>>2]=gn,s[pn+4>>2]=un,s[kt>>2]=s[pn>>2],s[kt+4>>2]=s[pn+4>>2],St=bC(kt)|0,s[en>>2]=gn,s[en+4>>2]=un,s[kt>>2]=s[en>>2],s[kt+4>>2]=s[en+4>>2],so(Ut,dt,a,St,IC(kt,Et)|0,Et),Ft=Ct}function O_(){var a=0,dt=0;if(ft[7856]|0||(yx(10172),Dn(50,10172,fn|0)|0,dt=7856,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10172)|0)){a=10172,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));yx(10172)}return 10172}function bC(a){return a=a|0,0}function IC(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0;return pn=Ft,Ft=Ft+32|0,Ct=pn+24|0,Ut=pn+16|0,en=pn,un=pn+8|0,kt=s[a>>2]|0,Et=s[a+4>>2]|0,s[en>>2]=kt,s[en+4>>2]=Et,En=O_()|0,gn=En+24|0,a=lo(dt,4)|0,s[un>>2]=a,dt=En+28|0,St=s[dt>>2]|0,St>>>0<(s[En+32>>2]|0)>>>0?(s[Ut>>2]=kt,s[Ut+4>>2]=Et,s[Ct>>2]=s[Ut>>2],s[Ct+4>>2]=s[Ut+4>>2],vx(St,Ct,a),a=(s[dt>>2]|0)+12|0,s[dt>>2]=a):(DC(gn,en,un),a=s[dt>>2]|0),Ft=pn,((a-(s[gn>>2]|0)|0)/12|0)+-1|0}function vx(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=s[dt+4>>2]|0,s[a>>2]=s[dt>>2],s[a+4>>2]=Et,s[a+8>>2]=St}function DC(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;if(gn=Ft,Ft=Ft+48|0,Et=gn+32|0,Ut=gn+24|0,en=gn,un=a+4|0,Ct=(((s[un>>2]|0)-(s[a>>2]|0)|0)/12|0)+1|0,kt=OC(a)|0,kt>>>0<Ct>>>0)ts(a);else{pn=s[a>>2]|0,Rn=((s[a+8>>2]|0)-pn|0)/12|0,En=Rn<<1,FC(en,Rn>>>0<kt>>>1>>>0?En>>>0<Ct>>>0?Ct:En:kt,((s[un>>2]|0)-pn|0)/12|0,a+8|0),un=en+8|0,kt=s[un>>2]|0,Ct=s[dt+4>>2]|0,St=s[St>>2]|0,s[Ut>>2]=s[dt>>2],s[Ut+4>>2]=Ct,s[Et>>2]=s[Ut>>2],s[Et+4>>2]=s[Ut+4>>2],vx(kt,Et,St),s[un>>2]=(s[un>>2]|0)+12,NC(a,en),BC(en),Ft=gn;return}}function OC(a){return a=a|0,357913941}function FC(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>357913941)go();else{Ct=uo(dt*12|0)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St*12|0)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt*12|0)}function NC(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(((Ct|0)/-12|0)*12|0)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function BC(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~(((Et+-12-dt|0)>>>0)/12|0)*12|0)),a=s[a>>2]|0,a|0&&Gr(a)}function yx(a){a=a|0,$C(a)}function UC(a){a=a|0,zC(a+24|0)}function zC(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~(((dt+-12-Et|0)>>>0)/12|0)*12|0)),Gr(St))}function $C(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,2,3,dt,VC()|0,2),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function VC(){return 1380}function GC(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0;Ct=Ft,Ft=Ft+16|0,kt=Ct+8|0,Ut=Ct,en=WC(a)|0,a=s[en+4>>2]|0,s[Ut>>2]=s[en>>2],s[Ut+4>>2]=a,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=s[Ut+4>>2],HC(dt,kt,St,Et),Ft=Ct}function WC(a){return a=a|0,(s[(O_()|0)+24>>2]|0)+(a*12|0)|0}function HC(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0;en=Ft,Ft=Ft+16|0,kt=en+1|0,Ut=en,Ct=s[dt>>2]|0,dt=s[dt+4>>2]|0,a=a+(dt>>1)|0,dt&1&&(Ct=s[(s[a>>2]|0)+Ct>>2]|0),_h(kt,St),kt=ep(kt,St)|0,jC(Ut,Et),Ut=YC(Ut,Et)|0,wm[Ct&15](a,kt,Ut),Ft=en}function jC(a,dt){a=a|0,dt=dt|0}function YC(a,dt){return a=a|0,dt=dt|0,XC(dt)|0}function XC(a){return a=a|0,(a|0)!=0|0}function qC(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=F_()|0,a=KC(St)|0,so(kt,dt,Ct,a,ZC(St,Et)|0,Et)}function F_(){var a=0,dt=0;if(ft[7864]|0||(Sx(10208),Dn(51,10208,fn|0)|0,dt=7864,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10208)|0)){a=10208,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Sx(10208)}return 10208}function KC(a){return a=a|0,a|0}function ZC(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=F_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(xx(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(QC(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function xx(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function QC(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=JC(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,eP(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,xx(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,tP(a,Ct),nP(Ct),Ft=en;return}}function JC(a){return a=a|0,536870911}function eP(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function tP(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function nP(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function Sx(a){a=a|0,oP(a)}function rP(a){a=a|0,iP(a+24|0)}function iP(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function oP(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,24,dt,sP()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function sP(){return 1392}function aP(a,dt){a=a|0,dt=dt|0,uP(s[(lP(a)|0)>>2]|0,dt)}function lP(a){return a=a|0,(s[(F_()|0)+24>>2]|0)+(a<<3)|0}function uP(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,lx(Et,dt),dt=ux(Et,dt)|0,np[a&127](dt),Ft=St}function cP(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=N_()|0,a=fP(St)|0,so(kt,dt,Ct,a,dP(St,Et)|0,Et)}function N_(){var a=0,dt=0;if(ft[7872]|0||(Mx(10244),Dn(52,10244,fn|0)|0,dt=7872,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10244)|0)){a=10244,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Mx(10244)}return 10244}function fP(a){return a=a|0,a|0}function dP(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=N_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(wx(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(hP(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function wx(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function hP(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=pP(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,mP(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,wx(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,gP(a,Ct),vP(Ct),Ft=en;return}}function pP(a){return a=a|0,536870911}function mP(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function gP(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function vP(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function Mx(a){a=a|0,xP(a)}function _P(a){a=a|0,yP(a+24|0)}function yP(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function xP(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,16,dt,SP()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function SP(){return 1400}function wP(a){return a=a|0,EP(s[(MP(a)|0)>>2]|0)|0}function MP(a){return a=a|0,(s[(N_()|0)+24>>2]|0)+(a<<3)|0}function EP(a){return a=a|0,TP(Dv[a&7]()|0)|0}function TP(a){return a=a|0,a|0}function AP(){var a=0;return ft[7880]|0||(IP(10280),Dn(25,10280,fn|0)|0,a=7880,s[a>>2]=1,s[a+4>>2]=0),10280}function CP(a,dt){a=a|0,dt=dt|0,s[a>>2]=PP()|0,s[a+4>>2]=kP()|0,s[a+12>>2]=dt,s[a+8>>2]=LP()|0,s[a+32>>2]=4}function PP(){return 11711}function kP(){return 1356}function LP(){return Sv()|0}function RP(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,(Vp(Et,896)|0)==512?St|0&&(bP(St),Gr(St)):dt|0&&(ba(dt),Gr(dt))}function bP(a){a=a|0,a=s[a+4>>2]|0,a|0&&Wp(a)}function IP(a){a=a|0,Bp(a)}function DP(a){a=a|0,OP(a,4920),FP(a)|0,NP(a)|0}function OP(a,dt){a=a|0,dt=dt|0;var St=0;St=Gy()|0,s[a>>2]=St,rL(St,dt),Gp(s[a>>2]|0)}function FP(a){a=a|0;var dt=0;return dt=s[a>>2]|0,P1(dt,XP()|0),a|0}function NP(a){a=a|0;var dt=0;return dt=s[a>>2]|0,P1(dt,BP()|0),a|0}function BP(){var a=0;return ft[7888]|0||(Ex(10328),Dn(53,10328,fn|0)|0,a=7888,s[a>>2]=1,s[a+4>>2]=0),io(10328)|0||Ex(10328),10328}function P1(a,dt){a=a|0,dt=dt|0,so(a,0,dt,0,0,0)}function Ex(a){a=a|0,$P(a),k1(a,10)}function UP(a){a=a|0,zP(a+24|0)}function zP(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function $P(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,5,1,dt,HP()|0,2),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function VP(a,dt,St){a=a|0,dt=dt|0,St=+St,GP(a,dt,St)}function k1(a,dt){a=a|0,dt=dt|0,s[a+20>>2]=dt}function GP(a,dt,St){a=a|0,dt=dt|0,St=+St;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+16|0,kt=Et+8|0,en=Et+13|0,Ct=Et,Ut=Et+12|0,_h(en,dt),s[kt>>2]=ep(en,dt)|0,C0(Ut,St),Nt[Ct>>3]=+P0(Ut,St),WP(a,kt,Ct),Ft=Et}function WP(a,dt,St){a=a|0,dt=dt|0,St=St|0,Dp(a+8|0,s[dt>>2]|0,+Nt[St>>3]),ft[a+24>>0]=1}function HP(){return 1404}function jP(a,dt){return a=a|0,dt=+dt,YP(a,dt)|0}function YP(a,dt){a=a|0,dt=+dt;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return Et=Ft,Ft=Ft+16|0,kt=Et+4|0,Ut=Et+8|0,en=Et,Ct=Cu(8)|0,St=Ct,un=uo(16)|0,_h(kt,a),a=ep(kt,a)|0,C0(Ut,dt),Dp(un,a,+P0(Ut,dt)),Ut=St+4|0,s[Ut>>2]=un,a=uo(8)|0,Ut=s[Ut>>2]|0,s[en>>2]=0,s[kt>>2]=s[en>>2],w_(a,Ut,kt),s[Ct>>2]=a,Ft=Et,St|0}function XP(){var a=0;return ft[7896]|0||(Tx(10364),Dn(54,10364,fn|0)|0,a=7896,s[a>>2]=1,s[a+4>>2]=0),io(10364)|0||Tx(10364),10364}function Tx(a){a=a|0,ZP(a),k1(a,55)}function qP(a){a=a|0,KP(a+24|0)}function KP(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function ZP(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,5,4,dt,eL()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function QP(a){a=a|0,JP(a)}function JP(a){a=a|0,_k(a)}function _k(a){a=a|0,Ax(a+8|0),ft[a+24>>0]=1}function Ax(a){a=a|0,s[a>>2]=0,Nt[a+8>>3]=0}function eL(){return 1424}function tL(){return nL()|0}function nL(){var a=0,dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0;return dt=Ft,Ft=Ft+16|0,Ct=dt+4|0,Ut=dt,St=Cu(8)|0,a=St,Et=uo(16)|0,Ax(Et),kt=a+4|0,s[kt>>2]=Et,Et=uo(8)|0,kt=s[kt>>2]|0,s[Ut>>2]=0,s[Ct>>2]=s[Ut>>2],w_(Et,kt,Ct),s[St>>2]=Et,Ft=dt,a|0}function rL(a,dt){a=a|0,dt=dt|0,s[a>>2]=iL()|0,s[a+4>>2]=oL()|0,s[a+12>>2]=dt,s[a+8>>2]=sL()|0,s[a+32>>2]=5}function iL(){return 11710}function oL(){return 1416}function sL(){return wv()|0}function aL(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,(Vp(Et,896)|0)==512?St|0&&(lL(St),Gr(St)):dt|0&&Gr(dt)}function lL(a){a=a|0,a=s[a+4>>2]|0,a|0&&Wp(a)}function wv(){var a=0;return ft[7904]|0||(s[2600]=uL()|0,s[2601]=0,a=7904,s[a>>2]=1,s[a+4>>2]=0),10400}function uL(){return s[357]|0}function cL(a){a=a|0,fL(a,4926),dL(a)|0}function fL(a,dt){a=a|0,dt=dt|0;var St=0;St=cy()|0,s[a>>2]=St,ML(St,dt),Gp(s[a>>2]|0)}function dL(a){a=a|0;var dt=0;return dt=s[a>>2]|0,P1(dt,hL()|0),a|0}function hL(){var a=0;return ft[7912]|0||(Cx(10412),Dn(56,10412,fn|0)|0,a=7912,s[a>>2]=1,s[a+4>>2]=0),io(10412)|0||Cx(10412),10412}function Cx(a){a=a|0,gL(a),k1(a,57)}function pL(a){a=a|0,mL(a+24|0)}function mL(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function gL(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,5,5,dt,xL()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function vL(a){a=a|0,_L(a)}function _L(a){a=a|0,yL(a)}function yL(a){a=a|0;var dt=0,St=0;dt=a+8|0,St=dt+48|0;do s[dt>>2]=0,dt=dt+4|0;while((dt|0)<(St|0));ft[a+56>>0]=1}function xL(){return 1432}function SL(){return wL()|0}function wL(){var a=0,dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0;Ut=Ft,Ft=Ft+16|0,a=Ut+4|0,dt=Ut,St=Cu(8)|0,Et=St,Ct=uo(48)|0,kt=Ct,en=kt+48|0;do s[kt>>2]=0,kt=kt+4|0;while((kt|0)<(en|0));return kt=Et+4|0,s[kt>>2]=Ct,en=uo(8)|0,kt=s[kt>>2]|0,s[dt>>2]=0,s[a>>2]=s[dt>>2],fy(en,kt,a),s[St>>2]=en,Ft=Ut,Et|0}function ML(a,dt){a=a|0,dt=dt|0,s[a>>2]=EL()|0,s[a+4>>2]=TL()|0,s[a+12>>2]=dt,s[a+8>>2]=AL()|0,s[a+32>>2]=6}function EL(){return 11704}function TL(){return 1436}function AL(){return wv()|0}function CL(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,(Vp(Et,896)|0)==512?St|0&&(PL(St),Gr(St)):dt|0&&Gr(dt)}function PL(a){a=a|0,a=s[a+4>>2]|0,a|0&&Wp(a)}function kL(a){a=a|0,LL(a,4933),RL(a)|0,bL(a)|0}function LL(a,dt){a=a|0,dt=dt|0;var St=0;St=rR()|0,s[a>>2]=St,iR(St,dt),Gp(s[a>>2]|0)}function RL(a){a=a|0;var dt=0;return dt=s[a>>2]|0,P1(dt,YL()|0),a|0}function bL(a){a=a|0;var dt=0;return dt=s[a>>2]|0,P1(dt,IL()|0),a|0}function IL(){var a=0;return ft[7920]|0||(Px(10452),Dn(58,10452,fn|0)|0,a=7920,s[a>>2]=1,s[a+4>>2]=0),io(10452)|0||Px(10452),10452}function Px(a){a=a|0,FL(a),k1(a,1)}function DL(a){a=a|0,OL(a+24|0)}function OL(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function FL(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,5,1,dt,zL()|0,2),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function NL(a,dt,St){a=a|0,dt=+dt,St=+St,BL(a,dt,St)}function BL(a,dt,St){a=a|0,dt=+dt,St=+St;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+32|0,kt=Et+8|0,en=Et+17|0,Ct=Et,Ut=Et+16|0,C0(en,dt),Nt[kt>>3]=+P0(en,dt),C0(Ut,St),Nt[Ct>>3]=+P0(Ut,St),UL(a,kt,Ct),Ft=Et}function UL(a,dt,St){a=a|0,dt=dt|0,St=St|0,kx(a+8|0,+Nt[dt>>3],+Nt[St>>3]),ft[a+24>>0]=1}function kx(a,dt,St){a=a|0,dt=+dt,St=+St,Nt[a>>3]=dt,Nt[a+8>>3]=St}function zL(){return 1472}function $L(a,dt){return a=+a,dt=+dt,VL(a,dt)|0}function VL(a,dt){a=+a,dt=+dt;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return Et=Ft,Ft=Ft+16|0,Ut=Et+4|0,en=Et+8|0,un=Et,Ct=Cu(8)|0,St=Ct,kt=uo(16)|0,C0(Ut,a),a=+P0(Ut,a),C0(en,dt),kx(kt,a,+P0(en,dt)),en=St+4|0,s[en>>2]=kt,kt=uo(8)|0,en=s[en>>2]|0,s[un>>2]=0,s[Ut>>2]=s[un>>2],Lx(kt,en,Ut),s[Ct>>2]=kt,Ft=Et,St|0}function Lx(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,St=uo(16)|0,s[St+4>>2]=0,s[St+8>>2]=0,s[St>>2]=1452,s[St+12>>2]=dt,s[a+4>>2]=St}function WL(a){a=a|0,x2(a),Gr(a)}function HL(a){a=a|0,a=s[a+12>>2]|0,a|0&&Gr(a)}function jL(a){a=a|0,Gr(a)}function YL(){var a=0;return ft[7928]|0||(Rx(10488),Dn(59,10488,fn|0)|0,a=7928,s[a>>2]=1,s[a+4>>2]=0),io(10488)|0||Rx(10488),10488}function Rx(a){a=a|0,KL(a),k1(a,60)}function XL(a){a=a|0,qL(a+24|0)}function qL(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function KL(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,5,6,dt,eR()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function ZL(a){a=a|0,QL(a)}function QL(a){a=a|0,JL(a)}function JL(a){a=a|0,bx(a+8|0),ft[a+24>>0]=1}function bx(a){a=a|0,s[a>>2]=0,s[a+4>>2]=0,s[a+8>>2]=0,s[a+12>>2]=0}function eR(){return 1492}function tR(){return nR()|0}function nR(){var a=0,dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0;return dt=Ft,Ft=Ft+16|0,Ct=dt+4|0,Ut=dt,St=Cu(8)|0,a=St,Et=uo(16)|0,bx(Et),kt=a+4|0,s[kt>>2]=Et,Et=uo(8)|0,kt=s[kt>>2]|0,s[Ut>>2]=0,s[Ct>>2]=s[Ut>>2],Lx(Et,kt,Ct),s[St>>2]=Et,Ft=dt,a|0}function rR(){var a=0;return ft[7936]|0||(cR(10524),Dn(25,10524,fn|0)|0,a=7936,s[a>>2]=1,s[a+4>>2]=0),10524}function iR(a,dt){a=a|0,dt=dt|0,s[a>>2]=oR()|0,s[a+4>>2]=sR()|0,s[a+12>>2]=dt,s[a+8>>2]=aR()|0,s[a+32>>2]=7}function oR(){return 11700}function sR(){return 1484}function aR(){return wv()|0}function lR(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,(Vp(Et,896)|0)==512?St|0&&(uR(St),Gr(St)):dt|0&&Gr(dt)}function uR(a){a=a|0,a=s[a+4>>2]|0,a|0&&Wp(a)}function cR(a){a=a|0,Bp(a)}function fR(a,dt,St){a=a|0,dt=dt|0,St=St|0,a=Vn(dt)|0,dt=dR(St)|0,St=hR(St,0)|0,GR(a,dt,St,B_()|0,0)}function dR(a){return a=a|0,a|0}function hR(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=B_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(Dx(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(xR(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function B_(){var a=0,dt=0;if(ft[7944]|0||(Ix(10568),Dn(61,10568,fn|0)|0,dt=7944,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10568)|0)){a=10568,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));Ix(10568)}return 10568}function Ix(a){a=a|0,gR(a)}function pR(a){a=a|0,mR(a+24|0)}function mR(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function gR(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,17,dt,Ly()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function vR(a){return a=a|0,yR(s[(_R(a)|0)>>2]|0)|0}function _R(a){return a=a|0,(s[(B_()|0)+24>>2]|0)+(a<<3)|0}function yR(a){return a=a|0,xv(Dv[a&7]()|0)|0}function Dx(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function xR(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=SR(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,wR(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,Dx(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,MR(a,Ct),ER(Ct),Ft=en;return}}function SR(a){return a=a|0,536870911}function wR(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function MR(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function ER(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function TR(){AR()}function AR(){CR(10604)}function CR(a){a=a|0,PR(a,4955)}function PR(a,dt){a=a|0,dt=dt|0;var St=0;St=kR()|0,s[a>>2]=St,LR(St,dt),Gp(s[a>>2]|0)}function kR(){var a=0;return ft[7952]|0||(UR(10612),Dn(25,10612,fn|0)|0,a=7952,s[a>>2]=1,s[a+4>>2]=0),10612}function LR(a,dt){a=a|0,dt=dt|0,s[a>>2]=DR()|0,s[a+4>>2]=OR()|0,s[a+12>>2]=dt,s[a+8>>2]=FR()|0,s[a+32>>2]=8}function Gp(a){a=a|0;var dt=0,St=0;dt=Ft,Ft=Ft+16|0,St=dt,m2()|0,s[St>>2]=a,RR(10608,St),Ft=dt}function m2(){return ft[11714]|0||(s[2652]=0,Dn(62,10608,fn|0)|0,ft[11714]=1),10608}function RR(a,dt){a=a|0,dt=dt|0;var St=0;St=uo(8)|0,s[St+4>>2]=s[dt>>2],s[St>>2]=s[a>>2],s[a>>2]=St}function bR(a){a=a|0,IR(a)}function IR(a){a=a|0;var dt=0,St=0;if(dt=s[a>>2]|0,dt|0)do St=dt,dt=s[dt>>2]|0,Gr(St);while(dt|0);s[a>>2]=0}function DR(){return 11715}function OR(){return 1496}function FR(){return Sv()|0}function NR(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,(Vp(Et,896)|0)==512?St|0&&(BR(St),Gr(St)):dt|0&&Gr(dt)}function BR(a){a=a|0,a=s[a+4>>2]|0,a|0&&Wp(a)}function UR(a){a=a|0,Bp(a)}function zR(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;m2()|0,St=s[2652]|0;e:do if(St|0){for(;Et=s[St+4>>2]|0,!(Et|0&&!(mS(U_(Et)|0,a)|0));)if(St=s[St>>2]|0,!St)break e;$R(Et,dt)}while(0)}function U_(a){return a=a|0,s[a+12>>2]|0}function $R(a,dt){a=a|0,dt=dt|0;var St=0;a=a+36|0,St=s[a>>2]|0,St|0&&(q0(St),Gr(St)),St=uo(4)|0,J0(St,dt),s[a>>2]=St}function z_(){return ft[11716]|0||(s[2664]=0,Dn(63,10656,fn|0)|0,ft[11716]=1),10656}function Ox(){var a=0;return ft[11717]|0?a=s[2665]|0:(VR(),s[2665]=1504,ft[11717]=1,a=1504),a|0}function VR(){ft[11740]|0||(ft[11718]=lo(lo(8,0)|0,0)|0,ft[11719]=lo(lo(0,0)|0,0)|0,ft[11720]=lo(lo(0,16)|0,0)|0,ft[11721]=lo(lo(8,0)|0,0)|0,ft[11722]=lo(lo(0,0)|0,0)|0,ft[11723]=lo(lo(8,0)|0,0)|0,ft[11724]=lo(lo(0,0)|0,0)|0,ft[11725]=lo(lo(8,0)|0,0)|0,ft[11726]=lo(lo(0,0)|0,0)|0,ft[11727]=lo(lo(8,0)|0,0)|0,ft[11728]=lo(lo(0,0)|0,0)|0,ft[11729]=lo(lo(0,0)|0,32)|0,ft[11730]=lo(lo(0,0)|0,32)|0,ft[11740]=1)}function Fx(){return 1572}function GR(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0,gn=0,pn=0;kt=Ft,Ft=Ft+32|0,pn=kt+16|0,gn=kt+12|0,un=kt+8|0,en=kt+4|0,Ut=kt,s[pn>>2]=a,s[gn>>2]=dt,s[un>>2]=St,s[en>>2]=Et,s[Ut>>2]=Ct,z_()|0,WR(10656,pn,gn,un,en,Ut),Ft=kt}function WR(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0;var Ut=0;Ut=uo(24)|0,To(Ut+4|0,s[dt>>2]|0,s[St>>2]|0,s[Et>>2]|0,s[Ct>>2]|0,s[kt>>2]|0),s[Ut>>2]=s[a>>2],s[a>>2]=Ut}function Nx(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0,Kn=0,Er=0,_r=0,Or=0;if(Or=Ft,Ft=Ft+32|0,Qn=Or+20|0,Kn=Or+8|0,Er=Or+4|0,_r=Or,dt=s[dt>>2]|0,dt|0){cr=Qn+4|0,un=Qn+8|0,gn=Kn+4|0,pn=Kn+8|0,En=Kn+8|0,Rn=Qn+8|0;do{if(Ut=dt+4|0,en=$_(Ut)|0,en|0){if(Ct=gm(en)|0,s[Qn>>2]=0,s[cr>>2]=0,s[un>>2]=0,Et=(vm(en)|0)+1|0,HR(Qn,Et),Et|0)for(;Et=Et+-1|0,a0(Kn,s[Ct>>2]|0),kt=s[cr>>2]|0,kt>>>0<(s[Rn>>2]|0)>>>0?(s[kt>>2]=s[Kn>>2],s[cr>>2]=(s[cr>>2]|0)+4):V_(Qn,Kn),Et;)Ct=Ct+4|0;Et=_m(en)|0,s[Kn>>2]=0,s[gn>>2]=0,s[pn>>2]=0;e:do if(s[Et>>2]|0)for(Ct=0,kt=0;;){if((Ct|0)==(kt|0)?jR(Kn,Et):(s[Ct>>2]=s[Et>>2],s[gn>>2]=(s[gn>>2]|0)+4),Et=Et+4|0,!(s[Et>>2]|0))break e;Ct=s[gn>>2]|0,kt=s[En>>2]|0}while(0);s[Er>>2]=Mv(Ut)|0,s[_r>>2]=io(en)|0,YR(St,a,Er,_r,Qn,Kn),G_(Kn),tp(Qn)}dt=s[dt>>2]|0}while(dt|0)}Ft=Or}function $_(a){return a=a|0,s[a+12>>2]|0}function gm(a){return a=a|0,s[a+12>>2]|0}function vm(a){return a=a|0,s[a+16>>2]|0}function HR(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0;Ct=Ft,Ft=Ft+32|0,St=Ct,Et=s[a>>2]|0,(s[a+8>>2]|0)-Et>>2>>>0<dt>>>0&&(Hx(St,dt,(s[a+4>>2]|0)-Et>>2,a+8|0),jx(a,St),Yx(St)),Ft=Ct}function V_(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0;if(Ut=Ft,Ft=Ft+32|0,St=Ut,Et=a+4|0,Ct=((s[Et>>2]|0)-(s[a>>2]|0)>>2)+1|0,kt=Wx(a)|0,kt>>>0<Ct>>>0)ts(a);else{en=s[a>>2]|0,gn=(s[a+8>>2]|0)-en|0,un=gn>>1,Hx(St,gn>>2>>>0<kt>>>1>>>0?un>>>0<Ct>>>0?Ct:un:kt,(s[Et>>2]|0)-en>>2,a+8|0),kt=St+8|0,s[s[kt>>2]>>2]=s[dt>>2],s[kt>>2]=(s[kt>>2]|0)+4,jx(a,St),Yx(St),Ft=Ut;return}}function _m(a){return a=a|0,s[a+8>>2]|0}function jR(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0;if(Ut=Ft,Ft=Ft+32|0,St=Ut,Et=a+4|0,Ct=((s[Et>>2]|0)-(s[a>>2]|0)>>2)+1|0,kt=Gx(a)|0,kt>>>0<Ct>>>0)ts(a);else{en=s[a>>2]|0,gn=(s[a+8>>2]|0)-en|0,un=gn>>1,d8(St,gn>>2>>>0<kt>>>1>>>0?un>>>0<Ct>>>0?Ct:un:kt,(s[Et>>2]|0)-en>>2,a+8|0),kt=St+8|0,s[s[kt>>2]>>2]=s[dt>>2],s[kt>>2]=(s[kt>>2]|0)+4,h8(a,St),p8(St),Ft=Ut;return}}function Mv(a){return a=a|0,s[a>>2]|0}function YR(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,XR(a,dt,St,Et,Ct,kt)}function G_(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-4-Et|0)>>>2)<<2)),Gr(St))}function tp(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-4-Et|0)>>>2)<<2)),Gr(St))}function XR(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0;var Ut=0,en=0,un=0,gn=0,pn=0,En=0;Ut=Ft,Ft=Ft+48|0,pn=Ut+40|0,en=Ut+32|0,En=Ut+24|0,un=Ut+12|0,gn=Ut,Pu(en),a=Xs(a)|0,s[En>>2]=s[dt>>2],St=s[St>>2]|0,Et=s[Et>>2]|0,W_(un,Ct),qR(gn,kt),s[pn>>2]=s[En>>2],KR(a,pn,St,Et,un,gn),G_(gn),tp(un),ku(en),Ft=Ut}function W_(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;s[a>>2]=0,s[a+4>>2]=0,s[a+8>>2]=0,St=dt+4|0,Et=(s[St>>2]|0)-(s[dt>>2]|0)>>2,Et|0&&(c8(a,Et),f8(a,s[dt>>2]|0,s[St>>2]|0,Et))}function qR(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;s[a>>2]=0,s[a+4>>2]=0,s[a+8>>2]=0,St=dt+4|0,Et=(s[St>>2]|0)-(s[dt>>2]|0)>>2,Et|0&&(l8(a,Et),u8(a,s[dt>>2]|0,s[St>>2]|0,Et))}function KR(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0;var Ut=0,en=0,un=0,gn=0,pn=0,En=0;Ut=Ft,Ft=Ft+32|0,pn=Ut+28|0,En=Ut+24|0,en=Ut+12|0,un=Ut,gn=$a(ZR()|0)|0,s[En>>2]=s[dt>>2],s[pn>>2]=s[En>>2],dt=L1(pn)|0,St=Bx(St)|0,Et=H_(Et)|0,s[en>>2]=s[Ct>>2],pn=Ct+4|0,s[en+4>>2]=s[pn>>2],En=Ct+8|0,s[en+8>>2]=s[En>>2],s[En>>2]=0,s[pn>>2]=0,s[Ct>>2]=0,Ct=j_(en)|0,s[un>>2]=s[kt>>2],pn=kt+4|0,s[un+4>>2]=s[pn>>2],En=kt+8|0,s[un+8>>2]=s[En>>2],s[En>>2]=0,s[pn>>2]=0,s[kt>>2]=0,Zo(0,gn|0,a|0,dt|0,St|0,Et|0,Ct|0,QR(un)|0)|0,G_(un),tp(en),Ft=Ut}function ZR(){var a=0;return ft[7968]|0||(s8(10708),a=7968,s[a>>2]=1,s[a+4>>2]=0),10708}function L1(a){return a=a|0,zx(a)|0}function Bx(a){return a=a|0,Ux(a)|0}function H_(a){return a=a|0,xv(a)|0}function j_(a){return a=a|0,e8(a)|0}function QR(a){return a=a|0,JR(a)|0}function JR(a){a=a|0;var dt=0,St=0,Et=0;if(Et=(s[a+4>>2]|0)-(s[a>>2]|0)|0,St=Et>>2,Et=Cu(Et+4|0)|0,s[Et>>2]=St,St|0){dt=0;do s[Et+4+(dt<<2)>>2]=Ux(s[(s[a>>2]|0)+(dt<<2)>>2]|0)|0,dt=dt+1|0;while((dt|0)!=(St|0))}return Et|0}function Ux(a){return a=a|0,a|0}function e8(a){a=a|0;var dt=0,St=0,Et=0;if(Et=(s[a+4>>2]|0)-(s[a>>2]|0)|0,St=Et>>2,Et=Cu(Et+4|0)|0,s[Et>>2]=St,St|0){dt=0;do s[Et+4+(dt<<2)>>2]=zx((s[a>>2]|0)+(dt<<2)|0)|0,dt=dt+1|0;while((dt|0)!=(St|0))}return Et|0}function zx(a){a=a|0;var dt=0,St=0,Et=0,Ct=0;return Ct=Ft,Ft=Ft+32|0,dt=Ct+12|0,St=Ct,Et=i_($x()|0)|0,Et?(o_(dt,Et),s_(St,dt),OI(a,St),a=a_(dt)|0):a=t8(a)|0,Ft=Ct,a|0}function $x(){var a=0;return ft[7960]|0||(o8(10664),Dn(25,10664,fn|0)|0,a=7960,s[a>>2]=1,s[a+4>>2]=0),10664}function t8(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0;return St=Ft,Ft=Ft+16|0,Ct=St+4|0,Ut=St,Et=Cu(8)|0,dt=Et,en=uo(4)|0,s[en>>2]=s[a>>2],kt=dt+4|0,s[kt>>2]=en,a=uo(8)|0,kt=s[kt>>2]|0,s[Ut>>2]=0,s[Ct>>2]=s[Ut>>2],Vx(a,kt,Ct),s[Et>>2]=a,Ft=St,dt|0}function Vx(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,St=uo(16)|0,s[St+4>>2]=0,s[St+8>>2]=0,s[St>>2]=1656,s[St+12>>2]=dt,s[a+4>>2]=St}function n8(a){a=a|0,x2(a),Gr(a)}function r8(a){a=a|0,a=s[a+12>>2]|0,a|0&&Gr(a)}function i8(a){a=a|0,Gr(a)}function o8(a){a=a|0,Bp(a)}function s8(a){a=a|0,hu(a,a8()|0,5)}function a8(){return 1676}function l8(a,dt){a=a|0,dt=dt|0;var St=0;if((Gx(a)|0)>>>0<dt>>>0&&ts(a),dt>>>0>1073741823)go();else{St=uo(dt<<2)|0,s[a+4>>2]=St,s[a>>2]=St,s[a+8>>2]=St+(dt<<2);return}}function u8(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Et=a+4|0,a=St-dt|0,(a|0)>0&&(Ro(s[Et>>2]|0,dt|0,a|0)|0,s[Et>>2]=(s[Et>>2]|0)+(a>>>2<<2))}function Gx(a){return a=a|0,1073741823}function c8(a,dt){a=a|0,dt=dt|0;var St=0;if((Wx(a)|0)>>>0<dt>>>0&&ts(a),dt>>>0>1073741823)go();else{St=uo(dt<<2)|0,s[a+4>>2]=St,s[a>>2]=St,s[a+8>>2]=St+(dt<<2);return}}function f8(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Et=a+4|0,a=St-dt|0,(a|0)>0&&(Ro(s[Et>>2]|0,dt|0,a|0)|0,s[Et>>2]=(s[Et>>2]|0)+(a>>>2<<2))}function Wx(a){return a=a|0,1073741823}function d8(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>1073741823)go();else{Ct=uo(dt<<2)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<2)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<2)}function h8(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>2)<<2)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function p8(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-4-dt|0)>>>2)<<2)),a=s[a>>2]|0,a|0&&Gr(a)}function Hx(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>1073741823)go();else{Ct=uo(dt<<2)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<2)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<2)}function jx(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>2)<<2)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function Yx(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-4-dt|0)>>>2)<<2)),a=s[a>>2]|0,a|0&&Gr(a)}function m8(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0,Kn=0;if(Kn=Ft,Ft=Ft+32|0,pn=Kn+20|0,En=Kn+12|0,gn=Kn+16|0,Rn=Kn+4|0,cr=Kn,Qn=Kn+8|0,en=Ox()|0,kt=s[en>>2]|0,Ut=s[kt>>2]|0,Ut|0)for(un=s[en+8>>2]|0,en=s[en+4>>2]|0;a0(pn,Ut),g8(a,pn,en,un),kt=kt+4|0,Ut=s[kt>>2]|0,Ut;)un=un+1|0,en=en+1|0;if(kt=Fx()|0,Ut=s[kt>>2]|0,Ut|0)do a0(pn,Ut),s[En>>2]=s[kt+4>>2],v8(dt,pn,En),kt=kt+8|0,Ut=s[kt>>2]|0;while(Ut|0);if(kt=s[(m2()|0)>>2]|0,kt|0)do dt=s[kt+4>>2]|0,a0(pn,s[(g2(dt)|0)>>2]|0),s[En>>2]=U_(dt)|0,_8(St,pn,En),kt=s[kt>>2]|0;while(kt|0);if(a0(gn,0),kt=z_()|0,s[pn>>2]=s[gn>>2],Nx(pn,kt,Ct),kt=s[(m2()|0)>>2]|0,kt|0){a=pn+4|0,dt=pn+8|0,St=pn+8|0;do{if(un=s[kt+4>>2]|0,a0(En,s[(g2(un)|0)>>2]|0),y8(Rn,Xx(un)|0),Ut=s[Rn>>2]|0,Ut|0){s[pn>>2]=0,s[a>>2]=0,s[dt>>2]=0;do a0(cr,s[(g2(s[Ut+4>>2]|0)|0)>>2]|0),en=s[a>>2]|0,en>>>0<(s[St>>2]|0)>>>0?(s[en>>2]=s[cr>>2],s[a>>2]=(s[a>>2]|0)+4):V_(pn,cr),Ut=s[Ut>>2]|0;while(Ut|0);x8(Et,En,pn),tp(pn)}s[Qn>>2]=s[En>>2],gn=qx(un)|0,s[pn>>2]=s[Qn>>2],Nx(pn,gn,Ct),hy(Rn),kt=s[kt>>2]|0}while(kt|0)}Ft=Kn}function g8(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,b8(a,dt,St,Et)}function v8(a,dt,St){a=a|0,dt=dt|0,St=St|0,R8(a,dt,St)}function g2(a){return a=a|0,a|0}function _8(a,dt,St){a=a|0,dt=dt|0,St=St|0,C8(a,dt,St)}function Xx(a){return a=a|0,a+16|0}function y8(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;if(kt=Ft,Ft=Ft+16|0,Ct=kt+8|0,St=kt,s[a>>2]=0,Et=s[dt>>2]|0,s[Ct>>2]=Et,s[St>>2]=a,St=A8(St)|0,Et|0){if(Et=uo(12)|0,Ut=(Kx(Ct)|0)+4|0,a=s[Ut+4>>2]|0,dt=Et+4|0,s[dt>>2]=s[Ut>>2],s[dt+4>>2]=a,dt=s[s[Ct>>2]>>2]|0,s[Ct>>2]=dt,!dt)a=Et;else for(dt=Et;a=uo(12)|0,un=(Kx(Ct)|0)+4|0,en=s[un+4>>2]|0,Ut=a+4|0,s[Ut>>2]=s[un>>2],s[Ut+4>>2]=en,s[dt>>2]=a,Ut=s[s[Ct>>2]>>2]|0,s[Ct>>2]=Ut,Ut;)dt=a;s[a>>2]=s[St>>2],s[St>>2]=Et}Ft=kt}function x8(a,dt,St){a=a|0,dt=dt|0,St=St|0,S8(a,dt,St)}function qx(a){return a=a|0,a+24|0}function S8(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+32|0,Ut=Et+24|0,Ct=Et+16|0,en=Et+12|0,kt=Et,Pu(Ct),a=Xs(a)|0,s[en>>2]=s[dt>>2],W_(kt,St),s[Ut>>2]=s[en>>2],w8(a,Ut,kt),tp(kt),ku(Ct),Ft=Et}function w8(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=Ft,Ft=Ft+32|0,Ut=Et+16|0,en=Et+12|0,Ct=Et,kt=$a(M8()|0)|0,s[en>>2]=s[dt>>2],s[Ut>>2]=s[en>>2],dt=L1(Ut)|0,s[Ct>>2]=s[St>>2],Ut=St+4|0,s[Ct+4>>2]=s[Ut>>2],en=St+8|0,s[Ct+8>>2]=s[en>>2],s[en>>2]=0,s[Ut>>2]=0,s[St>>2]=0,Vo(0,kt|0,a|0,dt|0,j_(Ct)|0)|0,tp(Ct),Ft=Et}function M8(){var a=0;return ft[7976]|0||(E8(10720),a=7976,s[a>>2]=1,s[a+4>>2]=0),10720}function E8(a){a=a|0,hu(a,T8()|0,2)}function T8(){return 1732}function A8(a){return a=a|0,s[a>>2]|0}function Kx(a){return a=a|0,s[a>>2]|0}function C8(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+32|0,kt=Et+16|0,Ct=Et+8|0,Ut=Et,Pu(Ct),a=Xs(a)|0,s[Ut>>2]=s[dt>>2],St=s[St>>2]|0,s[kt>>2]=s[Ut>>2],Zx(a,kt,St),ku(Ct),Ft=Et}function Zx(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+16|0,kt=Et+4|0,Ut=Et,Ct=$a(P8()|0)|0,s[Ut>>2]=s[dt>>2],s[kt>>2]=s[Ut>>2],dt=L1(kt)|0,Vo(0,Ct|0,a|0,dt|0,Bx(St)|0)|0,Ft=Et}function P8(){var a=0;return ft[7984]|0||(k8(10732),a=7984,s[a>>2]=1,s[a+4>>2]=0),10732}function k8(a){a=a|0,hu(a,L8()|0,2)}function L8(){return 1744}function R8(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;Et=Ft,Ft=Ft+32|0,kt=Et+16|0,Ct=Et+8|0,Ut=Et,Pu(Ct),a=Xs(a)|0,s[Ut>>2]=s[dt>>2],St=s[St>>2]|0,s[kt>>2]=s[Ut>>2],Zx(a,kt,St),ku(Ct),Ft=Et}function b8(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0;Ct=Ft,Ft=Ft+32|0,Ut=Ct+16|0,kt=Ct+8|0,en=Ct,Pu(kt),a=Xs(a)|0,s[en>>2]=s[dt>>2],St=ft[St>>0]|0,Et=ft[Et>>0]|0,s[Ut>>2]=s[en>>2],I8(a,Ut,St,Et),ku(kt),Ft=Ct}function I8(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0;Ct=Ft,Ft=Ft+16|0,Ut=Ct+4|0,en=Ct,kt=$a(D8()|0)|0,s[en>>2]=s[dt>>2],s[Ut>>2]=s[en>>2],dt=L1(Ut)|0,St=v2(St)|0,Us(0,kt|0,a|0,dt|0,St|0,v2(Et)|0)|0,Ft=Ct}function D8(){var a=0;return ft[7992]|0||(F8(10744),a=7992,s[a>>2]=1,s[a+4>>2]=0),10744}function v2(a){return a=a|0,O8(a)|0}function O8(a){return a=a|0,a&255|0}function F8(a){a=a|0,hu(a,N8()|0,3)}function N8(){return 1756}function B8(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;switch(Rn=Ft,Ft=Ft+32|0,en=Rn+8|0,un=Rn+4|0,gn=Rn+20|0,pn=Rn,f_(a,0),Et=DI(dt)|0,s[en>>2]=0,En=en+4|0,s[En>>2]=0,s[en+8>>2]=0,Et<<24>>24){case 0:{ft[gn>>0]=0,U8(un,St,gn),Ev(a,un)|0,K0(un);break}case 8:{En=Q_(dt)|0,ft[gn>>0]=8,a0(pn,s[En+4>>2]|0),z8(un,St,gn,pn,En+8|0),Ev(a,un)|0,K0(un);break}case 9:{if(kt=Q_(dt)|0,dt=s[kt+4>>2]|0,dt|0)for(Ut=en+8|0,Ct=kt+12|0;dt=dt+-1|0,a0(un,s[Ct>>2]|0),Et=s[En>>2]|0,Et>>>0<(s[Ut>>2]|0)>>>0?(s[Et>>2]=s[un>>2],s[En>>2]=(s[En>>2]|0)+4):V_(en,un),dt;)Ct=Ct+4|0;ft[gn>>0]=9,a0(pn,s[kt+8>>2]|0),$8(un,St,gn,pn,en),Ev(a,un)|0,K0(un);break}default:En=Q_(dt)|0,ft[gn>>0]=Et,a0(pn,s[En+4>>2]|0),V8(un,St,gn,pn),Ev(a,un)|0,K0(un)}tp(en),Ft=Rn}function U8(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0;Et=Ft,Ft=Ft+16|0,Ct=Et,Pu(Ct),dt=Xs(dt)|0,e5(a,dt,ft[St>>0]|0),ku(Ct),Ft=Et}function Ev(a,dt){a=a|0,dt=dt|0;var St=0;return St=s[a>>2]|0,St|0&&h0(St|0),s[a>>2]=s[dt>>2],s[dt>>2]=0,a|0}function z8(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0;kt=Ft,Ft=Ft+32|0,en=kt+16|0,Ut=kt+8|0,un=kt,Pu(Ut),dt=Xs(dt)|0,St=ft[St>>0]|0,s[un>>2]=s[Et>>2],Ct=s[Ct>>2]|0,s[en>>2]=s[un>>2],Z8(a,dt,St,en,Ct),ku(Ut),Ft=kt}function $8(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0,gn=0;kt=Ft,Ft=Ft+32|0,un=kt+24|0,Ut=kt+16|0,gn=kt+12|0,en=kt,Pu(Ut),dt=Xs(dt)|0,St=ft[St>>0]|0,s[gn>>2]=s[Et>>2],W_(en,Ct),s[un>>2]=s[gn>>2],Y8(a,dt,St,un,en),tp(en),ku(Ut),Ft=kt}function V8(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0;Ct=Ft,Ft=Ft+32|0,Ut=Ct+16|0,kt=Ct+8|0,en=Ct,Pu(kt),dt=Xs(dt)|0,St=ft[St>>0]|0,s[en>>2]=s[Et>>2],s[Ut>>2]=s[en>>2],G8(a,dt,St,Ut),ku(kt),Ft=Ct}function G8(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0,Ut=0,en=0;Ct=Ft,Ft=Ft+16|0,kt=Ct+4|0,en=Ct,Ut=$a(W8()|0)|0,St=v2(St)|0,s[en>>2]=s[Et>>2],s[kt>>2]=s[en>>2],Tv(a,Vo(0,Ut|0,dt|0,St|0,L1(kt)|0)|0),Ft=Ct}function W8(){var a=0;return ft[8e3]|0||(H8(10756),a=8e3,s[a>>2]=1,s[a+4>>2]=0),10756}function Tv(a,dt){a=a|0,dt=dt|0,f_(a,dt)}function H8(a){a=a|0,hu(a,j8()|0,2)}function j8(){return 1772}function Y8(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0,gn=0;kt=Ft,Ft=Ft+32|0,un=kt+16|0,gn=kt+12|0,Ut=kt,en=$a(X8()|0)|0,St=v2(St)|0,s[gn>>2]=s[Et>>2],s[un>>2]=s[gn>>2],Et=L1(un)|0,s[Ut>>2]=s[Ct>>2],un=Ct+4|0,s[Ut+4>>2]=s[un>>2],gn=Ct+8|0,s[Ut+8>>2]=s[gn>>2],s[gn>>2]=0,s[un>>2]=0,s[Ct>>2]=0,Tv(a,Us(0,en|0,dt|0,St|0,Et|0,j_(Ut)|0)|0),tp(Ut),Ft=kt}function X8(){var a=0;return ft[8008]|0||(q8(10768),a=8008,s[a>>2]=1,s[a+4>>2]=0),10768}function q8(a){a=a|0,hu(a,K8()|0,3)}function K8(){return 1784}function Z8(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0;kt=Ft,Ft=Ft+16|0,en=kt+4|0,un=kt,Ut=$a(Q8()|0)|0,St=v2(St)|0,s[un>>2]=s[Et>>2],s[en>>2]=s[un>>2],Et=L1(en)|0,Tv(a,Us(0,Ut|0,dt|0,St|0,Et|0,H_(Ct)|0)|0),Ft=kt}function Q8(){var a=0;return ft[8016]|0||(J8(10780),a=8016,s[a>>2]=1,s[a+4>>2]=0),10780}function J8(a){a=a|0,hu(a,_b()|0,3)}function _b(){return 1800}function e5(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;Et=$a(t5()|0)|0,Tv(a,Ol(0,Et|0,dt|0,v2(St)|0)|0)}function t5(){var a=0;return ft[8024]|0||(n5(10792),a=8024,s[a>>2]=1,s[a+4>>2]=0),10792}function n5(a){a=a|0,hu(a,r5()|0,1)}function r5(){return 1816}function i5(){o5(),s5(),a5()}function o5(){s[2702]=TS(65536)|0}function s5(){C5(10856)}function a5(){l5(10816)}function l5(a){a=a|0,u5(a,5044),c5(a)|0}function u5(a,dt){a=a|0,dt=dt|0;var St=0;St=$x()|0,s[a>>2]=St,S5(St,dt),Gp(s[a>>2]|0)}function c5(a){a=a|0;var dt=0;return dt=s[a>>2]|0,P1(dt,f5()|0),a|0}function f5(){var a=0;return ft[8032]|0||(Qx(10820),Dn(64,10820,fn|0)|0,a=8032,s[a>>2]=1,s[a+4>>2]=0),io(10820)|0||Qx(10820),10820}function Qx(a){a=a|0,p5(a),k1(a,25)}function d5(a){a=a|0,h5(a+24|0)}function h5(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function p5(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,5,18,dt,_5()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function m5(a,dt){a=a|0,dt=dt|0,g5(a,dt)}function g5(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0;St=Ft,Ft=Ft+16|0,Et=St,Ct=St+4|0,A1(Ct,dt),s[Et>>2]=C1(Ct,dt)|0,v5(a,Et),Ft=St}function v5(a,dt){a=a|0,dt=dt|0,Jx(a+4|0,s[dt>>2]|0),ft[a+8>>0]=1}function Jx(a,dt){a=a|0,dt=dt|0,s[a>>2]=dt}function _5(){return 1824}function y5(a){return a=a|0,x5(a)|0}function x5(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0;return St=Ft,Ft=Ft+16|0,Ct=St+4|0,Ut=St,Et=Cu(8)|0,dt=Et,en=uo(4)|0,A1(Ct,a),Jx(en,C1(Ct,a)|0),kt=dt+4|0,s[kt>>2]=en,a=uo(8)|0,kt=s[kt>>2]|0,s[Ut>>2]=0,s[Ct>>2]=s[Ut>>2],Vx(a,kt,Ct),s[Et>>2]=a,Ft=St,dt|0}function Cu(a){a=a|0;var dt=0,St=0;return a=a+7&-8,a>>>0<=32768&&(dt=s[2701]|0,a>>>0<=(65536-dt|0)>>>0)?(St=(s[2702]|0)+dt|0,s[2701]=dt+a,a=St):(a=TS(a+8|0)|0,s[a>>2]=s[2703],s[2703]=a,a=a+8|0),a|0}function S5(a,dt){a=a|0,dt=dt|0,s[a>>2]=w5()|0,s[a+4>>2]=M5()|0,s[a+12>>2]=dt,s[a+8>>2]=E5()|0,s[a+32>>2]=9}function w5(){return 11744}function M5(){return 1832}function E5(){return wv()|0}function T5(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,(Vp(Et,896)|0)==512?St|0&&(A5(St),Gr(St)):dt|0&&Gr(dt)}function A5(a){a=a|0,a=s[a+4>>2]|0,a|0&&Wp(a)}function C5(a){a=a|0,P5(a,5052),k5(a)|0,L5(a,5058,26)|0,R5(a,5069,1)|0,b5(a,5077,10)|0,I5(a,5087,19)|0,D5(a,5094,27)|0}function P5(a,dt){a=a|0,dt=dt|0;var St=0;St=AI()|0,s[a>>2]=St,CI(St,dt),Gp(s[a>>2]|0)}function k5(a){a=a|0;var dt=0;return dt=s[a>>2]|0,P1(dt,dI()|0),a|0}function L5(a,dt,St){return a=a|0,dt=dt|0,St=St|0,X6(a,Vn(dt)|0,St,0),a|0}function R5(a,dt,St){return a=a|0,dt=dt|0,St=St|0,I6(a,Vn(dt)|0,St,0),a|0}function b5(a,dt,St){return a=a|0,dt=dt|0,St=St|0,f6(a,Vn(dt)|0,St,0),a|0}function I5(a,dt,St){return a=a|0,dt=dt|0,St=St|0,K5(a,Vn(dt)|0,St,0),a|0}function eS(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;e:for(;;){for(St=s[2703]|0;;){if((St|0)==(dt|0))break e;if(Et=s[St>>2]|0,s[2703]=Et,!St)St=Et;else break}Gr(St)}s[2701]=a}function D5(a,dt,St){return a=a|0,dt=dt|0,St=St|0,O5(a,Vn(dt)|0,St,0),a|0}function O5(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=Y_()|0,a=F5(St)|0,so(kt,dt,Ct,a,N5(St,Et)|0,Et)}function Y_(){var a=0,dt=0;if(ft[8040]|0||(nS(10860),Dn(65,10860,fn|0)|0,dt=8040,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10860)|0)){a=10860,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));nS(10860)}return 10860}function F5(a){return a=a|0,a|0}function N5(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=Y_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(tS(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(B5(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function tS(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function B5(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=U5(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,z5(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,tS(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,$5(a,Ct),V5(Ct),Ft=en;return}}function U5(a){return a=a|0,536870911}function z5(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function $5(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function V5(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function nS(a){a=a|0,H5(a)}function G5(a){a=a|0,W5(a+24|0)}function W5(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function H5(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,11,dt,j5()|0,2),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function j5(){return 1840}function Y5(a,dt,St){a=a|0,dt=dt|0,St=St|0,q5(s[(X5(a)|0)>>2]|0,dt,St)}function X5(a){return a=a|0,(s[(Y_()|0)+24>>2]|0)+(a<<3)|0}function q5(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;Et=Ft,Ft=Ft+16|0,kt=Et+1|0,Ct=Et,A1(kt,dt),dt=C1(kt,dt)|0,A1(Ct,St),St=C1(Ct,St)|0,rp[a&31](dt,St),Ft=Et}function K5(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=X_()|0,a=Z5(St)|0,so(kt,dt,Ct,a,Q5(St,Et)|0,Et)}function X_(){var a=0,dt=0;if(ft[8048]|0||(iS(10896),Dn(66,10896,fn|0)|0,dt=8048,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10896)|0)){a=10896,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));iS(10896)}return 10896}function Z5(a){return a=a|0,a|0}function Q5(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=X_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(rS(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(J5(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function rS(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function J5(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=e6(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,t6(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,rS(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,n6(a,Ct),r6(Ct),Ft=en;return}}function e6(a){return a=a|0,536870911}function t6(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function n6(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function r6(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function iS(a){a=a|0,s6(a)}function i6(a){a=a|0,o6(a+24|0)}function o6(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function s6(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,11,dt,a6()|0,1),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function a6(){return 1852}function l6(a,dt){return a=a|0,dt=dt|0,c6(s[(u6(a)|0)>>2]|0,dt)|0}function u6(a){return a=a|0,(s[(X_()|0)+24>>2]|0)+(a<<3)|0}function c6(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;return St=Ft,Ft=Ft+16|0,Et=St,A1(Et,dt),dt=C1(Et,dt)|0,dt=xv(D1[a&31](dt)|0)|0,Ft=St,dt|0}function f6(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=q_()|0,a=d6(St)|0,so(kt,dt,Ct,a,h6(St,Et)|0,Et)}function q_(){var a=0,dt=0;if(ft[8056]|0||(sS(10932),Dn(67,10932,fn|0)|0,dt=8056,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10932)|0)){a=10932,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));sS(10932)}return 10932}function d6(a){return a=a|0,a|0}function h6(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=q_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(oS(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(p6(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function oS(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function p6(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=m6(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,g6(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,oS(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,v6(a,Ct),_6(Ct),Ft=en;return}}function m6(a){return a=a|0,536870911}function g6(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function v6(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function _6(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function sS(a){a=a|0,S6(a)}function y6(a){a=a|0,x6(a+24|0)}function x6(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function S6(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,7,dt,w6()|0,2),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function w6(){return 1860}function M6(a,dt,St){return a=a|0,dt=dt|0,St=St|0,T6(s[(E6(a)|0)>>2]|0,dt,St)|0}function E6(a){return a=a|0,(s[(q_()|0)+24>>2]|0)+(a<<3)|0}function T6(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return Et=Ft,Ft=Ft+32|0,Ut=Et+12|0,kt=Et+8|0,en=Et,un=Et+16|0,Ct=Et+4|0,A6(un,dt),C6(en,un,dt),Up(Ct,St),St=zp(Ct,St)|0,s[Ut>>2]=s[en>>2],wm[a&15](kt,Ut,St),St=P6(kt)|0,K0(kt),$p(Ct),Ft=Et,St|0}function A6(a,dt){a=a|0,dt=dt|0}function C6(a,dt,St){a=a|0,dt=dt|0,St=St|0,k6(a,St)}function P6(a){return a=a|0,Xs(a)|0}function k6(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0;Ct=Ft,Ft=Ft+16|0,St=Ct,Et=dt,Et&1?(L6(St,0),Sr(Et|0,St|0)|0,R6(a,St),b6(St)):s[a>>2]=s[dt>>2],Ft=Ct}function L6(a,dt){a=a|0,dt=dt|0,E1(a,dt),s[a+4>>2]=0,ft[a+8>>0]=0}function R6(a,dt){a=a|0,dt=dt|0,s[a>>2]=s[dt+4>>2]}function b6(a){a=a|0,ft[a+8>>0]=0}function I6(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=K_()|0,a=D6(St)|0,so(kt,dt,Ct,a,O6(St,Et)|0,Et)}function K_(){var a=0,dt=0;if(ft[8064]|0||(lS(10968),Dn(68,10968,fn|0)|0,dt=8064,s[dt>>2]=1,s[dt+4>>2]=0),!(io(10968)|0)){a=10968,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));lS(10968)}return 10968}function D6(a){return a=a|0,a|0}function O6(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=K_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(aS(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(F6(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function aS(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function F6(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=N6(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,B6(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,aS(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,U6(a,Ct),z6(Ct),Ft=en;return}}function N6(a){return a=a|0,536870911}function B6(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function U6(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function z6(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function lS(a){a=a|0,G6(a)}function $6(a){a=a|0,V6(a+24|0)}function V6(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function G6(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,1,dt,W6()|0,5),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function W6(){return 1872}function H6(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,Y6(s[(j6(a)|0)>>2]|0,dt,St,Et,Ct,kt)}function j6(a){return a=a|0,(s[(K_()|0)+24>>2]|0)+(a<<3)|0}function Y6(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0;var Ut=0,en=0,un=0,gn=0,pn=0,En=0;Ut=Ft,Ft=Ft+32|0,en=Ut+16|0,un=Ut+12|0,gn=Ut+8|0,pn=Ut+4|0,En=Ut,Up(en,dt),dt=zp(en,dt)|0,Up(un,St),St=zp(un,St)|0,Up(gn,Et),Et=zp(gn,Et)|0,Up(pn,Ct),Ct=zp(pn,Ct)|0,Up(En,kt),kt=zp(En,kt)|0,LS[a&1](dt,St,Et,Ct,kt),$p(En),$p(pn),$p(gn),$p(un),$p(en),Ft=Ut}function X6(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;kt=s[a>>2]|0,Ct=Z_()|0,a=q6(St)|0,so(kt,dt,Ct,a,K6(St,Et)|0,Et)}function Z_(){var a=0,dt=0;if(ft[8072]|0||(cS(11004),Dn(69,11004,fn|0)|0,dt=8072,s[dt>>2]=1,s[dt+4>>2]=0),!(io(11004)|0)){a=11004,dt=a+36|0;do s[a>>2]=0,a=a+4|0;while((a|0)<(dt|0));cS(11004)}return 11004}function q6(a){return a=a|0,a|0}function K6(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;return en=Ft,Ft=Ft+16|0,Ct=en,kt=en+4|0,s[Ct>>2]=a,un=Z_()|0,Ut=un+24|0,dt=lo(dt,4)|0,s[kt>>2]=dt,St=un+28|0,Et=s[St>>2]|0,Et>>>0<(s[un+32>>2]|0)>>>0?(uS(Et,a,dt),dt=(s[St>>2]|0)+8|0,s[St>>2]=dt):(Z6(Ut,Ct,kt),dt=s[St>>2]|0),Ft=en,(dt-(s[Ut>>2]|0)>>3)+-1|0}function uS(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,s[a+4>>2]=St}function Z6(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0;if(en=Ft,Ft=Ft+32|0,Ct=en,kt=a+4|0,Ut=((s[kt>>2]|0)-(s[a>>2]|0)>>3)+1|0,Et=Q6(a)|0,Et>>>0<Ut>>>0)ts(a);else{un=s[a>>2]|0,pn=(s[a+8>>2]|0)-un|0,gn=pn>>2,J6(Ct,pn>>3>>>0<Et>>>1>>>0?gn>>>0<Ut>>>0?Ut:gn:Et,(s[kt>>2]|0)-un>>3,a+8|0),Ut=Ct+8|0,uS(s[Ut>>2]|0,s[dt>>2]|0,s[St>>2]|0),s[Ut>>2]=(s[Ut>>2]|0)+8,eI(a,Ct),tI(Ct),Ft=en;return}}function Q6(a){return a=a|0,536870911}function J6(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0;s[a+12>>2]=0,s[a+16>>2]=Et;do if(dt)if(dt>>>0>536870911)go();else{Ct=uo(dt<<3)|0;break}else Ct=0;while(0);s[a>>2]=Ct,Et=Ct+(St<<3)|0,s[a+8>>2]=Et,s[a+4>>2]=Et,s[a+12>>2]=Ct+(dt<<3)}function eI(a,dt){a=a|0,dt=dt|0;var St=0,Et=0,Ct=0,kt=0,Ut=0;Et=s[a>>2]|0,Ut=a+4|0,kt=dt+4|0,Ct=(s[Ut>>2]|0)-Et|0,St=(s[kt>>2]|0)+(0-(Ct>>3)<<3)|0,s[kt>>2]=St,(Ct|0)>0?(Ro(St|0,Et|0,Ct|0)|0,Et=kt,St=s[kt>>2]|0):Et=kt,kt=s[a>>2]|0,s[a>>2]=St,s[Et>>2]=kt,kt=dt+8|0,Ct=s[Ut>>2]|0,s[Ut>>2]=s[kt>>2],s[kt>>2]=Ct,kt=a+8|0,Ut=dt+12|0,a=s[kt>>2]|0,s[kt>>2]=s[Ut>>2],s[Ut>>2]=a,s[dt>>2]=s[Et>>2]}function tI(a){a=a|0;var dt=0,St=0,Et=0;dt=s[a+4>>2]|0,St=a+8|0,Et=s[St>>2]|0,(Et|0)!=(dt|0)&&(s[St>>2]=Et+(~((Et+-8-dt|0)>>>3)<<3)),a=s[a>>2]|0,a|0&&Gr(a)}function cS(a){a=a|0,iI(a)}function nI(a){a=a|0,rI(a+24|0)}function rI(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function iI(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,1,12,dt,oI()|0,2),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function oI(){return 1896}function sI(a,dt,St){a=a|0,dt=dt|0,St=St|0,lI(s[(aI(a)|0)>>2]|0,dt,St)}function aI(a){return a=a|0,(s[(Z_()|0)+24>>2]|0)+(a<<3)|0}function lI(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;Et=Ft,Ft=Ft+16|0,kt=Et+4|0,Ct=Et,uI(kt,dt),dt=cI(kt,dt)|0,Up(Ct,St),St=zp(Ct,St)|0,rp[a&31](dt,St),$p(Ct),Ft=Et}function uI(a,dt){a=a|0,dt=dt|0}function cI(a,dt){return a=a|0,dt=dt|0,fI(dt)|0}function fI(a){return a=a|0,a|0}function dI(){var a=0;return ft[8080]|0||(fS(11040),Dn(70,11040,fn|0)|0,a=8080,s[a>>2]=1,s[a+4>>2]=0),io(11040)|0||fS(11040),11040}function fS(a){a=a|0,mI(a),k1(a,71)}function hI(a){a=a|0,pI(a+24|0)}function pI(a){a=a|0;var dt=0,St=0,Et=0;St=s[a>>2]|0,Et=St,St|0&&(a=a+4|0,dt=s[a>>2]|0,(dt|0)!=(St|0)&&(s[a>>2]=dt+(~((dt+-8-Et|0)>>>3)<<3)),Gr(St))}function mI(a){a=a|0;var dt=0;dt=Oo()|0,Jo(a,5,7,dt,yI()|0,0),s[a+24>>2]=0,s[a+28>>2]=0,s[a+32>>2]=0}function gI(a){a=a|0,vI(a)}function vI(a){a=a|0,_I(a)}function _I(a){a=a|0,ft[a+8>>0]=1}function yI(){return 1936}function xI(){return SI()|0}function SI(){var a=0,dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0;return dt=Ft,Ft=Ft+16|0,Ct=dt+4|0,Ut=dt,St=Cu(8)|0,a=St,kt=a+4|0,s[kt>>2]=uo(1)|0,Et=uo(8)|0,kt=s[kt>>2]|0,s[Ut>>2]=0,s[Ct>>2]=s[Ut>>2],wI(Et,kt,Ct),s[St>>2]=Et,Ft=dt,a|0}function wI(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]=dt,St=uo(16)|0,s[St+4>>2]=0,s[St+8>>2]=0,s[St>>2]=1916,s[St+12>>2]=dt,s[a+4>>2]=St}function MI(a){a=a|0,x2(a),Gr(a)}function EI(a){a=a|0,a=s[a+12>>2]|0,a|0&&Gr(a)}function TI(a){a=a|0,Gr(a)}function AI(){var a=0;return ft[8088]|0||(II(11076),Dn(25,11076,fn|0)|0,a=8088,s[a>>2]=1,s[a+4>>2]=0),11076}function CI(a,dt){a=a|0,dt=dt|0,s[a>>2]=PI()|0,s[a+4>>2]=kI()|0,s[a+12>>2]=dt,s[a+8>>2]=LI()|0,s[a+32>>2]=10}function PI(){return 11745}function kI(){return 1940}function LI(){return Sv()|0}function RI(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,(Vp(Et,896)|0)==512?St|0&&(bI(St),Gr(St)):dt|0&&Gr(dt)}function bI(a){a=a|0,a=s[a+4>>2]|0,a|0&&Wp(a)}function II(a){a=a|0,Bp(a)}function a0(a,dt){a=a|0,dt=dt|0,s[a>>2]=dt}function Q_(a){return a=a|0,s[a>>2]|0}function DI(a){return a=a|0,ft[s[a>>2]>>0]|0}function OI(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;St=Ft,Ft=Ft+16|0,Et=St,s[Et>>2]=s[a>>2],FI(dt,Et)|0,Ft=St}function FI(a,dt){a=a|0,dt=dt|0;var St=0;return St=NI(s[a>>2]|0,dt)|0,dt=a+4|0,s[(s[dt>>2]|0)+8>>2]=St,s[(s[dt>>2]|0)+8>>2]|0}function NI(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;return St=Ft,Ft=Ft+16|0,Et=St,Pu(Et),a=Xs(a)|0,dt=BI(a,s[dt>>2]|0)|0,ku(Et),Ft=St,dt|0}function Pu(a){a=a|0,s[a>>2]=s[2701],s[a+4>>2]=s[2703]}function BI(a,dt){a=a|0,dt=dt|0;var St=0;return St=$a(UI()|0)|0,Ol(0,St|0,a|0,H_(dt)|0)|0}function ku(a){a=a|0,eS(s[a>>2]|0,s[a+4>>2]|0)}function UI(){var a=0;return ft[8096]|0||(zI(11120),a=8096,s[a>>2]=1,s[a+4>>2]=0),11120}function zI(a){a=a|0,hu(a,$I()|0,1)}function $I(){return 1948}function VI(){GI()}function GI(){var a=0,dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0,Kn=0;if(Qn=Ft,Ft=Ft+16|0,pn=Qn+4|0,En=Qn,ws(65536,10804,s[2702]|0,10812),St=Ox()|0,dt=s[St>>2]|0,a=s[dt>>2]|0,a|0)for(Et=s[St+8>>2]|0,St=s[St+4>>2]|0;yo(a|0,Tt[St>>0]|0|0,ft[Et>>0]|0),dt=dt+4|0,a=s[dt>>2]|0,a;)Et=Et+1|0,St=St+1|0;if(a=Fx()|0,dt=s[a>>2]|0,dt|0)do wo(dt|0,s[a+4>>2]|0),a=a+8|0,dt=s[a>>2]|0;while(dt|0);wo(WI()|0,5167),gn=m2()|0,a=s[gn>>2]|0;e:do if(a|0){do HI(s[a+4>>2]|0),a=s[a>>2]|0;while(a|0);if(a=s[gn>>2]|0,a|0){un=gn;do{for(;Ct=a,a=s[a>>2]|0,Ct=s[Ct+4>>2]|0,!!(jI(Ct)|0);)if(s[En>>2]=un,s[pn>>2]=s[En>>2],YI(gn,pn)|0,!a)break e;if(XI(Ct),un=s[un>>2]|0,dt=dS(Ct)|0,kt=Ks()|0,Ut=Ft,Ft=Ft+((1*(dt<<2)|0)+15&-16)|0,en=Ft,Ft=Ft+((1*(dt<<2)|0)+15&-16)|0,dt=s[(Xx(Ct)|0)>>2]|0,dt|0)for(St=Ut,Et=en;s[St>>2]=s[(g2(s[dt+4>>2]|0)|0)>>2],s[Et>>2]=s[dt+8>>2],dt=s[dt>>2]|0,dt;)St=St+4|0,Et=Et+4|0;Kn=g2(Ct)|0,dt=qI(Ct)|0,St=dS(Ct)|0,Et=KI(Ct)|0,Ho(Kn|0,dt|0,Ut|0,en|0,St|0,Et|0,U_(Ct)|0),rs(kt|0)}while(a|0)}}while(0);if(a=s[(z_()|0)>>2]|0,a|0)do Kn=a+4|0,gn=$_(Kn)|0,Ct=_m(gn)|0,kt=gm(gn)|0,Ut=(vm(gn)|0)+1|0,en=Av(gn)|0,un=hS(Kn)|0,gn=io(gn)|0,pn=Mv(Kn)|0,En=J_(Kn)|0,zo(0,Ct|0,kt|0,Ut|0,en|0,un|0,gn|0,pn|0,En|0,ey(Kn)|0),a=s[a>>2]|0;while(a|0);a=s[(m2()|0)>>2]|0;e:do if(a|0){t:for(;;){if(dt=s[a+4>>2]|0,dt|0&&(Rn=s[(g2(dt)|0)>>2]|0,cr=s[(qx(dt)|0)>>2]|0,cr|0)){St=cr;do{dt=St+4|0,Et=$_(dt)|0;n:do if(Et|0)switch(io(Et)|0){case 0:break t;case 4:case 3:case 2:{en=_m(Et)|0,un=gm(Et)|0,gn=(vm(Et)|0)+1|0,pn=Av(Et)|0,En=io(Et)|0,Kn=Mv(dt)|0,zo(Rn|0,en|0,un|0,gn|0,pn|0,0,En|0,Kn|0,J_(dt)|0,ey(dt)|0);break n}case 1:{Ut=_m(Et)|0,en=gm(Et)|0,un=(vm(Et)|0)+1|0,gn=Av(Et)|0,pn=hS(dt)|0,En=io(Et)|0,Kn=Mv(dt)|0,zo(Rn|0,Ut|0,en|0,un|0,gn|0,pn|0,En|0,Kn|0,J_(dt)|0,ey(dt)|0);break n}case 5:{gn=_m(Et)|0,pn=gm(Et)|0,En=(vm(Et)|0)+1|0,Kn=Av(Et)|0,zo(Rn|0,gn|0,pn|0,En|0,Kn|0,ZI(Et)|0,io(Et)|0,0,0,0);break n}default:break n}while(0);St=s[St>>2]|0}while(St|0)}if(a=s[a>>2]|0,!a)break e}go()}while(0);Xo(),Ft=Qn}function WI(){return 11703}function HI(a){a=a|0,ft[a+40>>0]=0}function jI(a){return a=a|0,(ft[a+40>>0]|0)!=0|0}function YI(a,dt){return a=a|0,dt=dt|0,dt=QI(dt)|0,a=s[dt>>2]|0,s[dt>>2]=s[a>>2],Gr(a),s[dt>>2]|0}function XI(a){a=a|0,ft[a+40>>0]=1}function dS(a){return a=a|0,s[a+20>>2]|0}function qI(a){return a=a|0,s[a+8>>2]|0}function KI(a){return a=a|0,s[a+32>>2]|0}function Av(a){return a=a|0,s[a+4>>2]|0}function hS(a){return a=a|0,s[a+4>>2]|0}function J_(a){return a=a|0,s[a+8>>2]|0}function ey(a){return a=a|0,s[a+16>>2]|0}function ZI(a){return a=a|0,s[a+20>>2]|0}function QI(a){return a=a|0,s[a>>2]|0}function Cv(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0,Kn=0,Er=0,_r=0,Or=0,rr=0,lr=0,no=0;no=Ft,Ft=Ft+16|0,Rn=no;do if(a>>>0<245){if(gn=a>>>0<11?16:a+11&-8,a=gn>>>3,En=s[2783]|0,St=En>>>a,St&3|0)return dt=(St&1^1)+a|0,a=11172+(dt<<1<<2)|0,St=a+8|0,Et=s[St>>2]|0,Ct=Et+8|0,kt=s[Ct>>2]|0,(a|0)==(kt|0)?s[2783]=En&~(1<<dt):(s[kt+12>>2]=a,s[St>>2]=kt),lr=dt<<3,s[Et+4>>2]=lr|3,lr=Et+lr+4|0,s[lr>>2]=s[lr>>2]|1,lr=Ct,Ft=no,lr|0;if(pn=s[2785]|0,gn>>>0>pn>>>0){if(St|0)return dt=2<<a,dt=St<<a&(dt|0-dt),dt=(dt&0-dt)+-1|0,Ut=dt>>>12&16,dt=dt>>>Ut,St=dt>>>5&8,dt=dt>>>St,Ct=dt>>>2&4,dt=dt>>>Ct,a=dt>>>1&2,dt=dt>>>a,Et=dt>>>1&1,Et=(St|Ut|Ct|a|Et)+(dt>>>Et)|0,dt=11172+(Et<<1<<2)|0,a=dt+8|0,Ct=s[a>>2]|0,Ut=Ct+8|0,St=s[Ut>>2]|0,(dt|0)==(St|0)?(a=En&~(1<<Et),s[2783]=a):(s[St+12>>2]=dt,s[a>>2]=St,a=En),kt=(Et<<3)-gn|0,s[Ct+4>>2]=gn|3,Et=Ct+gn|0,s[Et+4>>2]=kt|1,s[Et+kt>>2]=kt,pn|0&&(Ct=s[2788]|0,dt=pn>>>3,St=11172+(dt<<1<<2)|0,dt=1<<dt,a&dt?(a=St+8|0,dt=s[a>>2]|0):(s[2783]=a|dt,dt=St,a=St+8|0),s[a>>2]=Ct,s[dt+12>>2]=Ct,s[Ct+8>>2]=dt,s[Ct+12>>2]=St),s[2785]=kt,s[2788]=Et,lr=Ut,Ft=no,lr|0;if(en=s[2784]|0,en){if(St=(en&0-en)+-1|0,Ut=St>>>12&16,St=St>>>Ut,kt=St>>>5&8,St=St>>>kt,un=St>>>2&4,St=St>>>un,Et=St>>>1&2,St=St>>>Et,a=St>>>1&1,a=s[11436+((kt|Ut|un|Et|a)+(St>>>a)<<2)>>2]|0,St=(s[a+4>>2]&-8)-gn|0,Et=s[a+16+(((s[a+16>>2]|0)==0&1)<<2)>>2]|0,!Et)un=a,kt=St;else{do Ut=(s[Et+4>>2]&-8)-gn|0,un=Ut>>>0<St>>>0,St=un?Ut:St,a=un?Et:a,Et=s[Et+16+(((s[Et+16>>2]|0)==0&1)<<2)>>2]|0;while(Et|0);un=a,kt=St}if(Ut=un+gn|0,un>>>0<Ut>>>0){Ct=s[un+24>>2]|0,dt=s[un+12>>2]|0;do if((dt|0)==(un|0)){if(a=un+20|0,dt=s[a>>2]|0,!dt&&(a=un+16|0,dt=s[a>>2]|0,!dt)){St=0;break}for(;;){if(St=dt+20|0,Et=s[St>>2]|0,Et|0){dt=Et,a=St;continue}if(St=dt+16|0,Et=s[St>>2]|0,Et)dt=Et,a=St;else break}s[a>>2]=0,St=dt}else St=s[un+8>>2]|0,s[St+12>>2]=dt,s[dt+8>>2]=St,St=dt;while(0);do if(Ct|0){if(dt=s[un+28>>2]|0,a=11436+(dt<<2)|0,(un|0)==(s[a>>2]|0)){if(s[a>>2]=St,!St){s[2784]=en&~(1<<dt);break}}else if(s[Ct+16+(((s[Ct+16>>2]|0)!=(un|0)&1)<<2)>>2]=St,!St)break;s[St+24>>2]=Ct,dt=s[un+16>>2]|0,dt|0&&(s[St+16>>2]=dt,s[dt+24>>2]=St),dt=s[un+20>>2]|0,dt|0&&(s[St+20>>2]=dt,s[dt+24>>2]=St)}while(0);return kt>>>0<16?(lr=kt+gn|0,s[un+4>>2]=lr|3,lr=un+lr+4|0,s[lr>>2]=s[lr>>2]|1):(s[un+4>>2]=gn|3,s[Ut+4>>2]=kt|1,s[Ut+kt>>2]=kt,pn|0&&(Et=s[2788]|0,dt=pn>>>3,St=11172+(dt<<1<<2)|0,dt=1<<dt,En&dt?(a=St+8|0,dt=s[a>>2]|0):(s[2783]=En|dt,dt=St,a=St+8|0),s[a>>2]=Et,s[dt+12>>2]=Et,s[Et+8>>2]=dt,s[Et+12>>2]=St),s[2785]=kt,s[2788]=Ut),lr=un+8|0,Ft=no,lr|0}else En=gn}else En=gn}else En=gn}else if(a>>>0<=4294967231)if(a=a+11|0,gn=a&-8,un=s[2784]|0,un){Et=0-gn|0,a=a>>>8,a?gn>>>0>16777215?en=31:(En=(a+1048320|0)>>>16&8,rr=a<<En,pn=(rr+520192|0)>>>16&4,rr=rr<<pn,en=(rr+245760|0)>>>16&2,en=14-(pn|En|en)+(rr<<en>>>15)|0,en=gn>>>(en+7|0)&1|en<<1):en=0,St=s[11436+(en<<2)>>2]|0;e:do if(!St)St=0,a=0,rr=57;else for(a=0,Ut=gn<<((en|0)==31?0:25-(en>>>1)|0),kt=0;;){if(Ct=(s[St+4>>2]&-8)-gn|0,Ct>>>0<Et>>>0)if(Ct)a=St,Et=Ct;else{a=St,Et=0,Ct=St,rr=61;break e}if(Ct=s[St+20>>2]|0,St=s[St+16+(Ut>>>31<<2)>>2]|0,kt=(Ct|0)==0|(Ct|0)==(St|0)?kt:Ct,Ct=(St|0)==0,Ct){St=kt,rr=57;break}else Ut=Ut<<((Ct^1)&1)}while(0);if((rr|0)==57){if((St|0)==0&(a|0)==0){if(a=2<<en,a=un&(a|0-a),!a){En=gn;break}En=(a&0-a)+-1|0,Ut=En>>>12&16,En=En>>>Ut,kt=En>>>5&8,En=En>>>kt,en=En>>>2&4,En=En>>>en,pn=En>>>1&2,En=En>>>pn,St=En>>>1&1,a=0,St=s[11436+((kt|Ut|en|pn|St)+(En>>>St)<<2)>>2]|0}St?(Ct=St,rr=61):(en=a,Ut=Et)}if((rr|0)==61)for(;;)if(rr=0,St=(s[Ct+4>>2]&-8)-gn|0,En=St>>>0<Et>>>0,St=En?St:Et,a=En?Ct:a,Ct=s[Ct+16+(((s[Ct+16>>2]|0)==0&1)<<2)>>2]|0,Ct)Et=St,rr=61;else{en=a,Ut=St;break}if(en|0&&Ut>>>0<((s[2785]|0)-gn|0)>>>0){if(kt=en+gn|0,en>>>0>=kt>>>0)return lr=0,Ft=no,lr|0;Ct=s[en+24>>2]|0,dt=s[en+12>>2]|0;do if((dt|0)==(en|0)){if(a=en+20|0,dt=s[a>>2]|0,!dt&&(a=en+16|0,dt=s[a>>2]|0,!dt)){dt=0;break}for(;;){if(St=dt+20|0,Et=s[St>>2]|0,Et|0){dt=Et,a=St;continue}if(St=dt+16|0,Et=s[St>>2]|0,Et)dt=Et,a=St;else break}s[a>>2]=0}else lr=s[en+8>>2]|0,s[lr+12>>2]=dt,s[dt+8>>2]=lr;while(0);do if(Ct){if(a=s[en+28>>2]|0,St=11436+(a<<2)|0,(en|0)==(s[St>>2]|0)){if(s[St>>2]=dt,!dt){Et=un&~(1<<a),s[2784]=Et;break}}else if(s[Ct+16+(((s[Ct+16>>2]|0)!=(en|0)&1)<<2)>>2]=dt,!dt){Et=un;break}s[dt+24>>2]=Ct,a=s[en+16>>2]|0,a|0&&(s[dt+16>>2]=a,s[a+24>>2]=dt),a=s[en+20>>2]|0,a&&(s[dt+20>>2]=a,s[a+24>>2]=dt),Et=un}else Et=un;while(0);do if(Ut>>>0>=16){if(s[en+4>>2]=gn|3,s[kt+4>>2]=Ut|1,s[kt+Ut>>2]=Ut,dt=Ut>>>3,Ut>>>0<256){St=11172+(dt<<1<<2)|0,a=s[2783]|0,dt=1<<dt,a&dt?(a=St+8|0,dt=s[a>>2]|0):(s[2783]=a|dt,dt=St,a=St+8|0),s[a>>2]=kt,s[dt+12>>2]=kt,s[kt+8>>2]=dt,s[kt+12>>2]=St;break}if(dt=Ut>>>8,dt?Ut>>>0>16777215?dt=31:(rr=(dt+1048320|0)>>>16&8,lr=dt<<rr,Or=(lr+520192|0)>>>16&4,lr=lr<<Or,dt=(lr+245760|0)>>>16&2,dt=14-(Or|rr|dt)+(lr<<dt>>>15)|0,dt=Ut>>>(dt+7|0)&1|dt<<1):dt=0,St=11436+(dt<<2)|0,s[kt+28>>2]=dt,a=kt+16|0,s[a+4>>2]=0,s[a>>2]=0,a=1<<dt,!(Et&a)){s[2784]=Et|a,s[St>>2]=kt,s[kt+24>>2]=St,s[kt+12>>2]=kt,s[kt+8>>2]=kt;break}for(a=Ut<<((dt|0)==31?0:25-(dt>>>1)|0),St=s[St>>2]|0;;){if((s[St+4>>2]&-8|0)==(Ut|0)){rr=97;break}if(Et=St+16+(a>>>31<<2)|0,dt=s[Et>>2]|0,dt)a=a<<1,St=dt;else{rr=96;break}}if((rr|0)==96){s[Et>>2]=kt,s[kt+24>>2]=St,s[kt+12>>2]=kt,s[kt+8>>2]=kt;break}else if((rr|0)==97){rr=St+8|0,lr=s[rr>>2]|0,s[lr+12>>2]=kt,s[rr>>2]=kt,s[kt+8>>2]=lr,s[kt+12>>2]=St,s[kt+24>>2]=0;break}}else lr=Ut+gn|0,s[en+4>>2]=lr|3,lr=en+lr+4|0,s[lr>>2]=s[lr>>2]|1;while(0);return lr=en+8|0,Ft=no,lr|0}else En=gn}else En=gn;else En=-1;while(0);if(St=s[2785]|0,St>>>0>=En>>>0)return dt=St-En|0,a=s[2788]|0,dt>>>0>15?(lr=a+En|0,s[2788]=lr,s[2785]=dt,s[lr+4>>2]=dt|1,s[lr+dt>>2]=dt,s[a+4>>2]=En|3):(s[2785]=0,s[2788]=0,s[a+4>>2]=St|3,lr=a+St+4|0,s[lr>>2]=s[lr>>2]|1),lr=a+8|0,Ft=no,lr|0;if(Ut=s[2786]|0,Ut>>>0>En>>>0)return Or=Ut-En|0,s[2786]=Or,lr=s[2789]|0,rr=lr+En|0,s[2789]=rr,s[rr+4>>2]=Or|1,s[lr+4>>2]=En|3,lr=lr+8|0,Ft=no,lr|0;if(s[2901]|0?a=s[2903]|0:(s[2903]=4096,s[2902]=4096,s[2904]=-1,s[2905]=-1,s[2906]=0,s[2894]=0,a=Rn&-16^1431655768,s[Rn>>2]=a,s[2901]=a,a=4096),en=En+48|0,un=En+47|0,kt=a+un|0,Ct=0-a|0,gn=kt&Ct,gn>>>0<=En>>>0||(a=s[2893]|0,a|0&&(pn=s[2891]|0,Rn=pn+gn|0,Rn>>>0<=pn>>>0|Rn>>>0>a>>>0)))return lr=0,Ft=no,lr|0;e:do if(s[2894]&4)dt=0,rr=133;else{St=s[2789]|0;t:do if(St){for(Et=11580;a=s[Et>>2]|0,!(a>>>0<=St>>>0&&(Kn=Et+4|0,(a+(s[Kn>>2]|0)|0)>>>0>St>>>0));)if(a=s[Et+8>>2]|0,a)Et=a;else{rr=118;break t}if(dt=kt-Ut&Ct,dt>>>0<2147483647)if(a=Hp(dt|0)|0,(a|0)==((s[Et>>2]|0)+(s[Kn>>2]|0)|0)){if((a|0)!=-1){Ut=dt,kt=a,rr=135;break e}}else Et=a,rr=126;else dt=0}else rr=118;while(0);do if((rr|0)==118)if(St=Hp(0)|0,(St|0)!=-1&&(dt=St,cr=s[2902]|0,Qn=cr+-1|0,dt=(Qn&dt|0?(Qn+dt&0-cr)-dt|0:0)+gn|0,cr=s[2891]|0,Qn=dt+cr|0,dt>>>0>En>>>0&dt>>>0<2147483647)){if(Kn=s[2893]|0,Kn|0&&Qn>>>0<=cr>>>0|Qn>>>0>Kn>>>0){dt=0;break}if(a=Hp(dt|0)|0,(a|0)==(St|0)){Ut=dt,kt=St,rr=135;break e}else Et=a,rr=126}else dt=0;while(0);do if((rr|0)==126){if(St=0-dt|0,!(en>>>0>dt>>>0&(dt>>>0<2147483647&(Et|0)!=-1)))if((Et|0)==-1){dt=0;break}else{Ut=dt,kt=Et,rr=135;break e}if(a=s[2903]|0,a=un-dt+a&0-a,a>>>0>=2147483647){Ut=dt,kt=Et,rr=135;break e}if((Hp(a|0)|0)==-1){Hp(St|0)|0,dt=0;break}else{Ut=a+dt|0,kt=Et,rr=135;break e}}while(0);s[2894]=s[2894]|4,rr=133}while(0);if((rr|0)==133&&gn>>>0<2147483647&&(Or=Hp(gn|0)|0,Kn=Hp(0)|0,Er=Kn-Or|0,_r=Er>>>0>(En+40|0)>>>0,!((Or|0)==-1|_r^1|Or>>>0<Kn>>>0&((Or|0)!=-1&(Kn|0)!=-1)^1))&&(Ut=_r?Er:dt,kt=Or,rr=135),(rr|0)==135){dt=(s[2891]|0)+Ut|0,s[2891]=dt,dt>>>0>(s[2892]|0)>>>0&&(s[2892]=dt),un=s[2789]|0;do if(un){for(dt=11580;;){if(a=s[dt>>2]|0,St=dt+4|0,Et=s[St>>2]|0,(kt|0)==(a+Et|0)){rr=145;break}if(Ct=s[dt+8>>2]|0,Ct)dt=Ct;else break}if((rr|0)==145&&!(s[dt+12>>2]&8|0)&&un>>>0<kt>>>0&un>>>0>=a>>>0){s[St>>2]=Et+Ut,lr=un+8|0,lr=lr&7|0?0-lr&7:0,rr=un+lr|0,lr=(s[2786]|0)+(Ut-lr)|0,s[2789]=rr,s[2786]=lr,s[rr+4>>2]=lr|1,s[rr+lr+4>>2]=40,s[2790]=s[2905];break}for(kt>>>0<(s[2787]|0)>>>0&&(s[2787]=kt),St=kt+Ut|0,dt=11580;;){if((s[dt>>2]|0)==(St|0)){rr=153;break}if(a=s[dt+8>>2]|0,a)dt=a;else break}if((rr|0)==153&&!(s[dt+12>>2]&8|0)){s[dt>>2]=kt,pn=dt+4|0,s[pn>>2]=(s[pn>>2]|0)+Ut,pn=kt+8|0,pn=kt+(pn&7|0?0-pn&7:0)|0,dt=St+8|0,dt=St+(dt&7|0?0-dt&7:0)|0,gn=pn+En|0,en=dt-pn-En|0,s[pn+4>>2]=En|3;do if((dt|0)!=(un|0)){if((dt|0)==(s[2788]|0)){lr=(s[2785]|0)+en|0,s[2785]=lr,s[2788]=gn,s[gn+4>>2]=lr|1,s[gn+lr>>2]=lr;break}if(a=s[dt+4>>2]|0,(a&3|0)==1){Ut=a&-8,Et=a>>>3;e:do if(a>>>0<256)if(a=s[dt+8>>2]|0,St=s[dt+12>>2]|0,(St|0)==(a|0)){s[2783]=s[2783]&~(1<<Et);break}else{s[a+12>>2]=St,s[St+8>>2]=a;break}else{kt=s[dt+24>>2]|0,a=s[dt+12>>2]|0;do if((a|0)==(dt|0)){if(Et=dt+16|0,St=Et+4|0,a=s[St>>2]|0,!a)if(a=s[Et>>2]|0,a)St=Et;else{a=0;break}for(;;){if(Et=a+20|0,Ct=s[Et>>2]|0,Ct|0){a=Ct,St=Et;continue}if(Et=a+16|0,Ct=s[Et>>2]|0,Ct)a=Ct,St=Et;else break}s[St>>2]=0}else lr=s[dt+8>>2]|0,s[lr+12>>2]=a,s[a+8>>2]=lr;while(0);if(!kt)break;St=s[dt+28>>2]|0,Et=11436+(St<<2)|0;do if((dt|0)!=(s[Et>>2]|0)){if(s[kt+16+(((s[kt+16>>2]|0)!=(dt|0)&1)<<2)>>2]=a,!a)break e}else{if(s[Et>>2]=a,a|0)break;s[2784]=s[2784]&~(1<<St);break e}while(0);if(s[a+24>>2]=kt,St=dt+16|0,Et=s[St>>2]|0,Et|0&&(s[a+16>>2]=Et,s[Et+24>>2]=a),St=s[St+4>>2]|0,!St)break;s[a+20>>2]=St,s[St+24>>2]=a}while(0);dt=dt+Ut|0,Ct=Ut+en|0}else Ct=en;if(dt=dt+4|0,s[dt>>2]=s[dt>>2]&-2,s[gn+4>>2]=Ct|1,s[gn+Ct>>2]=Ct,dt=Ct>>>3,Ct>>>0<256){St=11172+(dt<<1<<2)|0,a=s[2783]|0,dt=1<<dt,a&dt?(a=St+8|0,dt=s[a>>2]|0):(s[2783]=a|dt,dt=St,a=St+8|0),s[a>>2]=gn,s[dt+12>>2]=gn,s[gn+8>>2]=dt,s[gn+12>>2]=St;break}dt=Ct>>>8;do if(!dt)dt=0;else{if(Ct>>>0>16777215){dt=31;break}rr=(dt+1048320|0)>>>16&8,lr=dt<<rr,Or=(lr+520192|0)>>>16&4,lr=lr<<Or,dt=(lr+245760|0)>>>16&2,dt=14-(Or|rr|dt)+(lr<<dt>>>15)|0,dt=Ct>>>(dt+7|0)&1|dt<<1}while(0);if(Et=11436+(dt<<2)|0,s[gn+28>>2]=dt,a=gn+16|0,s[a+4>>2]=0,s[a>>2]=0,a=s[2784]|0,St=1<<dt,!(a&St)){s[2784]=a|St,s[Et>>2]=gn,s[gn+24>>2]=Et,s[gn+12>>2]=gn,s[gn+8>>2]=gn;break}for(a=Ct<<((dt|0)==31?0:25-(dt>>>1)|0),St=s[Et>>2]|0;;){if((s[St+4>>2]&-8|0)==(Ct|0)){rr=194;break}if(Et=St+16+(a>>>31<<2)|0,dt=s[Et>>2]|0,dt)a=a<<1,St=dt;else{rr=193;break}}if((rr|0)==193){s[Et>>2]=gn,s[gn+24>>2]=St,s[gn+12>>2]=gn,s[gn+8>>2]=gn;break}else if((rr|0)==194){rr=St+8|0,lr=s[rr>>2]|0,s[lr+12>>2]=gn,s[rr>>2]=gn,s[gn+8>>2]=lr,s[gn+12>>2]=St,s[gn+24>>2]=0;break}}else lr=(s[2786]|0)+en|0,s[2786]=lr,s[2789]=gn,s[gn+4>>2]=lr|1;while(0);return lr=pn+8|0,Ft=no,lr|0}for(dt=11580;a=s[dt>>2]|0,!(a>>>0<=un>>>0&&(lr=a+(s[dt+4>>2]|0)|0,lr>>>0>un>>>0));)dt=s[dt+8>>2]|0;Ct=lr+-47|0,a=Ct+8|0,a=Ct+(a&7|0?0-a&7:0)|0,Ct=un+16|0,a=a>>>0<Ct>>>0?un:a,dt=a+8|0,St=kt+8|0,St=St&7|0?0-St&7:0,rr=kt+St|0,St=Ut+-40-St|0,s[2789]=rr,s[2786]=St,s[rr+4>>2]=St|1,s[rr+St+4>>2]=40,s[2790]=s[2905],St=a+4|0,s[St>>2]=27,s[dt>>2]=s[2895],s[dt+4>>2]=s[2896],s[dt+8>>2]=s[2897],s[dt+12>>2]=s[2898],s[2895]=kt,s[2896]=Ut,s[2898]=0,s[2897]=dt,dt=a+24|0;do rr=dt,dt=dt+4|0,s[dt>>2]=7;while((rr+8|0)>>>0<lr>>>0);if((a|0)!=(un|0)){if(kt=a-un|0,s[St>>2]=s[St>>2]&-2,s[un+4>>2]=kt|1,s[a>>2]=kt,dt=kt>>>3,kt>>>0<256){St=11172+(dt<<1<<2)|0,a=s[2783]|0,dt=1<<dt,a&dt?(a=St+8|0,dt=s[a>>2]|0):(s[2783]=a|dt,dt=St,a=St+8|0),s[a>>2]=un,s[dt+12>>2]=un,s[un+8>>2]=dt,s[un+12>>2]=St;break}if(dt=kt>>>8,dt?kt>>>0>16777215?St=31:(rr=(dt+1048320|0)>>>16&8,lr=dt<<rr,Or=(lr+520192|0)>>>16&4,lr=lr<<Or,St=(lr+245760|0)>>>16&2,St=14-(Or|rr|St)+(lr<<St>>>15)|0,St=kt>>>(St+7|0)&1|St<<1):St=0,Et=11436+(St<<2)|0,s[un+28>>2]=St,s[un+20>>2]=0,s[Ct>>2]=0,dt=s[2784]|0,a=1<<St,!(dt&a)){s[2784]=dt|a,s[Et>>2]=un,s[un+24>>2]=Et,s[un+12>>2]=un,s[un+8>>2]=un;break}for(a=kt<<((St|0)==31?0:25-(St>>>1)|0),St=s[Et>>2]|0;;){if((s[St+4>>2]&-8|0)==(kt|0)){rr=216;break}if(Et=St+16+(a>>>31<<2)|0,dt=s[Et>>2]|0,dt)a=a<<1,St=dt;else{rr=215;break}}if((rr|0)==215){s[Et>>2]=un,s[un+24>>2]=St,s[un+12>>2]=un,s[un+8>>2]=un;break}else if((rr|0)==216){rr=St+8|0,lr=s[rr>>2]|0,s[lr+12>>2]=un,s[rr>>2]=un,s[un+8>>2]=lr,s[un+12>>2]=St,s[un+24>>2]=0;break}}}else{lr=s[2787]|0,(lr|0)==0|kt>>>0<lr>>>0&&(s[2787]=kt),s[2895]=kt,s[2896]=Ut,s[2898]=0,s[2792]=s[2901],s[2791]=-1,dt=0;do lr=11172+(dt<<1<<2)|0,s[lr+12>>2]=lr,s[lr+8>>2]=lr,dt=dt+1|0;while((dt|0)!=32);lr=kt+8|0,lr=lr&7|0?0-lr&7:0,rr=kt+lr|0,lr=Ut+-40-lr|0,s[2789]=rr,s[2786]=lr,s[rr+4>>2]=lr|1,s[rr+lr+4>>2]=40,s[2790]=s[2905]}while(0);if(dt=s[2786]|0,dt>>>0>En>>>0)return Or=dt-En|0,s[2786]=Or,lr=s[2789]|0,rr=lr+En|0,s[2789]=rr,s[rr+4>>2]=Or|1,s[lr+4>>2]=En|3,lr=lr+8|0,Ft=no,lr|0}return s[(_2()|0)>>2]=12,lr=0,Ft=no,lr|0}function Pv(a){a=a|0;var dt=0,St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0;if(a){St=a+-8|0,Ct=s[2787]|0,a=s[a+-4>>2]|0,dt=a&-8,un=St+dt|0;do if(a&1)en=St,Ut=St;else{if(Et=s[St>>2]|0,!(a&3)||(Ut=St+(0-Et)|0,kt=Et+dt|0,Ut>>>0<Ct>>>0))return;if((Ut|0)==(s[2788]|0)){if(a=un+4|0,dt=s[a>>2]|0,(dt&3|0)!=3){en=Ut,dt=kt;break}s[2785]=kt,s[a>>2]=dt&-2,s[Ut+4>>2]=kt|1,s[Ut+kt>>2]=kt;return}if(St=Et>>>3,Et>>>0<256)if(a=s[Ut+8>>2]|0,dt=s[Ut+12>>2]|0,(dt|0)==(a|0)){s[2783]=s[2783]&~(1<<St),en=Ut,dt=kt;break}else{s[a+12>>2]=dt,s[dt+8>>2]=a,en=Ut,dt=kt;break}Ct=s[Ut+24>>2]|0,a=s[Ut+12>>2]|0;do if((a|0)==(Ut|0)){if(St=Ut+16|0,dt=St+4|0,a=s[dt>>2]|0,!a)if(a=s[St>>2]|0,a)dt=St;else{a=0;break}for(;;){if(St=a+20|0,Et=s[St>>2]|0,Et|0){a=Et,dt=St;continue}if(St=a+16|0,Et=s[St>>2]|0,Et)a=Et,dt=St;else break}s[dt>>2]=0}else en=s[Ut+8>>2]|0,s[en+12>>2]=a,s[a+8>>2]=en;while(0);if(Ct){if(dt=s[Ut+28>>2]|0,St=11436+(dt<<2)|0,(Ut|0)==(s[St>>2]|0)){if(s[St>>2]=a,!a){s[2784]=s[2784]&~(1<<dt),en=Ut,dt=kt;break}}else if(s[Ct+16+(((s[Ct+16>>2]|0)!=(Ut|0)&1)<<2)>>2]=a,!a){en=Ut,dt=kt;break}s[a+24>>2]=Ct,dt=Ut+16|0,St=s[dt>>2]|0,St|0&&(s[a+16>>2]=St,s[St+24>>2]=a),dt=s[dt+4>>2]|0,dt?(s[a+20>>2]=dt,s[dt+24>>2]=a,en=Ut,dt=kt):(en=Ut,dt=kt)}else en=Ut,dt=kt}while(0);if(!(Ut>>>0>=un>>>0)&&(a=un+4|0,Et=s[a>>2]|0,!!(Et&1))){if(Et&2)s[a>>2]=Et&-2,s[en+4>>2]=dt|1,s[Ut+dt>>2]=dt,Ct=dt;else{if(a=s[2788]|0,(un|0)==(s[2789]|0)){if(un=(s[2786]|0)+dt|0,s[2786]=un,s[2789]=en,s[en+4>>2]=un|1,(en|0)!=(a|0))return;s[2788]=0,s[2785]=0;return}if((un|0)==(a|0)){un=(s[2785]|0)+dt|0,s[2785]=un,s[2788]=Ut,s[en+4>>2]=un|1,s[Ut+un>>2]=un;return}Ct=(Et&-8)+dt|0,St=Et>>>3;do if(Et>>>0<256)if(dt=s[un+8>>2]|0,a=s[un+12>>2]|0,(a|0)==(dt|0)){s[2783]=s[2783]&~(1<<St);break}else{s[dt+12>>2]=a,s[a+8>>2]=dt;break}else{kt=s[un+24>>2]|0,a=s[un+12>>2]|0;do if((a|0)==(un|0)){if(St=un+16|0,dt=St+4|0,a=s[dt>>2]|0,!a)if(a=s[St>>2]|0,a)dt=St;else{St=0;break}for(;;){if(St=a+20|0,Et=s[St>>2]|0,Et|0){a=Et,dt=St;continue}if(St=a+16|0,Et=s[St>>2]|0,Et)a=Et,dt=St;else break}s[dt>>2]=0,St=a}else St=s[un+8>>2]|0,s[St+12>>2]=a,s[a+8>>2]=St,St=a;while(0);if(kt|0){if(a=s[un+28>>2]|0,dt=11436+(a<<2)|0,(un|0)==(s[dt>>2]|0)){if(s[dt>>2]=St,!St){s[2784]=s[2784]&~(1<<a);break}}else if(s[kt+16+(((s[kt+16>>2]|0)!=(un|0)&1)<<2)>>2]=St,!St)break;s[St+24>>2]=kt,a=un+16|0,dt=s[a>>2]|0,dt|0&&(s[St+16>>2]=dt,s[dt+24>>2]=St),a=s[a+4>>2]|0,a|0&&(s[St+20>>2]=a,s[a+24>>2]=St)}}while(0);if(s[en+4>>2]=Ct|1,s[Ut+Ct>>2]=Ct,(en|0)==(s[2788]|0)){s[2785]=Ct;return}}if(a=Ct>>>3,Ct>>>0<256){St=11172+(a<<1<<2)|0,dt=s[2783]|0,a=1<<a,dt&a?(dt=St+8|0,a=s[dt>>2]|0):(s[2783]=dt|a,a=St,dt=St+8|0),s[dt>>2]=en,s[a+12>>2]=en,s[en+8>>2]=a,s[en+12>>2]=St;return}a=Ct>>>8,a?Ct>>>0>16777215?a=31:(Ut=(a+1048320|0)>>>16&8,un=a<<Ut,kt=(un+520192|0)>>>16&4,un=un<<kt,a=(un+245760|0)>>>16&2,a=14-(kt|Ut|a)+(un<<a>>>15)|0,a=Ct>>>(a+7|0)&1|a<<1):a=0,Et=11436+(a<<2)|0,s[en+28>>2]=a,s[en+20>>2]=0,s[en+16>>2]=0,dt=s[2784]|0,St=1<<a;do if(dt&St){for(dt=Ct<<((a|0)==31?0:25-(a>>>1)|0),St=s[Et>>2]|0;;){if((s[St+4>>2]&-8|0)==(Ct|0)){a=73;break}if(Et=St+16+(dt>>>31<<2)|0,a=s[Et>>2]|0,a)dt=dt<<1,St=a;else{a=72;break}}if((a|0)==72){s[Et>>2]=en,s[en+24>>2]=St,s[en+12>>2]=en,s[en+8>>2]=en;break}else if((a|0)==73){Ut=St+8|0,un=s[Ut>>2]|0,s[un+12>>2]=en,s[Ut>>2]=en,s[en+8>>2]=un,s[en+12>>2]=St,s[en+24>>2]=0;break}}else s[2784]=dt|St,s[Et>>2]=en,s[en+24>>2]=Et,s[en+12>>2]=en,s[en+8>>2]=en;while(0);if(un=(s[2791]|0)+-1|0,s[2791]=un,!un)a=11588;else return;for(;a=s[a>>2]|0,a;)a=a+8|0;s[2791]=-1}}}function JI(){return 11628}function eD(a){a=a|0;var dt=0,St=0;return dt=Ft,Ft=Ft+16|0,St=dt,s[St>>2]=rD(s[a+60>>2]|0)|0,a=kv(us(6,St|0)|0)|0,Ft=dt,a|0}function pS(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0;En=Ft,Ft=Ft+48|0,gn=En+16|0,kt=En,Ct=En+32|0,en=a+28|0,Et=s[en>>2]|0,s[Ct>>2]=Et,un=a+20|0,Et=(s[un>>2]|0)-Et|0,s[Ct+4>>2]=Et,s[Ct+8>>2]=dt,s[Ct+12>>2]=St,Et=Et+St|0,Ut=a+60|0,s[kt>>2]=s[Ut>>2],s[kt+4>>2]=Ct,s[kt+8>>2]=2,kt=kv(ps(146,kt|0)|0)|0;e:do if((Et|0)!=(kt|0)){for(dt=2;!((kt|0)<0);)if(Et=Et-kt|0,cr=s[Ct+4>>2]|0,Rn=kt>>>0>cr>>>0,Ct=Rn?Ct+8|0:Ct,dt=(Rn<<31>>31)+dt|0,cr=kt-(Rn?cr:0)|0,s[Ct>>2]=(s[Ct>>2]|0)+cr,Rn=Ct+4|0,s[Rn>>2]=(s[Rn>>2]|0)-cr,s[gn>>2]=s[Ut>>2],s[gn+4>>2]=Ct,s[gn+8>>2]=dt,kt=kv(ps(146,gn|0)|0)|0,(Et|0)==(kt|0)){pn=3;break e}s[a+16>>2]=0,s[en>>2]=0,s[un>>2]=0,s[a>>2]=s[a>>2]|32,(dt|0)==2?St=0:St=St-(s[Ct+4>>2]|0)|0}else pn=3;while(0);return(pn|0)==3&&(cr=s[a+44>>2]|0,s[a+16>>2]=cr+(s[a+48>>2]|0),s[en>>2]=cr,s[un>>2]=cr),Ft=En,St|0}function tD(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;return Ct=Ft,Ft=Ft+32|0,kt=Ct,Et=Ct+20|0,s[kt>>2]=s[a+60>>2],s[kt+4>>2]=0,s[kt+8>>2]=dt,s[kt+12>>2]=Et,s[kt+16>>2]=St,(kv(ss(140,kt|0)|0)|0)<0?(s[Et>>2]=-1,a=-1):a=s[Et>>2]|0,Ft=Ct,a|0}function kv(a){return a=a|0,a>>>0>4294963200&&(s[(_2()|0)>>2]=0-a,a=-1),a|0}function _2(){return(nD()|0)+64|0}function nD(){return ty()|0}function ty(){return 2084}function rD(a){return a=a|0,a|0}function iD(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0;return Ct=Ft,Ft=Ft+32|0,Et=Ct,s[a+36>>2]=1,!(s[a>>2]&64|0)&&(s[Et>>2]=s[a+60>>2],s[Et+4>>2]=21523,s[Et+8>>2]=Ct+16,Xl(54,Et|0)|0)&&(ft[a+75>>0]=-1),Et=pS(a,dt,St)|0,Ft=Ct,Et|0}function mS(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;if(St=ft[a>>0]|0,Et=ft[dt>>0]|0,!(St<<24>>24)||St<<24>>24!=Et<<24>>24)a=Et;else{do a=a+1|0,dt=dt+1|0,St=ft[a>>0]|0,Et=ft[dt>>0]|0;while(!(!(St<<24>>24)||St<<24>>24!=Et<<24>>24));a=Et}return(St&255)-(a&255)|0}function oD(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0;e:do if(!St)a=0;else{for(;Et=ft[a>>0]|0,Ct=ft[dt>>0]|0,Et<<24>>24==Ct<<24>>24;)if(St=St+-1|0,St)a=a+1|0,dt=dt+1|0;else{a=0;break e}a=(Et&255)-(Ct&255)|0}while(0);return a|0}function gS(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0,Kn=0;Kn=Ft,Ft=Ft+224|0,pn=Kn+120|0,En=Kn+80|0,cr=Kn,Qn=Kn+136|0,Et=En,Ct=Et+40|0;do s[Et>>2]=0,Et=Et+4|0;while((Et|0)<(Ct|0));return s[pn>>2]=s[St>>2],(ny(0,dt,pn,cr,En)|0)<0?St=-1:((s[a+76>>2]|0)>-1?Rn=sD(a)|0:Rn=0,St=s[a>>2]|0,gn=St&32,(ft[a+74>>0]|0)<1&&(s[a>>2]=St&-33),Et=a+48|0,s[Et>>2]|0?St=ny(a,dt,pn,cr,En)|0:(Ct=a+44|0,kt=s[Ct>>2]|0,s[Ct>>2]=Qn,Ut=a+28|0,s[Ut>>2]=Qn,en=a+20|0,s[en>>2]=Qn,s[Et>>2]=80,un=a+16|0,s[un>>2]=Qn+80,St=ny(a,dt,pn,cr,En)|0,kt&&(Iv[s[a+36>>2]&7](a,0,0)|0,St=s[en>>2]|0?St:-1,s[Ct>>2]=kt,s[Et>>2]=0,s[un>>2]=0,s[Ut>>2]=0,s[en>>2]=0)),Et=s[a>>2]|0,s[a>>2]=Et|gn,Rn|0&&aD(a),St=Et&32|0?-1:St),Ft=Kn,St|0}function ny(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0,Kn=0,Er=0,_r=0,Or=0,rr=0,lr=0,no=0,Wo=0,Mo=0,ho=0,bo=0,$o=0,So=0;So=Ft,Ft=Ft+64|0,Mo=So+16|0,ho=So,no=So+24|0,bo=So+8|0,$o=So+20|0,s[Mo>>2]=dt,Or=(a|0)!=0,rr=no+40|0,lr=rr,no=no+39|0,Wo=bo+4|0,Ut=0,kt=0,pn=0;e:for(;;){do if((kt|0)>-1)if((Ut|0)>(2147483647-kt|0)){s[(_2()|0)>>2]=75,kt=-1;break}else{kt=Ut+kt|0;break}while(0);if(Ut=ft[dt>>0]|0,Ut<<24>>24)en=dt;else{_r=87;break}t:for(;;){switch(Ut<<24>>24){case 37:{Ut=en,_r=9;break t}case 0:{Ut=en;break t}default:}Er=en+1|0,s[Mo>>2]=Er,Ut=ft[Er>>0]|0,en=Er}t:do if((_r|0)==9)for(;;){if(_r=0,(ft[en+1>>0]|0)!=37)break t;if(Ut=Ut+1|0,en=en+2|0,s[Mo>>2]=en,(ft[en>>0]|0)==37)_r=9;else break}while(0);if(Ut=Ut-dt|0,Or&&qs(a,dt,Ut),Ut|0){dt=en;continue}un=en+1|0,Ut=(ft[un>>0]|0)+-48|0,Ut>>>0<10?(Er=(ft[en+2>>0]|0)==36,Kn=Er?Ut:-1,pn=Er?1:pn,un=Er?en+3|0:un):Kn=-1,s[Mo>>2]=un,Ut=ft[un>>0]|0,en=(Ut<<24>>24)+-32|0;t:do if(en>>>0<32)for(gn=0,En=Ut;;){if(Ut=1<<en,!(Ut&75913)){Ut=En;break t}if(gn=Ut|gn,un=un+1|0,s[Mo>>2]=un,Ut=ft[un>>0]|0,en=(Ut<<24>>24)+-32|0,en>>>0>=32)break;En=Ut}else gn=0;while(0);if(Ut<<24>>24==42){if(en=un+1|0,Ut=(ft[en>>0]|0)+-48|0,Ut>>>0<10&&(ft[un+2>>0]|0)==36)s[Ct+(Ut<<2)>>2]=10,Ut=s[Et+((ft[en>>0]|0)+-48<<3)>>2]|0,pn=1,un=un+3|0;else{if(pn|0){kt=-1;break}Or?(pn=(s[St>>2]|0)+(4-1)&~(4-1),Ut=s[pn>>2]|0,s[St>>2]=pn+4,pn=0,un=en):(Ut=0,pn=0,un=en)}s[Mo>>2]=un,Er=(Ut|0)<0,Ut=Er?0-Ut|0:Ut,gn=Er?gn|8192:gn}else{if(Ut=vS(Mo)|0,(Ut|0)<0){kt=-1;break}un=s[Mo>>2]|0}do if((ft[un>>0]|0)==46){if((ft[un+1>>0]|0)!=42){s[Mo>>2]=un+1,en=vS(Mo)|0,un=s[Mo>>2]|0;break}if(En=un+2|0,en=(ft[En>>0]|0)+-48|0,en>>>0<10&&(ft[un+3>>0]|0)==36){s[Ct+(en<<2)>>2]=10,en=s[Et+((ft[En>>0]|0)+-48<<3)>>2]|0,un=un+4|0,s[Mo>>2]=un;break}if(pn|0){kt=-1;break e}Or?(Er=(s[St>>2]|0)+(4-1)&~(4-1),en=s[Er>>2]|0,s[St>>2]=Er+4):en=0,s[Mo>>2]=En,un=En}else en=-1;while(0);for(Qn=0;;){if(((ft[un>>0]|0)+-65|0)>>>0>57){kt=-1;break e}if(Er=un+1|0,s[Mo>>2]=Er,En=ft[(ft[un>>0]|0)+-65+(5178+(Qn*58|0))>>0]|0,Rn=En&255,(Rn+-1|0)>>>0<8)Qn=Rn,un=Er;else break}if(!(En<<24>>24)){kt=-1;break}cr=(Kn|0)>-1;do if(En<<24>>24==19)if(cr){kt=-1;break e}else _r=49;else{if(cr){s[Ct+(Kn<<2)>>2]=Rn,cr=Et+(Kn<<3)|0,Kn=s[cr+4>>2]|0,_r=ho,s[_r>>2]=s[cr>>2],s[_r+4>>2]=Kn,_r=49;break}if(!Or){kt=0;break e}_S(ho,Rn,St)}while(0);if((_r|0)==49&&(_r=0,!Or)){Ut=0,dt=Er;continue}un=ft[un>>0]|0,un=(Qn|0)!=0&(un&15|0)==3?un&-33:un,cr=gn&-65537,Kn=gn&8192|0?cr:gn;t:do switch(un|0){case 110:switch((Qn&255)<<24>>24){case 0:{s[s[ho>>2]>>2]=kt,Ut=0,dt=Er;continue e}case 1:{s[s[ho>>2]>>2]=kt,Ut=0,dt=Er;continue e}case 2:{Ut=s[ho>>2]|0,s[Ut>>2]=kt,s[Ut+4>>2]=((kt|0)<0)<<31>>31,Ut=0,dt=Er;continue e}case 3:{vt[s[ho>>2]>>1]=kt,Ut=0,dt=Er;continue e}case 4:{ft[s[ho>>2]>>0]=kt,Ut=0,dt=Er;continue e}case 6:{s[s[ho>>2]>>2]=kt,Ut=0,dt=Er;continue e}case 7:{Ut=s[ho>>2]|0,s[Ut>>2]=kt,s[Ut+4>>2]=((kt|0)<0)<<31>>31,Ut=0,dt=Er;continue e}default:{Ut=0,dt=Er;continue e}}case 112:{un=120,en=en>>>0>8?en:8,dt=Kn|8,_r=61;break}case 88:case 120:{dt=Kn,_r=61;break}case 111:{un=ho,dt=s[un>>2]|0,un=s[un+4>>2]|0,Rn=uD(dt,un,rr)|0,cr=lr-Rn|0,gn=0,En=5642,en=(Kn&8|0)==0|(en|0)>(cr|0)?en:cr+1|0,cr=Kn,_r=67;break}case 105:case 100:if(un=ho,dt=s[un>>2]|0,un=s[un+4>>2]|0,(un|0)<0){dt=Lv(0,0,dt|0,un|0)|0,un=On,gn=ho,s[gn>>2]=dt,s[gn+4>>2]=un,gn=1,En=5642,_r=66;break t}else{gn=(Kn&2049|0)!=0&1,En=Kn&2048|0?5643:Kn&1|0?5644:5642,_r=66;break t}case 117:{un=ho,gn=0,En=5642,dt=s[un>>2]|0,un=s[un+4>>2]|0,_r=66;break}case 99:{ft[no>>0]=s[ho>>2],dt=no,gn=0,En=5642,Rn=rr,un=1,en=cr;break}case 109:{un=cD(s[(_2()|0)>>2]|0)|0,_r=71;break}case 115:{un=s[ho>>2]|0,un=un|0?un:5652,_r=71;break}case 67:{s[bo>>2]=s[ho>>2],s[Wo>>2]=0,s[ho>>2]=bo,Rn=-1,un=bo,_r=75;break}case 83:{dt=s[ho>>2]|0,en?(Rn=en,un=dt,_r=75):(yl(a,32,Ut,0,Kn),dt=0,_r=84);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{Ut=dD(a,+Nt[ho>>3],Ut,en,Kn,un)|0,dt=Er;continue e}default:gn=0,En=5642,Rn=rr,un=en,en=Kn}while(0);t:do if((_r|0)==61)Kn=ho,Qn=s[Kn>>2]|0,Kn=s[Kn+4>>2]|0,Rn=lD(Qn,Kn,rr,un&32)|0,En=(dt&8|0)==0|(Qn|0)==0&(Kn|0)==0,gn=En?0:2,En=En?5642:5642+(un>>4)|0,cr=dt,dt=Qn,un=Kn,_r=67;else if((_r|0)==66)Rn=y2(dt,un,rr)|0,cr=Kn,_r=67;else if((_r|0)==71)_r=0,Kn=fD(un,0,en)|0,Qn=(Kn|0)==0,dt=un,gn=0,En=5642,Rn=Qn?un+en|0:Kn,un=Qn?en:Kn-un|0,en=cr;else if((_r|0)==75){for(_r=0,En=un,dt=0,en=0;gn=s[En>>2]|0,!(!gn||(en=yS($o,gn)|0,(en|0)<0|en>>>0>(Rn-dt|0)>>>0));)if(dt=en+dt|0,Rn>>>0>dt>>>0)En=En+4|0;else break;if((en|0)<0){kt=-1;break e}if(yl(a,32,Ut,dt,Kn),!dt)dt=0,_r=84;else for(gn=0;;){if(en=s[un>>2]|0,!en){_r=84;break t}if(en=yS($o,en)|0,gn=en+gn|0,(gn|0)>(dt|0)){_r=84;break t}if(qs(a,$o,en),gn>>>0>=dt>>>0){_r=84;break}else un=un+4|0}}while(0);if((_r|0)==67)_r=0,un=(dt|0)!=0|(un|0)!=0,Kn=(en|0)!=0|un,un=((un^1)&1)+(lr-Rn)|0,dt=Kn?Rn:rr,Rn=rr,un=Kn?(en|0)>(un|0)?en:un:en,en=(en|0)>-1?cr&-65537:cr;else if((_r|0)==84){_r=0,yl(a,32,Ut,dt,Kn^8192),Ut=(Ut|0)>(dt|0)?Ut:dt,dt=Er;continue}Qn=Rn-dt|0,cr=(un|0)<(Qn|0)?Qn:un,Kn=cr+gn|0,Ut=(Ut|0)<(Kn|0)?Kn:Ut,yl(a,32,Ut,Kn,en),qs(a,En,gn),yl(a,48,Ut,Kn,en^65536),yl(a,48,cr,Qn,0),qs(a,dt,Qn),yl(a,32,Ut,Kn,en^8192),dt=Er}e:do if((_r|0)==87&&!a)if(!pn)kt=0;else{for(kt=1;dt=s[Ct+(kt<<2)>>2]|0,!!dt;)if(_S(Et+(kt<<3)|0,dt,St),kt=kt+1|0,(kt|0)>=10){kt=1;break e}for(;;){if(s[Ct+(kt<<2)>>2]|0){kt=-1;break e}if(kt=kt+1|0,(kt|0)>=10){kt=1;break}}}while(0);return Ft=So,kt|0}function sD(a){return a=a|0,0}function aD(a){a=a|0}function qs(a,dt,St){a=a|0,dt=dt|0,St=St|0,s[a>>2]&32||SD(dt,St,a)|0}function vS(a){a=a|0;var dt=0,St=0,Et=0;if(St=s[a>>2]|0,Et=(ft[St>>0]|0)+-48|0,Et>>>0<10){dt=0;do dt=Et+(dt*10|0)|0,St=St+1|0,s[a>>2]=St,Et=(ft[St>>0]|0)+-48|0;while(Et>>>0<10)}else dt=0;return dt|0}function _S(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;e:do if(dt>>>0<=20)do switch(dt|0){case 9:{Et=(s[St>>2]|0)+(4-1)&~(4-1),dt=s[Et>>2]|0,s[St>>2]=Et+4,s[a>>2]=dt;break e}case 10:{Et=(s[St>>2]|0)+(4-1)&~(4-1),dt=s[Et>>2]|0,s[St>>2]=Et+4,Et=a,s[Et>>2]=dt,s[Et+4>>2]=((dt|0)<0)<<31>>31;break e}case 11:{Et=(s[St>>2]|0)+(4-1)&~(4-1),dt=s[Et>>2]|0,s[St>>2]=Et+4,Et=a,s[Et>>2]=dt,s[Et+4>>2]=0;break e}case 12:{Et=(s[St>>2]|0)+(8-1)&~(8-1),dt=Et,Ct=s[dt>>2]|0,dt=s[dt+4>>2]|0,s[St>>2]=Et+8,Et=a,s[Et>>2]=Ct,s[Et+4>>2]=dt;break e}case 13:{Ct=(s[St>>2]|0)+(4-1)&~(4-1),Et=s[Ct>>2]|0,s[St>>2]=Ct+4,Et=(Et&65535)<<16>>16,Ct=a,s[Ct>>2]=Et,s[Ct+4>>2]=((Et|0)<0)<<31>>31;break e}case 14:{Ct=(s[St>>2]|0)+(4-1)&~(4-1),Et=s[Ct>>2]|0,s[St>>2]=Ct+4,Ct=a,s[Ct>>2]=Et&65535,s[Ct+4>>2]=0;break e}case 15:{Ct=(s[St>>2]|0)+(4-1)&~(4-1),Et=s[Ct>>2]|0,s[St>>2]=Ct+4,Et=(Et&255)<<24>>24,Ct=a,s[Ct>>2]=Et,s[Ct+4>>2]=((Et|0)<0)<<31>>31;break e}case 16:{Ct=(s[St>>2]|0)+(4-1)&~(4-1),Et=s[Ct>>2]|0,s[St>>2]=Ct+4,Ct=a,s[Ct>>2]=Et&255,s[Ct+4>>2]=0;break e}case 17:{Ct=(s[St>>2]|0)+(8-1)&~(8-1),kt=+Nt[Ct>>3],s[St>>2]=Ct+8,Nt[a>>3]=kt;break e}case 18:{Ct=(s[St>>2]|0)+(8-1)&~(8-1),kt=+Nt[Ct>>3],s[St>>2]=Ct+8,Nt[a>>3]=kt;break e}default:break e}while(0);while(0)}function lD(a,dt,St,Et){if(a=a|0,dt=dt|0,St=St|0,Et=Et|0,!((a|0)==0&(dt|0)==0))do St=St+-1|0,ft[St>>0]=Tt[5694+(a&15)>>0]|0|Et,a=Rv(a|0,dt|0,4)|0,dt=On;while(!((a|0)==0&(dt|0)==0));return St|0}function uD(a,dt,St){if(a=a|0,dt=dt|0,St=St|0,!((a|0)==0&(dt|0)==0))do St=St+-1|0,ft[St>>0]=a&7|48,a=Rv(a|0,dt|0,3)|0,dt=On;while(!((a|0)==0&(dt|0)==0));return St|0}function y2(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;if(dt>>>0>0|(dt|0)==0&a>>>0>4294967295){for(;Et=sy(a|0,dt|0,10,0)|0,St=St+-1|0,ft[St>>0]=Et&255|48,Et=a,a=oy(a|0,dt|0,10,0)|0,dt>>>0>9|(dt|0)==9&Et>>>0>4294967295;)dt=On;dt=a}else dt=a;if(dt)for(;St=St+-1|0,ft[St>>0]=(dt>>>0)%10|0|48,!(dt>>>0<10);)dt=(dt>>>0)/10|0;return St|0}function cD(a){return a=a|0,vD(a,s[(gD()|0)+188>>2]|0)|0}function fD(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;kt=dt&255,Et=(St|0)!=0;e:do if(Et&(a&3|0)!=0)for(Ct=dt&255;;){if((ft[a>>0]|0)==Ct<<24>>24){Ut=6;break e}if(a=a+1|0,St=St+-1|0,Et=(St|0)!=0,!(Et&(a&3|0)!=0)){Ut=5;break}}else Ut=5;while(0);(Ut|0)==5&&(Et?Ut=6:St=0);e:do if((Ut|0)==6&&(Ct=dt&255,(ft[a>>0]|0)!=Ct<<24>>24)){Et=hr(kt,16843009)|0;t:do if(St>>>0>3){for(;kt=s[a>>2]^Et,!((kt&-2139062144^-2139062144)&kt+-16843009|0);)if(a=a+4|0,St=St+-4|0,St>>>0<=3){Ut=11;break t}}else Ut=11;while(0);if((Ut|0)==11&&!St){St=0;break}for(;;){if((ft[a>>0]|0)==Ct<<24>>24)break e;if(a=a+1|0,St=St+-1|0,!St){St=0;break}}}while(0);return(St|0?a:0)|0}function yl(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0;var kt=0,Ut=0;if(Ut=Ft,Ft=Ft+256|0,kt=Ut,(St|0)>(Et|0)&(Ct&73728|0)==0){if(Ct=St-Et|0,S2(kt|0,dt|0,(Ct>>>0<256?Ct:256)|0)|0,Ct>>>0>255){dt=St-Et|0;do qs(a,kt,256),Ct=Ct+-256|0;while(Ct>>>0>255);Ct=dt&255}qs(a,kt,Ct)}Ft=Ut}function yS(a,dt){return a=a|0,dt=dt|0,a?a=pD(a,dt,0)|0:a=0,a|0}function dD(a,dt,St,Et,Ct,kt){a=a|0,dt=+dt,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0;var Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0,Kn=0,Er=0,_r=0,Or=0,rr=0,lr=0,no=0,Wo=0,Mo=0,ho=0,bo=0,$o=0,So=0,cs=0;cs=Ft,Ft=Ft+560|0,un=cs+8|0,Er=cs,So=cs+524|0,$o=So,gn=cs+512|0,s[Er>>2]=0,bo=gn+12|0,xS(dt)|0,(On|0)<0?(dt=-dt,Mo=1,Wo=5659):(Mo=(Ct&2049|0)!=0&1,Wo=Ct&2048|0?5662:Ct&1|0?5665:5660),xS(dt)|0,ho=On&2146435072;do if(ho>>>0<2146435072|(ho|0)==2146435072&0<0){if(cr=+hD(dt,Er)*2,Ut=cr!=0,Ut&&(s[Er>>2]=(s[Er>>2]|0)+-1),Or=kt|32,(Or|0)==97){Qn=kt&32,Rn=Qn|0?Wo+9|0:Wo,En=Mo|2,Ut=12-Et|0;do if(Et>>>0>11|(Ut|0)==0)dt=cr;else{dt=8;do Ut=Ut+-1|0,dt=dt*16;while(Ut|0);if((ft[Rn>>0]|0)==45){dt=-(dt+(-cr-dt));break}else{dt=cr+dt-dt;break}}while(0);en=s[Er>>2]|0,Ut=(en|0)<0?0-en|0:en,Ut=y2(Ut,((Ut|0)<0)<<31>>31,bo)|0,(Ut|0)==(bo|0)&&(Ut=gn+11|0,ft[Ut>>0]=48),ft[Ut+-1>>0]=(en>>31&2)+43,pn=Ut+-2|0,ft[pn>>0]=kt+15,gn=(Et|0)<1,un=(Ct&8|0)==0,Ut=So;do ho=~~dt,en=Ut+1|0,ft[Ut>>0]=Tt[5694+ho>>0]|Qn,dt=(dt-+(ho|0))*16,(en-$o|0)==1&&!(un&(gn&dt==0))?(ft[en>>0]=46,Ut=Ut+2|0):Ut=en;while(dt!=0);ho=Ut-$o|0,$o=bo-pn|0,bo=(Et|0)!=0&(ho+-2|0)<(Et|0)?Et+2|0:ho,Ut=$o+En+bo|0,yl(a,32,St,Ut,Ct),qs(a,Rn,En),yl(a,48,St,Ut,Ct^65536),qs(a,So,ho),yl(a,48,bo-ho|0,0,0),qs(a,pn,$o),yl(a,32,St,Ut,Ct^8192);break}en=(Et|0)<0?6:Et,Ut?(Ut=(s[Er>>2]|0)+-28|0,s[Er>>2]=Ut,dt=cr*268435456):(dt=cr,Ut=s[Er>>2]|0),ho=(Ut|0)<0?un:un+288|0,un=ho;do lr=~~dt>>>0,s[un>>2]=lr,un=un+4|0,dt=(dt-+(lr>>>0))*1e9;while(dt!=0);if((Ut|0)>0)for(gn=ho,En=un;;){if(pn=(Ut|0)<29?Ut:29,Ut=En+-4|0,Ut>>>0>=gn>>>0){un=0;do rr=AS(s[Ut>>2]|0,0,pn|0)|0,rr=iy(rr|0,On|0,un|0,0)|0,lr=On,_r=sy(rr|0,lr|0,1e9,0)|0,s[Ut>>2]=_r,un=oy(rr|0,lr|0,1e9,0)|0,Ut=Ut+-4|0;while(Ut>>>0>=gn>>>0);un&&(gn=gn+-4|0,s[gn>>2]=un)}for(un=En;!(un>>>0<=gn>>>0);)if(Ut=un+-4|0,!(s[Ut>>2]|0))un=Ut;else break;if(Ut=(s[Er>>2]|0)-pn|0,s[Er>>2]=Ut,(Ut|0)>0)En=un;else break}else gn=ho;if((Ut|0)<0){Et=((en+25|0)/9|0)+1|0,Kn=(Or|0)==102;do{if(Qn=0-Ut|0,Qn=(Qn|0)<9?Qn:9,gn>>>0<un>>>0){pn=(1<<Qn)+-1|0,En=1e9>>>Qn,Rn=0,Ut=gn;do lr=s[Ut>>2]|0,s[Ut>>2]=(lr>>>Qn)+Rn,Rn=hr(lr&pn,En)|0,Ut=Ut+4|0;while(Ut>>>0<un>>>0);Ut=s[gn>>2]|0?gn:gn+4|0,Rn?(s[un>>2]=Rn,gn=Ut,Ut=un+4|0):(gn=Ut,Ut=un)}else gn=s[gn>>2]|0?gn:gn+4|0,Ut=un;un=Kn?ho:gn,un=(Ut-un>>2|0)>(Et|0)?un+(Et<<2)|0:Ut,Ut=(s[Er>>2]|0)+Qn|0,s[Er>>2]=Ut}while((Ut|0)<0);Ut=gn,Et=un}else Ut=gn,Et=un;if(lr=ho,Ut>>>0<Et>>>0){if(un=(lr-Ut>>2)*9|0,pn=s[Ut>>2]|0,pn>>>0>=10){gn=10;do gn=gn*10|0,un=un+1|0;while(pn>>>0>=gn>>>0)}}else un=0;if(Kn=(Or|0)==103,_r=(en|0)!=0,gn=en-((Or|0)!=102?un:0)+((_r&Kn)<<31>>31)|0,(gn|0)<(((Et-lr>>2)*9|0)+-9|0)){if(gn=gn+9216|0,Qn=ho+4+(((gn|0)/9|0)+-1024<<2)|0,gn=((gn|0)%9|0)+1|0,(gn|0)<9){pn=10;do pn=pn*10|0,gn=gn+1|0;while((gn|0)!=9)}else pn=10;if(En=s[Qn>>2]|0,Rn=(En>>>0)%(pn>>>0)|0,gn=(Qn+4|0)==(Et|0),gn&(Rn|0)==0)gn=Qn;else if(cr=((En>>>0)/(pn>>>0)|0)&1|0?9007199254740994:9007199254740992,rr=(pn|0)/2|0,dt=Rn>>>0<rr>>>0?.5:gn&(Rn|0)==(rr|0)?1:1.5,Mo&&(rr=(ft[Wo>>0]|0)==45,dt=rr?-dt:dt,cr=rr?-cr:cr),gn=En-Rn|0,s[Qn>>2]=gn,cr+dt!=cr){if(rr=gn+pn|0,s[Qn>>2]=rr,rr>>>0>999999999)for(un=Qn;gn=un+-4|0,s[un>>2]=0,gn>>>0<Ut>>>0&&(Ut=Ut+-4|0,s[Ut>>2]=0),rr=(s[gn>>2]|0)+1|0,s[gn>>2]=rr,rr>>>0>999999999;)un=gn;else gn=Qn;if(un=(lr-Ut>>2)*9|0,En=s[Ut>>2]|0,En>>>0>=10){pn=10;do pn=pn*10|0,un=un+1|0;while(En>>>0>=pn>>>0)}}else gn=Qn;gn=gn+4|0,gn=Et>>>0>gn>>>0?gn:Et,rr=Ut}else gn=Et,rr=Ut;for(Or=gn;;){if(Or>>>0<=rr>>>0){Er=0;break}if(Ut=Or+-4|0,!(s[Ut>>2]|0))Or=Ut;else{Er=1;break}}Et=0-un|0;do if(Kn)if(Ut=((_r^1)&1)+en|0,(Ut|0)>(un|0)&(un|0)>-5?(pn=kt+-1|0,en=Ut+-1-un|0):(pn=kt+-2|0,en=Ut+-1|0),Ut=Ct&8,Ut)Qn=Ut;else{if(Er&&(no=s[Or+-4>>2]|0,(no|0)!=0))if((no>>>0)%10|0)gn=0;else{gn=0,Ut=10;do Ut=Ut*10|0,gn=gn+1|0;while(!((no>>>0)%(Ut>>>0)|0|0))}else gn=9;if(Ut=((Or-lr>>2)*9|0)+-9|0,(pn|32|0)==102){Qn=Ut-gn|0,Qn=(Qn|0)>0?Qn:0,en=(en|0)<(Qn|0)?en:Qn,Qn=0;break}else{Qn=Ut+un-gn|0,Qn=(Qn|0)>0?Qn:0,en=(en|0)<(Qn|0)?en:Qn,Qn=0;break}}else pn=kt,Qn=Ct&8;while(0);if(Kn=en|Qn,En=(Kn|0)!=0&1,Rn=(pn|32|0)==102,Rn)_r=0,Ut=(un|0)>0?un:0;else{if(Ut=(un|0)<0?Et:un,Ut=y2(Ut,((Ut|0)<0)<<31>>31,bo)|0,gn=bo,(gn-Ut|0)<2)do Ut=Ut+-1|0,ft[Ut>>0]=48;while((gn-Ut|0)<2);ft[Ut+-1>>0]=(un>>31&2)+43,Ut=Ut+-2|0,ft[Ut>>0]=pn,_r=Ut,Ut=gn-Ut|0}if(Ut=Mo+1+en+En+Ut|0,yl(a,32,St,Ut,Ct),qs(a,Wo,Mo),yl(a,48,St,Ut,Ct^65536),Rn){pn=rr>>>0>ho>>>0?ho:rr,Qn=So+9|0,En=Qn,Rn=So+8|0,gn=pn;do{if(un=y2(s[gn>>2]|0,0,Qn)|0,(gn|0)==(pn|0))(un|0)==(Qn|0)&&(ft[Rn>>0]=48,un=Rn);else if(un>>>0>So>>>0){S2(So|0,48,un-$o|0)|0;do un=un+-1|0;while(un>>>0>So>>>0)}qs(a,un,En-un|0),gn=gn+4|0}while(gn>>>0<=ho>>>0);if(Kn|0&&qs(a,5710,1),gn>>>0<Or>>>0&(en|0)>0)for(;;){if(un=y2(s[gn>>2]|0,0,Qn)|0,un>>>0>So>>>0){S2(So|0,48,un-$o|0)|0;do un=un+-1|0;while(un>>>0>So>>>0)}if(qs(a,un,(en|0)<9?en:9),gn=gn+4|0,un=en+-9|0,gn>>>0<Or>>>0&(en|0)>9)en=un;else{en=un;break}}yl(a,48,en+9|0,9,0)}else{if(Kn=Er?Or:rr+4|0,(en|0)>-1){Er=So+9|0,Qn=(Qn|0)==0,Et=Er,En=0-$o|0,Rn=So+8|0,pn=rr;do{un=y2(s[pn>>2]|0,0,Er)|0,(un|0)==(Er|0)&&(ft[Rn>>0]=48,un=Rn);do if((pn|0)==(rr|0)){if(gn=un+1|0,qs(a,un,1),Qn&(en|0)<1){un=gn;break}qs(a,5710,1),un=gn}else{if(un>>>0<=So>>>0)break;S2(So|0,48,un+En|0)|0;do un=un+-1|0;while(un>>>0>So>>>0)}while(0);$o=Et-un|0,qs(a,un,(en|0)>($o|0)?$o:en),en=en-$o|0,pn=pn+4|0}while(pn>>>0<Kn>>>0&(en|0)>-1)}yl(a,48,en+18|0,18,0),qs(a,_r,bo-_r|0)}yl(a,32,St,Ut,Ct^8192)}else So=(kt&32|0)!=0,Ut=Mo+3|0,yl(a,32,St,Ut,Ct&-65537),qs(a,Wo,Mo),qs(a,dt!=dt|!1?So?5686:5690:So?5678:5682,3),yl(a,32,St,Ut,Ct^8192);while(0);return Ft=cs,((Ut|0)<(St|0)?St:Ut)|0}function xS(a){a=+a;var dt=0;return Nt[Ht>>3]=a,dt=s[Ht>>2]|0,On=s[Ht+4>>2]|0,dt|0}function hD(a,dt){return a=+a,dt=dt|0,+ +SS(a,dt)}function SS(a,dt){a=+a,dt=dt|0;var St=0,Et=0,Ct=0;switch(Nt[Ht>>3]=a,St=s[Ht>>2]|0,Et=s[Ht+4>>2]|0,Ct=Rv(St|0,Et|0,52)|0,Ct&2047){case 0:{a!=0?(a=+SS(a*18446744073709552e3,dt),St=(s[dt>>2]|0)+-64|0):St=0,s[dt>>2]=St;break}case 2047:break;default:s[dt>>2]=(Ct&2047)+-1022,s[Ht>>2]=St,s[Ht+4>>2]=Et&-2146435073|1071644672,a=+Nt[Ht>>3]}return+a}function pD(a,dt,St){a=a|0,dt=dt|0,St=St|0;do if(a){if(dt>>>0<128){ft[a>>0]=dt,a=1;break}if(!(s[s[(mD()|0)+188>>2]>>2]|0))if((dt&-128|0)==57216){ft[a>>0]=dt,a=1;break}else{s[(_2()|0)>>2]=84,a=-1;break}if(dt>>>0<2048){ft[a>>0]=dt>>>6|192,ft[a+1>>0]=dt&63|128,a=2;break}if(dt>>>0<55296|(dt&-8192|0)==57344){ft[a>>0]=dt>>>12|224,ft[a+1>>0]=dt>>>6&63|128,ft[a+2>>0]=dt&63|128,a=3;break}if((dt+-65536|0)>>>0<1048576){ft[a>>0]=dt>>>18|240,ft[a+1>>0]=dt>>>12&63|128,ft[a+2>>0]=dt>>>6&63|128,ft[a+3>>0]=dt&63|128,a=4;break}else{s[(_2()|0)>>2]=84,a=-1;break}}else a=1;while(0);return a|0}function mD(){return ty()|0}function gD(){return ty()|0}function vD(a,dt){a=a|0,dt=dt|0;var St=0,Et=0;for(Et=0;;){if((Tt[5712+Et>>0]|0)==(a|0)){a=2;break}if(St=Et+1|0,(St|0)==87){St=5800,Et=87,a=5;break}else Et=St}if((a|0)==2&&(Et?(St=5800,a=5):St=5800),(a|0)==5)for(;;){do a=St,St=St+1|0;while(ft[a>>0]|0);if(Et=Et+-1|0,Et)a=5;else break}return _D(St,s[dt+20>>2]|0)|0}function _D(a,dt){return a=a|0,dt=dt|0,yD(a,dt)|0}function yD(a,dt){return a=a|0,dt=dt|0,dt?dt=xD(s[dt>>2]|0,s[dt+4>>2]|0,a)|0:dt=0,(dt|0?dt:a)|0}function xD(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0;Rn=(s[a>>2]|0)+1794895138|0,kt=R1(s[a+8>>2]|0,Rn)|0,Et=R1(s[a+12>>2]|0,Rn)|0,Ct=R1(s[a+16>>2]|0,Rn)|0;e:do if(kt>>>0<dt>>>2>>>0&&(En=dt-(kt<<2)|0,Et>>>0<En>>>0&Ct>>>0<En>>>0)&&!((Ct|Et)&3|0)){for(En=Et>>>2,pn=Ct>>>2,gn=0;;){if(en=kt>>>1,un=gn+en|0,Ut=un<<1,Ct=Ut+En|0,Et=R1(s[a+(Ct<<2)>>2]|0,Rn)|0,Ct=R1(s[a+(Ct+1<<2)>>2]|0,Rn)|0,!(Ct>>>0<dt>>>0&Et>>>0<(dt-Ct|0)>>>0)){Et=0;break e}if(ft[a+(Ct+Et)>>0]|0){Et=0;break e}if(Et=mS(St,a+Ct|0)|0,!Et)break;if(Et=(Et|0)<0,(kt|0)==1){Et=0;break e}else gn=Et?gn:un,kt=Et?en:kt-en|0}Et=Ut+pn|0,Ct=R1(s[a+(Et<<2)>>2]|0,Rn)|0,Et=R1(s[a+(Et+1<<2)>>2]|0,Rn)|0,Et>>>0<dt>>>0&Ct>>>0<(dt-Et|0)>>>0?Et=ft[a+(Et+Ct)>>0]|0?0:a+Et|0:Et=0}else Et=0;while(0);return Et|0}function R1(a,dt){a=a|0,dt=dt|0;var St=0;return St=kS(a|0)|0,(dt|0?St:a)|0}function SD(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0,en=0;Et=St+16|0,Ct=s[Et>>2]|0,Ct?kt=5:wD(St)|0?Et=0:(Ct=s[Et>>2]|0,kt=5);e:do if((kt|0)==5){if(en=St+20|0,Ut=s[en>>2]|0,Et=Ut,(Ct-Ut|0)>>>0<dt>>>0){Et=Iv[s[St+36>>2]&7](St,a,dt)|0;break}t:do if((ft[St+75>>0]|0)>-1){for(Ut=dt;;){if(!Ut){kt=0,Ct=a;break t}if(Ct=Ut+-1|0,(ft[a+Ct>>0]|0)==10)break;Ut=Ct}if(Et=Iv[s[St+36>>2]&7](St,a,Ut)|0,Et>>>0<Ut>>>0)break e;kt=Ut,Ct=a+Ut|0,dt=dt-Ut|0,Et=s[en>>2]|0}else kt=0,Ct=a;while(0);Ro(Et|0,Ct|0,dt|0)|0,s[en>>2]=(s[en>>2]|0)+dt,Et=kt+dt|0}while(0);return Et|0}function wD(a){a=a|0;var dt=0,St=0;return dt=a+74|0,St=ft[dt>>0]|0,ft[dt>>0]=St+255|St,dt=s[a>>2]|0,dt&8?(s[a>>2]=dt|32,a=-1):(s[a+8>>2]=0,s[a+4>>2]=0,St=s[a+44>>2]|0,s[a+28>>2]=St,s[a+20>>2]=St,s[a+16>>2]=St+(s[a+48>>2]|0),a=0),a|0}function ms(a,dt){a=Zt(a),dt=Zt(dt);var St=0,Et=0;St=wS(a)|0;do if((St&2147483647)>>>0<=2139095040){if(Et=wS(dt)|0,(Et&2147483647)>>>0<=2139095040)if((Et^St|0)<0){a=(St|0)<0?dt:a;break}else{a=a<dt?dt:a;break}}else a=dt;while(0);return Zt(a)}function wS(a){return a=Zt(a),Dt[Ht>>2]=a,s[Ht>>2]|0|0}function b1(a,dt){a=Zt(a),dt=Zt(dt);var St=0,Et=0;St=MS(a)|0;do if((St&2147483647)>>>0<=2139095040){if(Et=MS(dt)|0,(Et&2147483647)>>>0<=2139095040)if((Et^St|0)<0){a=(St|0)<0?a:dt;break}else{a=a<dt?a:dt;break}}else a=dt;while(0);return Zt(a)}function MS(a){return a=Zt(a),Dt[Ht>>2]=a,s[Ht>>2]|0|0}function ry(a,dt){a=Zt(a),dt=Zt(dt);var St=0,Et=0,Ct=0,kt=0,Ut=0,en=0,un=0,gn=0;kt=(Dt[Ht>>2]=a,s[Ht>>2]|0),en=(Dt[Ht>>2]=dt,s[Ht>>2]|0),St=kt>>>23&255,Ut=en>>>23&255,un=kt&-2147483648,Ct=en<<1;e:do if(Ct|0&&!((St|0)==255|((MD(dt)|0)&2147483647)>>>0>2139095040)){if(Et=kt<<1,Et>>>0<=Ct>>>0)return dt=Zt(a*Zt(0)),Zt((Et|0)==(Ct|0)?dt:a);if(St)Et=kt&8388607|8388608;else{if(St=kt<<9,(St|0)>-1){Et=St,St=0;do St=St+-1|0,Et=Et<<1;while((Et|0)>-1)}else St=0;Et=kt<<1-St}if(Ut)en=en&8388607|8388608;else{if(kt=en<<9,(kt|0)>-1){Ct=0;do Ct=Ct+-1|0,kt=kt<<1;while((kt|0)>-1)}else Ct=0;Ut=Ct,en=en<<1-Ct}Ct=Et-en|0,kt=(Ct|0)>-1;t:do if((St|0)>(Ut|0)){for(;;){if(kt)if(Ct)Et=Ct;else break;if(Et=Et<<1,St=St+-1|0,Ct=Et-en|0,kt=(Ct|0)>-1,(St|0)<=(Ut|0))break t}dt=Zt(a*Zt(0));break e}while(0);if(kt)if(Ct)Et=Ct;else{dt=Zt(a*Zt(0));break}if(Et>>>0<8388608)do Et=Et<<1,St=St+-1|0;while(Et>>>0<8388608);(St|0)>0?St=Et+-8388608|St<<23:St=Et>>>(1-St|0),dt=(s[Ht>>2]=St|un,Zt(Dt[Ht>>2]))}else gn=3;while(0);return(gn|0)==3&&(dt=Zt(a*dt),dt=Zt(dt/dt)),Zt(dt)}function MD(a){return a=Zt(a),Dt[Ht>>2]=a,s[Ht>>2]|0|0}function ED(a,dt){return a=a|0,dt=dt|0,gS(s[582]|0,a,dt)|0}function ts(a){a=a|0,go()}function x2(a){a=a|0}function TD(a,dt){return a=a|0,dt=dt|0,0}function AD(a){return a=a|0,(ES(a+4|0)|0)==-1?(np[s[(s[a>>2]|0)+8>>2]&127](a),a=1):a=0,a|0}function ES(a){a=a|0;var dt=0;return dt=s[a>>2]|0,s[a>>2]=dt+-1,dt+-1|0}function Wp(a){a=a|0,AD(a)|0&&CD(a)}function CD(a){a=a|0;var dt=0;dt=a+8|0,s[dt>>2]|0&&(ES(dt)|0)!=-1||np[s[(s[a>>2]|0)+16>>2]&127](a)}function uo(a){a=a|0;var dt=0;for(dt=a|0?a:1;a=Cv(dt)|0,!(a|0);){if(a=kD()|0,!a){a=0;break}zS[a&0]()}return a|0}function TS(a){return a=a|0,uo(a)|0}function Gr(a){a=a|0,Pv(a)}function PD(a){a=a|0,(ft[a+11>>0]|0)<0&&Gr(s[a>>2]|0)}function kD(){var a=0;return a=s[2923]|0,s[2923]=a+0,a|0}function LD(){}function Lv(a,dt,St,Et){return a=a|0,dt=dt|0,St=St|0,Et=Et|0,Et=dt-Et-(St>>>0>a>>>0|0)>>>0,On=Et,a-St>>>0|0|0}function iy(a,dt,St,Et){return a=a|0,dt=dt|0,St=St|0,Et=Et|0,St=a+St>>>0,On=dt+Et+(St>>>0<a>>>0|0)>>>0,St|0|0}function S2(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0,Ut=0;if(kt=a+St|0,dt=dt&255,(St|0)>=67){for(;a&3;)ft[a>>0]=dt,a=a+1|0;for(Et=kt&-4|0,Ct=Et-64|0,Ut=dt|dt<<8|dt<<16|dt<<24;(a|0)<=(Ct|0);)s[a>>2]=Ut,s[a+4>>2]=Ut,s[a+8>>2]=Ut,s[a+12>>2]=Ut,s[a+16>>2]=Ut,s[a+20>>2]=Ut,s[a+24>>2]=Ut,s[a+28>>2]=Ut,s[a+32>>2]=Ut,s[a+36>>2]=Ut,s[a+40>>2]=Ut,s[a+44>>2]=Ut,s[a+48>>2]=Ut,s[a+52>>2]=Ut,s[a+56>>2]=Ut,s[a+60>>2]=Ut,a=a+64|0;for(;(a|0)<(Et|0);)s[a>>2]=Ut,a=a+4|0}for(;(a|0)<(kt|0);)ft[a>>0]=dt,a=a+1|0;return kt-St|0}function AS(a,dt,St){return a=a|0,dt=dt|0,St=St|0,(St|0)<32?(On=dt<<St|(a&(1<<St)-1<<32-St)>>>32-St,a<<St):(On=a<<St-32,0)}function Rv(a,dt,St){return a=a|0,dt=dt|0,St=St|0,(St|0)<32?(On=dt>>>St,a>>>St|(dt&(1<<St)-1)<<32-St):(On=0,dt>>>St-32|0)}function Ro(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0,Ct=0,kt=0;if((St|0)>=8192)return Io(a|0,dt|0,St|0)|0;if(kt=a|0,Ct=a+St|0,(a&3)==(dt&3)){for(;a&3;){if(!St)return kt|0;ft[a>>0]=ft[dt>>0]|0,a=a+1|0,dt=dt+1|0,St=St-1|0}for(St=Ct&-4|0,Et=St-64|0;(a|0)<=(Et|0);)s[a>>2]=s[dt>>2],s[a+4>>2]=s[dt+4>>2],s[a+8>>2]=s[dt+8>>2],s[a+12>>2]=s[dt+12>>2],s[a+16>>2]=s[dt+16>>2],s[a+20>>2]=s[dt+20>>2],s[a+24>>2]=s[dt+24>>2],s[a+28>>2]=s[dt+28>>2],s[a+32>>2]=s[dt+32>>2],s[a+36>>2]=s[dt+36>>2],s[a+40>>2]=s[dt+40>>2],s[a+44>>2]=s[dt+44>>2],s[a+48>>2]=s[dt+48>>2],s[a+52>>2]=s[dt+52>>2],s[a+56>>2]=s[dt+56>>2],s[a+60>>2]=s[dt+60>>2],a=a+64|0,dt=dt+64|0;for(;(a|0)<(St|0);)s[a>>2]=s[dt>>2],a=a+4|0,dt=dt+4|0}else for(St=Ct-4|0;(a|0)<(St|0);)ft[a>>0]=ft[dt>>0]|0,ft[a+1>>0]=ft[dt+1>>0]|0,ft[a+2>>0]=ft[dt+2>>0]|0,ft[a+3>>0]=ft[dt+3>>0]|0,a=a+4|0,dt=dt+4|0;for(;(a|0)<(Ct|0);)ft[a>>0]=ft[dt>>0]|0,a=a+1|0,dt=dt+1|0;return kt|0}function CS(a){a=a|0;var dt=0;return dt=ft[cn+(a&255)>>0]|0,(dt|0)<8?dt|0:(dt=ft[cn+(a>>8&255)>>0]|0,(dt|0)<8?dt+8|0:(dt=ft[cn+(a>>16&255)>>0]|0,(dt|0)<8?dt+16|0:(ft[cn+(a>>>24)>>0]|0)+24|0))}function PS(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0;var kt=0,Ut=0,en=0,un=0,gn=0,pn=0,En=0,Rn=0,cr=0,Qn=0;if(pn=a,un=dt,gn=un,Ut=St,Rn=Et,en=Rn,!gn)return kt=(Ct|0)!=0,en?kt?(s[Ct>>2]=a|0,s[Ct+4>>2]=dt&0,Rn=0,Ct=0,On=Rn,Ct|0):(Rn=0,Ct=0,On=Rn,Ct|0):(kt&&(s[Ct>>2]=(pn>>>0)%(Ut>>>0),s[Ct+4>>2]=0),Rn=0,Ct=(pn>>>0)/(Ut>>>0)>>>0,On=Rn,Ct|0);kt=(en|0)==0;do if(Ut){if(!kt){if(kt=(kr(en|0)|0)-(kr(gn|0)|0)|0,kt>>>0<=31){En=kt+1|0,en=31-kt|0,dt=kt-31>>31,Ut=En,a=pn>>>(En>>>0)&dt|gn<<en,dt=gn>>>(En>>>0)&dt,kt=0,en=pn<<en;break}return Ct?(s[Ct>>2]=a|0,s[Ct+4>>2]=un|dt&0,Rn=0,Ct=0,On=Rn,Ct|0):(Rn=0,Ct=0,On=Rn,Ct|0)}if(kt=Ut-1|0,kt&Ut|0){en=(kr(Ut|0)|0)+33-(kr(gn|0)|0)|0,Qn=64-en|0,En=32-en|0,un=En>>31,cr=en-32|0,dt=cr>>31,Ut=en,a=En-1>>31&gn>>>(cr>>>0)|(gn<<En|pn>>>(en>>>0))&dt,dt=dt&gn>>>(en>>>0),kt=pn<<Qn&un,en=(gn<<Qn|pn>>>(cr>>>0))&un|pn<<En&en-33>>31;break}return Ct|0&&(s[Ct>>2]=kt&pn,s[Ct+4>>2]=0),(Ut|0)==1?(cr=un|dt&0,Qn=a|0|0,On=cr,Qn|0):(Qn=CS(Ut|0)|0,cr=gn>>>(Qn>>>0)|0,Qn=gn<<32-Qn|pn>>>(Qn>>>0)|0,On=cr,Qn|0)}else{if(kt)return Ct|0&&(s[Ct>>2]=(gn>>>0)%(Ut>>>0),s[Ct+4>>2]=0),cr=0,Qn=(gn>>>0)/(Ut>>>0)>>>0,On=cr,Qn|0;if(!pn)return Ct|0&&(s[Ct>>2]=0,s[Ct+4>>2]=(gn>>>0)%(en>>>0)),cr=0,Qn=(gn>>>0)/(en>>>0)>>>0,On=cr,Qn|0;if(kt=en-1|0,!(kt&en))return Ct|0&&(s[Ct>>2]=a|0,s[Ct+4>>2]=kt&gn|dt&0),cr=0,Qn=gn>>>((CS(en|0)|0)>>>0),On=cr,Qn|0;if(kt=(kr(en|0)|0)-(kr(gn|0)|0)|0,kt>>>0<=30){dt=kt+1|0,en=31-kt|0,Ut=dt,a=gn<<en|pn>>>(dt>>>0),dt=gn>>>(dt>>>0),kt=0,en=pn<<en;break}return Ct?(s[Ct>>2]=a|0,s[Ct+4>>2]=un|dt&0,cr=0,Qn=0,On=cr,Qn|0):(cr=0,Qn=0,On=cr,Qn|0)}while(0);if(!Ut)gn=en,un=0,en=0;else{En=St|0|0,pn=Rn|Et&0,gn=iy(En|0,pn|0,-1,-1)|0,St=On,un=en,en=0;do Et=un,un=kt>>>31|un<<1,kt=en|kt<<1,Et=a<<1|Et>>>31|0,Rn=a>>>31|dt<<1|0,Lv(gn|0,St|0,Et|0,Rn|0)|0,Qn=On,cr=Qn>>31|((Qn|0)<0?-1:0)<<1,en=cr&1,a=Lv(Et|0,Rn|0,cr&En|0,(((Qn|0)<0?-1:0)>>31|((Qn|0)<0?-1:0)<<1)&pn|0)|0,dt=On,Ut=Ut-1|0;while(Ut|0);gn=un,un=0}return Ut=0,Ct|0&&(s[Ct>>2]=a,s[Ct+4>>2]=dt),cr=(kt|0)>>>31|(gn|Ut)<<1|(Ut<<1|kt>>>31)&0|un,Qn=(kt<<1|0>>>31)&-2|en,On=cr,Qn|0}function oy(a,dt,St,Et){return a=a|0,dt=dt|0,St=St|0,Et=Et|0,PS(a,dt,St,Et,0)|0}function Hp(a){a=a|0;var dt=0,St=0;return St=a+15&-16|0,dt=s[Wt>>2]|0,a=dt+St|0,(St|0)>0&(a|0)<(dt|0)|(a|0)<0?(Jr()|0,Qo(12),-1):(s[Wt>>2]=a,(a|0)>(Dr()|0)&&!(zr()|0)?(s[Wt>>2]=dt,Qo(12),-1):dt|0)}function ym(a,dt,St){a=a|0,dt=dt|0,St=St|0;var Et=0;if((dt|0)<(a|0)&(a|0)<(dt+St|0)){for(Et=a,dt=dt+St|0,a=a+St|0;(St|0)>0;)a=a-1|0,dt=dt-1|0,St=St-1|0,ft[a>>0]=ft[dt>>0]|0;a=Et}else Ro(a,dt,St)|0;return a|0}function sy(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0;var Ct=0,kt=0;return kt=Ft,Ft=Ft+16|0,Ct=kt|0,PS(a,dt,St,Et,Ct)|0,Ft=kt,On=s[Ct+4>>2]|0,s[Ct>>2]|0|0}function kS(a){return a=a|0,(a&255)<<24|(a>>8&255)<<16|(a>>16&255)<<8|a>>>24|0}function RD(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,LS[a&1](dt|0,St|0,Et|0,Ct|0,kt|0)}function bD(a,dt,St){a=a|0,dt=dt|0,St=Zt(St),RS[a&1](dt|0,Zt(St))}function ID(a,dt,St){a=a|0,dt=dt|0,St=+St,bS[a&31](dt|0,+St)}function DD(a,dt,St,Et){return a=a|0,dt=dt|0,St=Zt(St),Et=Zt(Et),Zt(IS[a&0](dt|0,Zt(St),Zt(Et)))}function OD(a,dt){a=a|0,dt=dt|0,np[a&127](dt|0)}function FD(a,dt,St){a=a|0,dt=dt|0,St=St|0,rp[a&31](dt|0,St|0)}function ND(a,dt){return a=a|0,dt=dt|0,D1[a&31](dt|0)|0}function BD(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=+St,Et=+Et,Ct=Ct|0,DS[a&1](dt|0,+St,+Et,Ct|0)}function UD(a,dt,St,Et){a=a|0,dt=dt|0,St=+St,Et=+Et,yO[a&1](dt|0,+St,+Et)}function zD(a,dt,St,Et){return a=a|0,dt=dt|0,St=St|0,Et=Et|0,Iv[a&7](dt|0,St|0,Et|0)|0}function $D(a,dt,St,Et){return a=a|0,dt=dt|0,St=St|0,Et=Et|0,+xO[a&1](dt|0,St|0,Et|0)}function VD(a,dt){return a=a|0,dt=dt|0,+OS[a&15](dt|0)}function GD(a,dt,St){return a=a|0,dt=dt|0,St=+St,SO[a&1](dt|0,+St)|0}function WD(a,dt,St){return a=a|0,dt=dt|0,St=St|0,ly[a&15](dt|0,St|0)|0}function HD(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=+Et,Ct=+Ct,kt=kt|0,wO[a&1](dt|0,St|0,+Et,+Ct,kt|0)}function jD(a,dt,St,Et,Ct,kt,Ut){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,Ut=Ut|0,MO[a&1](dt|0,St|0,Et|0,Ct|0,kt|0,Ut|0)}function YD(a,dt,St){return a=a|0,dt=dt|0,St=St|0,+NS[a&7](dt|0,St|0)}function XD(a){return a=a|0,Dv[a&7]()|0}function qD(a,dt,St,Et,Ct,kt){return a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,BS[a&1](dt|0,St|0,Et|0,Ct|0,kt|0)|0}function KD(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=+Ct,EO[a&1](dt|0,St|0,Et|0,+Ct)}function ZD(a,dt,St,Et,Ct,kt,Ut){a=a|0,dt=dt|0,St=St|0,Et=Zt(Et),Ct=Ct|0,kt=Zt(kt),Ut=Ut|0,US[a&1](dt|0,St|0,Zt(Et),Ct|0,Zt(kt),Ut|0)}function QD(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,wm[a&15](dt|0,St|0,Et|0)}function JD(a){a=a|0,zS[a&0]()}function eO(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=+Et,$S[a&15](dt|0,St|0,+Et)}function tO(a,dt,St){return a=a|0,dt=+dt,St=+St,TO[a&1](+dt,+St)|0}function nO(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,uy[a&15](dt|0,St|0,Et|0,Ct|0)}function rO(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,ur(0)}function iO(a,dt){a=a|0,dt=Zt(dt),ur(1)}function gu(a,dt){a=a|0,dt=+dt,ur(2)}function oO(a,dt,St){return a=a|0,dt=Zt(dt),St=Zt(St),ur(3),Hr}function Po(a){a=a|0,ur(4)}function xm(a,dt){a=a|0,dt=dt|0,ur(5)}function Lu(a){return a=a|0,ur(6),0}function sO(a,dt,St,Et){a=a|0,dt=+dt,St=+St,Et=Et|0,ur(7)}function aO(a,dt,St){a=a|0,dt=+dt,St=+St,ur(8)}function lO(a,dt,St){return a=a|0,dt=dt|0,St=St|0,ur(9),0}function uO(a,dt,St){return a=a|0,dt=dt|0,St=St|0,ur(10),0}function I1(a){return a=a|0,ur(11),0}function cO(a,dt){return a=a|0,dt=+dt,ur(12),0}function Sm(a,dt){return a=a|0,dt=dt|0,ur(13),0}function fO(a,dt,St,Et,Ct){a=a|0,dt=dt|0,St=+St,Et=+Et,Ct=Ct|0,ur(14)}function dO(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,kt=kt|0,ur(15)}function ay(a,dt){return a=a|0,dt=dt|0,ur(16),0}function hO(){return ur(17),0}function pO(a,dt,St,Et,Ct){return a=a|0,dt=dt|0,St=St|0,Et=Et|0,Ct=Ct|0,ur(18),0}function mO(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=+Et,ur(19)}function gO(a,dt,St,Et,Ct,kt){a=a|0,dt=dt|0,St=Zt(St),Et=Et|0,Ct=Zt(Ct),kt=kt|0,ur(20)}function bv(a,dt,St){a=a|0,dt=dt|0,St=St|0,ur(21)}function vO(){ur(22)}function w2(a,dt,St){a=a|0,dt=dt|0,St=+St,ur(23)}function _O(a,dt){return a=+a,dt=+dt,ur(24),0}function M2(a,dt,St,Et){a=a|0,dt=dt|0,St=St|0,Et=Et|0,ur(25)}var LS=[rO,m8],RS=[iO,$m],bS=[gu,n2,q2,Km,Gv,Q0,x1,K2,Qm,Jm,ev,tv,Z2,Q2,nv,J2,r2,Wv,Hv,gu,gu,gu,gu,gu,gu,gu,gu,gu,gu,gu,gu,gu],IS=[oO],np=[Po,x2,qS,KS,ZS,AM,CM,PM,WL,HL,jL,n8,r8,i8,MI,EI,TI,Qs,Wm,J1,Zm,_g,lv,uv,Go,o3,v3,O3,Z3,pw,Rw,jw,a4,M4,U4,tM,vM,HM,aE,ME,UE,tT,vT,FT,ZT,fA,CA,tu,iC,xC,UC,rP,_P,UP,qP,QP,pL,vL,DL,XL,ZL,pR,bR,dy,d5,G5,i6,y6,$6,nI,hI,gI,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po,Po],rp=[xm,Hm,Y2,e2,Xm,X2,qm,s0,zv,Z0,Vv,ao,a2,Ko,Is,Ds,Ys,ru,Op,om,am,dv,zT,eA,aP,m5,zR,eS,xm,xm,xm,xm],D1=[Lu,eD,j2,sv,o2,s2,S1,em,tm,nm,rm,jv,M1,Ul,fm,LA,wP,vR,y5,Cu,Lu,Lu,Lu,Lu,Lu,Lu,Lu,Lu,Lu,Lu,Lu,Lu],DS=[sO,_c],yO=[aO,NL],Iv=[lO,pS,tD,iD,_w,qM,lC,M6],xO=[uO,G4],OS=[I1,im,ks,Bs,cv,fv,dm,h2,Yv,Xv,I1,I1,I1,I1,I1,I1],SO=[cO,jP],ly=[Sm,TD,sm,GS,U3,Dw,qw,SM,fE,mA,Vm,l6,Sm,Sm,Sm,Sm],wO=[fO,S3],MO=[dO,H6],NS=[ay,w1,hv,_f,qv,oM,ay,ay],Dv=[hO,_d,Gm,Bv,tL,SL,tR,xI],BS=[pO,ga],EO=[mO,GE],US=[gO,u2],wm=[bv,i2,av,Fp,l2,tw,c4,oT,ST,zm,B8,Y5,sI,bv,bv,bv],zS=[vO],$S=[w2,jm,Ym,$v,t2,rv,iv,ov,CE,EC,VP,w2,w2,w2,w2,w2],TO=[_O,$L],uy=[M2,C4,BA,GC,RP,aL,CL,lR,NR,T5,RI,M2,M2,M2,M2,M2];return{_llvm_bswap_i32:kS,dynCall_idd:tO,dynCall_i:XD,_i64Subtract:Lv,___udivdi3:oy,dynCall_vif:bD,setThrew:mp,dynCall_viii:QD,_bitshift64Lshr:Rv,_bitshift64Shl:AS,dynCall_vi:OD,dynCall_viiddi:HD,dynCall_diii:$D,dynCall_iii:WD,_memset:S2,_sbrk:Hp,_memcpy:Ro,__GLOBAL__sub_I_Yoga_cpp:xa,dynCall_vii:FD,___uremdi3:sy,dynCall_vid:ID,stackAlloc:Zs,_nbind_init:VI,getTempRet0:Iu,dynCall_di:VD,dynCall_iid:GD,setTempRet0:gp,_i64Add:iy,dynCall_fiff:DD,dynCall_iiii:zD,_emscripten_get_global_libc:JI,dynCall_viid:eO,dynCall_viiid:KD,dynCall_viififi:ZD,dynCall_ii:ND,__GLOBAL__sub_I_Binding_cc:i5,dynCall_viiii:nO,dynCall_iiiiii:qD,stackSave:bu,dynCall_viiiii:RD,__GLOBAL__sub_I_nbind_cc:pv,dynCall_vidd:UD,_free:Pv,runPostSets:LD,dynCall_viiiiii:jD,establishStackSpace:p0,_memmove:ym,stackRestore:Cs,_malloc:Cv,__GLOBAL__sub_I_common_cc:TR,dynCall_viddi:BD,dynCall_dii:YD,dynCall_v:JD}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module._llvm_bswap_i32=asm._llvm_bswap_i32,Module.getTempRet0=asm.getTempRet0,Module.___udivdi3=asm.___udivdi3,Module.setThrew=asm.setThrew,Module._bitshift64Lshr=asm._bitshift64Lshr,Module._bitshift64Shl=asm._bitshift64Shl,Module._memset=asm._memset,Module._sbrk=asm._sbrk,Module._memcpy=asm._memcpy,Module.stackAlloc=asm.stackAlloc,Module.___uremdi3=asm.___uremdi3,Module._nbind_init=asm._nbind_init,Module._i64Subtract=asm._i64Subtract,Module.setTempRet0=asm.setTempRet0,Module._i64Add=asm._i64Add,Module._emscripten_get_global_libc=asm._emscripten_get_global_libc;var __GLOBAL__sub_I_Yoga_cpp=Module.__GLOBAL__sub_I_Yoga_cpp=asm.__GLOBAL__sub_I_Yoga_cpp,__GLOBAL__sub_I_Binding_cc=Module.__GLOBAL__sub_I_Binding_cc=asm.__GLOBAL__sub_I_Binding_cc;Module.stackSave=asm.stackSave;var __GLOBAL__sub_I_nbind_cc=Module.__GLOBAL__sub_I_nbind_cc=asm.__GLOBAL__sub_I_nbind_cc,_free=Module._free=asm._free;Module.runPostSets=asm.runPostSets,Module.establishStackSpace=asm.establishStackSpace,Module._memmove=asm._memmove,Module.stackRestore=asm.stackRestore;var _malloc=Module._malloc=asm._malloc,__GLOBAL__sub_I_common_cc=Module.__GLOBAL__sub_I_common_cc=asm.__GLOBAL__sub_I_common_cc;Module.dynCall_viiiii=asm.dynCall_viiiii,Module.dynCall_vif=asm.dynCall_vif,Module.dynCall_vid=asm.dynCall_vid,Module.dynCall_fiff=asm.dynCall_fiff,Module.dynCall_vi=asm.dynCall_vi,Module.dynCall_vii=asm.dynCall_vii,Module.dynCall_ii=asm.dynCall_ii,Module.dynCall_viddi=asm.dynCall_viddi,Module.dynCall_vidd=asm.dynCall_vidd,Module.dynCall_iiii=asm.dynCall_iiii,Module.dynCall_diii=asm.dynCall_diii,Module.dynCall_di=asm.dynCall_di,Module.dynCall_iid=asm.dynCall_iid,Module.dynCall_iii=asm.dynCall_iii,Module.dynCall_viiddi=asm.dynCall_viiddi,Module.dynCall_viiiiii=asm.dynCall_viiiiii,Module.dynCall_dii=asm.dynCall_dii,Module.dynCall_i=asm.dynCall_i,Module.dynCall_iiiiii=asm.dynCall_iiiiii,Module.dynCall_viiid=asm.dynCall_viiid,Module.dynCall_viififi=asm.dynCall_viififi,Module.dynCall_viii=asm.dynCall_viii,Module.dynCall_v=asm.dynCall_v,Module.dynCall_viid=asm.dynCall_viid,Module.dynCall_idd=asm.dynCall_idd,Module.dynCall_viiii=asm.dynCall_viiii,Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm;function ExitStatus(lt){this.name="ExitStatus",this.message="Program terminated with exit("+lt+")",this.status=lt}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function lt(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=lt)},Module.callMain=Module.callMain=function lt(e){e=e||[],ensureInitRuntime();var $=e.length+1;function ft(){for(var Rt=0;Rt<4-1;Rt++)vt.push(0)}var vt=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];ft();for(var s=0;s<$-1;s=s+1)vt.push(allocate(intArrayFromString(e[s]),"i8",ALLOC_NORMAL)),ft();vt.push(0),vt=allocate(vt,"i32",ALLOC_NORMAL);try{var Tt=Module._main($,vt,0);exit(Tt,!0)}catch(Rt){if(Rt instanceof ExitStatus)return;if(Rt=="SimulateInfiniteLoop"){Module.noExitRuntime=!0;return}else{var At=Rt;Rt&&typeof Rt=="object"&&Rt.stack&&(At=[Rt,Rt.stack]),Module.printErr("exception thrown: "+At),Module.quit(1,Rt)}}finally{}};function run(lt){if(lt=lt||Module.arguments,runDependencies>0||(preRun(),runDependencies>0)||Module.calledRun)return;function e(){Module.calledRun||(Module.calledRun=!0,!ABORT&&(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(lt),postRun()))}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()}Module.run=Module.run=run;function exit(lt,e){e&&Module.noExitRuntime||(Module.noExitRuntime||(ABORT=!0,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(lt)),ENVIRONMENT_IS_NODE&&process.exit(lt),Module.quit(lt,new ExitStatus(lt)))}Module.exit=Module.exit=exit;var abortDecorators=[];function abort(lt){Module.onAbort&&Module.onAbort(lt),lt!==void 0?(Module.print(lt),Module.printErr(lt),lt=JSON.stringify(lt)):lt="",ABORT=!0;var e=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`,$="abort("+lt+") at "+stackTrace()+e;throw abortDecorators&&abortDecorators.forEach(function(ft){$=ft($,lt)}),$}if(Module.abort=Module.abort=abort,Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run()})})(nbind$1);var Yoga=entryCommon,nbind=nbindExports,ran=!1,ret=null;nbind({},function(lt,e){if(!ran){if(ran=!0,lt)throw lt;ret=e}});if(!ran)throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");var entryBrowser=Yoga(ret.bind,ret.lib);const h=lt=>lt[0].toUpperCase()+lt.slice(1),x=lt=>lt.toUpperCase().replace("-","_"),w$1=(lt,e,$)=>Object.keys(e).forEach(ft=>{const vt=e[ft];if(typeof vt=="string")switch(ft){case"flexDir":case"dir":case"flexDirection":return lt.setFlexDirection(entryBrowser[`FLEX_DIRECTION_${x(vt)}`]);case"align":return lt.setAlignItems(entryBrowser[`ALIGN_${x(vt)}`]),lt.setAlignContent(entryBrowser[`ALIGN_${x(vt)}`]);case"alignContent":return lt.setAlignContent(entryBrowser[`ALIGN_${x(vt)}`]);case"alignItems":return lt.setAlignItems(entryBrowser[`ALIGN_${x(vt)}`]);case"alignSelf":return lt.setAlignSelf(entryBrowser[`ALIGN_${x(vt)}`]);case"justify":case"justifyContent":return lt.setJustifyContent(entryBrowser[`JUSTIFY_${x(vt)}`]);case"wrap":case"flexWrap":return lt.setFlexWrap(entryBrowser[`WRAP_${x(vt)}`]);case"basis":case"flexBasis":return lt.setFlexBasis(vt);default:return lt[`set${h(ft)}`](vt)}else if(typeof vt=="number"){const s=vt*$;switch(ft){case"basis":case"flexBasis":return lt.setFlexBasis(s);case"grow":case"flexGrow":return lt.setFlexGrow(s);case"shrink":case"flexShrink":return lt.setFlexShrink(s);case"align":return lt.setAlignItems(vt);case"justify":return lt.setJustifyContent(vt);case"flexDir":case"dir":return lt.setFlexDirection(vt);case"wrap":return lt.setFlexWrap(vt);case"padding":case"p":return lt.setPadding(entryBrowser.EDGE_ALL,s);case"paddingLeft":case"pl":return lt.setPadding(entryBrowser.EDGE_LEFT,s);case"paddingRight":case"pr":return lt.setPadding(entryBrowser.EDGE_RIGHT,s);case"paddingTop":case"pt":return lt.setPadding(entryBrowser.EDGE_TOP,s);case"paddingBottom":case"pb":return lt.setPadding(entryBrowser.EDGE_BOTTOM,s);case"margin":case"m":return lt.setMargin(entryBrowser.EDGE_ALL,s);case"marginLeft":case"ml":return lt.setMargin(entryBrowser.EDGE_LEFT,s);case"marginRight":case"mr":return lt.setMargin(entryBrowser.EDGE_RIGHT,s);case"marginTop":case"mt":return lt.setMargin(entryBrowser.EDGE_TOP,s);case"marginBottom":case"mb":return lt.setMargin(entryBrowser.EDGE_BOTTOM,s);default:return lt[`set${h(ft)}`](s)}}}),y=lt=>Object.keys(lt).forEach(e=>lt[e]===void 0?delete lt[e]:{}),E=reactExports.createContext({scaleFactor:100,requestReflow(){console.warn("Flex not initialized! Please report")},registerBox(){console.warn("Flex not initialized! Please report")},unregisterBox(){console.warn("Flex not initialized! Please report")},notInitialized:!0}),b=reactExports.createContext({node:null,size:[0,0],notInitialized:!0});function C(lt){let e=reactExports.useContext(lt);return e.notInitialized&&console.warn("You must place this hook/component under a <Flex/> component!"),e}function B(){const{requestReflow:lt}=C(E);return lt}new Vector3;function T(lt,e){let{children:$,centerAnchor:ft,flexDirection:vt,flexDir:s,dir:Tt,alignContent:At,alignItems:Rt,alignSelf:Dt,align:Nt,justifyContent:Wt,justify:Ht,flexBasis:Kt,basis:Ft,flexGrow:tn,grow:cn,flexShrink:fn,shrink:ln,flexWrap:dn,wrap:mn,margin:xn,m:Mn,marginBottom:Tn,marginLeft:vn,marginRight:An,marginTop:Pn,mb:bn,ml:In,mr:On,mt:Nn,padding:Yn,p:Xn,paddingBottom:sr,paddingLeft:Un,paddingRight:Gn,paddingTop:Wn,pb:$n,pl:zn,pr:Zn,pt:tr,height:Hn,width:dr,maxHeight:nr,maxWidth:hr,minHeight:Pr,minWidth:Vr,...kr}=lt;const Zt=reactExports.useMemo(()=>{const yr={flexDirection:vt,flexDir:s,dir:Tt,alignContent:At,alignItems:Rt,alignSelf:Dt,align:Nt,justifyContent:Wt,justify:Ht,flexBasis:Kt,basis:Ft,flexGrow:tn,grow:cn,flexShrink:fn,shrink:ln,flexWrap:dn,wrap:mn,margin:xn,m:Mn,marginBottom:Tn,marginLeft:vn,marginRight:An,marginTop:Pn,mb:bn,ml:In,mr:On,mt:Nn,padding:Yn,p:Xn,paddingBottom:sr,paddingLeft:Un,paddingRight:Gn,paddingTop:Wn,pb:$n,pl:zn,pr:Zn,pt:tr,height:Hn,width:dr,maxHeight:nr,maxWidth:hr,minHeight:Pr,minWidth:Vr};return y(yr),yr},[Nt,At,Rt,Dt,Tt,Kt,Ft,s,vt,tn,cn,fn,ln,dn,Hn,Ht,Wt,Mn,xn,Tn,vn,An,Pn,nr,hr,bn,Pr,Vr,In,On,Nn,Xn,Yn,sr,Un,Gn,Wn,$n,zn,Zn,tr,dr,mn]),{registerBox:ur,unregisterBox:Br,scaleFactor:zr}=C(E),{node:Dr}=C(b),Jr=reactExports.useRef(),xr=reactExports.useMemo(()=>entryBrowser.Node.create(),[]),jr=B(),qr=reactExports.useRef(Dr==null?void 0:Dr.getChildCount());reactExports.useLayoutEffect(()=>{w$1(xr,Zt,zr)},[Zt,xr,zr]),reactExports.useLayoutEffect(()=>{if(Jr.current&&Dr)return qr.current=qr.current||Dr.getChildCount(),Dr.insertChild(xr,qr.current),ur(xr,Jr.current,Zt,ft),()=>{Dr.removeChild(xr),Br(xr)}},[xr,Dr,Zt,ft,ur,Br]),reactExports.useLayoutEffect(()=>{jr()},[$,Zt,jr]);const[Tr,Bn]=reactExports.useState([0,0]),Ln=1/zr;useFrame(()=>{const yr=(typeof Zt.width=="number"?Zt.width:null)||xr.getComputedWidth().valueOf()/zr,Wr=(typeof Zt.height=="number"?Zt.height:null)||xr.getComputedHeight().valueOf()/zr;(Math.abs(yr-Tr[0])>Ln||Math.abs(Wr-Tr[1])>Ln)&&Bn([yr,Wr])});const Jn=reactExports.useMemo(()=>({node:xr,size:Tr,centerAnchor:ft}),[xr,Tr,ft]);return React.createElement("group",_extends$1({ref:mergeRefs([Jr,e])},kr),React.createElement(b.Provider,{value:Jn},typeof $=="function"?$(Tr[0],Tr[1],ft):$))}const F=React.forwardRef(T);function A(lt,e){let{size:$=[1,1,1],yogaDirection:ft="ltr",plane:vt="xy",children:s,scaleFactor:Tt=100,onReflow:At,disableSizeRecalc:Rt,centerAnchor:Dt,flexDirection:Nt,flexDir:Wt,dir:Ht,alignContent:Kt,alignItems:Ft,alignSelf:tn,align:cn,justifyContent:fn,justify:ln,flexBasis:dn,basis:mn,flexGrow:xn,grow:Mn,flexShrink:Tn,shrink:vn,flexWrap:An,wrap:Pn,margin:bn,m:In,marginBottom:On,marginLeft:Nn,marginRight:Yn,marginTop:Xn,mb:sr,ml:Un,mr:Gn,mt:Wn,padding:$n,p:zn,paddingBottom:Zn,paddingLeft:tr,paddingRight:Hn,paddingTop:dr,pb:nr,pl:hr,pr:Pr,pt:Vr,height:kr,width:Zt,maxHeight:ur,maxWidth:Br,minHeight:zr,minWidth:Dr,...Jr}=lt;const xr=reactExports.useMemo(()=>{const _o={flexDirection:Nt,flexDir:Wt,dir:Ht,alignContent:Kt,alignItems:Ft,alignSelf:tn,align:cn,justifyContent:fn,justify:ln,flexBasis:dn,basis:mn,flexGrow:xn,grow:Mn,flexShrink:Tn,shrink:vn,flexWrap:An,wrap:Pn,margin:bn,m:In,marginBottom:On,marginLeft:Nn,marginRight:Yn,marginTop:Xn,mb:sr,ml:Un,mr:Gn,mt:Wn,padding:$n,p:zn,paddingBottom:Zn,paddingLeft:tr,paddingRight:Hn,paddingTop:dr,pb:nr,pl:hr,pr:Pr,pt:Vr,height:kr,width:Zt,maxHeight:ur,maxWidth:Br,minHeight:zr,minWidth:Dr};return y(_o),_o},[cn,Kt,Ft,tn,Ht,dn,mn,Wt,Nt,xn,Mn,Tn,vn,An,kr,ln,fn,In,bn,On,Nn,Yn,Xn,ur,Br,sr,zr,Dr,Un,Gn,Wn,zn,$n,Zn,tr,Hn,dr,nr,hr,Pr,Vr,Zt,Pn]),jr=reactExports.useRef(),qr=reactExports.useRef([]),Tr=reactExports.useCallback(function(_o,qn,mr,Nr){Nr===void 0&&(Nr=!1);const to=qr.current.findIndex(oo=>oo.node===_o);to!==-1&&qr.current.splice(to,1),qr.current.push({group:qn,node:_o,flexProps:mr,centerAnchor:Nr})},[]),Bn=reactExports.useCallback(_o=>{const qn=qr.current.findIndex(mr=>mr.node===_o);qn!==-1&&qr.current.splice(qn,1)},[]),Ln=reactExports.useMemo(()=>entryBrowser.Node.create(),[]);reactExports.useLayoutEffect(()=>{w$1(Ln,xr,Tt)},[Ln,xr,Tt]);const{invalidate:Jn}=useThree(),yr=reactExports.useRef(!0),Wr=reactExports.useCallback(()=>{yr.current=!0,Jn()},[Jn]);reactExports.useLayoutEffect(()=>{Wr()},[s,xr,Wr]);const Yr=reactExports.useMemo(()=>new Box3,[]),Xr=reactExports.useMemo(()=>new Vector3,[]),Kr=vt[0],Cr=vt[1],eo=function(_o){switch(_o){case"xy":return"z";case"yz":return"x";case"xz":return"y"}}(vt),[jn,gr]=function(_o,qn){switch(qn){case"xy":return[_o[0],_o[1]];case"yz":return[_o[1],_o[2]];case"xz":return[_o[0],_o[2]]}}($,vt),Ar=ft==="ltr"?entryBrowser.DIRECTION_LTR:ft==="rtl"?entryBrowser.DIRECTION_RTL:ft,Rr=reactExports.useMemo(()=>({requestReflow:Wr,registerBox:Tr,unregisterBox:Bn,scaleFactor:Tt}),[Wr,Tr,Bn,Tt]),Qr=reactExports.useMemo(()=>({node:Ln,size:[jn,gr],centerAnchor:Dt}),[Ln,jn,gr,Dt]);function po(){Rt||qr.current.forEach(Vo=>{let{group:qo,node:Yo,flexProps:Fo}=Vo;const Zo=typeof Fo.width=="number"?Fo.width*Tt:Fo.width,Uo=typeof Fo.height=="number"?Fo.height*Tt:Fo.height;Zo!==void 0&&Uo!==void 0?(Yo.setWidth(Zo),Yo.setHeight(Uo)):Yo.getChildCount()===0&&(jr.current?((No,ws,Ls,rs)=>{No.updateMatrix();const Dn=No.matrix,pr=No.matrixAutoUpdate;ws.updateMatrixWorld();const Sr=new Matrix4().copy(ws.matrixWorld).invert();No.matrix=Sr,No.matrixAutoUpdate=!1,ws.updateMatrixWorld(),Ls.setFromObject(No).getSize(rs),No.matrix=Dn,No.matrixAutoUpdate=pr,ws.updateMatrixWorld()})(qo,jr.current,Yr,Xr):Yr.setFromObject(qo).getSize(Xr),Yo.setWidth(Zo||Xr[Kr]*Tt),Yo.setHeight(Uo||Xr[Cr]*Tt))}),Ln.calculateLayout(jn*Tt,gr*Tt,Ar);const _o=Ln.getComputedWidth(),qn=Ln.getComputedHeight();let mr=0,Nr=0,to=0,oo=0;qr.current.forEach(Vo=>{let{group:qo,node:Yo,centerAnchor:Fo}=Vo;const{left:Zo,top:Uo,width:No,height:ws}=Yo.getComputedLayout(),[Ls,rs]=((pr,Sr,ar,br)=>pr&&(yo=>{var wo;return!((wo=yo.getParent())!=null&&wo.getParent())})(br)?[-Sr/2,-ar/2]:[0,0])(Dt,_o,qn,Yo),Dn=(pr=>{let{x:Sr,y:ar,z:br}=pr;return new Vector3(Sr,ar,br)})({[Kr]:(Ls+Zo+(Fo?No/2:0))/Tt,[Cr]:-(rs+Uo+(Fo?ws/2:0))/Tt,[eo]:0});mr=Math.min(mr,Zo),to=Math.min(to,Uo),Nr=Math.max(Nr,Zo+No),oo=Math.max(oo,Uo+ws),qo.position.copy(Dn)}),At&&At((Nr-mr)/Tt,(oo-to)/Tt),Jn()}return useFrame(()=>{yr.current&&(yr.current=!1,po())}),React.createElement("group",_extends$1({ref:mergeRefs([jr,e])},Jr),React.createElement(E.Provider,{value:Rr},React.createElement(b.Provider,{value:Qr},s)))}F.displayName="Box";const G=React.forwardRef(A);G.displayName="Flex";function Button({position:lt=[0,0,0],onClick:e,text:$,fontSize:ft=30}){const[vt,s]=reactExports.useState(!1),[Tt,At]=reactExports.useState(0),Rt=ft*.7;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(F,{centerAnchor:!0,margin:10,height:Rt*2-2,children:[jsxRuntimeExports.jsx(Text,{position:[lt[0],lt[1],lt[2]+.01],font:"./FuturaStdBook.otf",fontSize:ft,color:"blue",onSync:Dt=>At(Dt.geometry.boundingBox.max.x*2),children:$}),jsxRuntimeExports.jsxs("mesh",{position:lt,onClick:()=>e(),onPointerOver:()=>s(!0),onPointerOut:()=>s(!1),rotation:[0,0,90*(Math.PI/180)],children:[jsxRuntimeExports.jsx("capsuleGeometry",{args:[Rt,Tt,10,10]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"blue",transparent:"true",opacity:vt?.1:.2,depthWrite:!1})]})]})})}function degToRad$1(lt){return lt*(Math.PI/180)}function CardboardBox({scale:lt=[1,1,1],position:e=[0,0,0],thickness:$=.004,innerAngle:ft=120,outerAngle:vt=120,text:s}){const Tt=lt[0],At=lt[1],Rt=lt[2],Dt=.03;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Instances,{children:[jsxRuntimeExports.jsx("meshPhongMaterial",{color:"peru"}),jsxRuntimeExports.jsx("boxGeometry",{}),jsxRuntimeExports.jsx(Instance,{name:"left",castShadow:!0,receiveShadow:!0,position:[-Tt/2+e[0],e[1],e[2]],scale:[$,At,Rt+$]}),jsxRuntimeExports.jsx(Instance,{name:"right",castShadow:!0,receiveShadow:!0,position:[Tt/2+e[0],e[1],e[2]],scale:[$,At,Rt+$]}),jsxRuntimeExports.jsx(Instance,{name:"front",castShadow:!0,receiveShadow:!0,position:[e[0],e[1],Rt/2+e[2]],scale:[Tt-$,At,$]}),jsxRuntimeExports.jsx(Instance,{name:"back",castShadow:!0,receiveShadow:!0,position:[e[0],e[1],-Rt/2+e[2]],scale:[Tt-$,At,$]}),jsxRuntimeExports.jsx(InnerFlaps,{scale:lt,position:e,thickness:$,angle:ft}),jsxRuntimeExports.jsx(OuterFlaps,{scale:lt,position:e,thickness:$,angle:vt})]}),jsxRuntimeExports.jsx(Text,{anchorX:"left",anchorY:"top",maxWidth:Tt-.015,position:[e[0]-Tt/2+.015,e[1]+At/2-.015,e[2]+Rt/2+$/2+.001],font:"./FuturaStdBook.otf",fontSize:Dt,color:2171169,textAlign:"left",children:s})]})}function InnerFlaps({scale:lt,position:e,thickness:$,angle:ft}){const vt=lt[0],s=lt[1],Tt=lt[2],At=.015;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("group",{rotation:[0,0,degToRad$1(ft)],position:[e[0]-vt/2,e[1]+s/2,e[2]],children:jsxRuntimeExports.jsx(Instance,{name:"topleft",castShadow:!0,receiveShadow:!0,position:[Tt/4-At/8,0,0],scale:[Tt/2+$-At/2,$,Tt-At*2]})}),jsxRuntimeExports.jsx("group",{rotation:[0,0,-degToRad$1(ft)],position:[e[0]+vt/2,e[1]+s/2,e[2]],children:jsxRuntimeExports.jsx(Instance,{name:"topright",castShadow:!0,receiveShadow:!0,position:[-Tt/4+At/8,0,0],scale:[Tt/2+$-At/2,$,Tt-At*2]})}),jsxRuntimeExports.jsx("group",{rotation:[0,0,-degToRad$1(ft)],position:[e[0]-vt/2,e[1]-s/2,e[2]],children:jsxRuntimeExports.jsx(Instance,{name:"bottomleft",castShadow:!0,receiveShadow:!0,position:[Tt/4-At/8,0,0],scale:[Tt/2+$-At/2,$,Tt+$-At*2]})}),jsxRuntimeExports.jsx("group",{rotation:[0,0,degToRad$1(ft)],position:[e[0]+vt/2,e[1]-s/2,e[2]],children:jsxRuntimeExports.jsx(Instance,{name:"bottomright",castShadow:!0,receiveShadow:!0,position:[-Tt/4+At/8,0,0],scale:[Tt/2+$-At/2,$,Tt+$-At*2]})})]})}function OuterFlaps({scale:lt,position:e,thickness:$,angle:ft}){const vt=lt[0],s=lt[1],Tt=lt[2],At=.015;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("group",{rotation:[degToRad$1(ft),0,0],position:[e[0],e[1]+s/2,e[2]+Tt/2],children:jsxRuntimeExports.jsx(Instance,{name:"topfront",castShadow:!0,receiveShadow:!0,position:[0,0,-Tt/4+At/8],scale:[vt-At*2,$,Tt/2+$-At/2]})}),jsxRuntimeExports.jsx("group",{rotation:[-degToRad$1(ft),0,0],position:[e[0],e[1]+s/2,e[2]-Tt/2],children:jsxRuntimeExports.jsx(Instance,{name:"topback",castShadow:!0,receiveShadow:!0,position:[0,0,Tt/4-At/8],scale:[vt-At*2,$,Tt/2+$-At/2]})}),jsxRuntimeExports.jsx("group",{rotation:[-degToRad$1(ft),0,0],position:[e[0],e[1]-s/2,e[2]+Tt/2],children:jsxRuntimeExports.jsx(Instance,{name:"topfront",castShadow:!0,receiveShadow:!0,position:[0,0,-Tt/4+At/8],scale:[vt-At*2,$,Tt/2+$-At/2]})}),jsxRuntimeExports.jsx("group",{rotation:[degToRad$1(ft),0,0],position:[e[0],e[1]-s/2,e[2]-Tt/2],children:jsxRuntimeExports.jsx(Instance,{name:"topback",castShadow:!0,receiveShadow:!0,position:[0,0,Tt/4-At/8],scale:[vt-At*2,$,Tt/2+$-At/2]})})]})}const map2="/furnis/assets/map2-7c0626ce.webp",widthAtom=atom(.6),heightAtom=atom(1.8),depthAtom=atom(.3),shelvesAtom=atom(4),textureAtom=atom(map2),animationAtom=atom(!1),AnimatedCardboardBox=E$1(CardboardBox);function degToRad(lt){return lt*(Math.PI/180)}function updateUv(lt,e,$){const ft=lt.attributes.uv;for(var vt=0;vt<ft.count;vt++){var s=ft.getX(vt),Tt=ft.getY(vt);s&&(s=e),Tt&&(Tt=$),ft.setXY(vt,s,Tt),ft.needsUpdate=!0}}const backThickness=.004,cardboardThickness=.004,backGeometry=new BoxGeometry,leftGeometry=new BoxGeometry,rightGeometry=new BoxGeometry,shelfGeometry=new BoxGeometry;function Bookshelf({track:lt}){return jsxRuntimeExports.jsxs(View,{track:lt,children:[jsxRuntimeExports.jsx(OrbitControls,{makeDefault:!0,minDistance:.5,maxDistance:3,minPolarAngle:0,maxPolarAngle:Math.PI/2,enablePan:!1}),jsxRuntimeExports.jsx(Model,{}),jsxRuntimeExports.jsx("ambientLight",{intensity:.75}),jsxRuntimeExports.jsx("pointLight",{position:[-2,-.5,-2],intensity:1.5}),jsxRuntimeExports.jsx("spotLight",{position:[1,2,1],intensity:3,castShadow:!0,"shadow-mapSize":1024})]})}function Model({position:lt=[0,0,0]}){const e=useAtomValue(widthAtom),$=useAtomValue(heightAtom),ft=useAtomValue(depthAtom),vt=.018,s=useAtomValue(shelvesAtom),[Tt,At]=useAtom(animationAtom),Rt=useAtomValue(textureAtom),Dt=useTexture({map:Rt},bn=>bn[0].wrapS=bn[0].wrapT=RepeatWrapping),Nt=reactExports.useMemo(()=>new MeshPhongMaterial({...Dt})),[Wt,Ht]=reactExports.useState(!1),[Kt,Ft]=reactExports.useState(!1),[tn,cn]=reactExports.useState(!1);reactExports.useEffect(()=>{updateUv(backGeometry,e*1.5,$*1.5)},[e,$]),reactExports.useEffect(()=>{updateUv(leftGeometry,ft*1.5,$*1.5)},[ft,$]),reactExports.useEffect(()=>{updateUv(rightGeometry,ft*1.5,$*1.5)},[ft,$]),reactExports.useEffect(()=>{updateUv(shelfGeometry,e*1.5,ft*1.5)},[e,ft]),reactExports.useEffect(()=>{Ft(!1),cn(!1)},[e,$,ft,s,Rt]),reactExports.useEffect(()=>{Tt&&xn(),At(!1)},[Tt]);function fn({radius:bn}){const In=useBounds();return reactExports.useEffect(()=>{In.refresh().clip().fit()},[bn]),null}const[ln,dn]=J(()=>({backX:0,backZ:0,sideX:0,sideX2:0,sideZ:0,sideRy:0,shelfX:0,shelfX2:0,shelfY:0,shelfY2:0,shelfY3:0,shelfZ:0,shelfRx:0,shelfRy:0,shelfRz:0,boxY:0,innerAngle:120,outerAngle:120}),[e,$,ft,s,Rt]),{invalidate:mn}=useThree(),xn=()=>{dn.start({onChange:()=>mn(),to:[{backZ:-.3,sideX:.3,config:{tension:800,friction:20}},{shelfY:-$/s+vt,config:{tension:800,friction:50}},{shelfX:vt,shelfY2:$/2,shelfRz:degToRad(90),config:{tension:800,friction:20}},{sideX:-e/2+vt*(s+2)/2,config:{tension:800,friction:50}},{sideX:-e/2,sideZ:-(vt*(s+2))/2,sideRy:degToRad(90),shelfRy:degToRad(90),shelfZ:vt,backZ:-(vt*(s+2))/2+ft/2-vt/2,config:{tension:800,friction:20}},{boxY:-3,config:{tension:800,friction:30},onStart:()=>Ft(!0)},{innerAngle:0,config:{tension:800,friction:50}},{outerAngle:5,config:{tension:800,friction:100},onStart:()=>cn(!0)}]})},Mn=.1,Tn=()=>{dn.start({onChange:()=>mn(),to:[{outerAngle:120,config:{tension:800,friction:50}},{innerAngle:120,config:{tension:800,friction:50}},{boxY:0,onStart:()=>cn(!1),onResolve:()=>Ft(!1),config:{tension:800,friction:30}},{backZ:ft/2+backThickness/2,backX:-e-Mn-vt,sideZ:0,sideX:-e/2+ft/2+Mn/2,sideX2:e/2+ft+Mn/2+Mn+vt/2,sideRy:degToRad(90),onResolve:bn=>Ht(bn),config:{tension:800,friction:30}},{shelfRx:degToRad(90),shelfRy:0,shelfRz:0,shelfX:0,shelfY:0,shelfY2:($/s-ft-Mn)*s/2,shelfY3:$/s-ft-Mn,shelfZ:0,onStart:()=>cn(!1),onResolve:bn=>Ht(bn),config:{tension:800,friction:30}}]})},vn=[];for(let bn=0;bn<s+1;bn++){const In=bn>0&&bn<s?e-vt:e+vt;vn.push(jsxRuntimeExports.jsx(E$1.mesh,{castShadow:!0,receiveShadow:!0,position:ui([ln.shelfY,ln.shelfY2,ln.shelfX,ln.shelfX2,ln.shelfZ,ln.shelfY3],(On,Nn,Yn,Xn,sr,Un)=>[lt[0]+Yn*bn-Yn*s/2-sr*bn+sr*s/2+Xn*bn,lt[1]+$/s*bn+On*bn+Nn-Yn*bn-Un*bn,lt[2]-sr*bn+sr*s/2]),scale:[In,vt,ft],rotation:ui([ln.shelfRx,ln.shelfRy,ln.shelfRz],(On,Nn,Yn)=>[On,Nn,Yn]),material:Nt,geometry:shelfGeometry},bn))}const{size:An}=useThree();console.log(An.width);const Pn=An.width<=500?.5:1;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Bounds,{fit:!0,clip:!0,observe:!0,margin:Pn,children:[jsxRuntimeExports.jsx(fn,{}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(E$1.mesh,{castShadow:!0,receiveShadow:!0,position:ui([ln.backX,ln.backZ],(bn,In)=>[lt[0]+bn,lt[1]+$/2,lt[2]-ft/2-backThickness/2+In]),scale:[e+vt,$+vt,backThickness],material:Nt,geometry:backGeometry}),jsxRuntimeExports.jsx(E$1.mesh,{castShadow:!0,receiveShadow:!0,position:ui([ln.sideX,ln.sideX2,ln.sideZ],(bn,In,On)=>[lt[0]-e/2-bn+In,lt[1]+$/2,lt[2]-On]),scale:[vt,$-vt,ft],rotation:ui(ln.sideRy,bn=>[0,bn,0]),material:Nt,geometry:leftGeometry}),jsxRuntimeExports.jsx(E$1.mesh,{castShadow:!0,receiveShadow:!0,position:ui([ln.sideX,ln.sideX2,ln.sideZ],(bn,In,On)=>[lt[0]+e/2+bn+In,lt[1]+$/2,lt[2]+On]),scale:[vt,$-vt,ft],rotation:ui(ln.sideRy,bn=>[0,bn,0]),material:Nt,geometry:rightGeometry}),vn]})]}),Kt&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(AnimatedCardboardBox,{position:ui(ln.boxY,bn=>[0,3+bn,0]),scale:[Math.max(e,ft)+vt+cardboardThickness,Math.max(e,$)+vt,vt*(s+3)+backThickness+cardboardThickness],thickness:cardboardThickness,innerAngle:ln.innerAngle,outerAngle:ln.outerAngle,text:`Bookshelf
Width: `+Math.round(e*100)+` cm
Height: `+Math.round($*100)+` cm
Depth: `+Math.round(ft*100)+` cm
Shelves: `+Math.round(s)})}),tn&&jsxRuntimeExports.jsx(Button,{position:[0,0,(vt*(s+3)+backThickness+cardboardThickness)/2],text:"Open",fontSize:.06,onClick:Tn})]})}function ownKeys$1(lt,e){var $=Object.keys(lt);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(lt);e&&(ft=ft.filter(function(vt){return Object.getOwnPropertyDescriptor(lt,vt).enumerable})),$.push.apply($,ft)}return $}function _objectSpread2$1(lt){for(var e=1;e<arguments.length;e++){var $=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object($),!0).forEach(function(ft){_defineProperty$1(lt,ft,$[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors($)):ownKeys$1(Object($)).forEach(function(ft){Object.defineProperty(lt,ft,Object.getOwnPropertyDescriptor($,ft))})}return lt}function _typeof$1(lt){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(lt)}function _classCallCheck(lt,e){if(!(lt instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(lt,e){for(var $=0;$<e.length;$++){var ft=e[$];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(lt,ft.key,ft)}}function _createClass(lt,e,$){return e&&_defineProperties(lt.prototype,e),$&&_defineProperties(lt,$),Object.defineProperty(lt,"prototype",{writable:!1}),lt}function _defineProperty$1(lt,e,$){return e in lt?Object.defineProperty(lt,e,{value:$,enumerable:!0,configurable:!0,writable:!0}):lt[e]=$,lt}function _slicedToArray(lt,e){return _arrayWithHoles(lt)||_iterableToArrayLimit(lt,e)||_unsupportedIterableToArray$1(lt,e)||_nonIterableRest()}function _toConsumableArray$1(lt){return _arrayWithoutHoles$1(lt)||_iterableToArray$1(lt)||_unsupportedIterableToArray$1(lt)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(lt){if(Array.isArray(lt))return _arrayLikeToArray$1(lt)}function _arrayWithHoles(lt){if(Array.isArray(lt))return lt}function _iterableToArray$1(lt){if(typeof Symbol<"u"&&lt[Symbol.iterator]!=null||lt["@@iterator"]!=null)return Array.from(lt)}function _iterableToArrayLimit(lt,e){var $=lt==null?null:typeof Symbol<"u"&&lt[Symbol.iterator]||lt["@@iterator"];if($!=null){var ft=[],vt=!0,s=!1,Tt,At;try{for($=$.call(lt);!(vt=(Tt=$.next()).done)&&(ft.push(Tt.value),!(e&&ft.length===e));vt=!0);}catch(Rt){s=!0,At=Rt}finally{try{!vt&&$.return!=null&&$.return()}finally{if(s)throw At}}return ft}}function _unsupportedIterableToArray$1(lt,e){if(lt){if(typeof lt=="string")return _arrayLikeToArray$1(lt,e);var $=Object.prototype.toString.call(lt).slice(8,-1);if($==="Object"&&lt.constructor&&($=lt.constructor.name),$==="Map"||$==="Set")return Array.from(lt);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$1(lt,e)}}function _arrayLikeToArray$1(lt,e){(e==null||e>lt.length)&&(e=lt.length);for(var $=0,ft=new Array(e);$<e;$++)ft[$]=lt[$];return ft}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var noop=function lt(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop,measure:noop};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(lt){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/"),_familyProxy,_familyProxy2,_familyProxy3,_familyProxy4,_familyProxy5,NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=function(){try{return!0}catch{return!1}}(),FAMILY_CLASSIC="classic",FAMILY_SHARP="sharp",FAMILIES=[FAMILY_CLASSIC,FAMILY_SHARP];function familyProxy(lt){return new Proxy(lt,{get:function($,ft){return ft in $?$[ft]:$[FAMILY_CLASSIC]}})}var PREFIX_TO_STYLE=familyProxy((_familyProxy={},_defineProperty$1(_familyProxy,FAMILY_CLASSIC,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),_defineProperty$1(_familyProxy,FAMILY_SHARP,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),_familyProxy)),STYLE_TO_PREFIX=familyProxy((_familyProxy2={},_defineProperty$1(_familyProxy2,FAMILY_CLASSIC,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_defineProperty$1(_familyProxy2,FAMILY_SHARP,{solid:"fass",regular:"fasr",light:"fasl"}),_familyProxy2)),PREFIX_TO_LONG_STYLE=familyProxy((_familyProxy3={},_defineProperty$1(_familyProxy3,FAMILY_CLASSIC,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_defineProperty$1(_familyProxy3,FAMILY_SHARP,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),_familyProxy3)),LONG_STYLE_TO_PREFIX=familyProxy((_familyProxy4={},_defineProperty$1(_familyProxy4,FAMILY_CLASSIC,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_defineProperty$1(_familyProxy4,FAMILY_SHARP,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),_familyProxy4)),ICON_SELECTION_SYNTAX_PATTERN=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FONT_WEIGHT_TO_PREFIX=familyProxy((_familyProxy5={},_defineProperty$1(_familyProxy5,FAMILY_CLASSIC,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_defineProperty$1(_familyProxy5,FAMILY_SHARP,{900:"fass",400:"fasr",300:"fasl"}),_familyProxy5)),oneToTen=[1,2,3,4,5,6,7,8,9,10],oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},prefixes=new Set;Object.keys(STYLE_TO_PREFIX[FAMILY_CLASSIC]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[FAMILY_SHARP]).map(prefixes.add.bind(prefixes));var RESERVED_CLASSES=[].concat(FAMILIES,_toConsumableArray$1(prefixes),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY]).concat(oneToTen.map(function(lt){return"".concat(lt,"x")})).concat(oneToTwenty.map(function(lt){return"w-".concat(lt)})),initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(lt){var e=DOCUMENT.querySelector("script["+lt+"]");if(e)return e.getAttribute(lt)}function coerce(lt){return lt===""?!0:lt==="false"?!1:lt==="true"?!0:lt}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(lt){var e=_slicedToArray(lt,2),$=e[0],ft=e[1],vt=coerce(getAttrConfig($));vt!=null&&(initial[ft]=vt)})}var _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);var _config=_objectSpread2$1(_objectSpread2$1({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config={};Object.keys(_default).forEach(function(lt){Object.defineProperty(config,lt,{enumerable:!0,set:function($){_config[lt]=$,_onChangeCb.forEach(function(ft){return ft(config)})},get:function(){return _config[lt]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function lt(e){_config.cssPrefix=e,_onChangeCb.forEach(function($){return $(config)})},get:function lt(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;var _onChangeCb=[];function onChange(lt){return _onChangeCb.push(lt),function(){_onChangeCb.splice(_onChangeCb.indexOf(lt),1)}}var d=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(lt){if(!(!lt||!IS_DOM)){var e=DOCUMENT.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=lt;for(var $=DOCUMENT.head.childNodes,ft=null,vt=$.length-1;vt>-1;vt--){var s=$[vt],Tt=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(Tt)>-1&&(ft=s)}return DOCUMENT.head.insertBefore(e,ft),lt}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var lt=12,e="";lt-- >0;)e+=idPool[Math.random()*62|0];return e}function toArray(lt){for(var e=[],$=(lt||[]).length>>>0;$--;)e[$]=lt[$];return e}function classArray(lt){return lt.classList?toArray(lt.classList):(lt.getAttribute("class")||"").split(" ").filter(function(e){return e})}function htmlEscape(lt){return"".concat(lt).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(lt){return Object.keys(lt||{}).reduce(function(e,$){return e+"".concat($,'="').concat(htmlEscape(lt[$]),'" ')},"").trim()}function joinStyles(lt){return Object.keys(lt||{}).reduce(function(e,$){return e+"".concat($,": ").concat(lt[$].trim(),";")},"")}function transformIsMeaningful(lt){return lt.size!==meaninglessTransform.size||lt.x!==meaninglessTransform.x||lt.y!==meaninglessTransform.y||lt.rotate!==meaninglessTransform.rotate||lt.flipX||lt.flipY}function transformForSvg(lt){var e=lt.transform,$=lt.containerWidth,ft=lt.iconWidth,vt={transform:"translate(".concat($/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),Tt="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),At="rotate(".concat(e.rotate," 0 0)"),Rt={transform:"".concat(s," ").concat(Tt," ").concat(At)},Dt={transform:"translate(".concat(ft/2*-1," -256)")};return{outer:vt,inner:Rt,path:Dt}}function transformForCss(lt){var e=lt.transform,$=lt.width,ft=$===void 0?UNITS_IN_GRID:$,vt=lt.height,s=vt===void 0?UNITS_IN_GRID:vt,Tt=lt.startCentered,At=Tt===void 0?!1:Tt,Rt="";return At&&IS_IE?Rt+="translate(".concat(e.x/d-ft/2,"em, ").concat(e.y/d-s/2,"em) "):At?Rt+="translate(calc(-50% + ".concat(e.x/d,"em), calc(-50% + ").concat(e.y/d,"em)) "):Rt+="translate(".concat(e.x/d,"em, ").concat(e.y/d,"em) "),Rt+="scale(".concat(e.size/d*(e.flipX?-1:1),", ").concat(e.size/d*(e.flipY?-1:1),") "),Rt+="rotate(".concat(e.rotate,"deg) "),Rt}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){var lt=DEFAULT_CSS_PREFIX,e=DEFAULT_REPLACEMENT_CLASS,$=config.cssPrefix,ft=config.replacementClass,vt=baseStyles;if($!==lt||ft!==e){var s=new RegExp("\\.".concat(lt,"\\-"),"g"),Tt=new RegExp("\\--".concat(lt,"\\-"),"g"),At=new RegExp("\\.".concat(e),"g");vt=vt.replace(s,".".concat($,"-")).replace(Tt,"--".concat($,"-")).replace(At,".".concat(ft))}return vt}var _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout:function lt(){return{dom:{css,insertCss:ensureCss}}},hooks:function lt(){return{beforeDOMElementCreation:function(){ensureCss()},beforeI2svg:function(){ensureCss()}}}},w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER],functions=[],listener=function lt(){DOCUMENT.removeEventListener("DOMContentLoaded",lt),loaded=1,functions.map(function(e){return e()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(lt){IS_DOM&&(loaded?setTimeout(lt,0):functions.push(lt))}function toHtml(lt){var e=lt.tag,$=lt.attributes,ft=$===void 0?{}:$,vt=lt.children,s=vt===void 0?[]:vt;return typeof lt=="string"?htmlEscape(lt):"<".concat(e," ").concat(joinAttributes(ft),">").concat(s.map(toHtml).join(""),"</").concat(e,">")}function iconFromMapping(lt,e,$){if(lt&&lt[e]&&lt[e][$])return{prefix:e,iconName:$,icon:lt[e][$]}}var bindInternal4=function lt(e,$){return function(ft,vt,s,Tt){return e.call($,ft,vt,s,Tt)}},reduce=function lt(e,$,ft,vt){var s=Object.keys(e),Tt=s.length,At=vt!==void 0?bindInternal4($,vt):$,Rt,Dt,Nt;for(ft===void 0?(Rt=1,Nt=e[s[0]]):(Rt=0,Nt=ft);Rt<Tt;Rt++)Dt=s[Rt],Nt=At(Nt,e[Dt],Dt,e);return Nt};function ucs2decode(lt){for(var e=[],$=0,ft=lt.length;$<ft;){var vt=lt.charCodeAt($++);if(vt>=55296&&vt<=56319&&$<ft){var s=lt.charCodeAt($++);(s&64512)==56320?e.push(((vt&1023)<<10)+(s&1023)+65536):(e.push(vt),$--)}else e.push(vt)}return e}function toHex(lt){var e=ucs2decode(lt);return e.length===1?e[0].toString(16):null}function codePointAt(lt,e){var $=lt.length,ft=lt.charCodeAt(e),vt;return ft>=55296&&ft<=56319&&$>e+1&&(vt=lt.charCodeAt(e+1),vt>=56320&&vt<=57343)?(ft-55296)*1024+vt-56320+65536:ft}function normalizeIcons(lt){return Object.keys(lt).reduce(function(e,$){var ft=lt[$],vt=!!ft.icon;return vt?e[ft.iconName]=ft.icon:e[$]=ft,e},{})}function defineIcons(lt,e){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=$.skipHooks,vt=ft===void 0?!1:ft,s=normalizeIcons(e);typeof namespace.hooks.addPack=="function"&&!vt?namespace.hooks.addPack(lt,normalizeIcons(e)):namespace.styles[lt]=_objectSpread2$1(_objectSpread2$1({},namespace.styles[lt]||{}),s),lt==="fas"&&defineIcons("fa",e)}var _LONG_STYLE,_PREFIXES,_PREFIXES_FOR_FAMILY,styles=namespace.styles,shims=namespace.shims,LONG_STYLE=(_LONG_STYLE={},_defineProperty$1(_LONG_STYLE,FAMILY_CLASSIC,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_LONG_STYLE,FAMILY_SHARP,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_LONG_STYLE),_defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={},PREFIXES=(_PREFIXES={},_defineProperty$1(_PREFIXES,FAMILY_CLASSIC,Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES,FAMILY_SHARP,Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP])),_PREFIXES);function isReserved(lt){return~RESERVED_CLASSES.indexOf(lt)}function getIconName(lt,e){var $=e.split("-"),ft=$[0],vt=$.slice(1).join("-");return ft===lt&&vt!==""&&!isReserved(vt)?vt:null}var build=function lt(){var e=function(s){return reduce(styles,function(Tt,At,Rt){return Tt[Rt]=reduce(At,s,{}),Tt},{})};_byUnicode=e(function(vt,s,Tt){if(s[3]&&(vt[s[3]]=Tt),s[2]){var At=s[2].filter(function(Rt){return typeof Rt=="number"});At.forEach(function(Rt){vt[Rt.toString(16)]=Tt})}return vt}),_byLigature=e(function(vt,s,Tt){if(vt[Tt]=Tt,s[2]){var At=s[2].filter(function(Rt){return typeof Rt=="string"});At.forEach(function(Rt){vt[Rt]=Tt})}return vt}),_byAlias=e(function(vt,s,Tt){var At=s[2];return vt[Tt]=Tt,At.forEach(function(Rt){vt[Rt]=Tt}),vt});var $="far"in styles||config.autoFetchSvg,ft=reduce(shims,function(vt,s){var Tt=s[0],At=s[1],Rt=s[2];return At==="far"&&!$&&(At="fas"),typeof Tt=="string"&&(vt.names[Tt]={prefix:At,iconName:Rt}),typeof Tt=="number"&&(vt.unicodes[Tt.toString(16)]={prefix:At,iconName:Rt}),vt},{names:{},unicodes:{}});_byOldName=ft.names,_byOldUnicode=ft.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(function(lt){_defaultUsablePrefix=getCanonicalPrefix(lt.styleDefault,{family:config.familyDefault})});build();function byUnicode(lt,e){return(_byUnicode[lt]||{})[e]}function byLigature(lt,e){return(_byLigature[lt]||{})[e]}function byAlias(lt,e){return(_byAlias[lt]||{})[e]}function byOldName(lt){return _byOldName[lt]||{prefix:null,iconName:null}}function byOldUnicode(lt){var e=_byOldUnicode[lt],$=byUnicode("fas",lt);return e||($?{prefix:"fas",iconName:$}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}var emptyCanonicalIcon=function lt(){return{prefix:null,iconName:null,rest:[]}};function getCanonicalPrefix(lt){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=e.family,ft=$===void 0?FAMILY_CLASSIC:$,vt=PREFIX_TO_STYLE[ft][lt],s=STYLE_TO_PREFIX[ft][lt]||STYLE_TO_PREFIX[ft][vt],Tt=lt in namespace.styles?lt:null;return s||Tt||null}var PREFIXES_FOR_FAMILY=(_PREFIXES_FOR_FAMILY={},_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_CLASSIC,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_SHARP,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_PREFIXES_FOR_FAMILY);function getCanonicalIcon(lt){var e,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ft=$.skipLookups,vt=ft===void 0?!1:ft,s=(e={},_defineProperty$1(e,FAMILY_CLASSIC,"".concat(config.cssPrefix,"-").concat(FAMILY_CLASSIC)),_defineProperty$1(e,FAMILY_SHARP,"".concat(config.cssPrefix,"-").concat(FAMILY_SHARP)),e),Tt=null,At=FAMILY_CLASSIC;(lt.includes(s[FAMILY_CLASSIC])||lt.some(function(Dt){return PREFIXES_FOR_FAMILY[FAMILY_CLASSIC].includes(Dt)}))&&(At=FAMILY_CLASSIC),(lt.includes(s[FAMILY_SHARP])||lt.some(function(Dt){return PREFIXES_FOR_FAMILY[FAMILY_SHARP].includes(Dt)}))&&(At=FAMILY_SHARP);var Rt=lt.reduce(function(Dt,Nt){var Wt=getIconName(config.cssPrefix,Nt);if(styles[Nt]?(Nt=LONG_STYLE[At].includes(Nt)?LONG_STYLE_TO_PREFIX[At][Nt]:Nt,Tt=Nt,Dt.prefix=Nt):PREFIXES[At].indexOf(Nt)>-1?(Tt=Nt,Dt.prefix=getCanonicalPrefix(Nt,{family:At})):Wt?Dt.iconName=Wt:Nt!==config.replacementClass&&Nt!==s[FAMILY_CLASSIC]&&Nt!==s[FAMILY_SHARP]&&Dt.rest.push(Nt),!vt&&Dt.prefix&&Dt.iconName){var Ht=Tt==="fa"?byOldName(Dt.iconName):{},Kt=byAlias(Dt.prefix,Dt.iconName);Ht.prefix&&(Tt=null),Dt.iconName=Ht.iconName||Kt||Dt.iconName,Dt.prefix=Ht.prefix||Dt.prefix,Dt.prefix==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(Dt.prefix="fas")}return Dt},emptyCanonicalIcon());return(lt.includes("fa-brands")||lt.includes("fab"))&&(Rt.prefix="fab"),(lt.includes("fa-duotone")||lt.includes("fad"))&&(Rt.prefix="fad"),!Rt.prefix&&At===FAMILY_SHARP&&(styles.fass||config.autoFetchSvg)&&(Rt.prefix="fass",Rt.iconName=byAlias(Rt.prefix,Rt.iconName)||Rt.iconName),(Rt.prefix==="fa"||Tt==="fa")&&(Rt.prefix=getDefaultUsablePrefix()||"fas"),Rt}var Library=function(){function lt(){_classCallCheck(this,lt),this.definitions={}}return _createClass(lt,[{key:"add",value:function(){for(var $=this,ft=arguments.length,vt=new Array(ft),s=0;s<ft;s++)vt[s]=arguments[s];var Tt=vt.reduce(this._pullDefinitions,{});Object.keys(Tt).forEach(function(At){$.definitions[At]=_objectSpread2$1(_objectSpread2$1({},$.definitions[At]||{}),Tt[At]),defineIcons(At,Tt[At]);var Rt=PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC][At];Rt&&defineIcons(Rt,Tt[At]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function($,ft){var vt=ft.prefix&&ft.iconName&&ft.icon?{0:ft}:ft;return Object.keys(vt).map(function(s){var Tt=vt[s],At=Tt.prefix,Rt=Tt.iconName,Dt=Tt.icon,Nt=Dt[2];$[At]||($[At]={}),Nt.length>0&&Nt.forEach(function(Wt){typeof Wt=="string"&&($[At][Wt]=Dt)}),$[At][Rt]=Dt}),$}}]),lt}(),_plugins=[],_hooks={},providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(lt,e){var $=e.mixoutsTo;return _plugins=lt,_hooks={},Object.keys(providers).forEach(function(ft){defaultProviderKeys.indexOf(ft)===-1&&delete providers[ft]}),_plugins.forEach(function(ft){var vt=ft.mixout?ft.mixout():{};if(Object.keys(vt).forEach(function(Tt){typeof vt[Tt]=="function"&&($[Tt]=vt[Tt]),_typeof$1(vt[Tt])==="object"&&Object.keys(vt[Tt]).forEach(function(At){$[Tt]||($[Tt]={}),$[Tt][At]=vt[Tt][At]})}),ft.hooks){var s=ft.hooks();Object.keys(s).forEach(function(Tt){_hooks[Tt]||(_hooks[Tt]=[]),_hooks[Tt].push(s[Tt])})}ft.provides&&ft.provides(providers)}),$}function chainHooks(lt,e){for(var $=arguments.length,ft=new Array($>2?$-2:0),vt=2;vt<$;vt++)ft[vt-2]=arguments[vt];var s=_hooks[lt]||[];return s.forEach(function(Tt){e=Tt.apply(null,[e].concat(ft))}),e}function callHooks(lt){for(var e=arguments.length,$=new Array(e>1?e-1:0),ft=1;ft<e;ft++)$[ft-1]=arguments[ft];var vt=_hooks[lt]||[];vt.forEach(function(s){s.apply(null,$)})}function callProvided(){var lt=arguments[0],e=Array.prototype.slice.call(arguments,1);return providers[lt]?providers[lt].apply(null,e):void 0}function findIconDefinition(lt){lt.prefix==="fa"&&(lt.prefix="fas");var e=lt.iconName,$=lt.prefix||getDefaultUsablePrefix();if(e)return e=byAlias($,e)||e,iconFromMapping(library.definitions,$,e)||iconFromMapping(namespace.styles,$,e)}var library=new Library,noAuto=function lt(){config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function lt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",e),callProvided("pseudoElements2svg",e),callProvided("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function lt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=e.autoReplaceSvgRoot;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(function(){autoReplace({autoReplaceSvgRoot:$}),callHooks("watch",e)})}},parse={icon:function lt(e){if(e===null)return null;if(_typeof$1(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:byAlias(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var $=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],ft=getCanonicalPrefix(e[0]);return{prefix:ft,iconName:byAlias(ft,$)||$}}if(typeof e=="string"&&(e.indexOf("".concat(config.cssPrefix,"-"))>-1||e.match(ICON_SELECTION_SYNTAX_PATTERN))){var vt=getCanonicalIcon(e.split(" "),{skipLookups:!0});return{prefix:vt.prefix||getDefaultUsablePrefix(),iconName:byAlias(vt.prefix,vt.iconName)||vt.iconName}}if(typeof e=="string"){var s=getDefaultUsablePrefix();return{prefix:s,iconName:byAlias(s,e)||e}}}},api={noAuto,config,dom,parse,library,findIconDefinition,toHtml},autoReplace=function lt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=e.autoReplaceSvgRoot,ft=$===void 0?DOCUMENT:$;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:ft})};function domVariants(lt,e){return Object.defineProperty(lt,"abstract",{get:e}),Object.defineProperty(lt,"html",{get:function(){return lt.abstract.map(function(ft){return toHtml(ft)})}}),Object.defineProperty(lt,"node",{get:function(){if(IS_DOM){var ft=DOCUMENT.createElement("div");return ft.innerHTML=lt.html,ft.children}}}),lt}function asIcon(lt){var e=lt.children,$=lt.main,ft=lt.mask,vt=lt.attributes,s=lt.styles,Tt=lt.transform;if(transformIsMeaningful(Tt)&&$.found&&!ft.found){var At=$.width,Rt=$.height,Dt={x:At/Rt/2,y:.5};vt.style=joinStyles(_objectSpread2$1(_objectSpread2$1({},s),{},{"transform-origin":"".concat(Dt.x+Tt.x/16,"em ").concat(Dt.y+Tt.y/16,"em")}))}return[{tag:"svg",attributes:vt,children:e}]}function asSymbol(lt){var e=lt.prefix,$=lt.iconName,ft=lt.children,vt=lt.attributes,s=lt.symbol,Tt=s===!0?"".concat(e,"-").concat(config.cssPrefix,"-").concat($):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$1(_objectSpread2$1({},vt),{},{id:Tt}),children:ft}]}]}function makeInlineSvgAbstract(lt){var e=lt.icons,$=e.main,ft=e.mask,vt=lt.prefix,s=lt.iconName,Tt=lt.transform,At=lt.symbol,Rt=lt.title,Dt=lt.maskId,Nt=lt.titleId,Wt=lt.extra,Ht=lt.watchable,Kt=Ht===void 0?!1:Ht,Ft=ft.found?ft:$,tn=Ft.width,cn=Ft.height,fn=vt==="fak",ln=[config.replacementClass,s?"".concat(config.cssPrefix,"-").concat(s):""].filter(function(An){return Wt.classes.indexOf(An)===-1}).filter(function(An){return An!==""||!!An}).concat(Wt.classes).join(" "),dn={children:[],attributes:_objectSpread2$1(_objectSpread2$1({},Wt.attributes),{},{"data-prefix":vt,"data-icon":s,class:ln,role:Wt.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(tn," ").concat(cn)})},mn=fn&&!~Wt.classes.indexOf("fa-fw")?{width:"".concat(tn/cn*16*.0625,"em")}:{};Kt&&(dn.attributes[DATA_FA_I2SVG]=""),Rt&&(dn.children.push({tag:"title",attributes:{id:dn.attributes["aria-labelledby"]||"title-".concat(Nt||nextUniqueId())},children:[Rt]}),delete dn.attributes.title);var xn=_objectSpread2$1(_objectSpread2$1({},dn),{},{prefix:vt,iconName:s,main:$,mask:ft,maskId:Dt,transform:Tt,symbol:At,styles:_objectSpread2$1(_objectSpread2$1({},mn),Wt.styles)}),Mn=ft.found&&$.found?callProvided("generateAbstractMask",xn)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",xn)||{children:[],attributes:{}},Tn=Mn.children,vn=Mn.attributes;return xn.children=Tn,xn.attributes=vn,At?asSymbol(xn):asIcon(xn)}function makeLayersTextAbstract(lt){var e=lt.content,$=lt.width,ft=lt.height,vt=lt.transform,s=lt.title,Tt=lt.extra,At=lt.watchable,Rt=At===void 0?!1:At,Dt=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},Tt.attributes),s?{title:s}:{}),{},{class:Tt.classes.join(" ")});Rt&&(Dt[DATA_FA_I2SVG]="");var Nt=_objectSpread2$1({},Tt.styles);transformIsMeaningful(vt)&&(Nt.transform=transformForCss({transform:vt,startCentered:!0,width:$,height:ft}),Nt["-webkit-transform"]=Nt.transform);var Wt=joinStyles(Nt);Wt.length>0&&(Dt.style=Wt);var Ht=[];return Ht.push({tag:"span",attributes:Dt,children:[e]}),s&&Ht.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),Ht}function makeLayersCounterAbstract(lt){var e=lt.content,$=lt.title,ft=lt.extra,vt=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ft.attributes),$?{title:$}:{}),{},{class:ft.classes.join(" ")}),s=joinStyles(ft.styles);s.length>0&&(vt.style=s);var Tt=[];return Tt.push({tag:"span",attributes:vt,children:[e]}),$&&Tt.push({tag:"span",attributes:{class:"sr-only"},children:[$]}),Tt}var styles$1=namespace.styles;function asFoundIcon(lt){var e=lt[0],$=lt[1],ft=lt.slice(4),vt=_slicedToArray(ft,1),s=vt[0],Tt=null;return Array.isArray(s)?Tt={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:s[1]}}]}:Tt={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:$,icon:Tt}}var missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(lt,e){!PRODUCTION$1&&!config.showMissingIcons&&lt&&console.error('Icon with name "'.concat(lt,'" and prefix "').concat(e,'" is missing.'))}function findIcon(lt,e){var $=e;return e==="fa"&&config.styleDefault!==null&&(e=getDefaultUsablePrefix()),new Promise(function(ft,vt){if(callProvided("missingIconAbstract"),$==="fa"){var s=byOldName(lt)||{};lt=s.iconName||lt,e=s.prefix||e}if(lt&&e&&styles$1[e]&&styles$1[e][lt]){var Tt=styles$1[e][lt];return ft(asFoundIcon(Tt))}maybeNotifyMissing(lt,e),ft(_objectSpread2$1(_objectSpread2$1({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&lt?callProvided("missingIconAbstract")||{}:{}}))})}var noop$1=function lt(){},p=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1,measure:noop$1},preamble='FA "6.4.0"',begin=function lt(e){return p.mark("".concat(preamble," ").concat(e," begins")),function(){return end(e)}},end=function lt(e){p.mark("".concat(preamble," ").concat(e," ends")),p.measure("".concat(preamble," ").concat(e),"".concat(preamble," ").concat(e," begins"),"".concat(preamble," ").concat(e," ends"))},perf={begin,end},noop$2=function lt(){};function isWatched(lt){var e=lt.getAttribute?lt.getAttribute(DATA_FA_I2SVG):null;return typeof e=="string"}function hasPrefixAndIcon(lt){var e=lt.getAttribute?lt.getAttribute(DATA_PREFIX):null,$=lt.getAttribute?lt.getAttribute(DATA_ICON):null;return e&&$}function hasBeenReplaced(lt){return lt&&lt.classList&&lt.classList.contains&&lt.classList.contains(config.replacementClass)}function getMutator(){if(config.autoReplaceSvg===!0)return mutators.replace;var lt=mutators[config.autoReplaceSvg];return lt||mutators.replace}function createElementNS(lt){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",lt)}function createElement(lt){return DOCUMENT.createElement(lt)}function convertSVG(lt){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=e.ceFn,ft=$===void 0?lt.tag==="svg"?createElementNS:createElement:$;if(typeof lt=="string")return DOCUMENT.createTextNode(lt);var vt=ft(lt.tag);Object.keys(lt.attributes||[]).forEach(function(Tt){vt.setAttribute(Tt,lt.attributes[Tt])});var s=lt.children||[];return s.forEach(function(Tt){vt.appendChild(convertSVG(Tt,{ceFn:ft}))}),vt}function nodeAsComment(lt){var e=" ".concat(lt.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var mutators={replace:function lt(e){var $=e[0];if($.parentNode)if(e[1].forEach(function(vt){$.parentNode.insertBefore(convertSVG(vt),$)}),$.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){var ft=DOCUMENT.createComment(nodeAsComment($));$.parentNode.replaceChild(ft,$)}else $.remove()},nest:function lt(e){var $=e[0],ft=e[1];if(~classArray($).indexOf(config.replacementClass))return mutators.replace(e);var vt=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete ft[0].attributes.id,ft[0].attributes.class){var s=ft[0].attributes.class.split(" ").reduce(function(At,Rt){return Rt===config.replacementClass||Rt.match(vt)?At.toSvg.push(Rt):At.toNode.push(Rt),At},{toNode:[],toSvg:[]});ft[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?$.removeAttribute("class"):$.setAttribute("class",s.toNode.join(" "))}var Tt=ft.map(function(At){return toHtml(At)}).join(`
`);$.setAttribute(DATA_FA_I2SVG,""),$.innerHTML=Tt}};function performOperationSync(lt){lt()}function perform(lt,e){var $=typeof e=="function"?e:noop$2;if(lt.length===0)$();else{var ft=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(ft=WINDOW.requestAnimationFrame||performOperationSync),ft(function(){var vt=getMutator(),s=perf.begin("mutate");lt.map(vt),s(),$()})}}var disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}var mo=null;function observe(lt){if(MUTATION_OBSERVER&&config.observeMutations){var e=lt.treeCallback,$=e===void 0?noop$2:e,ft=lt.nodeCallback,vt=ft===void 0?noop$2:ft,s=lt.pseudoElementsCallback,Tt=s===void 0?noop$2:s,At=lt.observeMutationsRoot,Rt=At===void 0?DOCUMENT:At;mo=new MUTATION_OBSERVER(function(Dt){if(!disabled){var Nt=getDefaultUsablePrefix();toArray(Dt).forEach(function(Wt){if(Wt.type==="childList"&&Wt.addedNodes.length>0&&!isWatched(Wt.addedNodes[0])&&(config.searchPseudoElements&&Tt(Wt.target),$(Wt.target)),Wt.type==="attributes"&&Wt.target.parentNode&&config.searchPseudoElements&&Tt(Wt.target.parentNode),Wt.type==="attributes"&&isWatched(Wt.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(Wt.attributeName))if(Wt.attributeName==="class"&&hasPrefixAndIcon(Wt.target)){var Ht=getCanonicalIcon(classArray(Wt.target)),Kt=Ht.prefix,Ft=Ht.iconName;Wt.target.setAttribute(DATA_PREFIX,Kt||Nt),Ft&&Wt.target.setAttribute(DATA_ICON,Ft)}else hasBeenReplaced(Wt.target)&&vt(Wt.target)})}}),IS_DOM&&mo.observe(Rt,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function disconnect(){mo&&mo.disconnect()}function styleParser(lt){var e=lt.getAttribute("style"),$=[];return e&&($=e.split(";").reduce(function(ft,vt){var s=vt.split(":"),Tt=s[0],At=s.slice(1);return Tt&&At.length>0&&(ft[Tt]=At.join(":").trim()),ft},{})),$}function classParser(lt){var e=lt.getAttribute("data-prefix"),$=lt.getAttribute("data-icon"),ft=lt.innerText!==void 0?lt.innerText.trim():"",vt=getCanonicalIcon(classArray(lt));return vt.prefix||(vt.prefix=getDefaultUsablePrefix()),e&&$&&(vt.prefix=e,vt.iconName=$),vt.iconName&&vt.prefix||(vt.prefix&&ft.length>0&&(vt.iconName=byLigature(vt.prefix,lt.innerText)||byUnicode(vt.prefix,toHex(lt.innerText))),!vt.iconName&&config.autoFetchSvg&&lt.firstChild&&lt.firstChild.nodeType===Node.TEXT_NODE&&(vt.iconName=lt.firstChild.data)),vt}function attributesParser(lt){var e=toArray(lt.attributes).reduce(function(vt,s){return vt.name!=="class"&&vt.name!=="style"&&(vt[s.name]=s.value),vt},{}),$=lt.getAttribute("title"),ft=lt.getAttribute("data-fa-title-id");return config.autoA11y&&($?e["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(ft||nextUniqueId()):(e["aria-hidden"]="true",e.focusable="false")),e}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(lt){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},$=classParser(lt),ft=$.iconName,vt=$.prefix,s=$.rest,Tt=attributesParser(lt),At=chainHooks("parseNodeAttributes",{},lt),Rt=e.styleParser?styleParser(lt):[];return _objectSpread2$1({iconName:ft,title:lt.getAttribute("title"),titleId:lt.getAttribute("data-fa-title-id"),prefix:vt,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:Rt,attributes:Tt}},At)}var styles$2=namespace.styles;function generateMutation(lt){var e=config.autoReplaceSvg==="nest"?parseMeta(lt,{styleParser:!1}):parseMeta(lt);return~e.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",lt,e):callProvided("generateSvgReplacementMutation",lt,e)}var knownPrefixes=new Set;FAMILIES.map(function(lt){knownPrefixes.add("fa-".concat(lt))});Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=_toConsumableArray$1(knownPrefixes);function onTree(lt){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();var $=DOCUMENT.documentElement.classList,ft=function(Wt){return $.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(Wt))},vt=function(Wt){return $.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(Wt))},s=config.autoFetchSvg?knownPrefixes:FAMILIES.map(function(Nt){return"fa-".concat(Nt)}).concat(Object.keys(styles$2));s.includes("fa")||s.push("fa");var Tt=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(s.map(function(Nt){return".".concat(Nt,":not([").concat(DATA_FA_I2SVG,"])")})).join(", ");if(Tt.length===0)return Promise.resolve();var At=[];try{At=toArray(lt.querySelectorAll(Tt))}catch{}if(At.length>0)ft("pending"),vt("complete");else return Promise.resolve();var Rt=perf.begin("onTree"),Dt=At.reduce(function(Nt,Wt){try{var Ht=generateMutation(Wt);Ht&&Nt.push(Ht)}catch(Kt){PRODUCTION$1||Kt.name==="MissingIcon"&&console.error(Kt)}return Nt},[]);return new Promise(function(Nt,Wt){Promise.all(Dt).then(function(Ht){perform(Ht,function(){ft("active"),ft("complete"),vt("pending"),typeof e=="function"&&e(),Rt(),Nt()})}).catch(function(Ht){Rt(),Wt(Ht)})})}function onNode(lt){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(lt).then(function($){$&&perform([$],e)})}function resolveIcons(lt){return function(e){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ft=(e||{}).icon?e:findIconDefinition(e||{}),vt=$.mask;return vt&&(vt=(vt||{}).icon?vt:findIconDefinition(vt||{})),lt(ft,_objectSpread2$1(_objectSpread2$1({},$),{},{mask:vt}))}}var render=function lt(e){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ft=$.transform,vt=ft===void 0?meaninglessTransform:ft,s=$.symbol,Tt=s===void 0?!1:s,At=$.mask,Rt=At===void 0?null:At,Dt=$.maskId,Nt=Dt===void 0?null:Dt,Wt=$.title,Ht=Wt===void 0?null:Wt,Kt=$.titleId,Ft=Kt===void 0?null:Kt,tn=$.classes,cn=tn===void 0?[]:tn,fn=$.attributes,ln=fn===void 0?{}:fn,dn=$.styles,mn=dn===void 0?{}:dn;if(e){var xn=e.prefix,Mn=e.iconName,Tn=e.icon;return domVariants(_objectSpread2$1({type:"icon"},e),function(){return callHooks("beforeDOMElementCreation",{iconDefinition:e,params:$}),config.autoA11y&&(Ht?ln["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(Ft||nextUniqueId()):(ln["aria-hidden"]="true",ln.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(Tn),mask:Rt?asFoundIcon(Rt.icon):{found:!1,width:null,height:null,icon:{}}},prefix:xn,iconName:Mn,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),vt),symbol:Tt,title:Ht,maskId:Nt,titleId:Ft,extra:{attributes:ln,styles:mn,classes:cn}})})}},ReplaceElements={mixout:function lt(){return{icon:resolveIcons(render)}},hooks:function lt(){return{mutationObserverCallbacks:function($){return $.treeCallback=onTree,$.nodeCallback=onNode,$}}},provides:function lt(e){e.i2svg=function($){var ft=$.node,vt=ft===void 0?DOCUMENT:ft,s=$.callback,Tt=s===void 0?function(){}:s;return onTree(vt,Tt)},e.generateSvgReplacementMutation=function($,ft){var vt=ft.iconName,s=ft.title,Tt=ft.titleId,At=ft.prefix,Rt=ft.transform,Dt=ft.symbol,Nt=ft.mask,Wt=ft.maskId,Ht=ft.extra;return new Promise(function(Kt,Ft){Promise.all([findIcon(vt,At),Nt.iconName?findIcon(Nt.iconName,Nt.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(tn){var cn=_slicedToArray(tn,2),fn=cn[0],ln=cn[1];Kt([$,makeInlineSvgAbstract({icons:{main:fn,mask:ln},prefix:At,iconName:vt,transform:Rt,symbol:Dt,maskId:Wt,title:s,titleId:Tt,extra:Ht,watchable:!0})])}).catch(Ft)})},e.generateAbstractIcon=function($){var ft=$.children,vt=$.attributes,s=$.main,Tt=$.transform,At=$.styles,Rt=joinStyles(At);Rt.length>0&&(vt.style=Rt);var Dt;return transformIsMeaningful(Tt)&&(Dt=callProvided("generateAbstractTransformGrouping",{main:s,transform:Tt,containerWidth:s.width,iconWidth:s.width})),ft.push(Dt||s.icon),{children:ft,attributes:vt}}}},Layers={mixout:function lt(){return{layer:function($){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},vt=ft.classes,s=vt===void 0?[]:vt;return domVariants({type:"layer"},function(){callHooks("beforeDOMElementCreation",{assembler:$,params:ft});var Tt=[];return $(function(At){Array.isArray(At)?At.map(function(Rt){Tt=Tt.concat(Rt.abstract)}):Tt=Tt.concat(At.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers")].concat(_toConsumableArray$1(s)).join(" ")},children:Tt}]})}}}},LayersCounter={mixout:function lt(){return{counter:function($){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},vt=ft.title,s=vt===void 0?null:vt,Tt=ft.classes,At=Tt===void 0?[]:Tt,Rt=ft.attributes,Dt=Rt===void 0?{}:Rt,Nt=ft.styles,Wt=Nt===void 0?{}:Nt;return domVariants({type:"counter",content:$},function(){return callHooks("beforeDOMElementCreation",{content:$,params:ft}),makeLayersCounterAbstract({content:$.toString(),title:s,extra:{attributes:Dt,styles:Wt,classes:["".concat(config.cssPrefix,"-layers-counter")].concat(_toConsumableArray$1(At))}})})}}}},LayersText={mixout:function lt(){return{text:function($){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},vt=ft.transform,s=vt===void 0?meaninglessTransform:vt,Tt=ft.title,At=Tt===void 0?null:Tt,Rt=ft.classes,Dt=Rt===void 0?[]:Rt,Nt=ft.attributes,Wt=Nt===void 0?{}:Nt,Ht=ft.styles,Kt=Ht===void 0?{}:Ht;return domVariants({type:"text",content:$},function(){return callHooks("beforeDOMElementCreation",{content:$,params:ft}),makeLayersTextAbstract({content:$,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),s),title:At,extra:{attributes:Wt,styles:Kt,classes:["".concat(config.cssPrefix,"-layers-text")].concat(_toConsumableArray$1(Dt))}})})}}},provides:function lt(e){e.generateLayersText=function($,ft){var vt=ft.title,s=ft.transform,Tt=ft.extra,At=null,Rt=null;if(IS_IE){var Dt=parseInt(getComputedStyle($).fontSize,10),Nt=$.getBoundingClientRect();At=Nt.width/Dt,Rt=Nt.height/Dt}return config.autoA11y&&!vt&&(Tt.attributes["aria-hidden"]="true"),Promise.resolve([$,makeLayersTextAbstract({content:$.innerHTML,width:At,height:Rt,transform:s,title:vt,extra:Tt,watchable:!0})])}}},CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319];function hexValueFromContent(lt){var e=lt.replace(CLEAN_CONTENT_PATTERN,""),$=codePointAt(e,0),ft=$>=SECONDARY_UNICODE_RANGE[0]&&$<=SECONDARY_UNICODE_RANGE[1],vt=e.length===2?e[0]===e[1]:!1;return{value:toHex(vt?e[0]:e),isSecondary:ft||vt}}function replaceForPosition(lt,e){var $="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(e.replace(":","-"));return new Promise(function(ft,vt){if(lt.getAttribute($)!==null)return ft();var s=toArray(lt.children),Tt=s.filter(function(Tn){return Tn.getAttribute(DATA_FA_PSEUDO_ELEMENT)===e})[0],At=WINDOW.getComputedStyle(lt,e),Rt=At.getPropertyValue("font-family").match(FONT_FAMILY_PATTERN),Dt=At.getPropertyValue("font-weight"),Nt=At.getPropertyValue("content");if(Tt&&!Rt)return lt.removeChild(Tt),ft();if(Rt&&Nt!=="none"&&Nt!==""){var Wt=At.getPropertyValue("content"),Ht=~["Sharp"].indexOf(Rt[2])?FAMILY_SHARP:FAMILY_CLASSIC,Kt=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(Rt[2])?STYLE_TO_PREFIX[Ht][Rt[2].toLowerCase()]:FONT_WEIGHT_TO_PREFIX[Ht][Dt],Ft=hexValueFromContent(Wt),tn=Ft.value,cn=Ft.isSecondary,fn=Rt[0].startsWith("FontAwesome"),ln=byUnicode(Kt,tn),dn=ln;if(fn){var mn=byOldUnicode(tn);mn.iconName&&mn.prefix&&(ln=mn.iconName,Kt=mn.prefix)}if(ln&&!cn&&(!Tt||Tt.getAttribute(DATA_PREFIX)!==Kt||Tt.getAttribute(DATA_ICON)!==dn)){lt.setAttribute($,dn),Tt&&lt.removeChild(Tt);var xn=blankMeta(),Mn=xn.extra;Mn.attributes[DATA_FA_PSEUDO_ELEMENT]=e,findIcon(ln,Kt).then(function(Tn){var vn=makeInlineSvgAbstract(_objectSpread2$1(_objectSpread2$1({},xn),{},{icons:{main:Tn,mask:emptyCanonicalIcon()},prefix:Kt,iconName:dn,extra:Mn,watchable:!0})),An=DOCUMENT.createElement("svg");e==="::before"?lt.insertBefore(An,lt.firstChild):lt.appendChild(An),An.outerHTML=vn.map(function(Pn){return toHtml(Pn)}).join(`
`),lt.removeAttribute($),ft()}).catch(vt)}else ft()}else ft()})}function replace(lt){return Promise.all([replaceForPosition(lt,"::before"),replaceForPosition(lt,"::after")])}function processable(lt){return lt.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(lt.tagName.toUpperCase())&&!lt.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!lt.parentNode||lt.parentNode.tagName!=="svg")}function searchPseudoElements(lt){if(IS_DOM)return new Promise(function(e,$){var ft=toArray(lt.querySelectorAll("*")).filter(processable).map(replace),vt=perf.begin("searchPseudoElements");disableObservation(),Promise.all(ft).then(function(){vt(),enableObservation(),e()}).catch(function(){vt(),enableObservation(),$()})})}var PseudoElements={hooks:function lt(){return{mutationObserverCallbacks:function($){return $.pseudoElementsCallback=searchPseudoElements,$}}},provides:function lt(e){e.pseudoElements2svg=function($){var ft=$.node,vt=ft===void 0?DOCUMENT:ft;config.searchPseudoElements&&searchPseudoElements(vt)}}},_unwatched=!1,MutationObserver$1={mixout:function lt(){return{dom:{unwatch:function(){disableObservation(),_unwatched=!0}}}},hooks:function lt(){return{bootstrap:function(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto:function(){disconnect()},watch:function($){var ft=$.observeMutationsRoot;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:ft}))}}}},parseTransformString=function lt(e){var $={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(ft,vt){var s=vt.toLowerCase().split("-"),Tt=s[0],At=s.slice(1).join("-");if(Tt&&At==="h")return ft.flipX=!0,ft;if(Tt&&At==="v")return ft.flipY=!0,ft;if(At=parseFloat(At),isNaN(At))return ft;switch(Tt){case"grow":ft.size=ft.size+At;break;case"shrink":ft.size=ft.size-At;break;case"left":ft.x=ft.x-At;break;case"right":ft.x=ft.x+At;break;case"up":ft.y=ft.y-At;break;case"down":ft.y=ft.y+At;break;case"rotate":ft.rotate=ft.rotate+At;break}return ft},$)},PowerTransforms={mixout:function lt(){return{parse:{transform:function($){return parseTransformString($)}}}},hooks:function lt(){return{parseNodeAttributes:function($,ft){var vt=ft.getAttribute("data-fa-transform");return vt&&($.transform=parseTransformString(vt)),$}}},provides:function lt(e){e.generateAbstractTransformGrouping=function($){var ft=$.main,vt=$.transform,s=$.containerWidth,Tt=$.iconWidth,At={transform:"translate(".concat(s/2," 256)")},Rt="translate(".concat(vt.x*32,", ").concat(vt.y*32,") "),Dt="scale(".concat(vt.size/16*(vt.flipX?-1:1),", ").concat(vt.size/16*(vt.flipY?-1:1),") "),Nt="rotate(".concat(vt.rotate," 0 0)"),Wt={transform:"".concat(Rt," ").concat(Dt," ").concat(Nt)},Ht={transform:"translate(".concat(Tt/2*-1," -256)")},Kt={outer:At,inner:Wt,path:Ht};return{tag:"g",attributes:_objectSpread2$1({},Kt.outer),children:[{tag:"g",attributes:_objectSpread2$1({},Kt.inner),children:[{tag:ft.icon.tag,children:ft.icon.children,attributes:_objectSpread2$1(_objectSpread2$1({},ft.icon.attributes),Kt.path)}]}]}}}},ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(lt){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return lt.attributes&&(lt.attributes.fill||e)&&(lt.attributes.fill="black"),lt}function deGroup(lt){return lt.tag==="g"?lt.children:[lt]}var Masks={hooks:function lt(){return{parseNodeAttributes:function($,ft){var vt=ft.getAttribute("data-fa-mask"),s=vt?getCanonicalIcon(vt.split(" ").map(function(Tt){return Tt.trim()})):emptyCanonicalIcon();return s.prefix||(s.prefix=getDefaultUsablePrefix()),$.mask=s,$.maskId=ft.getAttribute("data-fa-mask-id"),$}}},provides:function lt(e){e.generateAbstractMask=function($){var ft=$.children,vt=$.attributes,s=$.main,Tt=$.mask,At=$.maskId,Rt=$.transform,Dt=s.width,Nt=s.icon,Wt=Tt.width,Ht=Tt.icon,Kt=transformForSvg({transform:Rt,containerWidth:Wt,iconWidth:Dt}),Ft={tag:"rect",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{fill:"white"})},tn=Nt.children?{children:Nt.children.map(fillBlack)}:{},cn={tag:"g",attributes:_objectSpread2$1({},Kt.inner),children:[fillBlack(_objectSpread2$1({tag:Nt.tag,attributes:_objectSpread2$1(_objectSpread2$1({},Nt.attributes),Kt.path)},tn))]},fn={tag:"g",attributes:_objectSpread2$1({},Kt.outer),children:[cn]},ln="mask-".concat(At||nextUniqueId()),dn="clip-".concat(At||nextUniqueId()),mn={tag:"mask",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{id:ln,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Ft,fn]},xn={tag:"defs",children:[{tag:"clipPath",attributes:{id:dn},children:deGroup(Ht)},mn]};return ft.push(xn,{tag:"rect",attributes:_objectSpread2$1({fill:"currentColor","clip-path":"url(#".concat(dn,")"),mask:"url(#".concat(ln,")")},ALL_SPACE)}),{children:ft,attributes:vt}}}},MissingIconIndicator={provides:function lt(e){var $=!1;WINDOW.matchMedia&&($=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var ft=[],vt={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};ft.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},vt),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var Tt=_objectSpread2$1(_objectSpread2$1({},s),{},{attributeName:"opacity"}),At={tag:"circle",attributes:_objectSpread2$1(_objectSpread2$1({},vt),{},{cx:"256",cy:"364",r:"28"}),children:[]};return $||At.children.push({tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},Tt),{},{values:"1;0;1;1;0;1;"})}),ft.push(At),ft.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},vt),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:$?[]:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},Tt),{},{values:"1;0;0;0;0;1;"})}]}),$||ft.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},vt),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},Tt),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:ft}}}},SvgSymbols={hooks:function lt(){return{parseNodeAttributes:function($,ft){var vt=ft.getAttribute("data-fa-symbol"),s=vt===null?!1:vt===""?!0:vt;return $.symbol=s,$}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;api.library;api.dom;var parse$1=api.parse;api.findIconDefinition;api.toHtml;var icon=api.icon;api.layer;api.text;api.counter;function ownKeys(lt,e){var $=Object.keys(lt);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(lt);e&&(ft=ft.filter(function(vt){return Object.getOwnPropertyDescriptor(lt,vt).enumerable})),$.push.apply($,ft)}return $}function _objectSpread2(lt){for(var e=1;e<arguments.length;e++){var $=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object($),!0).forEach(function(ft){_defineProperty(lt,ft,$[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors($)):ownKeys(Object($)).forEach(function(ft){Object.defineProperty(lt,ft,Object.getOwnPropertyDescriptor($,ft))})}return lt}function _typeof(lt){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(lt)}function _defineProperty(lt,e,$){return e in lt?Object.defineProperty(lt,e,{value:$,enumerable:!0,configurable:!0,writable:!0}):lt[e]=$,lt}function _objectWithoutPropertiesLoose(lt,e){if(lt==null)return{};var $={},ft=Object.keys(lt),vt,s;for(s=0;s<ft.length;s++)vt=ft[s],!(e.indexOf(vt)>=0)&&($[vt]=lt[vt]);return $}function _objectWithoutProperties(lt,e){if(lt==null)return{};var $=_objectWithoutPropertiesLoose(lt,e),ft,vt;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(lt);for(vt=0;vt<s.length;vt++)ft=s[vt],!(e.indexOf(ft)>=0)&&Object.prototype.propertyIsEnumerable.call(lt,ft)&&($[ft]=lt[ft])}return $}function _toConsumableArray(lt){return _arrayWithoutHoles(lt)||_iterableToArray(lt)||_unsupportedIterableToArray(lt)||_nonIterableSpread()}function _arrayWithoutHoles(lt){if(Array.isArray(lt))return _arrayLikeToArray(lt)}function _iterableToArray(lt){if(typeof Symbol<"u"&&lt[Symbol.iterator]!=null||lt["@@iterator"]!=null)return Array.from(lt)}function _unsupportedIterableToArray(lt,e){if(lt){if(typeof lt=="string")return _arrayLikeToArray(lt,e);var $=Object.prototype.toString.call(lt).slice(8,-1);if($==="Object"&&lt.constructor&&($=lt.constructor.name),$==="Map"||$==="Set")return Array.from(lt);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray(lt,e)}}function _arrayLikeToArray(lt,e){(e==null||e>lt.length)&&(e=lt.length);for(var $=0,ft=new Array(e);$<e;$++)ft[$]=lt[$];return ft}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function classList(lt){var e,$=lt.beat,ft=lt.fade,vt=lt.beatFade,s=lt.bounce,Tt=lt.shake,At=lt.flash,Rt=lt.spin,Dt=lt.spinPulse,Nt=lt.spinReverse,Wt=lt.pulse,Ht=lt.fixedWidth,Kt=lt.inverse,Ft=lt.border,tn=lt.listItem,cn=lt.flip,fn=lt.size,ln=lt.rotation,dn=lt.pull,mn=(e={"fa-beat":$,"fa-fade":ft,"fa-beat-fade":vt,"fa-bounce":s,"fa-shake":Tt,"fa-flash":At,"fa-spin":Rt,"fa-spin-reverse":Nt,"fa-spin-pulse":Dt,"fa-pulse":Wt,"fa-fw":Ht,"fa-inverse":Kt,"fa-border":Ft,"fa-li":tn,"fa-flip":cn===!0,"fa-flip-horizontal":cn==="horizontal"||cn==="both","fa-flip-vertical":cn==="vertical"||cn==="both"},_defineProperty(e,"fa-".concat(fn),typeof fn<"u"&&fn!==null),_defineProperty(e,"fa-rotate-".concat(ln),typeof ln<"u"&&ln!==null&&ln!==0),_defineProperty(e,"fa-pull-".concat(dn),typeof dn<"u"&&dn!==null),_defineProperty(e,"fa-swap-opacity",lt.swapOpacity),e);return Object.keys(mn).map(function(xn){return mn[xn]?xn:null}).filter(function(xn){return xn})}function _isNumerical(lt){return lt=lt-0,lt===lt}function camelize(lt){return _isNumerical(lt)?lt:(lt=lt.replace(/[\-_\s]+(.)?/g,function(e,$){return $?$.toUpperCase():""}),lt.substr(0,1).toLowerCase()+lt.substr(1))}var _excluded=["style"];function capitalize(lt){return lt.charAt(0).toUpperCase()+lt.slice(1)}function styleToObject(lt){return lt.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,$){var ft=$.indexOf(":"),vt=camelize($.slice(0,ft)),s=$.slice(ft+1).trim();return vt.startsWith("webkit")?e[capitalize(vt)]=s:e[vt]=s,e},{})}function convert(lt,e){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var ft=(e.children||[]).map(function(Rt){return convert(lt,Rt)}),vt=Object.keys(e.attributes||{}).reduce(function(Rt,Dt){var Nt=e.attributes[Dt];switch(Dt){case"class":Rt.attrs.className=Nt,delete e.attributes.class;break;case"style":Rt.attrs.style=styleToObject(Nt);break;default:Dt.indexOf("aria-")===0||Dt.indexOf("data-")===0?Rt.attrs[Dt.toLowerCase()]=Nt:Rt.attrs[camelize(Dt)]=Nt}return Rt},{attrs:{}}),s=$.style,Tt=s===void 0?{}:s,At=_objectWithoutProperties($,_excluded);return vt.attrs.style=_objectSpread2(_objectSpread2({},vt.attrs.style),Tt),lt.apply(void 0,[e.tag,_objectSpread2(_objectSpread2({},vt.attrs),At)].concat(_toConsumableArray(ft)))}var PRODUCTION=!1;try{PRODUCTION=!0}catch(lt){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var lt;(lt=console).error.apply(lt,arguments)}}function normalizeIconArgs(lt){if(lt&&_typeof(lt)==="object"&&lt.prefix&&lt.iconName&&lt.icon)return lt;if(parse$1.icon)return parse$1.icon(lt);if(lt===null)return null;if(lt&&_typeof(lt)==="object"&&lt.prefix&&lt.iconName)return lt;if(Array.isArray(lt)&&lt.length===2)return{prefix:lt[0],iconName:lt[1]};if(typeof lt=="string")return{prefix:"fas",iconName:lt}}function objectWithKey(lt,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?_defineProperty({},lt,e):{}}var FontAwesomeIcon=React.forwardRef(function(lt,e){var $=lt.icon,ft=lt.mask,vt=lt.symbol,s=lt.className,Tt=lt.title,At=lt.titleId,Rt=lt.maskId,Dt=normalizeIconArgs($),Nt=objectWithKey("classes",[].concat(_toConsumableArray(classList(lt)),_toConsumableArray(s.split(" ")))),Wt=objectWithKey("transform",typeof lt.transform=="string"?parse$1.transform(lt.transform):lt.transform),Ht=objectWithKey("mask",normalizeIconArgs(ft)),Kt=icon(Dt,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},Nt),Wt),Ht),{},{symbol:vt,title:Tt,titleId:At,maskId:Rt}));if(!Kt)return log("Could not find icon",Dt),null;var Ft=Kt.abstract,tn={ref:e};return Object.keys(lt).forEach(function(cn){FontAwesomeIcon.defaultProps.hasOwnProperty(cn)||(tn[cn]=lt[cn])}),convertCurry(Ft[0],tn)});FontAwesomeIcon.displayName="FontAwesomeIcon";FontAwesomeIcon.propTypes={beat:propTypesExports.bool,border:propTypesExports.bool,beatFade:propTypesExports.bool,bounce:propTypesExports.bool,className:propTypesExports.string,fade:propTypesExports.bool,flash:propTypesExports.bool,mask:propTypesExports.oneOfType([propTypesExports.object,propTypesExports.array,propTypesExports.string]),maskId:propTypesExports.string,fixedWidth:propTypesExports.bool,inverse:propTypesExports.bool,flip:propTypesExports.oneOf([!0,!1,"horizontal","vertical","both"]),icon:propTypesExports.oneOfType([propTypesExports.object,propTypesExports.array,propTypesExports.string]),listItem:propTypesExports.bool,pull:propTypesExports.oneOf(["right","left"]),pulse:propTypesExports.bool,rotation:propTypesExports.oneOf([0,90,180,270]),shake:propTypesExports.bool,size:propTypesExports.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:propTypesExports.bool,spinPulse:propTypesExports.bool,spinReverse:propTypesExports.bool,symbol:propTypesExports.oneOfType([propTypesExports.bool,propTypesExports.string]),title:propTypesExports.string,titleId:propTypesExports.string,transform:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.object]),swapOpacity:propTypesExports.bool};FontAwesomeIcon.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var convertCurry=convert.bind(null,React.createElement),faGithub={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};const MAX_ITERATIONS_COUNT=50;function iterator(){return this}function useMultipleRefs(lt){let e=0;return{next(){if(++e>MAX_ITERATIONS_COUNT)throw new Error("useMultipleRefs: reached more than 50 refs. This hook can be used exclusively with the array destructuring syntax.");return{done:!1,value:reactExports.useRef(lt)}},[Symbol.iterator]:iterator}}var name="@vercel/analytics",version="1.0.1",initQueue=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function isBrowser(){return typeof window<"u"}function detectEnvironment(){try{const lt="production"}catch{}return"production"}function setMode(lt="auto"){if(lt==="auto"){window.vam=detectEnvironment();return}window.vam=lt}function getMode(){return window.vam||"production"}function isDevelopment(){return getMode()==="development"}function inject(lt={debug:!0}){var e;if(!isBrowser())return;setMode(lt.mode),initQueue(),lt.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",lt.beforeSend));const $=isDevelopment()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${$}"]`))return;const ft=document.createElement("script");ft.src=$,ft.defer=!0,ft.setAttribute("data-sdkn",name),ft.setAttribute("data-sdkv",version),isDevelopment()&&lt.debug===!1&&ft.setAttribute("data-debug","false"),document.head.appendChild(ft)}function Analytics({beforeSend:lt,debug:e=!0,mode:$="auto"}){return reactExports.useEffect(()=>{inject({beforeSend:lt,debug:e,mode:$})},[lt,e,$]),null}const sphereGeometry=new SphereGeometry,trackMaterial=new MeshPhongMaterial({color:"blue",transparent:!0,opacity:.6,shininess:1});function remap(lt,e,$,ft,vt){return(lt-e)*(vt-ft)/($-e)+ft}function stepRound(lt,e){return Math.round(lt/e)*e}function Slider({position:lt=[0,0,0],scale:e=[1,1,1],handleChange:$,text:ft,min:vt=0,max:s=100,step:Tt=1,fontSize:At=30}){const[Rt,Dt]=reactExports.useState(0),[Nt,Wt]=reactExports.useState(!1),Ht=useGesture({onDrag:({event:Ft,offset:[tn]})=>{Ft.stopPropagation(),Dt(stepRound(tn,e[0]/((s-vt)/Tt))),$(stepRound(remap(Rt,-e[0]/2,e[0]/2,vt,s),Tt))},onDragStart:()=>{Wt(!0)},onDragEnd:()=>{Wt(!1)}},{drag:{bounds:{left:-e[0]/2,right:e[0]/2},from:()=>[Rt]}}),Kt=Ft=>{const tn=stepRound(remap(Ft,0,1,-e[0]/2,e[0]/2),e[0]/((s-vt)/Tt));Dt(tn),$(stepRound(remap(tn,-e[0]/2,e[0]/2,vt,s),Tt))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(F,{height:30,marginTop:15,centerAnchor:!0,children:jsxRuntimeExports.jsx(Text,{font:"./FuturaStdBook.otf",fontSize:At,color:"blue",children:ft})}),jsxRuntimeExports.jsxs(F,{margin:15,height:e[1]*2,centerAnchor:!0,children:[jsxRuntimeExports.jsx(Knob,{position:lt,scale:e,value:Rt,bind:Ht,active:Nt}),jsxRuntimeExports.jsx(Track,{position:lt,scale:e,handleClick:Kt})]})]})}function Knob({position:lt,scale:e,value:$,bind:ft,active:vt}){const[s,Tt]=reactExports.useState(!1);return jsxRuntimeExports.jsx("mesh",{onPointerOver:At=>Tt(!0),onPointerOut:At=>Tt(!1),scale:vt?e[1]*.9:e[1],position:[$+lt[0],lt[1],lt[2]],...ft(),geometry:sphereGeometry,children:jsxRuntimeExports.jsx("meshNormalMaterial",{transparent:"true",opacity:s?.7:1})})}function Track({position:lt,scale:e,handleClick:$}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("mesh",{position:lt,rotation:[0,0,90*(Math.PI/180)],material:trackMaterial,children:jsxRuntimeExports.jsx("capsuleGeometry",{args:[e[2],e[0]]})}),jsxRuntimeExports.jsx(Plane,{onPointerDown:ft=>$(ft.uv.x),args:[e[0]+e[2]*2,e[2]*2],visible:!1})]})}function stepFloor(lt,e){return Math.floor(lt/e)*e}function MaterialSelector({maxWidth:lt=280,maps:e,handleChange:$}){const ft=Math.min(70*e.length,stepFloor(lt,70)),vt=[];for(let s=0;s<e.length;s++)vt.push(jsxRuntimeExports.jsx(Material,{handleChange:$,map:e[s]},s));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(F,{marginTop:15,height:30,centerAnchor:!0,children:jsxRuntimeExports.jsx(Text,{font:"./FuturaStdBook.otf",fontSize:30,color:"blue",children:"Material:"})}),jsxRuntimeExports.jsx(F,{height:"auto",margin:15,width:ft,flexDirection:"row",wrap:"wrap",children:vt})]})}function Material({map:lt,handleChange:e}){const[$,ft]=reactExports.useState(!1),vt=At=>useTexture({map:At},Rt=>{Rt[0].wrapS=Rt[0].wrapT=RepeatWrapping}),s=reactExports.useRef(),{invalidate:Tt}=useThree();return useFrame((At,Rt)=>{$&&(Tt(),s.current.rotation.y+=Rt)}),jsxRuntimeExports.jsx(F,{width:"auto",height:"auto",centerAnchor:!0,margin:35,children:jsxRuntimeExports.jsxs("mesh",{ref:s,onPointerOver:()=>ft(!0),onPointerOut:()=>ft(!1),castShadow:!0,receiveShadow:!0,scale:25,onClick:()=>e(lt),children:[jsxRuntimeExports.jsx("sphereGeometry",{}),jsxRuntimeExports.jsx("meshPhongMaterial",{transparent:"true",opacity:$?.9:1,...vt(lt)})]})})}const map1="/furnis/assets/map1-d71d0bd3.webp",map3="/furnis/assets/map3-03b8715b.webp",map4="/furnis/assets/map4-e81b056d.webp";function Menu({track:lt}){return jsxRuntimeExports.jsxs(View,{track:lt,frames:1,children:[jsxRuntimeExports.jsx(OrthographicCamera,{makeDefault:!0,position:[0,0,100]}),jsxRuntimeExports.jsx("ambientLight",{}),jsxRuntimeExports.jsx("pointLight",{intensity:1,position:[0,0,1e3]}),jsxRuntimeExports.jsx(G,{justifyContent:"center",alignItems:"center",children:jsxRuntimeExports.jsx(Inputs,{})})]})}function Inputs(){const lt=useSetAtom(textureAtom),e=useSetAtom(animationAtom),{size:$}=useThree(),[ft,vt]=reactExports.useState($.width);reactExports.useEffect(()=>{const Tt=setTimeout(()=>{vt($.width)},1);return()=>clearTimeout(Tt)},[$]);const s=ft*.8;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sliders,{menuWidth:ft}),jsxRuntimeExports.jsx(MaterialSelector,{handleChange:lt,maps:[map1,map2,map3,map4],maxWidth:s}),jsxRuntimeExports.jsx(Button,{onClick:()=>e(!0),text:"Done"})]})}function Sliders({menuWidth:lt}){const[e,$]=useAtom(widthAtom),[ft,vt]=useAtom(heightAtom),[s,Tt]=useAtom(depthAtom),[At,Rt]=useAtom(shelvesAtom),Dt=lt*.8;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Slider,{handleChange:$,scale:[Dt,15,5],text:"Width: "+Math.round(e*100)+" cm",min:.2,max:1,step:.01}),jsxRuntimeExports.jsx(Slider,{handleChange:vt,scale:[Dt,15,5],text:"Height: "+Math.round(ft*100)+" cm",min:.2,max:2.6,step:.01}),jsxRuntimeExports.jsx(Slider,{handleChange:Tt,scale:[Dt,15,5],text:"Depth: "+Math.round(s*100)+" cm",min:.1,max:.5,step:.01}),jsxRuntimeExports.jsx(Slider,{handleChange:Rt,scale:[Dt,15,5],text:"Shelves: "+Math.round(At),min:1,max:7,step:1})]})}function App(){const[lt,e]=useMultipleRefs();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Analytics,{}),jsxRuntimeExports.jsx("div",{ref:lt,style:{position:"absolute",height:"100%",width:"100%",userSelect:"none"}}),jsxRuntimeExports.jsx("div",{ref:e,style:{position:"fixed",right:"0%",height:"100%",width:"min(55%, 400px)",backgroundColor:"rgba(0, 0, 255, 0.1)",zIndex:1}}),jsxRuntimeExports.jsxs(Canvas,{onCreated:$=>$.gl.autoClear=!1,eventSource:window.root,frameloop:"demand",shadows:!0,children:[jsxRuntimeExports.jsx(Bookshelf,{track:lt}),jsxRuntimeExports.jsx(Menu,{track:e})]}),jsxRuntimeExports.jsx(Links,{})]})}function Links(){return jsxRuntimeExports.jsx("a",{style:{color:"#b9f5ff",zIndex:1,fontSize:"60px",position:"absolute",bottom:"-4px",right:"4px"},href:"https://github.com/Santista1?tab=repositories",target:"_blank","aria-label":"Github",children:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faGithub})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
